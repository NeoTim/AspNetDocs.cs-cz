---
uid: aspnet/overview/owin-and-katana/an-overview-of-project-katana
title: Přehled projektu Katana | Microsoft Docs
author: howarddierking
description: ASP.NET Framework bylo delší než deset let a platforma vypnula vývoj webů a služeb dlouhé. Jako web oC...
ms.author: riande
ms.date: 08/30/2013
ms.assetid: 0ee21741-c1bf-4025-a9b0-24580cae24bc
msc.legacyurl: /aspnet/overview/owin-and-katana/an-overview-of-project-katana
msc.type: authoredcontent
ms.openlocfilehash: 1f28db822930cdfd2ebf4cf9bb27d173f4aa4201
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 03/06/2020
ms.locfileid: "78617234"
---
# <a name="an-overview-of-project-katana"></a><span data-ttu-id="22d99-104">Přehled projektu Katana</span><span class="sxs-lookup"><span data-stu-id="22d99-104">An Overview of Project Katana</span></span>

<span data-ttu-id="22d99-105">podle [Howard Dierking](https://github.com/howarddierking)</span><span class="sxs-lookup"><span data-stu-id="22d99-105">by [Howard Dierking](https://github.com/howarddierking)</span></span>

> <span data-ttu-id="22d99-106">ASP.NET Framework bylo delší než deset let a platforma vypnula vývoj webů a služeb dlouhé.</span><span class="sxs-lookup"><span data-stu-id="22d99-106">The ASP.NET Framework has been around for over ten years, and the platform has enabled the development of countless Web sites and services.</span></span> <span data-ttu-id="22d99-107">Jak se vyvinuly vývojové strategie pro webové aplikace, rozhraní se může vyvíjet v kroku s technologiemi, jako je ASP.NET MVC a ASP.NET Web API.</span><span class="sxs-lookup"><span data-stu-id="22d99-107">As Web application development strategies have evolved, the framework has been able to evolve in step with technologies like ASP.NET MVC and ASP.NET Web API.</span></span> <span data-ttu-id="22d99-108">Vzhledem k tomu, že vývoj webových aplikací převezme svůj další krok do světa cloud computingu, [Katana](https://channel9.msdn.com/Shows/Web+Camps+TV/The-Katana-Project-OWIN-for-ASPNET) Project poskytuje základní sadu komponent pro ASP.NET aplikace. díky tomu můžou být flexibilní, přenosné, odlehčené a poskytují lepší výkon – a navíc Cloud [Katana](https://channel9.msdn.com/Shows/Web+Camps+TV/The-Katana-Project-OWIN-for-ASPNET) Cloud optimalizuje vaše aplikace ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="22d99-108">As Web application development takes its next evolutionary step into the world of cloud computing, project [Katana](https://channel9.msdn.com/Shows/Web+Camps+TV/The-Katana-Project-OWIN-for-ASPNET) provides the underlying set of components to ASP.NET applications, enabling them to be flexible, portable, lightweight, and provide better performance – put another way, project [Katana](https://channel9.msdn.com/Shows/Web+Camps+TV/The-Katana-Project-OWIN-for-ASPNET) cloud optimizes your ASP.NET applications.</span></span>

## <a name="why-katana--why-now"></a><span data-ttu-id="22d99-109">Proč teď Katana – proč?</span><span class="sxs-lookup"><span data-stu-id="22d99-109">Why Katana – Why Now?</span></span>

 <span data-ttu-id="22d99-110">Bez ohledu na to, jestli jedna z nich je diskuze o vývojářském rozhraní nebo produktu pro koncové uživatele, je důležité pochopit základní motivaci pro vytváření produktu – a část, která obsahuje informace o tom, kdo vytvořil produkt.</span><span class="sxs-lookup"><span data-stu-id="22d99-110">Regardless whether one is discussing a developer framework or end-user product, it's important to understand the underlying motivations for creating the product – and part of that includes knowing who the product was created for.</span></span> <span data-ttu-id="22d99-111">ASP.NET byl původně vytvořen se dvěma zákazníky.</span><span class="sxs-lookup"><span data-stu-id="22d99-111">ASP.NET was originally created with two customers in mind.</span></span>   
  
<span data-ttu-id="22d99-112">**První skupina zákazníků byla klasických vývojářů ASP.**</span><span class="sxs-lookup"><span data-stu-id="22d99-112">**The first group of customers was classic ASP developers.**</span></span> <span data-ttu-id="22d99-113">V tuto chvíli byla ASP jednou z primárních technologií pro vytváření dynamických webových stránek a aplikací založených na datech pomocí kódu interweaving a skriptu na straně serveru.</span><span class="sxs-lookup"><span data-stu-id="22d99-113">At the time, ASP was one of the primary technologies for creating dynamic, data-driven Web sites and applications by interweaving markup and server-side script.</span></span> <span data-ttu-id="22d99-114">Běhový modul ASP zadal skript na straně serveru se sadou objektů, které abstraktní základní aspekty základního protokolu HTTP a webového serveru poskytly přístup k dalším službám, jako je třeba relace a Správa stavu aplikace, mezipaměť atd. V případě výkonných klasických aplikací ASP se stala výzvou ke správě, protože se rozrostla o velikost a složitost.</span><span class="sxs-lookup"><span data-stu-id="22d99-114">The ASP runtime supplied server-side script with a set of objects that abstracted core aspects of the underlying HTTP protocol and Web server and provided access to additional services such session and application state management, cache, etc. While powerful, classic ASP applications became a challenge to manage as they grew in size and complexity.</span></span> <span data-ttu-id="22d99-115">To bylo z velké části kvůli nedostatku struktury nalezené v skriptovacích prostředích, které jsou spojeny s duplikováním kódu, který je výsledkem prokládání kódu a značek.</span><span class="sxs-lookup"><span data-stu-id="22d99-115">This was largely due to the lack of structure found in scripting environments coupled with the duplication of code resulting from the interleaving of code and markup.</span></span> <span data-ttu-id="22d99-116">Aby nedošlo k velkému množství funkcí klasického ASP při řešení některých problémů, ASP.NET využili výhod kódu organizace, který poskytuje objektově orientované jazyky .NET Framework a zároveň zachovává serverový model programování na straně serveru. pro které klasické vývojáře v prostředí ASP byly zvyklí.</span><span class="sxs-lookup"><span data-stu-id="22d99-116">In order to capitalize on the strengths of classic ASP while addressing some of its challenges, ASP.NET took advantage of the code organization provided by the object-oriented languages of the .NET Framework while also preserving the server-side programming model to which classic ASP developers had grown accustomed.</span></span>

<span data-ttu-id="22d99-117">**Druhá skupina cílových zákazníků pro ASP.NET byla vývojářům podnikových aplikací pro Windows.**</span><span class="sxs-lookup"><span data-stu-id="22d99-117">**The second group of target customers for ASP.NET was Windows business application developers.**</span></span> <span data-ttu-id="22d99-118">Na rozdíl od klasických vývojářů ASP, kteří byli zvyklí psát kód HTML a kód pro generování více značek HTML, vývojáři WinForms (jako jsou VB6 vývojáři) zvyklí na dobu návrhu, která obsahovala plátno a bohatou sadu uživatelů. ovládací prvky rozhraní.</span><span class="sxs-lookup"><span data-stu-id="22d99-118">Unlike classic ASP developers, who were accustomed to writing HTML markup and the code to generate more HTML markup, WinForms developers (like the VB6 developers before them) were accustomed to a design time experience that included a canvas and a rich set of user interface controls.</span></span> <span data-ttu-id="22d99-119">První verze ASP.NET (označovaná také jako "webové formuláře") poskytuje podobné prostředí v době návrhu spolu s modelem události na straně serveru pro součásti uživatelského rozhraní a sadu funkcí infrastruktury (například ViewState) pro vytvoření bezproblémového prostředí pro vývojáře. mezi programováním klienta a na straně serveru.</span><span class="sxs-lookup"><span data-stu-id="22d99-119">The first version of ASP.NET – also known as "Web Forms" provided a similar design time experience along with a server-side event model for user interface components and a set of infrastructure features (such as ViewState) to create a seamless developer experience between client and server side programming.</span></span> <span data-ttu-id="22d99-120">Webové formuláře efektivně standardně skryly bezstavový charakter webu v rámci modelu stavové události, který byl obeznámený s nawinformsm vývojářů.</span><span class="sxs-lookup"><span data-stu-id="22d99-120">Web Forms effectively hid the Web's stateless nature under a stateful event model that was familiar to WinForms developers.</span></span>

### <a name="challenges-raised-by-the-historical-model"></a><span data-ttu-id="22d99-121">Výzvy vyvolané historickým modelem</span><span class="sxs-lookup"><span data-stu-id="22d99-121">Challenges Raised by the Historical Model</span></span>

<span data-ttu-id="22d99-122">**Netto výsledek byl vyspělý modul runtime a vývojář pro vývojáře s funkcemi.**</span><span class="sxs-lookup"><span data-stu-id="22d99-122">**The net result was a mature, feature-rich runtime and developer programming model.**</span></span> <span data-ttu-id="22d99-123">Nicméně s touto funkcí – bohatě dorazila několik důležitých výzev.</span><span class="sxs-lookup"><span data-stu-id="22d99-123">However, with that feature-richness came a couple notable challenges.</span></span> <span data-ttu-id="22d99-124">Nejprve rozhraní bylo **monolitické**, s logicky různorodými jednotkami funkcí, které jsou úzce spojeny ve stejném sestavení System. Web. dll (například základní objekty http s rozhraním Web Forms Framework).</span><span class="sxs-lookup"><span data-stu-id="22d99-124">Firstly, the framework was **monolithic**, with logically disparate units of functionality being tightly coupled in the same System.Web.dll assembly (for example, the core HTTP objects with the Web forms framework).</span></span> <span data-ttu-id="22d99-125">Druhý ASP.NET byl součástí většího .NET Framework, což znamená, že **Doba mezi verzemi byla v řádu let.**</span><span class="sxs-lookup"><span data-stu-id="22d99-125">Secondly, ASP.NET was included as a part of the larger .NET Framework, which meant that the **time between releases was on the order of years.**</span></span> <span data-ttu-id="22d99-126">Díky tomu je obtížné ASP.NET udržet krok se všemi změnami provedenými při rychlém vývoji vývoje webu.</span><span class="sxs-lookup"><span data-stu-id="22d99-126">This made it difficult for ASP.NET to keep pace with all of the changes happening in rapidly evolving Web development.</span></span> <span data-ttu-id="22d99-127">Nakonec došlo k párování samotného souboru System. Web. dll s několika různými způsoby pro konkrétní možnost hostování webu: Internetová informační služba (IIS).</span><span class="sxs-lookup"><span data-stu-id="22d99-127">Finally, System.Web.dll itself was coupled in a few different ways to a specific Web hosting option: Internet Information Services (IIS).</span></span>

### <a name="evolutionary-steps-aspnet-mvc-and-aspnet-web-api"></a><span data-ttu-id="22d99-128">Postup vývoje: ASP.NET MVC a ASP.NET Web API</span><span class="sxs-lookup"><span data-stu-id="22d99-128">Evolutionary steps: ASP.NET MVC and ASP.NET Web API</span></span>

<span data-ttu-id="22d99-129">A hodně změn se při vývoji webu stalo!</span><span class="sxs-lookup"><span data-stu-id="22d99-129">And lots of change was happening in Web development!</span></span> <span data-ttu-id="22d99-130">Webové aplikace byly stále vyvíjeny jako řady malých a zaměřených komponent, nikoli jako velká rozhraní.</span><span class="sxs-lookup"><span data-stu-id="22d99-130">Web applications were increasingly being developed as a series of small, focused components rather than large frameworks.</span></span> <span data-ttu-id="22d99-131">Počet komponent a četnost, s jakou byly vydány, se zvýšily při vyšší míře.</span><span class="sxs-lookup"><span data-stu-id="22d99-131">The number of components as well as the frequency with which they were released was increasing at an ever faster rate.</span></span> <span data-ttu-id="22d99-132">Bylo jasné, že Průběžné škálování na webu by vyžadovalo menší, oddělené a více zaměřené místo většího a více funkcí, takže **tým ASP.NET provedl několik kroků vývoje, které umožní ASP.NET jako rodinu webových komponent, a ne jenom jedno rozhraní**.</span><span class="sxs-lookup"><span data-stu-id="22d99-132">It was clear that keeping pace with the Web would require frameworks to get smaller, decoupled and more focused rather than larger and more feature-rich, therefore the **ASP.NET team took several evolutionary steps to enable ASP.NET as a family of pluggable Web components rather than a single framework**.</span></span>

<span data-ttu-id="22d99-133">Jedna z dřívějších změn byla nárůstem oblíbenosti modelu návrhu MVC (Model-View-Controller) s ohledem na vývojové architektury webu, jako jsou Ruby na železnici.</span><span class="sxs-lookup"><span data-stu-id="22d99-133">One of the early changes was the rise in popularity of the well-known model-view-controller (MVC) design pattern thanks to Web development frameworks like Ruby on Rails.</span></span> <span data-ttu-id="22d99-134">Tento styl sestavování webových aplikací poskytuje vývojářům lepší kontrolu nad jeho značkou, přičemž stále zachovává oddělení značek a obchodní logiky, což bylo jedno z počátečních prodejních bodů pro ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="22d99-134">This style of building Web applications gave the developer greater control over her application's markup while still preserving the separation of markup and business logic, which was one of the initial selling points for ASP.NET.</span></span> <span data-ttu-id="22d99-135">Aby bylo možné splnit požadavky na tento styl vývoje webových aplikací, společnost Microsoft pořídila možnost umístit si ji do budoucna ještě lepší díky **vývoji ASP.NET MVC mimo IP síť** (a nezahrnuje ji do .NET Framework).</span><span class="sxs-lookup"><span data-stu-id="22d99-135">To meet the demand for this style of Web application development, Microsoft took the opportunity to position itself better for the future by **developing ASP.NET MVC out of band** (and not including it in the .NET Framework).</span></span> <span data-ttu-id="22d99-136">ASP.NET MVC byla vydána jako nezávislé stažení.</span><span class="sxs-lookup"><span data-stu-id="22d99-136">ASP.NET MVC was released as an independent download.</span></span> <span data-ttu-id="22d99-137">Díky tomu má technický tým flexibilitu při poskytování aktualizací mnohem častěji, než bylo dřív možné.</span><span class="sxs-lookup"><span data-stu-id="22d99-137">This gave the engineering team the flexibility to deliver updates much more frequently than had been previously possible.</span></span>

<span data-ttu-id="22d99-138">Další hlavní směna při vývoji webových aplikací byla posunuta z dynamických vygenerovaných webových stránek do statického počátečního kódu s dynamickými oddíly generovanými na straně klienta, které komunikují **s back-end webovými rozhraními API prostřednictvím požadavků AJAX**.</span><span class="sxs-lookup"><span data-stu-id="22d99-138">Another major shift in Web application development was the shift from dynamic, server-generated Web pages to static initial markup with dynamic sections of the page generated from client-side script communicating **with backend Web APIs through AJAX requests**.</span></span> <span data-ttu-id="22d99-139">Tento architektonický posun pomáhá propeli vývoje webových rozhraní API a vývoj rozhraní ASP.NET webového rozhraní API.</span><span class="sxs-lookup"><span data-stu-id="22d99-139">This architectural shift helped propel the rise of Web APIs, and the development of the ASP.NET Web API framework.</span></span> <span data-ttu-id="22d99-140">Stejně jako v případě ASP.NET MVC poskytuje vydání webového rozhraní API ASP.NET další příležitost k dalšímu vývojování ASP.NET jako více modulárních architektur.</span><span class="sxs-lookup"><span data-stu-id="22d99-140">As in the case of ASP.NET MVC, the release of ASP.NET Web API provided another opportunity to evolve ASP.NET further as a more modular framework.</span></span> <span data-ttu-id="22d99-141">Technický tým využil výhod příležitostí a **sestavení ASP.NET webového rozhraní API tak, aby neobsahoval žádné závislosti na žádném z typů základních rozhraní nalezených v System. Web. dll**.</span><span class="sxs-lookup"><span data-stu-id="22d99-141">The engineering team took advantage of the opportunity and **built ASP.NET Web API such that it had no dependencies on any of the core framework types found in System.Web.dll**.</span></span> <span data-ttu-id="22d99-142">To je povolené dvě věci: Nejdřív to znamenalo, že webové rozhraní API ASP.NET se může vyvíjet zcela samostatně (a může pokračovat v iteraci, protože se doručí přes NuGet).</span><span class="sxs-lookup"><span data-stu-id="22d99-142">This enabled two things: first, it meant that ASP.NET Web API could evolve in a completely self-contained manner (and it could continue to iterate quickly because it is delivered via NuGet).</span></span> <span data-ttu-id="22d99-143">Za druhé, protože neexistovaly žádné externí závislosti k souboru System. Web. dll, a proto žádné závislosti na službu IIS, ASP.NET webové rozhraní API, zahrnovaly možnost spuštění ve vlastním hostiteli (například Konzolová aplikace, služba systému Windows atd.).</span><span class="sxs-lookup"><span data-stu-id="22d99-143">Second, because there were no external dependencies to System.Web.dll, and therefore, no dependencies to IIS, ASP.NET Web API included the capability to run in a custom host (for example, a console application, Windows service, etc.)</span></span>

### <a name="the-future-a-nimble-framework"></a><span data-ttu-id="22d99-144">Budoucnost: architektura čipernější</span><span class="sxs-lookup"><span data-stu-id="22d99-144">The Future: A Nimble Framework</span></span>

<span data-ttu-id="22d99-145">Odpojuje komponenty architektury od sebe a pak je vydává v NuGet, architektury by nyní mohly **iterovat nezávisle a**rychleji.</span><span class="sxs-lookup"><span data-stu-id="22d99-145">By decoupling framework components from one another and then releasing them on NuGet, frameworks could now **iterate more independently and more quickly**.</span></span> <span data-ttu-id="22d99-146">Navíc se výkon a flexibilita schopnosti samoobslužného hostování webového rozhraní API ukázala jako pro vývojáře, kteří pro své služby chtěli **malý a odlehčený hostitel** .</span><span class="sxs-lookup"><span data-stu-id="22d99-146">Additionally, the power and flexibility of Web API's self-hosting capability proved very attractive to developers who wanted a **small, lightweight host** for their services.</span></span> <span data-ttu-id="22d99-147">Ukázalo se, že je to atraktivní, ve skutečnosti i to, že se tato schopnost také chtěla, a tato možnost se provedla v tom, že každé rozhraní běželo ve vlastním hostitelském procesu na vlastní základní adrese a je potřeba ho spravovat (spuštěno, zastaveno atd.) nezávisle na sobě.</span><span class="sxs-lookup"><span data-stu-id="22d99-147">It proved so attractive, in fact, that other frameworks also wanted this capability, and this surfaced a new challenge in that each framework ran in its own host process on its own base address and needed to be managed (started, stopped, etc.) independently.</span></span> <span data-ttu-id="22d99-148">Moderní webová aplikace obecně podporuje statické obsluhy souborů, dynamické generování stránek, webové rozhraní API a další nedávno v reálném čase nebo nabízená oznámení.</span><span class="sxs-lookup"><span data-stu-id="22d99-148">A modern Web application generally supports static file serving, dynamic page generation, Web API, and more recently real-time/push notifications.</span></span> <span data-ttu-id="22d99-149">Očekává se, že každá z těchto služeb by měla být spuštěná a spravovaná nezávisle, ale nejedná se o reálnou.</span><span class="sxs-lookup"><span data-stu-id="22d99-149">Expecting that each of these services should be run and managed independently was simply not realistic.</span></span>

<span data-ttu-id="22d99-150">Co bylo potřeba, byla jediná hostující abstrakce, která by vývojářům umožnila sestavovat aplikaci z nejrůznějších různých komponent a platforem a pak tuto aplikaci spouštět na podpůrném hostiteli.</span><span class="sxs-lookup"><span data-stu-id="22d99-150">What was needed was a single hosting abstraction that would enable a developer to compose an application from a variety of different components and frameworks, and then run that application on a supporting host.</span></span>

## <a name="the-open-web-interface-for-net-owin"></a><span data-ttu-id="22d99-151">Otevřené webové rozhraní pro .NET (OWIN)</span><span class="sxs-lookup"><span data-stu-id="22d99-151">The Open Web Interface for .NET (OWIN)</span></span>

 <span data-ttu-id="22d99-152">Nechte inspirovat díky výhodám, které dosáhlo [racku](http://rack.github.io/) v komunitě Ruby, několik členů komunity .NET vystavili abstrakci mezi webovými servery a komponentami rozhraní.</span><span class="sxs-lookup"><span data-stu-id="22d99-152">Inspired by the benefits achieved by [Rack](http://rack.github.io/) in the Ruby community, several members of the .NET community set out to create an abstraction between Web servers and framework components.</span></span> <span data-ttu-id="22d99-153">Dva cíle návrhu pro abstrakci OWIN byly jednoduché a to trvalou nejnižší možné závislosti na jiných typech rozhraní.</span><span class="sxs-lookup"><span data-stu-id="22d99-153">Two design goals for the OWIN abstraction were that it was simple and that it took the fewest possible dependencies on other framework types.</span></span> <span data-ttu-id="22d99-154">Tyto dva cíle vám pomůžou zajistit:</span><span class="sxs-lookup"><span data-stu-id="22d99-154">These two goals help ensure:</span></span>

- <span data-ttu-id="22d99-155">Nové komponenty mohou být snáze vyvíjeny a spotřebovány.</span><span class="sxs-lookup"><span data-stu-id="22d99-155">New components could be more easily developed and consumed.</span></span>
- <span data-ttu-id="22d99-156">Aplikace by se daly snadněji rozportovat mezi hostiteli a potenciálně celými platformami a operačními systémy.</span><span class="sxs-lookup"><span data-stu-id="22d99-156">Applications could be more easily ported between hosts and potentially entire platforms/operating systems.</span></span>

<span data-ttu-id="22d99-157">Výsledná abstrakce se skládá ze dvou základních prvků.</span><span class="sxs-lookup"><span data-stu-id="22d99-157">The resulting abstraction consists of two core elements.</span></span> <span data-ttu-id="22d99-158">První je slovník prostředí.</span><span class="sxs-lookup"><span data-stu-id="22d99-158">The first is the environment dictionary.</span></span> <span data-ttu-id="22d99-159">Tato struktura dat zodpovídá za ukládání všech stavů potřebných ke zpracování požadavků a odpovědí HTTP a také všech relevantních stavů serveru.</span><span class="sxs-lookup"><span data-stu-id="22d99-159">This data structure is responsible for storing all of the state necessary for processing an HTTP request and response, as well as any relevant server state.</span></span> <span data-ttu-id="22d99-160">Slovník prostředí je definován následujícím způsobem:</span><span class="sxs-lookup"><span data-stu-id="22d99-160">The environment dictionary is defined as follows:</span></span>

[!code-console[Main](an-overview-of-project-katana/samples/sample1.cmd)]

<span data-ttu-id="22d99-161">Webový server kompatibilní s OWIN zodpovídá za načtení slovníku prostředí s daty, jako jsou například datové proudy a kolekce hlaviček pro požadavek HTTP a odpověď.</span><span class="sxs-lookup"><span data-stu-id="22d99-161">An OWIN-compatible Web server is responsible for populating the environment dictionary with data such as the body streams and header collections for an HTTP request and response.</span></span> <span data-ttu-id="22d99-162">Je pak zodpovědností za komponenty aplikace nebo rozhraní k naplnění nebo aktualizaci slovníku o další hodnoty a zápis do datového proudu zprávy odpovědi.</span><span class="sxs-lookup"><span data-stu-id="22d99-162">It is then the responsibility of the application or framework components to populate or update the dictionary with additional values and write to the response body stream.</span></span>

<span data-ttu-id="22d99-163">Kromě určení typu pro slovník prostředí definuje specifikace OWIN seznam párů hodnot klíčů základního slovníku.</span><span class="sxs-lookup"><span data-stu-id="22d99-163">In addition to specifying the type for the environment dictionary, the OWIN specification defines a list of core dictionary key value pairs.</span></span> <span data-ttu-id="22d99-164">Například v následující tabulce jsou uvedeny požadované klíče slovníku pro požadavek HTTP:</span><span class="sxs-lookup"><span data-stu-id="22d99-164">For example, the following table shows the required dictionary keys for an HTTP request:</span></span>

| <span data-ttu-id="22d99-165">Název klíče</span><span class="sxs-lookup"><span data-stu-id="22d99-165">Key Name</span></span> | <span data-ttu-id="22d99-166">Popis hodnoty</span><span class="sxs-lookup"><span data-stu-id="22d99-166">Value Description</span></span> |
| --- | --- |
| `"owin.RequestBody"` | <span data-ttu-id="22d99-167">Datový proud s textem žádosti, pokud existuje.</span><span class="sxs-lookup"><span data-stu-id="22d99-167">A Stream with the request body, if any.</span></span> <span data-ttu-id="22d99-168">Stream. null se dá použít jako zástupný symbol, pokud není k dispozici žádný text žádosti.</span><span class="sxs-lookup"><span data-stu-id="22d99-168">Stream.Null MAY be used as a placeholder if there is no request body.</span></span> <span data-ttu-id="22d99-169">Podívejte se na [Text žádosti](http://owin.org/html/owin.html#34-request-body-100-continue-and-completed-semantics).</span><span class="sxs-lookup"><span data-stu-id="22d99-169">See [Request Body](http://owin.org/html/owin.html#34-request-body-100-continue-and-completed-semantics).</span></span> |
| `"owin.RequestHeaders"` | <span data-ttu-id="22d99-170">`IDictionary<string, string[]>` hlaviček požadavku.</span><span class="sxs-lookup"><span data-stu-id="22d99-170">An `IDictionary<string, string[]>` of request headers.</span></span> <span data-ttu-id="22d99-171">Viz [záhlaví](http://owin.org/html/owin.html#3-3-headers).</span><span class="sxs-lookup"><span data-stu-id="22d99-171">See [Headers](http://owin.org/html/owin.html#3-3-headers).</span></span> |
| `"owin.RequestMethod"` | <span data-ttu-id="22d99-172">`string` obsahující metodu požadavku HTTP žádosti (např. `"GET"`, `"POST"`).</span><span class="sxs-lookup"><span data-stu-id="22d99-172">A `string` containing the HTTP request method of the request (e.g., `"GET"`, `"POST"`).</span></span> |
| `"owin.RequestPath"` | <span data-ttu-id="22d99-173">`string` obsahující cestu požadavku.</span><span class="sxs-lookup"><span data-stu-id="22d99-173">A `string` containing the request path.</span></span> <span data-ttu-id="22d99-174">Cesta musí být relativní ke kořenu delegáta aplikace; viz [cesty](http://owin.org/html/owin.html#5-3-paths).</span><span class="sxs-lookup"><span data-stu-id="22d99-174">The path MUST be relative to the "root" of the application delegate; see [Paths](http://owin.org/html/owin.html#5-3-paths).</span></span> |
| `"owin.RequestPathBase"` | <span data-ttu-id="22d99-175">`string` obsahující část cesty požadavku odpovídající "kořenu" delegáta aplikace; viz [cesty](http://owin.org/html/owin.html#5-3-paths).</span><span class="sxs-lookup"><span data-stu-id="22d99-175">A `string` containing the portion of the request path corresponding to the "root" of the application delegate; see [Paths](http://owin.org/html/owin.html#5-3-paths).</span></span> |
| `"owin.RequestProtocol"` | <span data-ttu-id="22d99-176">`string` obsahující název a verzi protokolu (např. `"HTTP/1.0"` nebo `"HTTP/1.1"`).</span><span class="sxs-lookup"><span data-stu-id="22d99-176">A `string` containing the protocol name and version (e.g. `"HTTP/1.0"` or `"HTTP/1.1"`).</span></span> |
| `"owin.RequestQueryString"` | <span data-ttu-id="22d99-177">`string` obsahující komponentu řetězce dotazu identifikátoru URI požadavku HTTP bez úvodní "?" (např. `"foo=bar&baz=quux"`).</span><span class="sxs-lookup"><span data-stu-id="22d99-177">A `string` containing the query string component of the HTTP request URI, without the leading "?" (e.g., `"foo=bar&baz=quux"`).</span></span> <span data-ttu-id="22d99-178">Hodnota může být prázdný řetězec.</span><span class="sxs-lookup"><span data-stu-id="22d99-178">The value may be an empty string.</span></span> |
| `"owin.RequestScheme"` | <span data-ttu-id="22d99-179">`string` obsahující schéma identifikátoru URI použité pro požadavek (např. `"http"`, `"https"`); viz [schéma identifikátoru URI](http://owin.org/html/owin.html#5-1-uri-scheme).</span><span class="sxs-lookup"><span data-stu-id="22d99-179">A `string` containing the URI scheme used for the request (e.g., `"http"`, `"https"`); see [URI Scheme](http://owin.org/html/owin.html#5-1-uri-scheme).</span></span> |

<span data-ttu-id="22d99-180">Druhým prvkem klíče OWIN je delegát aplikace.</span><span class="sxs-lookup"><span data-stu-id="22d99-180">The second key element of OWIN is the application delegate.</span></span> <span data-ttu-id="22d99-181">Toto je signatura funkce, která slouží jako primární rozhraní mezi všemi komponentami v aplikaci OWIN.</span><span class="sxs-lookup"><span data-stu-id="22d99-181">This is a function signature which serves as the primary interface between all components in an OWIN application.</span></span> <span data-ttu-id="22d99-182">Definice pro delegáta aplikace je následující:</span><span class="sxs-lookup"><span data-stu-id="22d99-182">The definition for the application delegate is as follows:</span></span>

`Func<IDictionary<string, object>, Task>;`

<span data-ttu-id="22d99-183">Delegát aplikace je pak jednoduše implementací typu delegáta Func, kde funkce přijímá slovník prostředí jako vstup a vrací úlohu.</span><span class="sxs-lookup"><span data-stu-id="22d99-183">The application delegate then is simply an implementation of the Func delegate type where the function accepts the environment dictionary as input and returns a Task.</span></span> <span data-ttu-id="22d99-184">Tento návrh má pro vývojáře několik aspektů:</span><span class="sxs-lookup"><span data-stu-id="22d99-184">This design has several implications for developers:</span></span>

- <span data-ttu-id="22d99-185">Aby bylo možné zapsat součásti OWIN, je vyžadován velmi malý počet závislostí typu.</span><span class="sxs-lookup"><span data-stu-id="22d99-185">There are a very small number of type dependencies required in order to write OWIN components.</span></span> <span data-ttu-id="22d99-186">Tím se významně zvyšuje přístupnost OWIN vývojářům.</span><span class="sxs-lookup"><span data-stu-id="22d99-186">This greatly increases the accessibility of OWIN to developers.</span></span>
- <span data-ttu-id="22d99-187">Asynchronní návrh umožňuje, aby abstrakce byla efektivní s zpracováním výpočetních prostředků, zejména v dalších náročných vstupně-výstupních operacích.</span><span class="sxs-lookup"><span data-stu-id="22d99-187">The asynchronous design enables the abstraction to be efficient with its handling of computing resources, particularly in more I/O intensive operations.</span></span>
- <span data-ttu-id="22d99-188">Vzhledem k tomu, že delegát aplikace je atomická jednotka provádění a protože je slovník prostředí převeden jako parametr delegáta, mohou být součásti OWIN snadno zřetězeny k vytváření složitých kanálů zpracování HTTP.</span><span class="sxs-lookup"><span data-stu-id="22d99-188">Because the application delegate is an atomic unit of execution and because the environment dictionary is carried as a parameter on the delegate, OWIN components can be easily chained together to create complex HTTP processing pipelines.</span></span>

<span data-ttu-id="22d99-189">Z perspektivy implementace je OWIN specifikace ([http://owin.org/html/owin.html](http://owin.org/html/owin.html)).</span><span class="sxs-lookup"><span data-stu-id="22d99-189">From an implementation perspective, OWIN is a specification ([http://owin.org/html/owin.html](http://owin.org/html/owin.html)).</span></span> <span data-ttu-id="22d99-190">Jeho cílem je, že se nejedná o další webové rozhraní, ale spíše o specifikaci, jak webové architektury a webové servery pracují.</span><span class="sxs-lookup"><span data-stu-id="22d99-190">Its goal is not to be the next Web framework, but rather a specification for how Web frameworks and Web servers interact.</span></span>

<span data-ttu-id="22d99-191">Pokud jste prošetřili [Owin](http://owin.org/) nebo [Katana](https://github.com/aspnet/AspNetKatana/wiki), můžete si také všimnout [balíčku NuGet Owin](http://nuget.org/packages/Owin) a Owin. dll.</span><span class="sxs-lookup"><span data-stu-id="22d99-191">If you've investigated [OWIN](http://owin.org/) or [Katana](https://github.com/aspnet/AspNetKatana/wiki), you may also have noticed the [Owin NuGet package](http://nuget.org/packages/Owin) and Owin.dll.</span></span> <span data-ttu-id="22d99-192">Tato knihovna obsahuje jedno rozhraní [IAppBuilder](https://github.com/owin/owin/blob/master/src/Owin/IAppBuilder.cs), které formalizes a kodifikovaně sekvenci spouštění popsanou v [části 4](http://owin.org/html/owin.html#4-application-startup) specifikace Owin.</span><span class="sxs-lookup"><span data-stu-id="22d99-192">This library contains a single interface, [IAppBuilder](https://github.com/owin/owin/blob/master/src/Owin/IAppBuilder.cs), which formalizes and codifies the startup sequence described in [section 4](http://owin.org/html/owin.html#4-application-startup) of the OWIN specification.</span></span> <span data-ttu-id="22d99-193">I když se nevyžaduje pro sestavování serverů OWIN, rozhraní [IAppBuilder](https://github.com/owin/owin/blob/master/src/Owin/IAppBuilder.cs) poskytuje konkrétní referenční bod a používá ho komponenty projektu Katana.</span><span class="sxs-lookup"><span data-stu-id="22d99-193">While not required in order to build OWIN servers, the [IAppBuilder](https://github.com/owin/owin/blob/master/src/Owin/IAppBuilder.cs) interface provides a concrete reference point, and it is used by the Katana project components.</span></span>

## <a name="project-katana"></a><span data-ttu-id="22d99-194">Katana projektu</span><span class="sxs-lookup"><span data-stu-id="22d99-194">Project Katana</span></span>

<span data-ttu-id="22d99-195">Vzhledem k tomu, že specifikace [Owin](http://owin.org/html/owin.html) i *Knihovna Owin. dll* jsou vlastněné komunitou a komunitním open source, představuje projekt [Katana](https://github.com/aspnet/AspNetKatana/wiki) sadu komponent Owin, které při současném použití Open Source jsou sestavené a vydané společností Microsoft.</span><span class="sxs-lookup"><span data-stu-id="22d99-195">Whereas both the [OWIN](http://owin.org/html/owin.html) specification and *Owin.dll* are community owned and community run open source efforts, the [Katana](https://github.com/aspnet/AspNetKatana/wiki) project represents the set of OWIN components that, while still open source, are built and released by Microsoft.</span></span> <span data-ttu-id="22d99-196">Mezi tyto komponenty patří jak komponenty infrastruktury, jako jsou hostitelé a servery, i funkční komponenty, jako jsou například komponenty pro ověřování a vazby do architektury, jako jsou například [signalizační](../../../signalr/index.md) a [ASP.NET webové rozhraní API](../../../web-api/overview/getting-started-with-aspnet-web-api/index.md).</span><span class="sxs-lookup"><span data-stu-id="22d99-196">These components include both infrastructure components, such as hosts and servers, as well as functional components, such as authentication components and bindings to frameworks such as [SignalR](../../../signalr/index.md) and [ASP.NET Web API](../../../web-api/overview/getting-started-with-aspnet-web-api/index.md).</span></span> <span data-ttu-id="22d99-197">Projekt má následující tři cíle na nejvyšší úrovni:</span><span class="sxs-lookup"><span data-stu-id="22d99-197">The project has the following three high level goals:</span></span> 

- <span data-ttu-id="22d99-198">**Přenosné** – součásti by měly být schopné snadno nahradit nové komponenty, jakmile budou k dispozici.</span><span class="sxs-lookup"><span data-stu-id="22d99-198">**Portable** – Components should be able to be easily substituted for new components as they become available.</span></span> <span data-ttu-id="22d99-199">To zahrnuje všechny typy komponent, od rozhraní po server a hostitele.</span><span class="sxs-lookup"><span data-stu-id="22d99-199">This includes all types of components, from the framework to the server and host.</span></span> <span data-ttu-id="22d99-200">Důvodem tohoto cíle je, že architektury třetích stran se můžou bez problémů spouštět na serverech Microsoftu, zatímco Microsoft Framework může běžet na serverech a hostitelích třetích stran.</span><span class="sxs-lookup"><span data-stu-id="22d99-200">The implication of this goal is that third party frameworks can seamlessly run on Microsoft servers while Microsoft frameworks can potentially run on third party servers and hosts.</span></span>
- <span data-ttu-id="22d99-201">**Modulární/flexibilní**– na rozdíl od mnoha platforem, které obsahují nesčetných funkcí, které jsou ve výchozím nastavení zapnuté, Katana komponenty projektu by měly být malé a zaměřené na řízení vývojářům aplikací, které určují komponenty, které se mají použít ve své aplikaci.</span><span class="sxs-lookup"><span data-stu-id="22d99-201">**Modular/flexible**– Unlike many frameworks which include a myriad of features that are turned on by default, Katana project components should be small and focused, giving control over to the application developer in determining which components to use in her application.</span></span>
- <span data-ttu-id="22d99-202">**Odlehčená/výkonná/škálovatelná** – zrušením tradičního pojmu rozhraní do sady malých, zaměřených komponent, které jsou explicitně přidané vývojářem aplikace, může výsledná aplikace Katana spotřebovat méně výpočetních prostředků, a výsledkem je zpracování větší zátěže než u jiných typů serverů a platforem.</span><span class="sxs-lookup"><span data-stu-id="22d99-202">**Lightweight/performant/scalable** – By breaking the traditional notion of a framework into a set of small, focused components which are added explicitly by the application developer, a resulting Katana application can consume fewer computing resources, and as a result, handle more load, than with other types of servers and frameworks.</span></span> <span data-ttu-id="22d99-203">Protože požadavky aplikace vyžadují více funkcí z základní infrastruktury, je možné je přidat do kanálu OWIN, ale to by mělo být explicitní rozhodnutí v rámci vývojáře aplikace.</span><span class="sxs-lookup"><span data-stu-id="22d99-203">As the requirements of the application demand more features from the underlying infrastructure, those can be added to the OWIN pipeline, but that should be an explicit decision on the part of the application developer.</span></span> <span data-ttu-id="22d99-204">Nahrazování komponent na nižší úrovni navíc znamená, že jakmile budou k dispozici, nové vysoce výkonné servery je možné bezproblémově zavádět, aby se zlepšil výkon aplikací OWIN bez narušení těchto aplikací.</span><span class="sxs-lookup"><span data-stu-id="22d99-204">Additionally, the substitutability of lower level components means that as they become available, new high performance servers can seamlessly be introduced to improve the performance of OWIN applications without breaking those applications.</span></span>

## <a name="getting-started-with-katana-components"></a><span data-ttu-id="22d99-205">Začínáme s komponentami Katana</span><span class="sxs-lookup"><span data-stu-id="22d99-205">Getting Started with Katana Components</span></span>

<span data-ttu-id="22d99-206">Při prvním zavedení je jedním aspektem architektury [Node. js](http://nodejs.org/) , která ihned nastala pozornost pro lidi, jako je jednoduchost toho, jak může vytvořit webový server a spustit ho.</span><span class="sxs-lookup"><span data-stu-id="22d99-206">When it was first introduced, one aspect of the [Node.js](http://nodejs.org/) framework that immediately drew people's attention was the simplicity with which one could author and run a Web server.</span></span> <span data-ttu-id="22d99-207">Pokud byly cíle Katana na základě [Node. js](http://nodejs.org/), může je jedna z nich sumarizovat vyslovením, že Katana přináší mnoho výhod [Node. js](http://nodejs.org/) (a rozhraní jako IT), aniž by vývojář vyvolal vše, co ví o vývoji ASP.NET webových aplikací.</span><span class="sxs-lookup"><span data-stu-id="22d99-207">If Katana goals were framed in light of [Node.js](http://nodejs.org/), one might summarize them by saying that Katana brings many of the benefits of [Node.js](http://nodejs.org/) (and frameworks like it) without forcing the developer to throw out everything she knows about developing ASP.NET Web applications.</span></span> <span data-ttu-id="22d99-208">Aby tento příkaz mohl držet hodnotu true, musí být Začínáme s projektem Katana stejně jednoduché pro [Node. js](http://nodejs.org/).</span><span class="sxs-lookup"><span data-stu-id="22d99-208">For this statement to hold true, getting started with the Katana project should be equally simple in nature to [Node.js](http://nodejs.org/).</span></span>

## <a name="creating-hello-world"></a><span data-ttu-id="22d99-209">Vytváření Hello World!</span><span class="sxs-lookup"><span data-stu-id="22d99-209">Creating "Hello World!"</span></span>

<span data-ttu-id="22d99-210">Jedním z významných rozdílů mezi jazykem JavaScript a vývojem .NET je přítomnost (nebo absence) kompilátoru.</span><span class="sxs-lookup"><span data-stu-id="22d99-210">One notable difference between JavaScript and .NET development is the presence (or absence) of a compiler.</span></span> <span data-ttu-id="22d99-211">V takovém případě je výchozím bodem jednoduchého serveru Katana projekt sady Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="22d99-211">As such, the starting point for a simple Katana server is a Visual Studio project.</span></span> <span data-ttu-id="22d99-212">Můžeme však začít s největším počtem typů projektů: prázdná webová aplikace v ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="22d99-212">However, we can start with the most minimal of project types: the Empty ASP.NET Web Application.</span></span>

[![](an-overview-of-project-katana/_static/image1.png)](http://nuget.org/packages/Microsoft.Owin.Host.SystemWeb)

<span data-ttu-id="22d99-213">V dalším kroku nainstalujeme do projektu balíček [Microsoft. Owin. Host. SystemWeb](http://nuget.org/packages/Microsoft.Owin.Host.SystemWeb) NuGet.</span><span class="sxs-lookup"><span data-stu-id="22d99-213">Next, we will install the [Microsoft.Owin.Host.SystemWeb](http://nuget.org/packages/Microsoft.Owin.Host.SystemWeb) NuGet package into the project.</span></span> <span data-ttu-id="22d99-214">Tento balíček poskytuje server OWIN, který běží v kanálu žádosti ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="22d99-214">This package provides an OWIN server that runs in the ASP.NET request pipeline.</span></span> <span data-ttu-id="22d99-215">Dá se najít v [galerii NuGet](http://nuget.org/packages/Microsoft.Owin.Host.SystemWeb) a dá se nainstalovat pomocí dialogového okna Správce balíčků sady Visual Studio nebo konzoly Správce balíčků pomocí tohoto příkazu:</span><span class="sxs-lookup"><span data-stu-id="22d99-215">It can be found on the [NuGet gallery](http://nuget.org/packages/Microsoft.Owin.Host.SystemWeb) and can be installed using either the Visual Studio package manager dialog or the package manager console with the following command:</span></span>

[!code-console[Main](an-overview-of-project-katana/samples/sample2.cmd)]

<span data-ttu-id="22d99-216">Při instalaci balíčku `Microsoft.Owin.Host.SystemWeb` se jako závislosti nainstaluje několik dalších balíčků.</span><span class="sxs-lookup"><span data-stu-id="22d99-216">Installing the `Microsoft.Owin.Host.SystemWeb` package will install a few additional packages as dependencies.</span></span> <span data-ttu-id="22d99-217">Jedna z těchto závislostí je `Microsoft.Owin`, knihovny, která poskytuje několik pomocných typů a metod pro vývoj aplikací OWIN.</span><span class="sxs-lookup"><span data-stu-id="22d99-217">One of those dependencies is `Microsoft.Owin`, a library which provides several helper types and methods for developing OWIN applications.</span></span> <span data-ttu-id="22d99-218">Tyto typy můžeme použít k rychlému zápisu následujícího serveru Hello World.</span><span class="sxs-lookup"><span data-stu-id="22d99-218">We can use those types to quickly write the following "hello world" server.</span></span>

[!code-csharp[Main](an-overview-of-project-katana/samples/sample3.cs)]

<span data-ttu-id="22d99-219">Tento velmi jednoduchý webový server se teď dá spustit pomocí příkazu **F5** sady Visual Studio a obsahuje úplnou podporu pro ladění.</span><span class="sxs-lookup"><span data-stu-id="22d99-219">This very simple Web server can now be run using Visual Studio's **F5** command and includes full support for debugging.</span></span>

## <a name="switching-hosts"></a><span data-ttu-id="22d99-220">Přepínání hostitelů</span><span class="sxs-lookup"><span data-stu-id="22d99-220">Switching hosts</span></span>

<span data-ttu-id="22d99-221">Ve výchozím nastavení se předchozí příklad "Hello World" spustí v kanálu žádosti ASP.NET, který používá System. Web v kontextu služby IIS.</span><span class="sxs-lookup"><span data-stu-id="22d99-221">By default, the previous "hello world" example runs in the ASP.NET request pipeline, which uses System.Web in the context of IIS.</span></span> <span data-ttu-id="22d99-222">To může sama o sobě přidat obrovské hodnoty, protože nám to umožňuje těžit z flexibility a možnosti sestavování kanálu OWIN s možnostmi správy a celkovou dobou zralosti služby IIS.</span><span class="sxs-lookup"><span data-stu-id="22d99-222">This can by itself add tremendous value as it enables us to benefit from the flexibility and composability of an OWIN pipeline with the management capabilities and overall maturity of IIS.</span></span> <span data-ttu-id="22d99-223">Mohou však nastat případy, kdy nejsou vyžadovány výhody poskytované službou IIS a že je potřeba pro menší, jednodušší hostitele.</span><span class="sxs-lookup"><span data-stu-id="22d99-223">However, there may be cases where the benefits provided by IIS are not required and the desire is for a smaller, more lightweight host.</span></span> <span data-ttu-id="22d99-224">Co je potřeba, abyste mohli spustit náš jednoduchý webový server mimo IIS a System. Web?</span><span class="sxs-lookup"><span data-stu-id="22d99-224">What is needed, then, to run our simple Web server outside of IIS and System.Web?</span></span>

<span data-ttu-id="22d99-225">K ilustraci cíle přenositelnosti je potřeba, aby se přechod z hostitele webového serveru do příkazového řádku zavedl jednoduše přidáním závislostí serveru a hostitele do výstupní složky projektu a pak od hostitele.</span><span class="sxs-lookup"><span data-stu-id="22d99-225">To illustrate the portability goal, moving from a Web-server host to a command line host requires simply adding the new server and host dependencies to project's output folder and then starting the host.</span></span> <span data-ttu-id="22d99-226">V tomto příkladu budeme hostovat náš webový server na hostiteli Katana s názvem `OwinHost.exe` a použijeme Server Katana HttpListener.</span><span class="sxs-lookup"><span data-stu-id="22d99-226">In this example, we'll host our Web server in a Katana host called `OwinHost.exe` and will use the Katana HttpListener-based server.</span></span> <span data-ttu-id="22d99-227">Podobně jako ostatní komponenty Katana budou získány z NuGet pomocí následujícího příkazu:</span><span class="sxs-lookup"><span data-stu-id="22d99-227">Similarly to the other Katana components, these will be acquired from NuGet using the following command:</span></span>

[!code-console[Main](an-overview-of-project-katana/samples/sample4.cmd)]

<span data-ttu-id="22d99-228">Z příkazového řádku můžeme přejít do kořenové složky projektu a jednoduše spustit `OwinHost.exe` (která byla nainstalována ve složce Tools příslušného balíčku NuGet).</span><span class="sxs-lookup"><span data-stu-id="22d99-228">From the command line, we can then navigate to the project root folder and simply run the `OwinHost.exe` (which was installed in the tools folder of its respective NuGet package).</span></span> <span data-ttu-id="22d99-229">Ve výchozím nastavení je `OwinHost.exe` nakonfigurovaný tak, aby hledal server založený na HttpListener, a proto není potřeba žádná další konfigurace.</span><span class="sxs-lookup"><span data-stu-id="22d99-229">By default, `OwinHost.exe` is configured to look for the HttpListener-based server and so no additional configuration is needed.</span></span> <span data-ttu-id="22d99-230">Navigace ve webovém prohlížeči `http://localhost:5000/` zobrazuje aplikaci, která je teď spuštěná prostřednictvím konzoly.</span><span class="sxs-lookup"><span data-stu-id="22d99-230">Navigating in a Web browser to `http://localhost:5000/` shows the application now running through the console.</span></span>

![](an-overview-of-project-katana/_static/image2.png)

## <a name="katana-architecture"></a><span data-ttu-id="22d99-231">Architektura Katana</span><span class="sxs-lookup"><span data-stu-id="22d99-231">Katana Architecture</span></span>

 <span data-ttu-id="22d99-232">Architektura komponenty Katana rozděluje aplikaci do čtyř logických vrstev, jak je znázorněno níže: *hostitel, server, middleware* a *aplikace*.</span><span class="sxs-lookup"><span data-stu-id="22d99-232">The Katana component architecture divides an application into four logical layers, as depicted below: *host, server, middleware,* and *application*.</span></span> <span data-ttu-id="22d99-233">Architektura součásti je určena takovým způsobem, že implementace těchto vrstev lze snadno nahradit, v mnoha případech bez nutnosti překompilování aplikace.</span><span class="sxs-lookup"><span data-stu-id="22d99-233">The component architecture is factored in such a way that implementations of these layers can be easily substituted, in many cases, without requiring recompilation of the application.</span></span>   

![](an-overview-of-project-katana/_static/image3.png)

## <a name="host"></a><span data-ttu-id="22d99-234">Hostitel</span><span class="sxs-lookup"><span data-stu-id="22d99-234">Host</span></span>

 <span data-ttu-id="22d99-235">Hostitel zodpovídá za:</span><span class="sxs-lookup"><span data-stu-id="22d99-235">The host is responsible for:</span></span>

- <span data-ttu-id="22d99-236">Správa základního procesu.</span><span class="sxs-lookup"><span data-stu-id="22d99-236">Managing the underlying process.</span></span>
- <span data-ttu-id="22d99-237">Orchestrace pracovního postupu, který vede k výběru serveru a vytváření OWIN kanálu, přes který se budou zpracovávat požadavky.</span><span class="sxs-lookup"><span data-stu-id="22d99-237">Orchestrating the workflow that results in the selection of a server and the construction of an OWIN pipeline through which requests will be handled.</span></span>

  <span data-ttu-id="22d99-238">V současnosti existují 3 možnosti primárního hostování pro aplikace založené na Katana:</span><span class="sxs-lookup"><span data-stu-id="22d99-238">At present, there are 3 primary hosting options for Katana-based applications:</span></span>  
  
<span data-ttu-id="22d99-239">**IIS/ASP. NET**: použití standardních typů HttpModule a HttpHandler, kanály Owin lze spustit ve službě IIS jako součást toku požadavků ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="22d99-239">**IIS/ASP.NET**: Using the standard HttpModule and HttpHandler types, OWIN pipelines can run on IIS as a part of an ASP.NET request flow.</span></span> <span data-ttu-id="22d99-240">Podpora hostování ASP.NET je povolená tak, že se do projektu webové aplikace nainstaluje balíček NuGet Microsoft. AspNet. Host. SystemWeb.</span><span class="sxs-lookup"><span data-stu-id="22d99-240">ASP.NET hosting support is enabled by installing the Microsoft.AspNet.Host.SystemWeb NuGet package into a Web application project.</span></span> <span data-ttu-id="22d99-241">Vzhledem k tomu, že služba IIS funguje jako hostitel i server, rozlišení serveru nebo hostitele OWIN se v tomto balíčku NuGet nerovná, což znamená, že při použití hostitele SystemWeb nemůže vývojář použít alternativní implementaci serveru.</span><span class="sxs-lookup"><span data-stu-id="22d99-241">Additionally, because IIS acts as both a host and a server, the OWIN server/host distinction is conflated in this NuGet package, meaning that if using the SystemWeb host, a developer cannot substitute an alternate server implementation.</span></span>  
  
<span data-ttu-id="22d99-242">**Vlastní hostitel**: sada komponent Katana poskytuje vývojářům možnost hostovat aplikace ve vlastním vlastním procesu, ať už se jedná o konzolovou aplikaci, službu systému Windows atd. Tato funkce vypadá podobně jako funkce samoobslužného hostitele poskytované webovým rozhraním API.</span><span class="sxs-lookup"><span data-stu-id="22d99-242">**Custom Host**: The Katana component suite gives a developer the ability to host applications in her own custom process, whether that is a console application, Windows service, etc. This capability looks similar to the self-host capability provided by Web API.</span></span> <span data-ttu-id="22d99-243">Následující příklad ukazuje vlastního hostitele kódu webového rozhraní API:</span><span class="sxs-lookup"><span data-stu-id="22d99-243">The following example shows a custom host of Web API code:</span></span>  

[!code-csharp[Main](an-overview-of-project-katana/samples/sample5.cs)]

<span data-ttu-id="22d99-244">Nastavení samostatného hostitele pro aplikaci Katana je podobné:</span><span class="sxs-lookup"><span data-stu-id="22d99-244">The self-host setup for a Katana application is similar:</span></span>

[!code-csharp[Main](an-overview-of-project-katana/samples/sample6.cs)]

<span data-ttu-id="22d99-245">Jedním z významných rozdílů mezi webovými rozhraními API a Katana pro samostatné hostitele je, že v příkladu Katana pro samoobslužné hostitele chybí konfigurační kód webového rozhraní API.</span><span class="sxs-lookup"><span data-stu-id="22d99-245">One notable difference between the Web API and Katana self-host examples is that the Web API configuration code is missing from the Katana self-host example.</span></span> <span data-ttu-id="22d99-246">Aby bylo možné povolit přenositelnost i možnosti složení, Katana odděluje kód, který spouští server, z kódu, který konfiguruje kanál zpracování požadavků.</span><span class="sxs-lookup"><span data-stu-id="22d99-246">In order to enable both portability and composability, Katana separates the code that starts the server from the code that configures the request processing pipeline.</span></span> <span data-ttu-id="22d99-247">Kód, který konfiguruje webové rozhraní API, je pak obsažen ve spuštění třídy, které je dále zadáno jako parametr typu ve webové aplikaci. Start.</span><span class="sxs-lookup"><span data-stu-id="22d99-247">The code that configures Web API, then is contained in the class Startup, which is additionally specified as the type parameter in WebApplication.Start.</span></span>

[!code-csharp[Main](an-overview-of-project-katana/samples/sample7.cs)]

<span data-ttu-id="22d99-248">Spouštěcí třída bude podrobněji popsána dále v článku.</span><span class="sxs-lookup"><span data-stu-id="22d99-248">The startup class will be discussed in greater detail later in the article.</span></span> <span data-ttu-id="22d99-249">Nicméně kód potřebný ke spuštění procesu samostatného hostitele Katana vypadá podobně jako kód, který můžete v samoobslužných hostitelských aplikacích pro ASP.NET webového rozhraní API použít ještě dnes.</span><span class="sxs-lookup"><span data-stu-id="22d99-249">However, the code required to start a Katana self-host process looks strikingly similar to the code that you may be using today in ASP.NET Web API self-host applications.</span></span>

<span data-ttu-id="22d99-250">**OwinHost. exe**: i když některé budou chtít napsat vlastní proces pro spouštění webových aplikací Katana, spousta by chtěla jednoduše spustit předem sestavený spustitelný soubor, který může spustit server a spustit jeho aplikaci.</span><span class="sxs-lookup"><span data-stu-id="22d99-250">**OwinHost.exe**: While some will want to write a custom process to run Katana Web applications, many would prefer to simply launch a pre-built executable that can start a server and run their application.</span></span> <span data-ttu-id="22d99-251">V tomto scénáři sada součástí Katana zahrnuje `OwinHost.exe`.</span><span class="sxs-lookup"><span data-stu-id="22d99-251">For this scenario, the Katana component suite includes `OwinHost.exe`.</span></span> <span data-ttu-id="22d99-252">Při spuštění z kořenového adresáře projektu spustí tento spustitelný soubor Server (ve výchozím nastavení používá server HttpListener) a použije konvence k vyhledání a spuštění třídy pro spuštění uživatele.</span><span class="sxs-lookup"><span data-stu-id="22d99-252">When run from within a project's root directory, this executable will start a server (it uses the HttpListener server by default) and use conventions to find and run the user's startup class.</span></span> <span data-ttu-id="22d99-253">Pro podrobnější řízení poskytuje spustitelný soubor řadu dalších parametrů příkazového řádku.</span><span class="sxs-lookup"><span data-stu-id="22d99-253">For more granular control, the executable provides a number of additional command line parameters.</span></span>

![](an-overview-of-project-katana/_static/image4.png)

## <a name="server"></a><span data-ttu-id="22d99-254">Server</span><span class="sxs-lookup"><span data-stu-id="22d99-254">Server</span></span>

 <span data-ttu-id="22d99-255">I když je hostitel zodpovědný za spuštění a údržbu procesu, ve kterém je aplikace spuštěná, zodpovědnost serveru je otevřít síťový soket, naslouchat žádostem a posílat je prostřednictvím kanálu součástí OWIN zadaných uživatelem (jako vy Možná už jste si všimli, že tento kanál je zadaný ve třídě pro spuštění vývojáře aplikace.</span><span class="sxs-lookup"><span data-stu-id="22d99-255">While the host is responsible for starting and maintaining process within which the application runs, the responsibility of the server is to open a network socket, listen for requests, and send them through the pipeline of OWIN components specified by the user (as you may have already noticed, this pipeline is specified in the application developer's Startup class).</span></span> <span data-ttu-id="22d99-256">V současné době projekt Katana zahrnuje dvě implementace serveru:</span><span class="sxs-lookup"><span data-stu-id="22d99-256">Currently, the Katana project includes two server implementations:</span></span> 

- <span data-ttu-id="22d99-257">**Microsoft. Owin. Host. SystemWeb**: jak je uvedeno výše, služba IIS v součinnosti s kanálem ASP.NET funguje jako hostitel i server.</span><span class="sxs-lookup"><span data-stu-id="22d99-257">**Microsoft.Owin.Host.SystemWeb**: As previously mentioned, IIS in concert with the ASP.NET pipeline acts as both a host and a server.</span></span> <span data-ttu-id="22d99-258">Proto při volbě této možnosti hostování spravuje služba IIS aspekty na úrovni hostitele, jako je aktivace procesu a naslouchá požadavkům HTTP.</span><span class="sxs-lookup"><span data-stu-id="22d99-258">Therefore, when choosing this hosting option, IIS both manages host-level concerns such as process activation and listens for HTTP requests.</span></span> <span data-ttu-id="22d99-259">U webových aplikací ASP.NET odešle požadavky do kanálu ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="22d99-259">For ASP.NET Web applications, it then sends the requests into the ASP.NET pipeline.</span></span> <span data-ttu-id="22d99-260">Hostitel Katana SystemWeb registruje http HttpModules a HttpHandler k zachycení požadavků v průběhu toku přes kanál HTTP a jejich odeslání prostřednictvím kanálu OWIN zadaného uživatelem.</span><span class="sxs-lookup"><span data-stu-id="22d99-260">The Katana SystemWeb host registers an ASP.NET HttpModule and HttpHandler to intercept requests as they flow through the HTTP pipeline and send them through the user-specified OWIN pipeline.</span></span>
- <span data-ttu-id="22d99-261">**Microsoft. Owin. Host. HttpListener**: jak je uvedeno, tento Katana Server používá třídu HttpListener .NET Framework k otevření soketu a odeslání požadavků do kanálu Owin zadaného vývojářem.</span><span class="sxs-lookup"><span data-stu-id="22d99-261">**Microsoft.Owin.Host.HttpListener**: As its name indicates, this Katana server uses the .NET Framework's HttpListener class to open a socket and send requests into a developer-specified OWIN pipeline.</span></span> <span data-ttu-id="22d99-262">Aktuálně se jedná o výchozí výběr serveru pro rozhraní API Katana pro samoobslužné hostování i pro OwinHost. exe.</span><span class="sxs-lookup"><span data-stu-id="22d99-262">This is currently the default server selection for both the Katana self-host API and OwinHost.exe.</span></span>

## <a name="middlewareframework"></a><span data-ttu-id="22d99-263">Middleware/architektura</span><span class="sxs-lookup"><span data-stu-id="22d99-263">Middleware/framework</span></span>

 <span data-ttu-id="22d99-264">Jak už bylo zmíněno, pokud server přijme požadavek od klienta, zodpovídá za jeho předání prostřednictvím kanálu OWIN komponent, které jsou určeny spouštěcím kódem vývojáře.</span><span class="sxs-lookup"><span data-stu-id="22d99-264">As previously mentioned, when the server accepts a request from a client, it is responsible for passing it through a pipeline of OWIN components, which are specified by the developer's startup code.</span></span> <span data-ttu-id="22d99-265">Tyto komponenty kanálu se označují jako middleware.</span><span class="sxs-lookup"><span data-stu-id="22d99-265">These pipeline components are known as middleware.</span></span>  
 <span data-ttu-id="22d99-266">Na velmi základní úrovni musí komponenta middleware OWIN jednoduše implementovat delegáta aplikace OWIN, aby se dala volat.</span><span class="sxs-lookup"><span data-stu-id="22d99-266">At a very basic level, an OWIN middleware component simply needs to implement the OWIN application delegate so that it is callable.</span></span>

[!code-console[Main](an-overview-of-project-katana/samples/sample8.cmd)]

<span data-ttu-id="22d99-267">Pro zjednodušení vývoje a složení součástí middleware však Katana podporuje několik konvence a pomocné typy pro komponenty middlewaru.</span><span class="sxs-lookup"><span data-stu-id="22d99-267">However, in order to simplify the development and composition of middleware components, Katana supports a handful of conventions and helper types for middleware components.</span></span> <span data-ttu-id="22d99-268">Nejběžnější je `OwinMiddleware` třídy.</span><span class="sxs-lookup"><span data-stu-id="22d99-268">The most common of these is the `OwinMiddleware` class.</span></span> <span data-ttu-id="22d99-269">Vlastní komponenta middlewaru sestavená pomocí této třídy by vypadala podobně jako v následujícím příkladu:</span><span class="sxs-lookup"><span data-stu-id="22d99-269">A custom middleware component built using this class would look similar to the following:</span></span> 

[!code-csharp[Main](an-overview-of-project-katana/samples/sample9.cs)]

 <span data-ttu-id="22d99-270">Tato třída je odvozena z `OwinMiddleware`, implementuje konstruktor, který přijímá instanci dalšího middleware v kanálu jako jeden z jeho argumentů a poté předává základnímu konstruktoru.</span><span class="sxs-lookup"><span data-stu-id="22d99-270">This class derives from `OwinMiddleware`, implements a constructor that accepts an instance of the next middleware in the pipeline as one of its arguments, and then passes it to the base constructor.</span></span> <span data-ttu-id="22d99-271">Další argumenty používané pro konfiguraci middleware jsou také deklarovány jako parametry konstruktoru za následujícím parametrem middlewaru.</span><span class="sxs-lookup"><span data-stu-id="22d99-271">Additional arguments used to configure the middleware are also declared as constructor parameters after the next middleware parameter.</span></span>   
  
<span data-ttu-id="22d99-272">V době běhu je middleware spouštěna prostřednictvím přepsané `Invoke` metody.</span><span class="sxs-lookup"><span data-stu-id="22d99-272">At runtime, the middleware is executed via the overridden `Invoke` method.</span></span> <span data-ttu-id="22d99-273">Tato metoda přijímá jeden argument typu `OwinContext`.</span><span class="sxs-lookup"><span data-stu-id="22d99-273">This method takes a single argument of type `OwinContext`.</span></span> <span data-ttu-id="22d99-274">Tento kontextový objekt je k dispozici v balíčku `Microsoft.Owin` NuGet popsaném dříve a poskytuje přístup se silným typem ke slovníku požadavků, odpovědí a prostředí a také několik dalších pomocných typů.</span><span class="sxs-lookup"><span data-stu-id="22d99-274">This context object is provided by the `Microsoft.Owin` NuGet package described earlier and provides strongly-typed access to the request, response and environment dictionary, along with a few additional helper types.</span></span>   
  
<span data-ttu-id="22d99-275">Třídu middlewaru lze snadno přidat do kanálu OWIN ve spouštěcím kódu aplikace následujícím způsobem:</span><span class="sxs-lookup"><span data-stu-id="22d99-275">The middleware class can be easily added to the OWIN pipeline in the application startup code as follows:</span></span>   

[!code-csharp[Main](an-overview-of-project-katana/samples/sample10.cs)]

<span data-ttu-id="22d99-276">Protože infrastruktura Katana jednoduše vytvoří kanál OWINch součástí middlewaru a protože komponenty jednoduše potřebují podporovat delegáta aplikace, aby se účastnili kanálu, můžou být komponenty middlewaru v rozsahu od jednoduchých protokolovacích nástrojů až po celá rozhraní, jako je ASP.NET, webové rozhraní API nebo [signál](../../../signalr/index.md).</span><span class="sxs-lookup"><span data-stu-id="22d99-276">Because the Katana infrastructure simply builds up a pipeline of OWIN middleware components, and because the components simply need to support the application delegate to participate in the pipeline, middleware components can range in complexity from simple loggers to entire frameworks like ASP.NET, Web API, or [SignalR](../../../signalr/index.md).</span></span> <span data-ttu-id="22d99-277">Například přidání webového rozhraní API ASP.NET do předchozího kanálu OWIN vyžaduje přidání následujícího spouštěcího kódu:</span><span class="sxs-lookup"><span data-stu-id="22d99-277">For example, adding ASP.NET Web API to the previous OWIN pipeline requires adding the following startup code:</span></span>

[!code-csharp[Main](an-overview-of-project-katana/samples/sample11.cs)]

<span data-ttu-id="22d99-278">Infrastruktura Katana vytvoří kanál komponent middlewaru na základě pořadí, ve kterém byly přidány do objektu IAppBuilder v metodě konfigurace.</span><span class="sxs-lookup"><span data-stu-id="22d99-278">The Katana infrastructure will build the pipeline of middleware components based on the order in which they were added to the IAppBuilder object in the Configuration method.</span></span> <span data-ttu-id="22d99-279">V našem příkladu může LoggerMiddleware zpracovávat všechny požadavky, které procházejí kanálem, bez ohledu na to, jak jsou tyto požadavky nakonec zpracovávány.</span><span class="sxs-lookup"><span data-stu-id="22d99-279">In our example, then, LoggerMiddleware can handle all requests that flow through the pipeline, regardless of how those requests are ultimately handled.</span></span> <span data-ttu-id="22d99-280">To umožňuje výkonnou situaci, kdy součást middlewaru (například součást pro ověřování) může zpracovávat požadavky na kanál, který obsahuje více komponent a platforem (např. webové rozhraní API ASP.NET, Signaler a statický souborový server).</span><span class="sxs-lookup"><span data-stu-id="22d99-280">This enables powerful scenarios where a middleware component (e.g. an authentication component) can process requests for a pipeline that includes multiple components and frameworks (e.g. ASP.NET Web API, SignalR, and a static file server).</span></span>
 
## <a name="applications"></a><span data-ttu-id="22d99-281">Aplikace</span><span class="sxs-lookup"><span data-stu-id="22d99-281">Applications</span></span>

<span data-ttu-id="22d99-282">Jak je znázorněno v předchozích příkladech, OWIN a projekt Katana by se nemusely představit jako nový aplikační model aplikace, ale spíše jako abstrakce pro odkládání aplikačních modelů a platforem aplikace z infrastruktury serveru a hostingu.</span><span class="sxs-lookup"><span data-stu-id="22d99-282">As illustrated by the previous examples, OWIN and the Katana project should not be thought of as a new application programming model, but rather as an abstraction to decouple application programming models and frameworks from server and hosting infrastructure.</span></span> <span data-ttu-id="22d99-283">Například při sestavování webových aplikací rozhraní API bude rozhraní vývojář i nadále používat rozhraní Web API ASP.NET, bez ohledu na to, jestli aplikace běží v kanálu OWIN pomocí komponent z projektu Katana.</span><span class="sxs-lookup"><span data-stu-id="22d99-283">For example, when building Web API applications, the developer framework will continue to use the ASP.NET Web API framework, irrespective of whether or not the application runs in an OWIN pipeline using components from the Katana project.</span></span> <span data-ttu-id="22d99-284">Jedno místo, kde bude OWIN kód viditelný pro vývojáře aplikace, bude spouštěcí kód aplikace, kde vývojář vytvoří kanál OWIN.</span><span class="sxs-lookup"><span data-stu-id="22d99-284">The one place where OWIN-related code will be visible to the application developer will be the application startup code, where the developer composes the OWIN pipeline.</span></span> <span data-ttu-id="22d99-285">Ve spouštěcím kódu Vývojář zaregistruje řadu UseXxch příkazů, obecně jeden pro každou komponentu middlewaru, která bude zpracovávat příchozí požadavky.</span><span class="sxs-lookup"><span data-stu-id="22d99-285">In the startup code, the developer will register a series of UseXx statements, generally one for each middleware component that will process incoming requests.</span></span> <span data-ttu-id="22d99-286">Toto prostředí bude mít stejný účinek jako registrace modulů HTTP v aktuálním systému System. Web World.</span><span class="sxs-lookup"><span data-stu-id="22d99-286">This experience will have the same effect as registering HTTP modules in the current System.Web world.</span></span> <span data-ttu-id="22d99-287">Na konci kanálu se obvykle zaregistruje middlewarový middleware většího rozhraní, například webové rozhraní API ASP.NET nebo [Signal](../../../signalr/index.md) .</span><span class="sxs-lookup"><span data-stu-id="22d99-287">Typically, a larger framework middleware, such as ASP.NET Web API or [SignalR](../../../signalr/index.md) will be registered at the end of the pipeline.</span></span> <span data-ttu-id="22d99-288">Křížové komponenty middlewaru, jako jsou například pro ověřování nebo ukládání do mezipaměti, jsou obecně registrovány na začátku kanálu, takže budou zpracovávat požadavky na všechny architektury a součásti registrované později v kanálu.</span><span class="sxs-lookup"><span data-stu-id="22d99-288">Cross-cutting middleware components, such as those for authentication or caching, are generally registered towards the beginning of the pipeline so that they will process requests for all of the frameworks and components registered later in the pipeline.</span></span> <span data-ttu-id="22d99-289">Oddělení součástí middlewaru od sebe od sebe od sebe a od základních komponent infrastruktury umožňuje vyvíjet komponenty v různých rychlostí a přitom zajistit, aby celkový systém zůstával stabilní.</span><span class="sxs-lookup"><span data-stu-id="22d99-289">This separation of the middleware components from each other and from the underlying infrastructure components enables the components to evolve at different velocities while ensuring that the overall system remains stable.</span></span>

## <a name="components--nuget-packages"></a><span data-ttu-id="22d99-290">Komponenty – balíčky NuGet</span><span class="sxs-lookup"><span data-stu-id="22d99-290">Components – NuGet Packages</span></span>

<span data-ttu-id="22d99-291">Podobně jako u mnoha současných knihoven a architektur se komponenty projektu Katana doručují jako sada balíčků NuGet.</span><span class="sxs-lookup"><span data-stu-id="22d99-291">Like many current libraries and frameworks, the Katana project components are delivered as a set of NuGet packages.</span></span> <span data-ttu-id="22d99-292">V nadcházející verzi 2,0 vypadá graf závislosti balíčků Katana následujícím způsobem.</span><span class="sxs-lookup"><span data-stu-id="22d99-292">For the upcoming version 2.0, the Katana package dependency graph looks as follows.</span></span> <span data-ttu-id="22d99-293">(Pro větší zobrazení klikněte na obrázek.)</span><span class="sxs-lookup"><span data-stu-id="22d99-293">(Click on image for larger view.)</span></span>

[![](an-overview-of-project-katana/_static/image6.png)](an-overview-of-project-katana/_static/image5.png)

<span data-ttu-id="22d99-294">Skoro každý balíček v projektu Katana závisí přímo nebo nepřímo na balíčku Owin.</span><span class="sxs-lookup"><span data-stu-id="22d99-294">Nearly every package in the Katana project depends, directly or indirectly, on the Owin package.</span></span> <span data-ttu-id="22d99-295">Můžete si uvědomit, že se jedná o balíček obsahující rozhraní IAppBuilder, které poskytuje konkrétní implementaci spouštěcí sekvence aplikace popsané v části 4 specifikace OWIN.</span><span class="sxs-lookup"><span data-stu-id="22d99-295">You may remember that this is the package that contains the IAppBuilder interface, which provides a concrete implementation of the application startup sequence described in section 4 of the OWIN specification.</span></span> <span data-ttu-id="22d99-296">Mnohé z těchto balíčků jsou navíc závislé na Microsoft. Owin, který poskytuje sadu pomocných typů pro práci s požadavky HTTP a odpověďmi.</span><span class="sxs-lookup"><span data-stu-id="22d99-296">Additionally, many of the packages depend on Microsoft.Owin, which provides a set of helper types for working with HTTP requests and responses.</span></span> <span data-ttu-id="22d99-297">Zbytek balíčku může být klasifikován jako hostitelský balíček infrastruktury (servery nebo hostitelé) nebo middleware.</span><span class="sxs-lookup"><span data-stu-id="22d99-297">The remainder of the package can be classified as either hosting infrastructure packages (servers or hosts) or middleware.</span></span> <span data-ttu-id="22d99-298">Balíčky a závislosti, které jsou externí pro projekt Katana, se zobrazují oranžová.</span><span class="sxs-lookup"><span data-stu-id="22d99-298">Packages and dependencies that are external to the Katana project are displayed in orange.</span></span>

<span data-ttu-id="22d99-299">Infrastruktura hostování pro katana 2,0 zahrnuje servery založené na SystemWeb a HttpListener, balíček OwinHost pro spouštění aplikací OWIN pomocí OwinHost. exe a balíček Microsoft. Owin. hosting pro aplikace OWIN pro samoobslužné hostování v vlastní hostitel (například Konzolová aplikace, služba systému Windows atd.)</span><span class="sxs-lookup"><span data-stu-id="22d99-299">The hosting infrastructure for Katana 2.0 includes both the SystemWeb and HttpListener-based servers, the OwinHost package for running OWIN applications using OwinHost.exe, and the Microsoft.Owin.Hosting package for self-hosting OWIN applications in a custom host (e.g. console application, Windows service, etc.)</span></span>

<span data-ttu-id="22d99-300">Pro katana 2,0 jsou komponenty middlewaru primárně zaměřené na poskytování různých způsobů ověřování.</span><span class="sxs-lookup"><span data-stu-id="22d99-300">For Katana 2.0, the middleware components are primarily focused on providing different means of authentication.</span></span> <span data-ttu-id="22d99-301">K dispozici je jedna další součást middlewaru pro diagnostiku, která umožňuje podporu pro úvodní a chybovou stránku.</span><span class="sxs-lookup"><span data-stu-id="22d99-301">One additional middleware component for diagnostics is provided, which enables support for a start and error page.</span></span> <span data-ttu-id="22d99-302">Jak OWIN roste abstrakci hostování v de facto, ekosystém součástí middlewaru, které vyvinula společnost Microsoft i třetí strany, bude také růst v čísle.</span><span class="sxs-lookup"><span data-stu-id="22d99-302">As OWIN grows into the de facto hosting abstraction, the ecosystem of middleware components, both those developed by Microsoft and third parties, will also grow in number.</span></span>

## <a name="conclusion"></a><span data-ttu-id="22d99-303">Závěr</span><span class="sxs-lookup"><span data-stu-id="22d99-303">Conclusion</span></span>

 <span data-ttu-id="22d99-304">Od svého začátku se cíl projektu Katana nevytvořil, a proto si vývojáři vynutí, aby se ještě seznámili s jiným webovým rozhraním.</span><span class="sxs-lookup"><span data-stu-id="22d99-304">From its beginning, the Katana project's goal has not been to create and thereby force developers to learn yet another Web framework.</span></span> <span data-ttu-id="22d99-305">Místo toho bylo cílem vytvořit abstrakci, která vývojářům webových aplikací .NET nabídne více možností výběru, než bylo dříve možné.</span><span class="sxs-lookup"><span data-stu-id="22d99-305">Rather, the goal has been to create an abstraction to give .NET Web application developers more choice than has previously been possible.</span></span> <span data-ttu-id="22d99-306">Rozbalením logických vrstev typického zásobníku webových aplikací do sady nahraditelných komponent Katana projekt umožňuje komponentám v celém zásobníku, aby se zlepšily v jakékoliv míře, což dává smysl pro tyto komponenty.</span><span class="sxs-lookup"><span data-stu-id="22d99-306">By breaking up the logical layers of a typical Web application stack into a set of replaceable components, the Katana project enables components throughout the stack to improve at whatever rate makes sense for those components.</span></span> <span data-ttu-id="22d99-307">Díky vytvoření všech komponent kolem jednoduché abstrakce OWIN Katana umožňuje architekturám a aplikacím postaveným na nich, aby byly přenosné napříč různými servery a hostiteli.</span><span class="sxs-lookup"><span data-stu-id="22d99-307">By building all components around the simple OWIN abstraction, Katana enables frameworks and the applications built on top of them to be portable across a variety of different servers and hosts.</span></span> <span data-ttu-id="22d99-308">Tím, že vývojář předloží kontrolu nad zásobníkem, Katana zajistí, že vývojář provede maximální volbu toho, jak by měl být zjednodušený a jak by měl svůj webový zásobník obsahovat funkce.</span><span class="sxs-lookup"><span data-stu-id="22d99-308">By putting the developer in control of the stack, Katana ensures that the developer makes the ultimate choice about how lightweight or how feature-rich her Web stack should be.</span></span>  

## <a name="for-more-information-about-katana"></a><span data-ttu-id="22d99-309">Další informace o Katana</span><span class="sxs-lookup"><span data-stu-id="22d99-309">For more information about Katana</span></span>

- <span data-ttu-id="22d99-310">Projekt Katana na GitHubu: [https://github.com/aspnet/AspNetKatana/](https://github.com/aspnet/AspNetKatana/).</span><span class="sxs-lookup"><span data-stu-id="22d99-310">The Katana project on GitHub: [https://github.com/aspnet/AspNetKatana/](https://github.com/aspnet/AspNetKatana/).</span></span>
- <span data-ttu-id="22d99-311">Video: [Katana projekt – OWIN pro ASP.NET –](https://channel9.msdn.com/Shows/Web+Camps+TV/The-Katana-Project-OWIN-for-ASPNET)Howard Dierking.</span><span class="sxs-lookup"><span data-stu-id="22d99-311">Video: [The Katana Project - OWIN for ASP.NET](https://channel9.msdn.com/Shows/Web+Camps+TV/The-Katana-Project-OWIN-for-ASPNET), by Howard Dierking.</span></span>

## <a name="acknowledgements"></a><span data-ttu-id="22d99-312">Poděkování</span><span class="sxs-lookup"><span data-stu-id="22d99-312">Acknowledgements</span></span>

- <span data-ttu-id="22d99-313">[Rick Anderson](https://blogs.msdn.com/b/rickandy/): (Twitter [@RickAndMSFT](http://twitter.com/RickAndMSFT) ) Rick je hlavní programovací zapisovač pro zaměření Microsoftu na Azure a MVC.</span><span class="sxs-lookup"><span data-stu-id="22d99-313">[Rick Anderson](https://blogs.msdn.com/b/rickandy/): (twitter [@RickAndMSFT](http://twitter.com/RickAndMSFT) ) Rick is a senior programming writer for Microsoft focusing on Azure and MVC.</span></span>
- <span data-ttu-id="22d99-314">[Scott Hanselman](http://www.hanselman.com/blog/): (Twitter [@shanselman](https://twitter.com/shanselman) )</span><span class="sxs-lookup"><span data-stu-id="22d99-314">[Scott Hanselman](http://www.hanselman.com/blog/): (twitter [@shanselman](https://twitter.com/shanselman) )</span></span>
- <span data-ttu-id="22d99-315">[Jan Galloway](https://weblogs.asp.net/jgalloway/default.aspx): (Twitter [@jongalloway](https://twitter.com/jongalloway) )</span><span class="sxs-lookup"><span data-stu-id="22d99-315">[Jon Galloway](https://weblogs.asp.net/jgalloway/default.aspx): (twitter [@jongalloway](https://twitter.com/jongalloway) )</span></span>
