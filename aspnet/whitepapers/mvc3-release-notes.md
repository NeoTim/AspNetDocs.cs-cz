---
uid: whitepapers/mvc3-release-notes
title: ASP.NET MVC 3 | Microsoft Docs
author: rick-anderson
description: ''
ms.author: riande
ms.date: 10/06/2010
ms.assetid: f44c166e-7e91-48a0-a6f8-d9285f3594e5
msc.legacyurl: /whitepapers/mvc3-release-notes
msc.type: content
ms.openlocfilehash: 504202068f5db4f8614bba02e8066ffecfd15b48
ms.sourcegitcommit: 22fbd8863672c4ad6693b8388ad5c8e753fb41a2
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 11/28/2019
ms.locfileid: "74619241"
---
# <a name="aspnet-mvc-3"></a><span data-ttu-id="5c4c5-102">ASP.NET MVC 3</span><span class="sxs-lookup"><span data-stu-id="5c4c5-102">ASP.NET MVC 3</span></span>

- [<span data-ttu-id="5c4c5-103">Přehled</span><span class="sxs-lookup"><span data-stu-id="5c4c5-103">Overview</span></span>](#overview)
- [<span data-ttu-id="5c4c5-104">Poznámky k instalaci</span><span class="sxs-lookup"><span data-stu-id="5c4c5-104">Installation Notes</span></span>](#installation-notes)
- [<span data-ttu-id="5c4c5-105">Požadavky na software</span><span class="sxs-lookup"><span data-stu-id="5c4c5-105">Software Requirements</span></span>](#software-requirements)
- [<span data-ttu-id="5c4c5-106">Dokumentace</span><span class="sxs-lookup"><span data-stu-id="5c4c5-106">Documentation</span></span>](#documentation)
- [<span data-ttu-id="5c4c5-107">Pracovníky</span><span class="sxs-lookup"><span data-stu-id="5c4c5-107">Support</span></span>](#support)
- [<span data-ttu-id="5c4c5-108">Upgrade projektu ASP.NET MVC 2 na ASP.NET aktualizace nástrojů MVC 3</span><span class="sxs-lookup"><span data-stu-id="5c4c5-108">Upgrading an ASP.NET MVC 2 Project to ASP.NET MVC 3 Tools Update</span></span>](#upgrading)
- [<span data-ttu-id="5c4c5-109">Aktualizace nástrojů ASP.NET MVC 3 (12. dubna 2011)</span><span class="sxs-lookup"><span data-stu-id="5c4c5-109">ASP.NET MVC 3 Tools Update (April 12, 2011)</span></span>](#tu-changes)

    - [<span data-ttu-id="5c4c5-110">Dialogové okno Přidat řadič teď může používat řadiče pro generování uživatelského rozhraní se zobrazeními a kódem přístupu k datům.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-110">"Add Controller" dialog box can now scaffold controllers with views and data access code</span></span>](#tu-AddControllerDialog)
    - [<span data-ttu-id="5c4c5-111">Vylepšení dialogového okna Nový projekt ASP.NET MVC 3</span><span class="sxs-lookup"><span data-stu-id="5c4c5-111">Improvements to the "ASP.NET MVC 3 New Project" Dialog Box</span></span>](#tu-ImprovementsNewDialogBox)
    - [<span data-ttu-id="5c4c5-112">Šablony projektů teď zahrnují modernizr 1,7</span><span class="sxs-lookup"><span data-stu-id="5c4c5-112">Project templates now include Modernizr 1.7</span></span>](#tu-Modernizr)
    - [<span data-ttu-id="5c4c5-113">Šablony projektů zahrnují aktualizované verze jQuery, uživatelského rozhraní jQuery a ověření jQuery.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-113">Project templates include updated versions of jQuery, jQuery UI, and jQuery Validation</span></span>](#tu-UpdatedJQuery)
    - [<span data-ttu-id="5c4c5-114">Šablony projektů teď zahrnují ADO.NET Entity Framework 4,1 jako předinstalovaný balíček NuGet.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-114">Project templates now include ADO.NET Entity Framework 4.1 as a pre-installed NuGet package</span></span>](#tu-EF)
    - [<span data-ttu-id="5c4c5-115">Šablony projektů zahrnují knihovny JavaScriptu jako předem nainstalované balíčky NuGet</span><span class="sxs-lookup"><span data-stu-id="5c4c5-115">Project templates include JavaScript libraries as pre-installed NuGet packages</span></span>](#tu-JavaScriptLibsNuget)
    - [<span data-ttu-id="5c4c5-116">Známé problémy</span><span class="sxs-lookup"><span data-stu-id="5c4c5-116">Known Issues</span></span>](#tu-KI)
- [<span data-ttu-id="5c4c5-117">ASP.NET MVC 3 RTM (13. ledna 2011)</span><span class="sxs-lookup"><span data-stu-id="5c4c5-117">ASP.NET MVC 3 RTM (January 13, 2011)</span></span>](#MVC3RTM)

    - [<span data-ttu-id="5c4c5-118">Změna: aktualizace verze uživatelského rozhraní jQuery na 1.8.7</span><span class="sxs-lookup"><span data-stu-id="5c4c5-118">Change: Updated the version of jQuery UI to 1.8.7</span></span>](#RTM-1)
    - [<span data-ttu-id="5c4c5-119">Změnit: výchozí ModelMetadataProvider se změnil na DataAnnotationsModelMetadataProvider.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-119">Change: Changed the default ModelMetadataProvider back to DataAnnotationsModelMetadataProvider</span></span>](#RTM-2)
    - [<span data-ttu-id="5c4c5-120">Opraveno: vkládání části výrazu Razor, který obsahuje prázdné výsledky v opačném případě.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-120">Fixed: Pasting part of a Razor expression that contains whitespace results in it being reversed</span></span>](#RTM-3)
    - [<span data-ttu-id="5c4c5-121">Opraveno: přejmenování souboru Razor, který je otevřen v editoru, zakáže barevné zvýrazňování syntaxe a IntelliSense.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-121">Fixed: Renaming a Razor file that is opened in the editor disables syntax colorization and IntelliSense</span></span>](#RTM-4)
    - [<span data-ttu-id="5c4c5-122">Známé problémy</span><span class="sxs-lookup"><span data-stu-id="5c4c5-122">Known Issues</span></span>](#RTM-KI)
    - [<span data-ttu-id="5c4c5-123">Průlomové změny</span><span class="sxs-lookup"><span data-stu-id="5c4c5-123">Breaking Changes</span></span>](#RTM-BC)
- [<span data-ttu-id="5c4c5-124">ASP.NET MVC 3 Release Candidate 2 (10. prosince 2010)</span><span class="sxs-lookup"><span data-stu-id="5c4c5-124">ASP.NET MVC 3 Release Candidate 2 (December 10, 2010)</span></span>](#_Toc2)

    - [<span data-ttu-id="5c4c5-125">Šablony projektů se změnily tak, aby zahrnovaly jQuery 1.4.4, jQuery Validation 1,7 a jQuery UI 1.8.6 y UI 1.8.6</span><span class="sxs-lookup"><span data-stu-id="5c4c5-125">Project Templates Changed to Include jQuery 1.4.4, jQuery Validation 1.7, and jQuery UI 1.8.6y UI 1.8.6</span></span>](#_Toc2_1)
    - [<span data-ttu-id="5c4c5-126">Přidala se třída "AdditionalMetadataAttribute".</span><span class="sxs-lookup"><span data-stu-id="5c4c5-126">Added "AdditionalMetadataAttribute" Class</span></span>](#_Toc2_2)
    - [<span data-ttu-id="5c4c5-127">Vylepšené generování uživatelského rozhraní zobrazení</span><span class="sxs-lookup"><span data-stu-id="5c4c5-127">Improved View Scaffolding</span></span>](#_Toc2_3)
    - [<span data-ttu-id="5c4c5-128">Přidaná metoda HTML. Raw</span><span class="sxs-lookup"><span data-stu-id="5c4c5-128">Added Html.Raw Method</span></span>](#_Toc2_3)
    - [<span data-ttu-id="5c4c5-129">Vlastnost Controller. ViewModel se přejmenovala na hodnotu ViewBag.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-129">Renamed "Controller.ViewModel" Property and the "View" Property To "ViewBag"</span></span>](#_Toc2_4)
    - [<span data-ttu-id="5c4c5-130">Třída "ControllerSessionStateAttribute" se přejmenovala na "SessionStateAttribute".</span><span class="sxs-lookup"><span data-stu-id="5c4c5-130">Renamed "ControllerSessionStateAttribute" Class to "SessionStateAttribute"</span></span>](#_Toc2_5)
    - [<span data-ttu-id="5c4c5-131">Byla přejmenována vlastnost "pole" RemoteAttribute na hodnotu "AdditionalFields".</span><span class="sxs-lookup"><span data-stu-id="5c4c5-131">Renamed RemoteAttribute "Fields" Property to "AdditionalFields"</span></span>](#_Toc2_6)
    - [<span data-ttu-id="5c4c5-132">Přejmenování "SkipRequestValidationAttribute" na "AllowHtmlAttribute"</span><span class="sxs-lookup"><span data-stu-id="5c4c5-132">Renamed "SkipRequestValidationAttribute" to "AllowHtmlAttribute"</span></span>](#_Toc2_7)
    - [<span data-ttu-id="5c4c5-133">Změnila se metoda "HTML. ValidationMessage", která zobrazí první užitečnou chybovou zprávu.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-133">Changed "Html.ValidationMessage" Method to Display the First Useful Error Message</span></span>](#_Toc2_8)
    - [<span data-ttu-id="5c4c5-134">Opravená deklarace @model, aby se do dokumentu nepřidalo prázdné místo</span><span class="sxs-lookup"><span data-stu-id="5c4c5-134">Fixed @model Declaration to not Add Whitespace to the Document</span></span>](#_Toc2_9)
    - [<span data-ttu-id="5c4c5-135">Přidání vlastnosti "přípony" do zobrazení modulů pro podporu názvů souborů specifických pro určitý modul</span><span class="sxs-lookup"><span data-stu-id="5c4c5-135">Added "FileExtensions" Property to View Engines to Support Engine-Specific File Names</span></span>](#_Toc2_10)
    - [<span data-ttu-id="5c4c5-136">Oprava "LabelFor" pomocníka pro vygenerování správné hodnoty pro atribut "for"</span><span class="sxs-lookup"><span data-stu-id="5c4c5-136">Fixed "LabelFor" Helper to Emit the Correct Value for the "For" Attribute</span></span>](#_Toc2_11)
    - [<span data-ttu-id="5c4c5-137">Opravená metoda "RenderAction", která má mít přednost explicitním hodnotám při vytváření vazby modelu</span><span class="sxs-lookup"><span data-stu-id="5c4c5-137">Fixed "RenderAction" Method to Give Explicit Values Precedence During Model Binding</span></span>](#_Toc2_12)
    - [<span data-ttu-id="5c4c5-138">Průlomové změny</span><span class="sxs-lookup"><span data-stu-id="5c4c5-138">Breaking Changes</span></span>](#_Toc2_BC)
    - [<span data-ttu-id="5c4c5-139">Známé problémy</span><span class="sxs-lookup"><span data-stu-id="5c4c5-139">Known Issues</span></span>](#_Toc2_KI)
- [<span data-ttu-id="5c4c5-140">ASP.NET MVC 3 Release Candidate (listopad 9, 2010)</span><span class="sxs-lookup"><span data-stu-id="5c4c5-140">ASP.NET MVC 3 Release Candidate (Nov 9, 2010)</span></span>](#TOC_ASP_NET_3_RC)

    - [<span data-ttu-id="5c4c5-141">Nové funkce v ASP.NET MVC 3 RC</span><span class="sxs-lookup"><span data-stu-id="5c4c5-141">New Features in ASP.NET MVC 3 RC</span></span>](#_Toc276711785)
    - [<span data-ttu-id="5c4c5-142">Správce balíčků NuGet</span><span class="sxs-lookup"><span data-stu-id="5c4c5-142">NuGet Package Manager</span></span>](#_Toc276711786)
    - [<span data-ttu-id="5c4c5-143">Vylepšené dialogové okno Nový projekt</span><span class="sxs-lookup"><span data-stu-id="5c4c5-143">Improved "New Project" Dialog Box</span></span>](#_Toc276711787)
    - [<span data-ttu-id="5c4c5-144">Řadiče s nerelačními relacemi</span><span class="sxs-lookup"><span data-stu-id="5c4c5-144">Sessionless Controllers</span></span>](#_Toc276711788)
    - [<span data-ttu-id="5c4c5-145">Nové atributy ověřování</span><span class="sxs-lookup"><span data-stu-id="5c4c5-145">New Validation Attributes</span></span>](#_Toc276711789)
    - [<span data-ttu-id="5c4c5-146">Nová přetížení pro metody "LabelFor" a "LabelForModel"</span><span class="sxs-lookup"><span data-stu-id="5c4c5-146">New Overloads for "LabelFor" and "LabelForModel" Methods</span></span>](#_Toc276711790)
    - [<span data-ttu-id="5c4c5-147">Ukládání výstupu podřízené akce do mezipaměti</span><span class="sxs-lookup"><span data-stu-id="5c4c5-147">Child Action Output Caching</span></span>](#_Toc276711791)
    - [<span data-ttu-id="5c4c5-148">Vylepšení dialogového okna Přidat zobrazení</span><span class="sxs-lookup"><span data-stu-id="5c4c5-148">"Add View" Dialog Box Improvements</span></span>](#_Toc276711792)
    - [<span data-ttu-id="5c4c5-149">Podrobné ověření požadavku</span><span class="sxs-lookup"><span data-stu-id="5c4c5-149">Granular Request Validation</span></span>](#_Toc276711793)
    - [<span data-ttu-id="5c4c5-150">Průlomové změny</span><span class="sxs-lookup"><span data-stu-id="5c4c5-150">Breaking Changes</span></span>](#_Toc276711794)
    - [<span data-ttu-id="5c4c5-151">Známé problémy</span><span class="sxs-lookup"><span data-stu-id="5c4c5-151">Known Issues</span></span>](#_Toc276711795)
- [<span data-ttu-id="5c4c5-152">Formátu. Poznámky k verzi MVC 3 beta (říjen 6, 2010)</span><span class="sxs-lookup"><span data-stu-id="5c4c5-152">ASP.MVC 3 Beta Notes (Oct 6, 2010)</span></span>](#TOC_ASP_NET_3_Beta)

    - [<span data-ttu-id="5c4c5-153">Nové funkce v ASP.NET MVC 3 beta</span><span class="sxs-lookup"><span data-stu-id="5c4c5-153">New Features in ASP.NET MVC 3 Beta</span></span>](#0.1__Toc274034215)
    - [<span data-ttu-id="5c4c5-154">Správce balíčků NuPack</span><span class="sxs-lookup"><span data-stu-id="5c4c5-154">NuPack Package Manager</span></span>](#0.1__Toc274034216)
    - [<span data-ttu-id="5c4c5-155">Vylepšený dialog Nový projekt</span><span class="sxs-lookup"><span data-stu-id="5c4c5-155">Improved New Project Dialog Box</span></span>](#0.1__Toc274034217)
    - [<span data-ttu-id="5c4c5-156">Zjednodušený způsob, jak zadat modely silného typu v zobrazeních Razor</span><span class="sxs-lookup"><span data-stu-id="5c4c5-156">Simplified Way to Specify Strongly Typed Models in Razor Views</span></span>](#0.1__Toc274034218)
    - [<span data-ttu-id="5c4c5-157">Podpora pro nové pomocné metody webových stránek ASP.NET</span><span class="sxs-lookup"><span data-stu-id="5c4c5-157">Support for New ASP.NET Web Pages Helper Methods</span></span>](#0.1__Toc274034219)
    - [<span data-ttu-id="5c4c5-158">Podpora vkládání dalších závislostí</span><span class="sxs-lookup"><span data-stu-id="5c4c5-158">Additional Dependency Injection Support</span></span>](#0.1__Toc274034220)
    - [<span data-ttu-id="5c4c5-159">Nová podpora pro nenápad AJAX na bázi jQuery</span><span class="sxs-lookup"><span data-stu-id="5c4c5-159">New Support for Unobtrusive jQuery-Based Ajax</span></span>](#0.1__Toc274034221)
    - [<span data-ttu-id="5c4c5-160">Nová podpora pro nenápadné ověřování jQuery</span><span class="sxs-lookup"><span data-stu-id="5c4c5-160">New Support for Unobtrusive jQuery Validation</span></span>](#0.1__Toc274034222)
    - [<span data-ttu-id="5c4c5-161">Nové příznaky pro aplikaci pro ověřování klienta a nenáročnému JavaScriptu</span><span class="sxs-lookup"><span data-stu-id="5c4c5-161">New Application-Wide Flags for Client Validation and Unobtrusive JavaScript</span></span>](#0.1__Toc274034223)
    - [<span data-ttu-id="5c4c5-162">Nová podpora kódu, který se spouští před spuštěním zobrazení</span><span class="sxs-lookup"><span data-stu-id="5c4c5-162">New Support for Code that Runs Before Views Run</span></span>](#0.1__Toc274034224)
    - [<span data-ttu-id="5c4c5-163">Nová podpora pro syntaxi VBHTML Razor</span><span class="sxs-lookup"><span data-stu-id="5c4c5-163">New Support for the VBHTML Razor Syntax</span></span>](#0.1__Toc274034225)
    - [<span data-ttu-id="5c4c5-164">Přesnější řízení nad ValidateInputAttribute</span><span class="sxs-lookup"><span data-stu-id="5c4c5-164">More Granular Control over ValidateInputAttribute</span></span>](#0.1__Toc274034226)
    - [<span data-ttu-id="5c4c5-165">Pomáhat pomocníkům při převodu podtržítek na spojovníky názvů atributů HTML zadaných pomocí anonymních objektů</span><span class="sxs-lookup"><span data-stu-id="5c4c5-165">Helpers Convert Underscores to Hyphens for HTML Attribute Names Specified Using Anonymous Objects</span></span>](#0.1__Toc274034227)
    - [<span data-ttu-id="5c4c5-166">Opravy chyb</span><span class="sxs-lookup"><span data-stu-id="5c4c5-166">Bug Fixes</span></span>](#0.1__Toc274034228)
    - [<span data-ttu-id="5c4c5-167">Průlomové změny</span><span class="sxs-lookup"><span data-stu-id="5c4c5-167">Breaking Changes</span></span>](#0.1__Toc274034229)
    - [<span data-ttu-id="5c4c5-168">Známé problémy</span><span class="sxs-lookup"><span data-stu-id="5c4c5-168">Known Issues</span></span>](#0.1__Toc274034230)
- [<span data-ttu-id="5c4c5-169">Právní omezení</span><span class="sxs-lookup"><span data-stu-id="5c4c5-169">Disclaimer</span></span>](#0.1__Toc274034231)

<a id="overview"></a>
## <a name="overview"></a><span data-ttu-id="5c4c5-170">Přehled</span><span class="sxs-lookup"><span data-stu-id="5c4c5-170">Overview</span></span>

<span data-ttu-id="5c4c5-171">Tento dokument popisuje vydání ASP.NET MVC 3 RTM pro Visual Studio 2010.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-171">This document describes the release of ASP.NET MVC 3 RTM for Visual Studio 2010.</span></span> <span data-ttu-id="5c4c5-172">ASP.NET MVC je rozhraní pro vývoj webových aplikací, které používají vzor MVC (Model-View-Controller).</span><span class="sxs-lookup"><span data-stu-id="5c4c5-172">ASP.NET MVC is a framework for developing Web applications that uses the Model-View-Controller (MVC) pattern.</span></span> <span data-ttu-id="5c4c5-173">Instalační program ASP.NET MVC 3 obsahuje následující komponenty:</span><span class="sxs-lookup"><span data-stu-id="5c4c5-173">The ASP.NET MVC 3 installer includes the following components:</span></span>

- <span data-ttu-id="5c4c5-174">ASP.NET MVC 3 – součásti modulu runtime</span><span class="sxs-lookup"><span data-stu-id="5c4c5-174">ASP.NET MVC 3 runtime components</span></span>
- <span data-ttu-id="5c4c5-175">ASP.NET MVC 3 – nástroje sady Visual Studio 2010</span><span class="sxs-lookup"><span data-stu-id="5c4c5-175">ASP.NET MVC 3 Visual Studio 2010 tools</span></span>
- <span data-ttu-id="5c4c5-176">ASP.NET běhové komponenty webových stránek</span><span class="sxs-lookup"><span data-stu-id="5c4c5-176">ASP.NET Web Pages run-time components</span></span>
- <span data-ttu-id="5c4c5-177">Webové stránky ASP.NET – nástroje sady Visual Studio 2010</span><span class="sxs-lookup"><span data-stu-id="5c4c5-177">ASP.NET Web Pages Visual Studio 2010 tools</span></span>
- <span data-ttu-id="5c4c5-178">Microsoft Package Manager pro .NET (NuGet)</span><span class="sxs-lookup"><span data-stu-id="5c4c5-178">Microsoft Package Manager for .NET (NuGet)</span></span>
- <span data-ttu-id="5c4c5-179">Aktualizace pro Visual Studio 2010, která umožňuje podporu syntaxe Razor.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-179">An update for Visual Studio 2010 that enables support for Razor syntax.</span></span> <span data-ttu-id="5c4c5-180">(Podrobnosti najdete v článku 2483190 znalostní báze.)</span><span class="sxs-lookup"><span data-stu-id="5c4c5-180">(For details, see KnowledgeBase article 2483190.)</span></span>

<span data-ttu-id="5c4c5-181">Úplnou sadu poznámek k verzi pro každou předběžnou verzi ASP.NET MVC 3 najdete na webu ASP.NET na následující adrese URL:</span><span class="sxs-lookup"><span data-stu-id="5c4c5-181">The full set of release notes for each pre-release version of ASP.NET MVC 3 can be found on the ASP.NET website at the following URL:</span></span>

https://www.asp.net/learn/whitepapers/mvc3-release-notes

<a id="installation-notes"></a>
## <a name="installation-notes"></a><span data-ttu-id="5c4c5-182">Poznámky k instalaci</span><span class="sxs-lookup"><span data-stu-id="5c4c5-182">Installation Notes</span></span>

<span data-ttu-id="5c4c5-183">Pokud chcete nainstalovat ASP.NET MVC 3 RTM pomocí instalačního programu webové platformy (Web PI), navštivte následující stránku:</span><span class="sxs-lookup"><span data-stu-id="5c4c5-183">To install ASP.NET MVC 3 RTM using the Web Platform Installer (Web PI), visit the following page:</span></span>

[https://www.microsoft.com/web/gallery/install.aspx?appid=MVC3](https://www.microsoft.com/web/gallery/install.aspx?appid=MVC3)

<span data-ttu-id="5c4c5-184">Případně si můžete stáhnout instalační program pro ASP.NET MVC 3 RTM pro Visual Studio 2010 na následující stránce:</span><span class="sxs-lookup"><span data-stu-id="5c4c5-184">Alternatively, you can download the installer for ASP.NET MVC 3 RTM for Visual Studio 2010 from the following page:</span></span>

https://go.microsoft.com/fwlink/?LinkID=208140

<span data-ttu-id="5c4c5-185">ASP.NET MVC 3 se dá nainstalovat a může běžet souběžně s ASP.NET MVC 2.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-185">ASP.NET MVC 3 can be installed and can run side-by-side with ASP.NET MVC 2.</span></span>

<a id="software-requirements"></a>
## <a name="software-requirements"></a><span data-ttu-id="5c4c5-186">Požadavky na software</span><span class="sxs-lookup"><span data-stu-id="5c4c5-186">Software Requirements</span></span>

<span data-ttu-id="5c4c5-187">Komponenty run-time ASP.NET MVC 3 vyžadují následující software:</span><span class="sxs-lookup"><span data-stu-id="5c4c5-187">The ASP.NET MVC 3 run-time components require the following software:</span></span>

- <span data-ttu-id="5c4c5-188">.NET Framework verze 4</span><span class="sxs-lookup"><span data-stu-id="5c4c5-188">.NET Framework version 4.</span></span> 

    <span data-ttu-id="5c4c5-189">ASP.NET MVC 3 Tools sady Visual Studio 2010 vyžadují následující software:</span><span class="sxs-lookup"><span data-stu-id="5c4c5-189">ASP.NET MVC 3 Visual Studio 2010 tools require the following software:</span></span>
- <span data-ttu-id="5c4c5-190">Visual Studio 2010 nebo Visual Web Developer 2010 Express.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-190">Visual Studio 2010 or Visual Web Developer 2010 Express.</span></span>

<a id="documentation"></a>
## <a name="documentation"></a><span data-ttu-id="5c4c5-191">Dokumentace</span><span class="sxs-lookup"><span data-stu-id="5c4c5-191">Documentation</span></span>

<span data-ttu-id="5c4c5-192">Dokumentace k ASP.NET MVC je k dispozici na webu MSDN na následující adrese URL:</span><span class="sxs-lookup"><span data-stu-id="5c4c5-192">Documentation for ASP.NET MVC is available on the MSDN Web site at the following URL:</span></span>

[https://go.microsoft.com/fwlink/?LinkId=205717](https://go.microsoft.com/fwlink/?LinkId=205717)

<span data-ttu-id="5c4c5-193">Kurzy a další informace o ASP.NET MVC jsou k dispozici na stránce MVC webu ASP.NET na následující adrese URL:</span><span class="sxs-lookup"><span data-stu-id="5c4c5-193">Tutorials and other information about ASP.NET MVC are available on the MVC page of the ASP.NET Web site at the following URL:</span></span>

[https://www.asp.net/mvc/](../mvc/index.md)

<a id="support"></a>
## <a name="support"></a><span data-ttu-id="5c4c5-194">Podpora</span><span class="sxs-lookup"><span data-stu-id="5c4c5-194">Support</span></span>

<span data-ttu-id="5c4c5-195">Toto je plně podporovaná verze.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-195">This is a fully supported release.</span></span> <span data-ttu-id="5c4c5-196">Informace o získání technické podpory najdete na [webu Podpora Microsoftu](https://support.microsoft.com/).</span><span class="sxs-lookup"><span data-stu-id="5c4c5-196">Information about getting technical support can be found at the [Microsoft Support website](https://support.microsoft.com/).</span></span>

<span data-ttu-id="5c4c5-197">Také si můžete zdarma vydávat otázky týkající se této verze do fóra ASP.NET MVC, kde členové komunity ASP.NET mají často schopnost zajistit neformální podporu:</span><span class="sxs-lookup"><span data-stu-id="5c4c5-197">Also feel free to post questions about this release to the ASP.NET MVC forum, where members of the ASP.NET community are frequently able to provide informal support:</span></span>

[https://forums.asp.net/1146.aspx](https://forums.asp.net/1146.aspx)

<a id="upgrading"></a>
## <a name="upgrading-an-aspnet-mvc-2-project-to-aspnet-mvc-3-tools-update"></a><span data-ttu-id="5c4c5-198">Upgrade projektu ASP.NET MVC 2 na ASP.NET aktualizace nástrojů MVC 3</span><span class="sxs-lookup"><span data-stu-id="5c4c5-198">Upgrading an ASP.NET MVC 2 Project to ASP.NET MVC 3 Tools Update</span></span>

<span data-ttu-id="5c4c5-199">ASP.NET MVC 3 se dá nainstalovat souběžně s ASP.NET MVC 2 na stejném počítači, což vám umožní pružně vybrat, kdy se má upgradovat aplikace ASP.NET MVC 2 na ASP.NET MVC 3.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-199">ASP.NET MVC 3 can be installed side by side with ASP.NET MVC 2 on the same computer, which gives you flexibility in choosing when to upgrade an ASP.NET MVC 2 application to ASP.NET MVC 3.</span></span>

<span data-ttu-id="5c4c5-200">Chcete-li ručně upgradovat existující aplikaci ASP.NET MVC 2 na verzi 3, postupujte následovně:</span><span class="sxs-lookup"><span data-stu-id="5c4c5-200">To manually upgrade an existing ASP.NET MVC 2 application to version 3, do the following:</span></span>

1. <span data-ttu-id="5c4c5-201">Vytvořte na svém počítači nový prázdný projekt ASP.NET MVC 3.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-201">Create a new empty ASP.NET MVC 3 project on your computer.</span></span> <span data-ttu-id="5c4c5-202">Tento projekt bude obsahovat některé soubory, které jsou nutné pro upgrade.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-202">This project will contain some files that are required for the upgrade.</span></span>
2. <span data-ttu-id="5c4c5-203">Zkopírujte následující soubory z projektu ASP.NET MVC 3 do odpovídajícího umístění projektu ASP.NET MVC 2.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-203">Copy the following files from the ASP.NET MVC 3 project into the corresponding location of your ASP.NET MVC 2 project.</span></span> <span data-ttu-id="5c4c5-204">Budete muset aktualizovat všechny odkazy na knihovnu jQuery na účet pro nový název souboru (jQuery 1.5.1. js):</span><span class="sxs-lookup"><span data-stu-id="5c4c5-204">You'll need to update any references to the jQuery library to account for the new filename ( jQuery-1.5.1.js):</span></span> 

    - <span data-ttu-id="5c4c5-205">/Views/Web.config</span><span class="sxs-lookup"><span data-stu-id="5c4c5-205">/Views/Web.config</span></span>
    - <span data-ttu-id="5c4c5-206">/packages.config</span><span class="sxs-lookup"><span data-stu-id="5c4c5-206">/packages.config</span></span>
    - <span data-ttu-id="5c4c5-207">/Scripts/\*. js</span><span class="sxs-lookup"><span data-stu-id="5c4c5-207">/scripts/\*.js</span></span>
    - <span data-ttu-id="5c4c5-208">/Content/Themes/\*.\*</span><span class="sxs-lookup"><span data-stu-id="5c4c5-208">/Content/themes/\*.\*</span></span>
3. <span data-ttu-id="5c4c5-209">Zkopírujte složku *balíčky* do kořene prázdného řešení projektu ASP.NET MVC 3 do kořenového adresáře vašeho řešení, které je v adresáři, kde je umístěn soubor. sln řešení.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-209">Copy the *packages* folder in the root of the empty ASP.NET MVC 3 project solution into the root of your solution, which is in the directory where the solution's .sln file is located.</span></span>
4. <span data-ttu-id="5c4c5-210">Pokud projekt ASP.NET MVC 2 obsahuje nějaké oblasti, zkopírujte soubor/Views/Web.config do složky *zobrazení* každé oblasti.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-210">If your ASP.NET MVC 2 project contains any areas, copy the /Views/Web.config file to the *Views* folder of each area.</span></span>
5. <span data-ttu-id="5c4c5-211">V souboru Web. config v projektu ASP.NET MVC 2, globální hledání a nahrazení verze ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-211">In both Web.config files in the ASP.NET MVC 2 project, globally search and replace the ASP.NET MVC version.</span></span> <span data-ttu-id="5c4c5-212">Vyhledejte tyto informace:</span><span class="sxs-lookup"><span data-stu-id="5c4c5-212">Find the following:</span></span> 

    [!code-console[Main](mvc3-release-notes/samples/sample1.cmd)]

    <span data-ttu-id="5c4c5-213">Nahraďte ji následujícím:</span><span class="sxs-lookup"><span data-stu-id="5c4c5-213">Replace it with the following:</span></span>

    [!code-console[Main](mvc3-release-notes/samples/sample2.cmd)]
6. <span data-ttu-id="5c4c5-214">V Průzkumník řešení odstraňte odkaz na *System. Web. Mvc* (který odkazuje na knihovnu DLL z verze 2) a pak přidejte odkaz na *System. Web. Mvc* (v 3.0.0.0).</span><span class="sxs-lookup"><span data-stu-id="5c4c5-214">In Solution Explorer, delete the reference to *System.Web.Mvc* (which points to the DLL from version 2), then add a reference to *System.Web.Mvc* (v3.0.0.0).</span></span>
7. <span data-ttu-id="5c4c5-215">Přidejte odkaz na System. Web. webpages. dll a System. Web. helps. dll.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-215">Add a reference to System.Web.WebPages.dll and System.Web.Helpers.dll.</span></span> <span data-ttu-id="5c4c5-216">Tato sestavení jsou umístěna v následujících složkách:</span><span class="sxs-lookup"><span data-stu-id="5c4c5-216">These assemblies are located in the following folders:</span></span> 

    - <span data-ttu-id="5c4c5-217">% ProgramFiles% \ Microsoft ASP. NET\ASP.NET MVC 3 \ Assemblies</span><span class="sxs-lookup"><span data-stu-id="5c4c5-217">%ProgramFiles%\ Microsoft ASP.NET\ASP.NET MVC 3\Assemblies</span></span>
    - <span data-ttu-id="5c4c5-218">% ProgramFiles% \ Microsoft ASP. NET\ASP.NET Web Pages\v1.0\Assemblies</span><span class="sxs-lookup"><span data-stu-id="5c4c5-218">%ProgramFiles%\ Microsoft ASP.NET\ASP.NET Web Pages\v1.0\Assemblies</span></span>
8. <span data-ttu-id="5c4c5-219">V Průzkumník řešení klikněte pravým tlačítkem myši na název projektu a vyberte Uvolnit projekt.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-219">In Solution Explorer, right-click the project name and select Unload Project.</span></span> <span data-ttu-id="5c4c5-220">Pak znovu klikněte pravým tlačítkem na název projektu a vyberte upravit *ProjectName*. csproj.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-220">Then right-click the project name again and select Edit *ProjectName*.csproj.</span></span>
9. <span data-ttu-id="5c4c5-221">Vyhledejte element *ProjectTypeGuids* a nahraďte {F85E285D-A4E0-4152-9332-AB1D724D3325} řetězcem {E53F8FEA-EAE0-44A6-8774-FFD645390401}.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-221">Locate the *ProjectTypeGuids* element and replace {F85E285D-A4E0-4152-9332-AB1D724D3325} with {E53F8FEA-EAE0-44A6-8774-FFD645390401}.</span></span>
10. <span data-ttu-id="5c4c5-222">Uložte změny, klikněte pravým tlačítkem na projekt a pak vyberte znovu načíst projekt.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-222">Save the changes, right-click the project, and then select Reload Project.</span></span>
11. <span data-ttu-id="5c4c5-223">V kořenovém souboru Web. config aplikace přidejte následující nastavení do oddílu *Assemblies (sestavení* ).</span><span class="sxs-lookup"><span data-stu-id="5c4c5-223">In the application's root Web.config file, add the following settings to the *assemblies* section.</span></span> 

    [!code-xml[Main](mvc3-release-notes/samples/sample3.xml)]
12. <span data-ttu-id="5c4c5-224">Pokud projekt odkazuje na všechny knihovny třetích stran, které jsou kompilovány pomocí ASP.NET MVC 2, přidejte následující zvýrazněný element *bindingRedirect* do souboru Web. config v kořenovém adresáři aplikace v části *Konfigurace* :</span><span class="sxs-lookup"><span data-stu-id="5c4c5-224">If the project references any third-party libraries that are compiled using ASP.NET MVC 2, add the following highlighted *bindingRedirect* element to the Web.config file in the application root under the *configuration* section:</span></span> 

    [!code-xml[Main](mvc3-release-notes/samples/sample4.xml)]

<a id="tu-changes"></a>
## <a name="changes-in-aspnet-mvc-3-tools-update"></a><span data-ttu-id="5c4c5-225">Změny v nástroji ASP.NET MVC 3 – aktualizace</span><span class="sxs-lookup"><span data-stu-id="5c4c5-225">Changes in ASP.NET MVC 3 Tools Update</span></span>

<span data-ttu-id="5c4c5-226">Tato část popisuje změny provedené ve vydání aktualizace nástrojů ASP.NET MVC 3 od verze ASP.NET MVC 3 RTM.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-226">This section describes changes made in the ASP.NET MVC 3 Tools Update release since the ASP.NET MVC 3 RTM release.</span></span>

<a id="tu-AddControllerDialog"></a>
### <a name="add-controller-dialog-box-can-now-scaffold-controllers-with-views-and-data-access-code"></a><span data-ttu-id="5c4c5-227">Dialogové okno Přidat řadič teď může používat řadiče pro generování uživatelského rozhraní se zobrazeními a kódem přístupu k datům.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-227">"Add Controller" dialog box can now scaffold controllers with views and data access code</span></span>

<span data-ttu-id="5c4c5-228">Generování uživatelského rozhraní je způsob, jak rychle vygenerovat kontroler a zobrazení pro vaši aplikaci.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-228">Scaffolding is a way of quickly generating a controller and views for your application.</span></span> <span data-ttu-id="5c4c5-229">Po vygenerování kódu ho můžete upravit, aby splňoval požadavky vašeho projektu.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-229">After the code has been generated, you can edit it to meet your project's requirements.</span></span>

<span data-ttu-id="5c4c5-230">Chcete-li otevřít dialogové okno *Přidat řadič* v ASP.NET MVC 3, klikněte pravým tlačítkem myši na složku *controllers* v *Průzkumník řešení*, klikněte na možnost *Přidat*a poté klikněte na možnost *kontroler*.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-230">To launch the *Add Controller* dialog box in ASP.NET MVC 3, right-click the *Controllers* folder in *Solution Explorer*, click *Add*, and then click *Controller*.</span></span> <span data-ttu-id="5c4c5-231">Dialogové okno bylo vylepšeno a nabízí další možnosti generování uživatelského rozhraní.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-231">The dialog box has been enhanced to offer additional scaffolding options.</span></span>

![](mvc3-release-notes/_static/image1.png)

<span data-ttu-id="5c4c5-232">Ve výchozím nastavení jsou k dispozici tři šablony generování uživatelského rozhraní.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-232">There are three scaffolding templates available by default.</span></span>

#### <a name="empty-controller"></a><span data-ttu-id="5c4c5-233">Prázdný kontroler</span><span class="sxs-lookup"><span data-stu-id="5c4c5-233">Empty Controller</span></span>

<span data-ttu-id="5c4c5-234">Tato šablona vygeneruje prázdný soubor kontroleru.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-234">This template generates an empty controller file.</span></span> <span data-ttu-id="5c4c5-235">Tato šablona je ekvivalentem nezaškrtnutí *možnosti Přidat akce pro vytváření, úpravy, podrobnosti a odstraňování scénářů* v předchozích verzích ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-235">This template is equivalent to not checking *Add actions for create, edit, details, delete scenarios* in previous versions of ASP.NET MVC.</span></span> <span data-ttu-id="5c4c5-236">Pokud zvolíte tuto možnost, nebudou k dispozici žádné další možnosti.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-236">If you choose this, no further options are available.</span></span>

#### <a name="controller-with-empty-readwrite-actions"></a><span data-ttu-id="5c4c5-237">Kontroler s prázdnými akcemi čtení/zápisu</span><span class="sxs-lookup"><span data-stu-id="5c4c5-237">Controller with empty read/write actions</span></span>

<span data-ttu-id="5c4c5-238">Tato šablona vygeneruje soubor kontroleru, který obsahuje všechny požadované metody akce, ale žádné implementační kódy v metodách.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-238">This template generates a controller file that has all the required action methods but no implementation code in the methods.</span></span> <span data-ttu-id="5c4c5-239">Tato šablona je ekvivalentní ke kontrole *Přidání akcí pro scénáře vytváření, úprav, podrobností a odstraňování* v předchozích verzích služby ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-239">This template is equivalent to checking *Add actions for create, edit, details, delete scenarios* in previous versions of ASP.NET MVC.</span></span> <span data-ttu-id="5c4c5-240">Pokud zvolíte tuto možnost, nebudou k dispozici žádné další možnosti.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-240">If you choose this, no further options are available.</span></span>

#### <a name="controller-with-readwrite-actions-and-views-using-entity-framework"></a><span data-ttu-id="5c4c5-241">Kontroler s akcemi a zobrazeními čtení/zápisu pomocí Entity Framework</span><span class="sxs-lookup"><span data-stu-id="5c4c5-241">Controller with read/write actions and views, using Entity Framework</span></span>

<span data-ttu-id="5c4c5-242">Tato šablona vám umožní rychle vytvořit uživatelské rozhraní pro zadávání dat.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-242">This template enables you to quickly create a working data-entry user interface.</span></span> <span data-ttu-id="5c4c5-243">Generuje kód, který zpracovává řadu běžných požadavků a scénářů, například následující:</span><span class="sxs-lookup"><span data-stu-id="5c4c5-243">It generates code that handles a range of common requirements and scenarios, such as the following:</span></span>

- <span data-ttu-id="5c4c5-244">*Přístup k datům*.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-244">*Data access*.</span></span> <span data-ttu-id="5c4c5-245">Generovaný kód čte a zapisuje entity v databázi.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-245">The generated code reads and writes entities in a database.</span></span> <span data-ttu-id="5c4c5-246">Funguje s Entity Framework Code First přístup, pokud zvolíte existující třídu kontextu dat nebo pokud necháte šablonu generovat novou třídu *DbContext* .</span><span class="sxs-lookup"><span data-stu-id="5c4c5-246">It works with the Entity Framework Code First approach if you choose an existing data context class or if you let the template generate a new *DbContext* class.</span></span> <span data-ttu-id="5c4c5-247">Funguje také s Entity Framework Database First nebo Model First přístupu, pokud zvolíte existující třídu *ObjectContext* .</span><span class="sxs-lookup"><span data-stu-id="5c4c5-247">It also works with the Entity Framework Database First or Model First approach if you choose an existing *ObjectContext* class.</span></span>
- <span data-ttu-id="5c4c5-248">*Ověřování*.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-248">*Validation*.</span></span> <span data-ttu-id="5c4c5-249">Vygenerovaný kód používá vazby modelu ASP.NET MVC a metadata, aby bylo možné vygenerovat formuláře podle pravidel deklarovaných ve vaší třídě modelu.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-249">The generated code uses ASP.NET MVC model binding and metadata features so that form submissions are validated according to rules declared on your model class.</span></span> <span data-ttu-id="5c4c5-250">To zahrnuje Vestavěná ověřovací pravidla, například *povinné* a *StringLength* atributy a vlastní ověřovací pravidla.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-250">This includes built-in validation rules, such as the *Required* and *StringLength* attributes, and custom validation rules.</span></span>
- <span data-ttu-id="5c4c5-251">*Relace 1: n*.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-251">*One-to-many relationships*.</span></span> <span data-ttu-id="5c4c5-252">Pokud definujete relace cizího klíče typu 1: n mezi třídami modelu, vygenerovaný kód vytvoří rozevírací seznamy pro výběr souvisejících entit.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-252">If you define one-to-many foreign-key relationships between your model classes, the generated code will produce drop-down lists for selecting related entities.</span></span> <span data-ttu-id="5c4c5-253">Můžete například definovat následující třídy modelu následující Entity Framework Code First konvence:</span><span class="sxs-lookup"><span data-stu-id="5c4c5-253">For example, you might define the following model classes following Entity Framework Code First conventions:</span></span> 

    [!code-csharp[Main](mvc3-release-notes/samples/sample5.cs)]

    <span data-ttu-id="5c4c5-254">Po vytvoření uživatelského rozhraní řadiče pro třídu *produktu* budou jeho zobrazení uživatelům umožňovat výběr objektu *kategorie* pro každou instanci *produktu* .</span><span class="sxs-lookup"><span data-stu-id="5c4c5-254">When you then scaffold a controller for the *Product* class, its views will allow users to choose a *Category* object for each *Product* instance.</span></span>

    <span data-ttu-id="5c4c5-255">Tato šablona umožňuje další možnosti v dialogovém okně *Přidat řadič* .</span><span class="sxs-lookup"><span data-stu-id="5c4c5-255">This template enables additional options in the *Add Controller* dialog box.</span></span> <span data-ttu-id="5c4c5-256">Pro *třídu modelu*můžete zvolit libovolnou třídu modelu ve vašem řešení, která určuje typ dat, která budou uživatelé moci vytvořit nebo upravit:</span><span class="sxs-lookup"><span data-stu-id="5c4c5-256">For *Model class*, you can choose any model class in your solution, which determines the type of data that users will be able to create or edit:</span></span>
- <span data-ttu-id="5c4c5-257">Pokud chcete použít Entity Framework Code First, můžete zvolit libovolnou třídu modelu.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-257">If you want to use Entity Framework Code First, you can choose any model class.</span></span>
- <span data-ttu-id="5c4c5-258">Pokud používáte Entity Framework Database First nebo Entity Framework Model First, nezapomeňte zvolit třídu entity definovanou v koncepčním modelu.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-258">If you are using Entity Framework Database First or Entity Framework Model First, be sure to choose an entity class defined in your conceptual model.</span></span>

<span data-ttu-id="5c4c5-259">Pro *třídu kontextu dat*můžete provést následující volby:</span><span class="sxs-lookup"><span data-stu-id="5c4c5-259">For *Data Context class*, you can make these choices:</span></span>

- <span data-ttu-id="5c4c5-260">Pokud chcete použít Code First a nemají žádnou existující třídu kontextu dat, vyberte \* \* nový datový kontext \* \*.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-260">If you want to use Code First and have no existing data context class, choose \*\*New data context \*\*.</span></span> <span data-ttu-id="5c4c5-261">Třída kontextu dat se pak vygeneruje za vás.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-261">A data context class will then be generated for you.</span></span>
- <span data-ttu-id="5c4c5-262">Pokud chcete použít Code First a mít existující třídu kontextu dat, vyberte ji zde.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-262">If you want to use Code First and have an existing data context class, choose it here.</span></span> <span data-ttu-id="5c4c5-263">Bude aktualizován tak, aby zachoval třídu modelu, kterou jste vybrali.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-263">It will be updated to persist the model class you have selected.</span></span>
- <span data-ttu-id="5c4c5-264">Pokud používáte Database First nebo Model First, vyberte třídu kontext objektu zde.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-264">If you are using Database First or Model First, choose your object context class here.</span></span>

<span data-ttu-id="5c4c5-265">Pro zobrazení vyberte modul zobrazení, který chcete použít, nebo vyberte možnost žádné, pokud nechcete používat žádná zobrazení.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-265">For Views, choose the view engine you want to use, or choose None if you don't want to scaffold any views.</span></span>

<span data-ttu-id="5c4c5-266">Můžete vybrat Upřesnit Optionsto a zadat další možnosti pro vygenerovaná zobrazení.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-266">You can select Advanced Optionsto specify further options for the generated views.</span></span> <span data-ttu-id="5c4c5-267">Můžete například zvolit rozložení nebo stránku předlohy, která se má použít.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-267">For example, you can choose the layout or master page to use.</span></span>

<a id="tu-ImprovementsNewDialogBox"></a>
### <a name="improvements-to-the-aspnet-mvc-3-new-project-dialog-box"></a><span data-ttu-id="5c4c5-268">Vylepšení dialogového okna Nový projekt ASP.NET MVC 3</span><span class="sxs-lookup"><span data-stu-id="5c4c5-268">Improvements to the "ASP.NET MVC 3 New Project" Dialog Box</span></span>

<span data-ttu-id="5c4c5-269">Dialogové okno, které použijete k vytvoření nových projektů ASP.NET MVC 3, zahrnuje několik vylepšení, jak je uvedeno níže.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-269">The dialog box you use to create new ASP.NET MVC 3 projects includes multiple improvements, as listed below.</span></span>

![](mvc3-release-notes/_static/image2.png)

#### <a name="new-intranet-project-template"></a><span data-ttu-id="5c4c5-270">Nová šablona "intranetový projekt"</span><span class="sxs-lookup"><span data-stu-id="5c4c5-270">New "Intranet Project" Template</span></span>

<span data-ttu-id="5c4c5-271">Seznam šablon projektů obsahuje novou šablonu pro intranetovou aplikaci.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-271">The Project Template list includes a new Intranet Application template.</span></span> <span data-ttu-id="5c4c5-272">Tato šablona obsahuje nastavení pro vytváření webových aplikací pomocí ověřování systému Windows namísto ověřování pomocí formulářů.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-272">This template contains settings for building a web application using Windows authentication instead of forms authentication.</span></span> <span data-ttu-id="5c4c5-273">Vzhledem k tomu, že intranetová aplikace vyžaduje některá nastavení služby IIS, která nelze zapouzdřit v šabloně projektu, šablona obsahuje soubor Readme s pokyny, jak vytvořit šablonu projektu ve službě IIS.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-273">Because an intranet application requires some IIS settings that can't be encapsulated in a project template, the template includes a readme file with instructions for how to make the project template work in IIS.</span></span> <span data-ttu-id="5c4c5-274">Dokumentace k nové šabloně intranetové aplikace je k dispozici na webu MSDN na následující adrese URL:</span><span class="sxs-lookup"><span data-stu-id="5c4c5-274">Documentation for the a new Intranet Application template is available on the MSDN website at the following URL:</span></span>

[https://msdn.microsoft.com/library/gg703322(VS.98).aspx](https://msdn.microsoft.com/library/gg703322(VS.98).aspx)

#### <a name="project-templates-are-now-html5-enabled"></a><span data-ttu-id="5c4c5-275">Šablony projektu jsou teď povolené HTML5.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-275">Project templates are now HTML5 enabled</span></span>

<span data-ttu-id="5c4c5-276">Dialogové okno Nový projekt nyní obsahuje možnost Přidat funkce specifické pro HTML5 do šablon projektů.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-276">The new-project dialog box now contains an option to add HTML5-specific features to the project templates.</span></span> <span data-ttu-id="5c4c5-277">Výběr možnosti způsobí vygenerování zobrazení, která obsahují nové prvky HTML5 `<header>`, `<footer>`a `<navigation>`.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-277">Selecting the option causes views to be generated that contain the new HTML5 `<header>`, `<footer>`, and `<navigation>` elements.</span></span>

<span data-ttu-id="5c4c5-278">Všimněte si, že starší verze prohlížečů nepodporují značky specifické pro HTML5.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-278">Note that earlier versions of browsers do not support HTML5-specific tags.</span></span> <span data-ttu-id="5c4c5-279">Pro řešení tohoto omezení obsahují šablony projektů HTML5 odkaz na knihovnu modernizr.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-279">To address this limitation, the HTML5 project templates include a reference to the Modernizr library.</span></span> <span data-ttu-id="5c4c5-280">(Další informace najdete v další části.)</span><span class="sxs-lookup"><span data-stu-id="5c4c5-280">(See the next section.)</span></span>

<a id="tu-Modernizr"></a>
### <a name="project-templates-now-include-modernizr-17"></a><span data-ttu-id="5c4c5-281">Šablony projektů teď zahrnují modernizr 1,7</span><span class="sxs-lookup"><span data-stu-id="5c4c5-281">Project templates now include Modernizr 1.7</span></span>

<span data-ttu-id="5c4c5-282">Modernizr je knihovna JavaScriptu, která umožňuje podporu šablon stylů CSS 3 a HTML5 v prohlížečích, které tyto funkce ještě nepodporují.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-282">Modernizr is a JavaScript library that enables support for CSS 3 and HTML5 in browsers that do not yet support these features.</span></span> <span data-ttu-id="5c4c5-283">Tato knihovna je zahrnutá jako předem nainstalovaný balíček NuGet v šablonách pro projekty ASP.NET MVC 3.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-283">This library is included as a pre-installed NuGet package in templates for ASP.NET MVC 3 projects.</span></span> <span data-ttu-id="5c4c5-284">Další informace o modernizr najdete v tématu [http://www.modernizr.com/](http://www.modernizr.com/).</span><span class="sxs-lookup"><span data-stu-id="5c4c5-284">For more information about Modernizr, see [http://www.modernizr.com/](http://www.modernizr.com/).</span></span>

<a id="tu-UpdatedJQuery"></a>
### <a name="project-templates-include-updated-versions-of-jquery-jquery-ui-and-jquery-validation"></a><span data-ttu-id="5c4c5-285">Šablony projektů zahrnují aktualizované verze jQuery, uživatelského rozhraní jQuery a ověření jQuery.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-285">Project templates include updated versions of jQuery, jQuery UI, and jQuery Validation</span></span>

<span data-ttu-id="5c4c5-286">Šablony projektu nyní obsahují následující verze skriptů jQuery:</span><span class="sxs-lookup"><span data-stu-id="5c4c5-286">The project templates now include the following versions of the jQuery scripts:</span></span>

- <span data-ttu-id="5c4c5-287">jQuery 1.5.1</span><span class="sxs-lookup"><span data-stu-id="5c4c5-287">jQuery 1.5.1</span></span>
- <span data-ttu-id="5c4c5-288">Ověření jQuery 1,8</span><span class="sxs-lookup"><span data-stu-id="5c4c5-288">jQuery Validation 1.8</span></span>
- <span data-ttu-id="5c4c5-289">1\.8.11 uživatelského rozhraní jQuery</span><span class="sxs-lookup"><span data-stu-id="5c4c5-289">jQuery UI 1.8.11</span></span>

<span data-ttu-id="5c4c5-290">Tyto knihovny jsou zahrnuté jako předem nainstalované balíčky NuGet.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-290">These libraries are included as pre-installed NuGet packages.</span></span>

<a id="tu-EF"></a>
### <a name="project-templates-now-include-adonet-entity-framework-41-as-a-pre-installed-nuget-package"></a><span data-ttu-id="5c4c5-291">Šablony projektů teď zahrnují ADO.NET Entity Framework 4,1 jako předinstalovaný balíček NuGet.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-291">Project templates now include ADO.NET Entity Framework 4.1 as a pre-installed NuGet package</span></span>

<span data-ttu-id="5c4c5-292">ADO.NET Entity Framework 4,1 obsahuje funkci Code First.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-292">The ADO.NET Entity Framework 4.1 includes the Code First feature.</span></span> <span data-ttu-id="5c4c5-293">Code First je nový model vývoje pro ADO.NET Entity Framework, který poskytuje alternativu k existujícím vzorům Database First a Model First.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-293">Code First is a new development pattern for the ADO.NET Entity Framework that provides an alternative to the existing Database First and Model First patterns.</span></span>

<span data-ttu-id="5c4c5-294">Code First se zaměřuje na definování modelu pomocí tříd POCO ("obyčejné staré objekty CLR") napsané v Visual Basic nebo C#.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-294">Code First is focused around defining your model using POCO classes ("plain old CLR objects") written in Visual Basic or C#.</span></span> <span data-ttu-id="5c4c5-295">Tyto třídy je pak možné namapovat na existující databázi nebo použít ke generování schématu databáze.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-295">These classes can then be mapped to an existing database or be used to generate a database schema.</span></span> <span data-ttu-id="5c4c5-296">Další konfiguraci můžete zadat pomocí atributů *Dataanotace* nebo pomocí rozhraní API Fluent.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-296">Additional configuration can be supplied using *DataAnnotations* attributes or using fluent APIs.</span></span>

<span data-ttu-id="5c4c5-297">Dokumentace k používání služby Code Firstwith ASP.NET MVC je k dispozici na webu ASP.NET na následujících adresách URL:</span><span class="sxs-lookup"><span data-stu-id="5c4c5-297">Documentation for using Code Firstwith ASP.NET MVC is available on the ASP.NET website at the following URLs:</span></span>

<span data-ttu-id="5c4c5-298">[https://www.asp.net/mvc/tutorials/getting-started-with-mvc3-part1-cs](../mvc/overview/older-versions/getting-started-with-aspnet-mvc3/cs/intro-to-aspnet-mvc-3.md) [https://www.asp.net/entity-framework/tutorials/creating-an-entity-framework-data-model-for-an-asp-net-mvc-application](../mvc/overview/getting-started/getting-started-with-ef-using-mvc/creating-an-entity-framework-data-model-for-an-asp-net-mvc-application.md)</span><span class="sxs-lookup"><span data-stu-id="5c4c5-298">[https://www.asp.net/mvc/tutorials/getting-started-with-mvc3-part1-cs](../mvc/overview/older-versions/getting-started-with-aspnet-mvc3/cs/intro-to-aspnet-mvc-3.md) [https://www.asp.net/entity-framework/tutorials/creating-an-entity-framework-data-model-for-an-asp-net-mvc-application](../mvc/overview/getting-started/getting-started-with-ef-using-mvc/creating-an-entity-framework-data-model-for-an-asp-net-mvc-application.md)</span></span>

<a id="tu-JavaScriptLibsNuget"></a>
### <a name="project-templates-include-javascript-libraries-as-pre-installed-nuget-packages"></a><span data-ttu-id="5c4c5-299">Šablony projektů zahrnují knihovny JavaScriptu jako předem nainstalované balíčky NuGet</span><span class="sxs-lookup"><span data-stu-id="5c4c5-299">Project templates include JavaScript libraries as pre-installed NuGet packages</span></span>

<span data-ttu-id="5c4c5-300">Když vytvoříte nový projekt ASP.NET MVC 3, projekt bude obsahovat dříve zmíněné soubory JavaScriptu (například knihovnu modernizr) jejich instalací pomocí NuGet místo přímého přidávání skriptů do složky skripty v šabloně projektu. obsah.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-300">When you create a new ASP.NET MVC 3 project, the project includes the JavaScript files mentioned previously (for example, the Modernizr library) by installing them using NuGet instead of directly adding the scripts to the Scripts folder in the project template contents.</span></span> <span data-ttu-id="5c4c5-301">To umožňuje použít NuGet k aktualizaci skriptů na nejnovější verzi při vydání nových verzí skriptů.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-301">This enables you to use NuGet to update the scripts to the latest version when new versions of the scripts are released.</span></span>

<span data-ttu-id="5c4c5-302">Například vzhledem k četnosti nových verzí jQuery je verze jQuery, která je obsažena v šabloně projektu, v určitém okamžiku neaktuální.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-302">For example, given the frequency of new jQuery releases, the version of jQuery included in the project template will at some point be out of date.</span></span> <span data-ttu-id="5c4c5-303">Vzhledem k tomu, že jQuery je součástí nainstalovaného balíčku NuGet, budete upozorněni v dialogovém okně NuGet, pokud jsou k dispozici novější verze jQuery.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-303">However, because jQuery is included as an installed NuGet package, you will be notified in the NuGet dialog box when newer versions of jQuery are available.</span></span>

<span data-ttu-id="5c4c5-304">Vzhledem k tomu, že jQuery obsahuje číslo verze v názvu souboru, aktualizace jQuery na nejnovější verzi také vyžaduje aktualizaci značky `<script>`, která odkazuje na soubor jQuery na použití nového názvu souboru.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-304">Because jQuery includes the version number in the file name, updating jQuery to the latest version also requires updating the `<script>` tag that references the jQuery file to use the new file name.</span></span> <span data-ttu-id="5c4c5-305">Ostatní zahrnuté knihovny skriptů neobsahují číslo verze v názvu skriptu, takže je můžete snáze aktualizovat na nejnovější verze.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-305">Other included script libraries do not include the version number in the script name, so they can be more easily updated to their latest versions.</span></span>

<a id="tu-KI"></a>
## <a name="known-issues"></a><span data-ttu-id="5c4c5-306">Známé problémy</span><span class="sxs-lookup"><span data-stu-id="5c4c5-306">Known Issues</span></span>

- <span data-ttu-id="5c4c5-307">V některých případech může instalace selhat s chybovou zprávou "instalace se nezdařila s kódem chyby (0x80070643)".</span><span class="sxs-lookup"><span data-stu-id="5c4c5-307">In some cases, installation may fail with the error message "Installation failed with error code (0x80070643)".</span></span> <span data-ttu-id="5c4c5-308">Informace o tom, jak tento problém obejít, najdete v [článku 2531566 znalostní báze](https://support.microsoft.com/kb/2531566).</span><span class="sxs-lookup"><span data-stu-id="5c4c5-308">For information about how to work around this issue, see [KnowledgeBase article 2531566](https://support.microsoft.com/kb/2531566).</span></span>
- <span data-ttu-id="5c4c5-309">Generování uživatelského rozhraní pro přidání kontroleru neposkytuje entity pro generování uživatelského rozhraní, které využívají podporu dědičnosti entit v rámci Entity Framework.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-309">The scaffolding for adding a controller does not scaffold entities that take advantage of entity inheritance support within Entity Framework.</span></span> <span data-ttu-id="5c4c5-310">Například vzhledem k tomu, že pro třídu základní *osoby* , která je zděděna třídou *studenta* , vytvoří generátor třídy *student* generovaný kód, který není zkompilován.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-310">For example, given a base *Person* class that's inherited by a *Student* class, scaffolding the *Student* class will result in generated code that does not compile.</span></span>
- <span data-ttu-id="5c4c5-311">Vytvoření nového projektu ASP.NET MVC 3 ve složce řešení způsobí chybu *NullReferenceException* .</span><span class="sxs-lookup"><span data-stu-id="5c4c5-311">Creating a new ASP.NET MVC 3 project within a solution folder causes a *NullReferenceException* error.</span></span> <span data-ttu-id="5c4c5-312">Alternativním řešením je vytvořit projekt ASP.NET MVC 3 v kořenovém adresáři řešení a pak ho přesunout do složky řešení.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-312">The workaround is to create the ASP.NET MVC 3 project in the root of the solution and then move it into the solution folder.</span></span>
- <span data-ttu-id="5c4c5-313">IntelliSense pro syntaxe Razor nefunguje, když je nainstalováno reostřejšíer.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-313">IntelliSense for Razor syntax does not work when ReSharper is installed.</span></span> <span data-ttu-id="5c4c5-314">Pokud máte k dispozici reostřejšíer a chcete využít podporu technologie IntelliSense pro Razor v ASP.NET MVC 3, přečtěte si článek o tom, jak se mají v blogu hadi Hariri vykonat [a](https://blogs.jetbrains.com/dotnet/2010/11/razor-intellisense-and-resharper/) v současné době využít možnosti jejich použití dohromady.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-314">If you have ReSharper installed and want to take advantage of the Razor IntelliSense support in ASP.NET MVC 3, see the entry [Razor Intellisense and ReSharper](https://blogs.jetbrains.com/dotnet/2010/11/razor-intellisense-and-resharper/) on Hadi Hariri's blog, which discusses ways to use them together today.</span></span>
- <span data-ttu-id="5c4c5-315">Během instalace se v dialogovém okně přijetí smlouvy EULA zobrazí licenční podmínky v okně, které je menší než určené.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-315">During installation, the EULA acceptance dialog box displays the license terms in a window that is smaller than intended.</span></span>
- <span data-ttu-id="5c4c5-316">Při úpravách zobrazení Razor (. cshtml nebo. *soubor vbhtml* ), zobrazení.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-316">When you are editing a Razor view (.cshtml or .*vbhtml* file), views.</span></span> <span data-ttu-id="5c4c5-317">ASP.NET MVC 3 nezahrnuje žádné fragmenty kódu pro zobrazení Razor.. aspxselecting fragment kódu pro ASP.NET MVC zobrazí fragmenty kódu pro</span><span class="sxs-lookup"><span data-stu-id="5c4c5-317">ASP.NET MVC 3 does not include any snippets for Razor views..aspxselecting a code snippet for ASP.NET MVC will show snippets for</span></span>
- <span data-ttu-id="5c4c5-318">Pokud nainstalujete ASP.NET MVC 3 pro Visual Web Developer Express na počítač, na kterém není nainstalovaná aplikace Visual Studio, a později nainstalujete Visual Studio, musíte znovu nainstalovat ASP.NET MVC 3.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-318">If you install ASP.NET MVC 3 for Visual Web Developer Express on a computer where Visual Studio is not installed, and then later install Visual Studio, you must reinstall ASP.NET MVC 3.</span></span> <span data-ttu-id="5c4c5-319">Visual Studio a Visual Web Developer Express sdílí komponenty, které jsou upgradovány instalačním programem ASP.NET MVC 3.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-319">Visual Studio and Visual Web Developer Express share components that are upgraded by the ASP.NET MVC 3 installer.</span></span> <span data-ttu-id="5c4c5-320">Stejný problém se týká, pokud nainstalujete ASP.NET MVC 3 pro Visual Studio na počítači, který nemá Visual Web Developer Express, a pak později nainstalujete Visual Web Developer Express.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-320">The same issue applies if you install ASP.NET MVC 3 for Visual Studio on a computer that does not have Visual Web Developer Express and then later install Visual Web Developer Express.</span></span>

<a id="MVC3RTM"></a>
## <a name="changes-in-aspnet-mvc-3-rtm"></a><span data-ttu-id="5c4c5-321">Změny v ASP.NET MVC 3 RTM</span><span class="sxs-lookup"><span data-stu-id="5c4c5-321">Changes in ASP.NET MVC 3 RTM</span></span>

<span data-ttu-id="5c4c5-322">Tato část popisuje změny a opravy chyb provedené ve verzi ASP.NET MVC 3 RTM od verze RC2.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-322">This section describes changes and bug fixes made in the ASP.NET MVC 3 RTM release since the RC2 release.</span></span>

<a id="RTM-1"></a>
### <a name="change-updated-the-version-of-jquery-ui-to-187"></a><span data-ttu-id="5c4c5-323">Změna: aktualizace verze uživatelského rozhraní jQuery na 1.8.7</span><span class="sxs-lookup"><span data-stu-id="5c4c5-323">Change: Updated the version of jQuery UI to 1.8.7</span></span>

<span data-ttu-id="5c4c5-324">Šablony projektů ASP.NET MVC pro sadu Visual Studio byly aktualizovány tak, aby obsahovaly nejnovější verzi knihovny uživatelského rozhraní jQuery.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-324">The ASP.NET MVC project templates for Visual Studio were updated to include the latest version of the jQuery UI library.</span></span> <span data-ttu-id="5c4c5-325">Šablony také obsahují minimální sadu souborů prostředků, které jsou vyžadovány uživatelským rozhraním jQuery, například přidružené soubory CSS a obrázky.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-325">The templates also include the minimal set of resource files required by jQuery UI, such as the associated CSS and image files.</span></span>

<a id="RTM-2"></a>
### <a name="change-changed-the-default-modelmetadataprovider-back-to-dataannotationsmodelmetadataprovider"></a><span data-ttu-id="5c4c5-326">Změnit: výchozí ModelMetadataProvider se změnil na DataAnnotationsModelMetadataProvider.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-326">Change: Changed the default ModelMetadataProvider back to DataAnnotationsModelMetadataProvider</span></span>

<span data-ttu-id="5c4c5-327">Verze RC2 ASP.NET MVC 3 představila *CachedDataAnnotationsMetadataProvider* třídu, která poskytuje ukládání do mezipaměti nad stávající třídou *DataAnnotationsModelMetadataProvider* jako zlepšení výkonu.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-327">The RC2 release of ASP.NET MVC 3 introduced a *CachedDataAnnotationsMetadataProvider* class that provided caching on top of the existing *DataAnnotationsModelMetadataProvider* class as a performance improvement.</span></span> <span data-ttu-id="5c4c5-328">Nicméně některé chyby byly nahlášeny s touto implementací, takže změna byla vrácena a přesunuta do projektu Future MVC, který je k dispozici v [ASP.NET Webstacku](https://github.com/aspnet/AspNetWebStack).</span><span class="sxs-lookup"><span data-stu-id="5c4c5-328">However, some bugs were reported with this implementation, so the change has been reverted and moved into the MVC Futures project, which is available at [ASP.NET WebStack](https://github.com/aspnet/AspNetWebStack).</span></span>

<a id="RTM-3"></a>
### <a name="fixed-pasting-part-of-a-razor-expression-that-contains-whitespace-results-in-it-being-reversed"></a><span data-ttu-id="5c4c5-329">Opraveno: vkládání části výrazu Razor, který obsahuje prázdné výsledky v opačném případě.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-329">Fixed: Pasting part of a Razor expression that contains whitespace results in it being reversed</span></span>

<span data-ttu-id="5c4c5-330">V předběžných verzích ASP.NET MVC 3 při vložení části výrazu Razor, který obsahuje prázdný znak do souboru Razor, je výsledný výraz obrácený.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-330">In pre-release versions of ASP.NET MVC 3, when you paste a part of a Razor expression that contains whitespace into a Razor file, the resulting expression is reversed.</span></span> <span data-ttu-id="5c4c5-331">Zvažte například následující blok kódu Razor:</span><span class="sxs-lookup"><span data-stu-id="5c4c5-331">For example, consider the following Razor code block:</span></span>

[!code-cshtml[Main](mvc3-release-notes/samples/sample6.cshtml)]

<span data-ttu-id="5c4c5-332">Pokud v první metodě vyberete text "první param" a vložíte ho jako argument do druhé metody, výsledek je následující:</span><span class="sxs-lookup"><span data-stu-id="5c4c5-332">If you select the text "first param" in the first method and paste it as an argument into the second method, the result is as follows:</span></span>

[!code-cshtml[Main](mvc3-release-notes/samples/sample7.cshtml)]

<span data-ttu-id="5c4c5-333">Správným chováním je, že operace vložení by měla mít za následek následující:</span><span class="sxs-lookup"><span data-stu-id="5c4c5-333">The correct behavior is that the paste operation should result in the following:</span></span>

[!code-cshtml[Main](mvc3-release-notes/samples/sample8.cshtml)]

<span data-ttu-id="5c4c5-334">Tento problém byl opraven ve verzi RTM, takže při operaci vložení se výraz správně zachovává.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-334">This issue has been fixed in the RTM release so that the expression is correctly preserved during the paste operation.</span></span>

<a id="RTM-4"></a>
### <a name="fixed-renaming-a-razor-file-that-is-opened-in-the-editor-disables-syntax-colorization-and-intellisense"></a><span data-ttu-id="5c4c5-335">Opraveno: přejmenování souboru Razor, který je otevřen v editoru, zakáže barevné zvýrazňování syntaxe a IntelliSense.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-335">Fixed: Renaming a Razor file that is opened in the editor disables syntax colorization and IntelliSense</span></span>

<span data-ttu-id="5c4c5-336">Přejmenování souboru Razor pomocí Průzkumník řešení, když je soubor otevřen v okně editoru, způsobí, že zvýrazňování syntaxe a IntelliSense přestanou fungovat pro tento soubor.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-336">Renaming a Razor file using Solution Explorer while the file is opened in the editor window causes syntax highlighting and IntelliSense to stop working for that file.</span></span> <span data-ttu-id="5c4c5-337">Tato funkce byla opravena, takže zvýrazňování a IntelliSense jsou po přejmenování udržovány.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-337">This has been fixed so that highlighting and IntelliSense are maintained after a rename.</span></span>

<a id="RTM-KI"></a>
## <a name="known-issues"></a><span data-ttu-id="5c4c5-338">Známé problémy</span><span class="sxs-lookup"><span data-stu-id="5c4c5-338">Known Issues</span></span>

- <span data-ttu-id="5c4c5-339">Pokud zavřete Visual Studio 2010 SP1 Beta, zatímco je otevřená konzola správce balíčků NuGet, dojde k chybě sady Visual Studio a pokusí se o restartování.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-339">If you close Visual Studio 2010 SP1 Beta while the NuGet Package Manager Console is open, Visual Studio crashes and attempts to restart.</span></span> <span data-ttu-id="5c4c5-340">Tato akce bude opravena ve verzi RTM sady Visual Studio 2010 SP1.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-340">This will be fixed in the RTM release of Visual Studio 2010 SP1.</span></span>
- <span data-ttu-id="5c4c5-341">Instalační program ASP.NET MVC 3 umožňuje nainstalovat pouze počáteční verzi Správce balíčků NuGet.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-341">The ASP.NET MVC 3 installer is only able to install an initial version of the NuGet package manager.</span></span> <span data-ttu-id="5c4c5-342">Po instalaci počáteční verze je možné NuGet nainstalovat a aktualizovat pomocí Správce rozšíření sady Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-342">After you have installed the initial version, NuGet can be installed and updated using Visual Studio Extension Manager.</span></span> <span data-ttu-id="5c4c5-343">Pokud už máte nainstalovaný NuGet, Projděte si galerii rozšíření sady Visual Studio a aktualizujte na nejnovější verzi NuGetu.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-343">If you already have NuGet installed, go to the Visual Studio Extension Gallery to update to the latest version of NuGet.</span></span>
- <span data-ttu-id="5c4c5-344">Vytvoření nového projektu ASP.NET MVC 3 ve složce řešení způsobí chybu *NullReferenceException* .</span><span class="sxs-lookup"><span data-stu-id="5c4c5-344">Creating a new ASP.NET MVC 3 project within a solution folder causes a *NullReferenceException* error.</span></span> <span data-ttu-id="5c4c5-345">Alternativním řešením je vytvořit projekt ASP.NET MVC 3 v kořenovém adresáři řešení a pak ho přesunout do složky řešení.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-345">The workaround is to create the ASP.NET MVC 3 project in the root of the solution and then move it into the solution folder.</span></span>
- <span data-ttu-id="5c4c5-346">Dokončení instalačního programu může trvat mnohem déle než předchozí verze ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-346">The installer might take much longer than previous versions of ASP.NET MVC to complete.</span></span> <span data-ttu-id="5c4c5-347">Důvodem je to, že aktualizuje součásti sady Visual Studio 2010.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-347">This is because it updates components of Visual Studio 2010.</span></span>
- <span data-ttu-id="5c4c5-348">IntelliSense pro syntaxe Razor nefunguje, když je nainstalováno reostřejšíer.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-348">IntelliSense for Razor syntax does not work when ReSharper is installed.</span></span> <span data-ttu-id="5c4c5-349">Pokud máte k dispozici reostřejšíer a chcete využít podporu technologie IntelliSense pro Razor v ASP.NET MVC 3, přečtěte si článek o tom, jak se mají v blogu hadi Hariri vykonat [a](https://blogs.jetbrains.com/dotnet/2010/11/razor-intellisense-and-resharper/) v současné době využít možnosti jejich použití dohromady.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-349">If you have ReSharper installed and want to take advantage of the Razor IntelliSense support in ASP.NET MVC 3, see the entry [Razor Intellisense and ReSharper](https://blogs.jetbrains.com/dotnet/2010/11/razor-intellisense-and-resharper/) on Hadi Hariri's blog, which discusses ways to use them together today.</span></span>
- <span data-ttu-id="5c4c5-350">Zobrazení CCSHTML a VBHTML vytvořená ve verzi beta sady ASP.NET MVC 3 nemají správnou sadu akcí sestavení s výsledkem, že tyto typy zobrazení jsou při publikování projektu vynechány.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-350">CCSHTML and VBHTML views created with the Beta version of ASP.NET MVC 3 do not have their build action set correctly, with the result that these view types are omitted when the project is published.</span></span> <span data-ttu-id="5c4c5-351">Hodnota akce sestavení pro tyto soubory by měla být nastavena na "content".</span><span class="sxs-lookup"><span data-stu-id="5c4c5-351">The Build Action value for these files should be set to "Content".</span></span> <span data-ttu-id="5c4c5-352">ASP.NET MVC 3 RTM opravuje tento problém pro nové soubory, ale neopraví nastavení existujících souborů pro projekt vytvořený pomocí předprodejních verzí.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-352">ASP.NET MVC 3 RTM fixes this issue for new files, but doesn't correct the setting for existing files for a project created with prerelease versions.</span></span>
- ![](mvc3-release-notes/_static/image3.png)
- <span data-ttu-id="5c4c5-353">Během instalace se v dialogovém okně přijetí smlouvy EULA zobrazí licenční podmínky v okně, které je menší než určené.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-353">During installation, the EULA acceptance dialog box displays the license terms in a window that is smaller than intended.</span></span>
- <span data-ttu-id="5c4c5-354">Při úpravách zobrazení Razor (soubor. cshtml) nebude k dispozici položka nabídky přejít na řadič v aplikaci Visual Studio a neexistují žádné fragmenty kódu.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-354">When you are editing a Razor view (.cshtml file), the Go To Controller menu item in Visual Studio will not be available, and there are no code snippets.</span></span>
- <span data-ttu-id="5c4c5-355">Pokud nainstalujete ASP.NET MVC 3 pro Visual Web Developer Express na počítač, na kterém není nainstalovaná aplikace Visual Studio, a později nainstalujete Visual Studio, musíte znovu nainstalovat ASP.NET MVC 3.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-355">If you install ASP.NET MVC 3 for Visual Web Developer Express on a computer where Visual Studio is not installed, and then later install Visual Studio, you must reinstall ASP.NET MVC 3.</span></span> <span data-ttu-id="5c4c5-356">Visual Studio a Visual Web Developer Express sdílí komponenty, které jsou upgradovány instalačním programem ASP.NET MVC 3.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-356">Visual Studio and Visual Web Developer Express share components that are upgraded by the ASP.NET MVC 3 installer.</span></span> <span data-ttu-id="5c4c5-357">Stejný problém se týká, pokud nainstalujete ASP.NET MVC 3 pro Visual Studio na počítači, který nemá Visual Web Developer Express, a pak později nainstalujete Visual Web Developer Express.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-357">The same issue applies if you install ASP.NET MVC 3 for Visual Studio on a computer that does not have Visual Web Developer Express and then later install Visual Web Developer Express.</span></span>

<a id="RTM-BC"></a>
## <a name="breaking-changes"></a><span data-ttu-id="5c4c5-358">Nejnovější změny</span><span class="sxs-lookup"><span data-stu-id="5c4c5-358">Breaking Changes</span></span>

- <span data-ttu-id="5c4c5-359">V předchozích verzích ASP.NET MVC jsou filtry akcí vytvářeny na žádost s výjimkou případů v několika případech.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-359">In previous versions of ASP.NET MVC, action filters are create per request except in a few cases.</span></span> <span data-ttu-id="5c4c5-360">Tímto chováním nebylo nikdy zaručené chování, ale pouze podrobností o implementaci a kontraktu pro filtry bylo považovat za bezstavové.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-360">This behavior was never a guaranteed behavior but merely an implementation detail and the contract for filters was to consider them stateless.</span></span> <span data-ttu-id="5c4c5-361">V ASP.NET MVC 3 jsou filtry ukládány do mezipaměti mnohem agresivní.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-361">In ASP.NET MVC 3, filters are cached more aggressively.</span></span> <span data-ttu-id="5c4c5-362">Proto všechny vlastní filtry akcí, které mají nesprávně uložený stav instance, můžou být poškozené.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-362">Therefore, any custom action filters which improperly store instance state might be broken.</span></span>
- <span data-ttu-id="5c4c5-363">Pořadí spouštění pro filtry výjimek se změnilo pro filtry výjimek, které mají stejnou hodnotu *Order* .</span><span class="sxs-lookup"><span data-stu-id="5c4c5-363">The order of execution for exception filters has changed for exception filters that have the same *Order* value.</span></span> <span data-ttu-id="5c4c5-364">V ASP.NET MVC 2 a starších verzích filtry výjimek na kontroleru, které mají stejnou hodnotu *objednávky* jako u metody Action, se spustí před filtry výjimek v metodě Action.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-364">In ASP.NET MVC 2 and earlier, exception filters on the controller that have the same *Order* value as those on an action method are executed before the exception filters on the action method.</span></span> <span data-ttu-id="5c4c5-365">Obvykle se jedná o případ, kdy jsou filtry výjimek aplikovány bez zadané hodnoty *pořadí* .</span><span class="sxs-lookup"><span data-stu-id="5c4c5-365">This would typically be the case when exception filters are applied without a specified *Order* value.</span></span> <span data-ttu-id="5c4c5-366">V ASP.NET MVC 3 bylo toto pořadí obráceno, aby se nejdříve nastavila většina specifická obslužná rutina výjimky.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-366">In ASP.NET MVC 3, this order has been reversed so that the most specific exception handler executes first.</span></span> <span data-ttu-id="5c4c5-367">V případě, že je vlastnost *Order* explicitně určena jako v dřívějších verzích, jsou filtry spouštěny v zadaném pořadí.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-367">As in earlier versions, if the *Order* property is explicitly specified, the filters are run in the specified order.</span></span>
- <span data-ttu-id="5c4c5-368">Do základní třídy *VirtualPathProviderViewEngine* byla přidána nová vlastnost s názvem *přípona* .</span><span class="sxs-lookup"><span data-stu-id="5c4c5-368">A new property named *FileExtensions* was added to the *VirtualPathProviderViewEngine* base class.</span></span> <span data-ttu-id="5c4c5-369">Když ASP.NET vyhledává zobrazení podle cesty (ne podle názvu), jsou zvážena pouze zobrazení s příponou souboru obsaženou v seznamu určeném touto novou vlastností.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-369">When ASP.NET looks up a view by path (not by name), only views with a file extension contained in the list specified by this new property are considered.</span></span> <span data-ttu-id="5c4c5-370">Toto je zásadní změna v aplikacích, kde je zaregistrován vlastní poskytovatel sestavení, aby bylo možné povolit vlastní příponu souboru pro zobrazení webového formuláře a kde poskytovatel odkazuje na tato zobrazení pomocí úplné cesty namísto názvu.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-370">This is a breaking change in applications where a custom build provider is registered in order to enable a custom file extension for Web Form views and where the provider references those views by using a full path rather than a name.</span></span> <span data-ttu-id="5c4c5-371">Alternativním řešením je změnit hodnotu vlastnosti *přípony* souborů tak, aby zahrnovala vlastní příponu souboru.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-371">The workaround is to modify the value of the *FileExtensions* property to include the custom file extension.</span></span>
- <span data-ttu-id="5c4c5-372">Vlastní tovární implementace kontroleru, které přímo implementují rozhraní *IControllerFactory* , musí poskytovat implementaci nové metody *GetControllerSessionBehavior* , která se přidala do rozhraní v této verzi.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-372">Custom controller factory implementations that directly implement the *IControllerFactory* interface must provide an implementation of the new *GetControllerSessionBehavior* method that was added to the interface in this release.</span></span> <span data-ttu-id="5c4c5-373">Obecně se doporučuje toto rozhraní neimplementovat přímo a místo toho odvozovat třídu z *DefaultControllerFactory*.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-373">In general, it is recommended that you do not implement this interface directly and instead derive your class from *DefaultControllerFactory*.</span></span>

<a id="_Toc2"></a>
## <a name="changes-in-aspnet-mvc-3-rc2"></a><span data-ttu-id="5c4c5-374">Změny v ASP.NET MVC 3 RC2</span><span class="sxs-lookup"><span data-stu-id="5c4c5-374">Changes in ASP.NET MVC 3 RC2</span></span>

<span data-ttu-id="5c4c5-375">Tato část popisuje změny (nové funkce a opravy chyb) provedené ve verzi ASP.NET MVC 3 RC2 od verze RC.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-375">This section describes changes (new features and bug fixes) made in the ASP.NET MVC 3 RC2 release since the RC release.</span></span>

<a id="_Toc2_1"></a>
### <a name="project-templates-changed-to-include-jquery-144-jquery-validation-17-and-jquery-ui-186"></a><span data-ttu-id="5c4c5-376">Šablony projektu se změnily tak, aby zahrnovaly jQuery 1.4.4, jQuery Validation 1,7 a jQuery UI 1.8.6.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-376">Project Templates Changed to Include jQuery 1.4.4, jQuery Validation 1.7, and jQuery UI 1.8.6</span></span>

<span data-ttu-id="5c4c5-377">Šablony projektů pro ASP.NET MVC 3 nyní obsahují nejnovější verze uživatelského rozhraní jQuery, jQuery ověřování a jQuery.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-377">The project templates for ASP.NET MVC 3 now include the latest versions of jQuery, jQuery Validation, and jQuery UI.</span></span> <span data-ttu-id="5c4c5-378">uživatelské rozhraní jQuery je nové přidání do šablon projektů a poskytuje užitečné pomůcky uživatelského rozhraní.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-378">jQuery UI is a new addition to the project templates and provides useful user interface widgets.</span></span> <span data-ttu-id="5c4c5-379">Další informace o uživatelském rozhraní jQuery najdete na jeho domovské stránce: [http://jqueryui.com/](http://jqueryui.com/).</span><span class="sxs-lookup"><span data-stu-id="5c4c5-379">For more information about jQuery UI, visit their homepage: [http://jqueryui.com/](http://jqueryui.com/).</span></span>

<a id="_Toc2_2"></a>
### <a name="added-additionalmetadataattribute-class"></a><span data-ttu-id="5c4c5-380">Přidala se třída "AdditionalMetadataAttribute".</span><span class="sxs-lookup"><span data-stu-id="5c4c5-380">Added "AdditionalMetadataAttribute" Class</span></span>

<span data-ttu-id="5c4c5-381">Třídu *AdditionalMetadataAttribute* můžete použít k naplnění slovníku *ModelMetadata. AdditionalValues* pro vlastnost modelu.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-381">You can use the *AdditionalMetadataAttribute* class to populate the *ModelMetadata.AdditionalValues* dictionary for a model property.</span></span>

<span data-ttu-id="5c4c5-382">Předpokládejme například, že model zobrazení obsahuje vlastnosti, které by měly být zobrazeny pouze pro správce.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-382">For example, suppose a view model has properties that should be displayed only to an administrator.</span></span> <span data-ttu-id="5c4c5-383">Tento model lze opatřit pomocí nového atributu pomocí AdminOnly jako klíč a true jako hodnotu, jak je uvedeno v následujícím příkladu:</span><span class="sxs-lookup"><span data-stu-id="5c4c5-383">That model can be annotated with the new attribute using AdminOnly as the key and true as the value, as in the following example:</span></span>

[!code-csharp[Main](mvc3-release-notes/samples/sample9.cs)]

<span data-ttu-id="5c4c5-384">Tato metadata jsou zpřístupněna všem zobrazením nebo šablonám editoru při vykreslování modelu zobrazení produktu.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-384">This metadata is made available to any display or editor template when a product view model is rendered.</span></span> <span data-ttu-id="5c4c5-385">K interpretaci informací o metadatech slouží vývojář aplikace.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-385">It is up to you as application developer to interpret the metadata information.</span></span>

<a id="_Toc2_3"></a>
### <a name="improved-view-scaffolding"></a><span data-ttu-id="5c4c5-386">Vylepšené generování uživatelského rozhraní zobrazení</span><span class="sxs-lookup"><span data-stu-id="5c4c5-386">Improved View Scaffolding</span></span>

<span data-ttu-id="5c4c5-387">Šablony T4 použité pro zobrazení generování uživatelského rozhraní nyní generují volání pomocných metod šablon, jako je například *EditorFor* , namísto pomocných rutin, jako je například *TextBoxFor*.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-387">The T4 templates used for scaffolding views now generate calls to template helper methods such as *EditorFor* instead of helpers such as *TextBoxFor*.</span></span> <span data-ttu-id="5c4c5-388">Tato změna vylepšuje podporu metadat v modelu ve formě atributů anotace dat, když dialogové okno Přidat zobrazení vygeneruje zobrazení.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-388">This change improves support for metadata on the model in the form of data annotation attributes when the Add View dialog box generates a view.</span></span>

<span data-ttu-id="5c4c5-389">Přidání zobrazení generování uživatelského rozhraní obsahuje také vylepšené zjišťování a využití informací o primárním klíči v modelu na základě konvence.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-389">The Add View scaffolding also includes improved detection and usage of primary key information on the model, based on convention.</span></span> <span data-ttu-id="5c4c5-390">Například dialogové okno Přidat zobrazení používá tyto informace k tomu, aby se zajistilo, že hodnota primárního klíče není vytvořená jako upravitelná pole formuláře.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-390">For example, the Add View dialog box uses this information to ensure that the primary key value is not scaffolded as an editable form field.</span></span>

<span data-ttu-id="5c4c5-391">Výchozí šablony pro úpravy a vytváření obsahují odkazy na skripty jQuery potřebné pro ověření klienta.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-391">The default Edit and Create templates include references to the jQuery scripts needed for client validation.</span></span>

<a id="_Toc2_4"></a>
### <a name="added-htmlraw-method"></a><span data-ttu-id="5c4c5-392">Přidaná metoda HTML. Raw</span><span class="sxs-lookup"><span data-stu-id="5c4c5-392">Added Html.Raw Method</span></span>

<span data-ttu-id="5c4c5-393">Ve výchozím nastavení používá modul pro zobrazení Razor Standard HTML všechny hodnoty.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-393">By default, the Razor view engine HTML-encodes all values.</span></span> <span data-ttu-id="5c4c5-394">Například následující fragment kódu kóduje kód HTML uvnitř proměnné pozdravu tak, aby byl zobrazen na stránce jako `<strong>Hello World!</strong>`.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-394">For example, the following code snippet encodes the HTML inside the greeting variable so that it is displayed in the page as `<strong>Hello World!</strong>`.</span></span>

[!code-cshtml[Main](mvc3-release-notes/samples/sample10.cshtml)]

<span data-ttu-id="5c4c5-395">Nová metoda *HTML. Raw* poskytuje jednoduchý způsob zobrazení nekódovaného kódu HTML v případě, že je známý obsah v bezpečí.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-395">The new *Html.Raw* method provides a simple way of displaying unencoded HTML when the content is known to be safe.</span></span> <span data-ttu-id="5c4c5-396">Následující příklad zobrazuje stejný řetězec, ale řetězec je vykreslen jako značka:</span><span class="sxs-lookup"><span data-stu-id="5c4c5-396">The following example displays the same string, but the string is rendered as markup:</span></span>

[!code-cshtml[Main](mvc3-release-notes/samples/sample11.cshtml)]

<a id="_Toc2_5"></a>
### <a name="renamed-controllerviewmodel-property-and-the-view-property-to-viewbag"></a><span data-ttu-id="5c4c5-397">Vlastnost Controller. ViewModel se přejmenovala na hodnotu ViewBag.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-397">Renamed "Controller.ViewModel" Property and the "View" Property To "ViewBag"</span></span>

<span data-ttu-id="5c4c5-398">Dříve vlastnost *ViewModel* *řadiče* odpovídala vlastnosti *zobrazení* .</span><span class="sxs-lookup"><span data-stu-id="5c4c5-398">Previously, the *ViewModel* property of *Controller* corresponded to the *View* property of a view.</span></span> <span data-ttu-id="5c4c5-399">Obě tyto vlastnosti poskytují způsob, jak přistupovat k hodnotám objektu *ViewDataDictionary* pomocí syntaxe pro přístup k dynamické vlastnosti.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-399">Both of these properties provide a way to access values of the *ViewDataDictionary* object using dynamic property-accessor syntax.</span></span> <span data-ttu-id="5c4c5-400">Obě vlastnosti byly přejmenovány tak, aby byly stejné, aby se předešlo nejasnostem a bylo tak lépe konzistentní.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-400">Both properties have been renamed to be the same in order to avoid confusion and to be more consistent.</span></span>

<a id="_Toc2_6"></a>
### <a name="renamed-controllersessionstateattribute-class-to-sessionstateattribute"></a><span data-ttu-id="5c4c5-401">Třída "ControllerSessionStateAttribute" se přejmenovala na "SessionStateAttribute".</span><span class="sxs-lookup"><span data-stu-id="5c4c5-401">Renamed "ControllerSessionStateAttribute" Class to "SessionStateAttribute"</span></span>

<span data-ttu-id="5c4c5-402">Třída *ControllerSessionStateAttribute* byla představena ve verzi RC sady ASP.NET MVC 3.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-402">The *ControllerSessionStateAttribute* class was introduced in the RC release of ASP.NET MVC 3.</span></span> <span data-ttu-id="5c4c5-403">Vlastnost byla přejmenována na stručnější.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-403">The property was renamed to be more succinct.</span></span>

<a id="_Toc2_7"></a>
### <a name="renamed-remoteattribute-fields-property-to-additionalfields"></a><span data-ttu-id="5c4c5-404">Byla přejmenována vlastnost "pole" RemoteAttribute na hodnotu "AdditionalFields".</span><span class="sxs-lookup"><span data-stu-id="5c4c5-404">Renamed RemoteAttribute "Fields" Property to "AdditionalFields"</span></span>

<span data-ttu-id="5c4c5-405">Vlastnost *polí* třídy *RemoteAttribute* způsobila nějaký nejasnost mezi uživateli.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-405">The *RemoteAttribute* class's *Fields* property caused some confusion among users.</span></span> <span data-ttu-id="5c4c5-406">Přejmenováním této vlastnosti na *AdditionalFields* objasní svůj záměr.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-406">Renaming this property to *AdditionalFields* clarifies its intent.</span></span>

<a id="_Toc2_8"></a>
### <a name="renamed-skiprequestvalidationattribute-to-allowhtmlattribute"></a><span data-ttu-id="5c4c5-407">Přejmenování "SkipRequestValidationAttribute" na "AllowHtmlAttribute"</span><span class="sxs-lookup"><span data-stu-id="5c4c5-407">Renamed "SkipRequestValidationAttribute" to "AllowHtmlAttribute"</span></span>

<span data-ttu-id="5c4c5-408">Atribut *SkipRequestValidationAttribute* se přejmenoval na *AllowHtmlAttribute* , aby lépe představoval zamýšlené použití.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-408">The *SkipRequestValidationAttribute* attribute was renamed to *AllowHtmlAttribute* to better represent its intended usage.</span></span>

<a id="_Toc2_9"></a>
### <a name="changed-htmlvalidationmessage-method-to-display-the-first-useful-error-message"></a><span data-ttu-id="5c4c5-409">Změnila se metoda "HTML. ValidationMessage", která zobrazí první užitečnou chybovou zprávu.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-409">Changed "Html.ValidationMessage" Method to Display the First Useful Error Message</span></span>

<span data-ttu-id="5c4c5-410">Metoda *HTML. ValidationMessage* byla opravena tak, aby zobrazovala první užitečnou chybovou zprávu namísto pouhého zobrazení první chyby.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-410">The *Html.ValidationMessage* method was fixed to show the first useful error message instead of simply displaying the first error.</span></span>

<span data-ttu-id="5c4c5-411">Při vytváření vazby modelu může být slovník *ModelState* vyplněný z více zdrojů s chybovými zprávami o vlastnosti, včetně z modelu samotného (Pokud implementuje *IValidatableObject*), z atributů ověřování použitých pro vlastnost a z výjimek vyvolaných během přistupování k vlastnosti.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-411">During model binding, the *ModelState* dictionary can be populated from multiple sources with error messages about the property, including from the model itself (if it implements *IValidatableObject*), from validation attributes applied to the property, and from exceptions thrown while the property is being accessed.</span></span>

<span data-ttu-id="5c4c5-412">Když metoda *HTML. ValidationMessage* zobrazí ověřovací zprávu, přeskočí položky stavu modelu, které obsahují výjimku, protože nejsou obvykle určeny pro koncového uživatele.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-412">When the *Html.ValidationMessage* method displays a validation message, it skips model-state entries that include an exception, because these are generally not intended for the end user.</span></span> <span data-ttu-id="5c4c5-413">Místo toho metoda vyhledá první ověřovací zprávu, která není přidružena k výjimce, a zobrazí tuto zprávu.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-413">Instead, the method looks for the first validation message that is not associated with an exception and displays that message.</span></span> <span data-ttu-id="5c4c5-414">Pokud se taková zpráva nenajde, použije se výchozí obecná chybová zpráva, která je přidružená k první výjimce.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-414">If no such message is found, it defaults to a generic error message that is associated with the first exception.</span></span>

<a id="_Toc2_10"></a>
### <a name="fixed-model-declaration-to-not-add-whitespace-to-the-document"></a><span data-ttu-id="5c4c5-415">Opravená deklarace @model, aby se do dokumentu nepřidalo prázdné místo</span><span class="sxs-lookup"><span data-stu-id="5c4c5-415">Fixed @model Declaration to not Add Whitespace to the Document</span></span>

<span data-ttu-id="5c4c5-416">V dřívějších verzích `@model` deklarace v horní části zobrazení přidala prázdný řádek do vykresleného výstupu HTML.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-416">In earlier releases, the `@model` declaration at the top of a view added a blank line to the rendered HTML output.</span></span> <span data-ttu-id="5c4c5-417">To bylo opraveno, aby deklarace nevedla prázdné znaky.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-417">This has been fixed so that the declaration does not introduce whitespace.</span></span>

<a id="_Toc2_11"></a>
### <a name="added-fileextensions-property-to-view-engines-to-support-engine-specific-file-names"></a><span data-ttu-id="5c4c5-418">Přidání vlastnosti "přípony" do zobrazení modulů pro podporu názvů souborů specifických pro určitý modul</span><span class="sxs-lookup"><span data-stu-id="5c4c5-418">Added "FileExtensions" Property to View Engines to Support Engine-Specific File Names</span></span>

<span data-ttu-id="5c4c5-419">Modul zobrazení může vracet zobrazení pomocí explicitní cesty zobrazení, jak je uvedeno v následujícím příkladu:</span><span class="sxs-lookup"><span data-stu-id="5c4c5-419">A view engine can return a view using an explicit view path as in the following example:</span></span>

[!code-csharp[Main](mvc3-release-notes/samples/sample12.cs)]

<span data-ttu-id="5c4c5-420">První modul zobrazení se vždy pokusí vykreslit zobrazení.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-420">The first view engine always attempts to render the view.</span></span> <span data-ttu-id="5c4c5-421">Ve výchozím nastavení je modul zobrazení webových formulářů prvním modulem zobrazení. vzhledem k tomu, že modul Web Forms nemůže vykreslit zobrazení Razor, dojde k chybě.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-421">By default, the Web Forms view engine is the first view engine; because the Web Forms engine cannot render a Razor view, an error occurs.</span></span> <span data-ttu-id="5c4c5-422">Zobrazit moduly teď mají vlastnost *přípony* souborů, která se používá k určení, které přípony souborů podporují.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-422">View engines now have a *FileExtensions* property that is used to specify which file extensions they support.</span></span> <span data-ttu-id="5c4c5-423">Tato vlastnost je zaškrtnuta v případě, že ASP.NET určuje, zda zobrazovací modul může vykreslit soubor.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-423">This property is checked when ASP.NET determines whether a view engine can render a file.</span></span> <span data-ttu-id="5c4c5-424">Toto je zásadní změna a další podrobnosti jsou uvedeny v části [průlomované změny](#_Toc2_BC) v tomto dokumentu.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-424">This is a breaking change and more details are included in the [Breaking Changes](#_Toc2_BC) section of this document.</span></span>

<a id="_Toc2_12"></a>
### <a name="fixed-labelfor-helper-to-emit-the-correct-value-for-the-for-attribute"></a><span data-ttu-id="5c4c5-425">Oprava "LabelFor" pomocníka pro vygenerování správné hodnoty pro atribut "for"</span><span class="sxs-lookup"><span data-stu-id="5c4c5-425">Fixed "LabelFor" Helper to Emit the Correct Value for the "For" Attribute</span></span>

<span data-ttu-id="5c4c5-426">Byla opravena chyba, kde Metoda *LabelFor* vygenerovala *pro* atribut, který se shoduje s atributem *názvu* *vstupního* elementu namísto jeho ID.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-426">A bug was fixed where the *LabelFor* method rendered a *for* attribute that matches the *input* element's *name* attribute instead of its ID.</span></span> <span data-ttu-id="5c4c5-427">Podle konsorcia W3C by atribut *for* měl odpovídat ID *vstupního* elementu.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-427">According to the W3C, the *for* attribute should match the *input* element's ID.</span></span>

<a id="_Toc2_13"></a>
### <a name="fixed-renderaction-method-to-give-explicit-values-precedence-during-model-binding"></a><span data-ttu-id="5c4c5-428">Opravená metoda "RenderAction", která má mít přednost explicitním hodnotám při vytváření vazby modelu</span><span class="sxs-lookup"><span data-stu-id="5c4c5-428">Fixed "RenderAction" Method to Give Explicit Values Precedence During Model Binding</span></span>

<span data-ttu-id="5c4c5-429">V dřívějších verzích byly explicitní hodnoty, které byly předány metodě *RenderAction* , ignorovány ve prospěch aktuálních hodnot formuláře během vazby modelu uvnitř podřízené akce.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-429">In earlier versions, explicit values that were passed to the *RenderAction* method were being ignored in favor of the current form values during model binding inside a child action.</span></span> <span data-ttu-id="5c4c5-430">Oprava zajistí, že při vytváření vazby modelu budou mít explicitní hodnoty přednost.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-430">The fix ensures that explicit values take precedence during model binding.</span></span>

<a id="_Toc2_BC"></a>
## <a name="breaking-changes"></a><span data-ttu-id="5c4c5-431">Nejnovější změny</span><span class="sxs-lookup"><span data-stu-id="5c4c5-431">Breaking Changes</span></span>

- <span data-ttu-id="5c4c5-432">V předchozích verzích ASP.NET MVC byly pro každý požadavek vytvořeny filtry akcí s výjimkou v několika případech.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-432">In previous versions of ASP.NET MVC, action filters were created per request except in a few cases.</span></span> <span data-ttu-id="5c4c5-433">Tímto chováním nebylo nikdy zaručené chování, ale pouze podrobností o implementaci a kontraktu pro filtry bylo považovat za bezstavové.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-433">This behavior was never a guaranteed behavior but merely an implementation detail and the contract for filters was to consider them stateless.</span></span> <span data-ttu-id="5c4c5-434">V ASP.NET MVC 3 jsou filtry ukládány do mezipaměti mnohem agresivní.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-434">In ASP.NET MVC 3, filters are cached more aggressively.</span></span> <span data-ttu-id="5c4c5-435">Proto všechny vlastní filtry akcí, které mají nesprávně uložený stav instance, můžou být poškozené.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-435">Therefore, any custom action filters which improperly store instance state might be broken.</span></span>
- <span data-ttu-id="5c4c5-436">Pořadí spouštění pro filtry výjimek se změnilo pro filtry výjimek, které mají stejnou hodnotu *Order* .</span><span class="sxs-lookup"><span data-stu-id="5c4c5-436">The order of execution for exception filters has changed for exception filters that have the same *Order* value.</span></span> <span data-ttu-id="5c4c5-437">V ASP.NET MVC 2 a starších byly filtry výjimek na kontroleru, které mají stejnou hodnotu *Order* jako u metody Action, byly provedeny před filtry výjimek v metodě Action.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-437">In ASP.NET MVC 2 and earlier, exception filters on the controller that had the same *Order* value as those on an action method were executed before the exception filters on the action method.</span></span> <span data-ttu-id="5c4c5-438">Obvykle se jedná o případ, kdy byly filtry výjimek aplikovány bez zadané hodnoty *pořadí* .</span><span class="sxs-lookup"><span data-stu-id="5c4c5-438">This would typically be the case when exception filters were applied without a specified *Order* value.</span></span> <span data-ttu-id="5c4c5-439">V ASP.NET MVC 3 bylo toto pořadí obráceno, aby se nejdříve nastavila většina specifická obslužná rutina výjimky.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-439">In ASP.NET MVC 3, this order has been reversed so that the most specific exception handler executes first.</span></span> <span data-ttu-id="5c4c5-440">V případě, že je vlastnost *Order* explicitně určena jako v dřívějších verzích, jsou filtry spouštěny v zadaném pořadí.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-440">As in earlier versions, if the *Order* property is explicitly specified, the filters are run in the specified order.</span></span>
- <span data-ttu-id="5c4c5-441">Do základní třídy *VirtualPathProviderViewEngine* byla přidána nová vlastnost s názvem *přípona* .</span><span class="sxs-lookup"><span data-stu-id="5c4c5-441">A new property named *FileExtensions* was added to the *VirtualPathProviderViewEngine* base class.</span></span> <span data-ttu-id="5c4c5-442">Když ASP.NET vyhledává zobrazení podle cesty (ne podle názvu), jsou zvážena pouze zobrazení s příponou souboru obsaženou v seznamu určeném touto novou vlastností.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-442">When ASP.NET looks up a view by path (not by name), only views with a file extension contained in the list specified by this new property are considered.</span></span> <span data-ttu-id="5c4c5-443">Toto je zásadní změna v aplikacích, kde je zaregistrován vlastní poskytovatel sestavení, aby bylo možné povolit vlastní příponu souboru pro zobrazení webového formuláře a kde poskytovatel odkazuje na tato zobrazení pomocí úplné cesty namísto názvu.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-443">This is a breaking change in applications where a custom build provider is registered in order to enable a custom file extension for Web Form views and where the provider references those views by using a full path rather than a name.</span></span> <span data-ttu-id="5c4c5-444">Alternativním řešením je změnit hodnotu vlastnosti *přípony* souborů tak, aby zahrnovala vlastní příponu souboru.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-444">The workaround is to modify the value of the *FileExtensions* property to include the custom file extension.</span></span>
- <span data-ttu-id="5c4c5-445">Vlastní tovární implementace kontroleru, které přímo implementují rozhraní *IControllerFactory* , musí poskytovat implementaci nové metody *GetControllerSessionBehavior* , která se přidala do rozhraní v této verzi.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-445">Custom controller factory implementations that directly implement the *IControllerFactory* interface must provide an implementation of the new *GetControllerSessionBehavior* method that was added to the interface in this release.</span></span> <span data-ttu-id="5c4c5-446">Obecně se doporučuje toto rozhraní neimplementovat přímo a místo toho odvozovat třídu z *DefaultControllerFactory*.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-446">In general, it is recommended that you do not implement this interface directly and instead derive your class from *DefaultControllerFactory*.</span></span>

<a id="_Toc2_KI"></a>
## <a name="known-issues"></a><span data-ttu-id="5c4c5-447">Známé problémy</span><span class="sxs-lookup"><span data-stu-id="5c4c5-447">Known Issues</span></span>

- <span data-ttu-id="5c4c5-448">Instalační program ASP.NET MVC 3 umožňuje nainstalovat pouze počáteční verzi Správce balíčků NuGet.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-448">The ASP.NET MVC 3 installer is only able to install an initial version of the NuGet package manager.</span></span> <span data-ttu-id="5c4c5-449">Po instalaci počáteční verze je možné NuGet nainstalovat a aktualizovat pomocí Správce rozšíření sady Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-449">After you have installed the initial version, NuGet can be installed and updated using Visual Studio Extension Manager.</span></span> <span data-ttu-id="5c4c5-450">Pokud už máte nainstalovaný NuGet, Projděte si galerii rozšíření sady Visual Studio a aktualizujte na nejnovější verzi NuGetu.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-450">If you already have NuGet installed, go to the Visual Studio Extension Gallery to update to the latest version of NuGet.</span></span>
- <span data-ttu-id="5c4c5-451">Vytvoření nového projektu ASP.NET MVC 3 ve složce řešení způsobí chybu *NullReferenceException* .</span><span class="sxs-lookup"><span data-stu-id="5c4c5-451">Creating a new ASP.NET MVC 3 project within a solution folder causes a *NullReferenceException* error.</span></span> <span data-ttu-id="5c4c5-452">Alternativním řešením je vytvořit projekt ASP.NET MVC 3 v kořenovém adresáři řešení a pak ho přesunout do složky řešení.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-452">The workaround is to create the ASP.NET MVC 3 project in the root of the solution and then move it into the solution folder.</span></span>
- <span data-ttu-id="5c4c5-453">Dokončení instalačního programu může trvat mnohem déle než předchozí verze ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-453">The installer might take much longer than previous versions of ASP.NET MVC to complete.</span></span> <span data-ttu-id="5c4c5-454">Důvodem je to, že aktualizuje součásti sady Visual Studio 2010.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-454">This is because it updates components of Visual Studio 2010.</span></span>
- <span data-ttu-id="5c4c5-455">IntelliSense pro syntaxe Razor nefunguje, když je nainstalováno reostřejšíer.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-455">IntelliSense for Razor syntax does not work when ReSharper is installed.</span></span> <span data-ttu-id="5c4c5-456">Pokud máte k dispozici reostřejšíer a chcete využít podporu technologie IntelliSense Razor v ASP.NET MVC 3 RC2, přečtěte si článek o tom, jak se budou tyto možnosti používat v dnešní době [, na blogu](https://blogs.jetbrains.com/dotnet/2010/11/razor-intellisense-and-resharper/) hadi Hariri.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-456">If you have ReSharper installed and want to take advantage of the Razor IntelliSense support in ASP.NET MVC 3 RC2, see the entry [Razor Intellisense and ReSharper](https://blogs.jetbrains.com/dotnet/2010/11/razor-intellisense-and-resharper/) on Hadi Hariri's blog, which discusses ways to use them together today.</span></span>
- <span data-ttu-id="5c4c5-457">Zobrazení CSHTML a VBHTML vytvořená ve verzi beta sady ASP.NET MVC 3 nemají správnou sadu akcí sestavení s výsledkem, že tyto typy zobrazení jsou při publikování projektu vynechány.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-457">CSHTML and VBHTML views created with the Beta version of ASP.NET MVC 3 do not have their build action set correctly, with the result that these view types are omitted when the project is published.</span></span> <span data-ttu-id="5c4c5-458">Hodnota *Akce sestavení* pro tyto soubory by měla být nastavena na obsah.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-458">The *Build Action* value for these files should be set to Content".</span></span> <span data-ttu-id="5c4c5-459">ASP.NET MVC 3 RC2 opravuje tento problém pro nové soubory, ale neopraví nastavení existujících souborů pro projekt vytvořený pomocí beta verze.![](mvc3-release-notes/_static/image4.png)</span><span class="sxs-lookup"><span data-stu-id="5c4c5-459">ASP.NET MVC 3 RC2 fixes this issue for new files, but doesn't correct the setting for existing files for a project created with the Beta version.![](mvc3-release-notes/_static/image4.png)</span></span>
- <span data-ttu-id="5c4c5-460">Během instalace se v dialogovém okně přijetí smlouvy EULA zobrazí licenční podmínky v okně, které je menší než určené.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-460">During installation, the EULA acceptance dialog box displays the license terms in a window that is smaller than intended.</span></span>
- <span data-ttu-id="5c4c5-461">Při úpravách zobrazení Razor (soubor. cshtml) nebude k dispozici položka nabídky přejít na řadič v aplikaci Visual Studio a neexistují žádné fragmenty kódu.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-461">When you are editing a Razor view (.cshtml file), the Go To Controller menu item in Visual Studio will not be available, and there are no code snippets.</span></span>
- <span data-ttu-id="5c4c5-462">Pokud nainstalujete ASP.NET MVC 3 pro Visual Web Developer Express na počítač, na kterém není nainstalovaná aplikace Visual Studio, a později nainstalujete Visual Studio, musíte znovu nainstalovat ASP.NET MVC 3.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-462">If you install ASP.NET MVC 3 for Visual Web Developer Express on a computer where Visual Studio is not installed, and then later install Visual Studio, you must reinstall ASP.NET MVC 3.</span></span> <span data-ttu-id="5c4c5-463">Visual Studio a Visual Web Developer Express sdílí komponenty, které jsou upgradovány instalačním programem ASP.NET MVC 3.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-463">Visual Studio and Visual Web Developer Express share components that are upgraded by the ASP.NET MVC 3 installer.</span></span> <span data-ttu-id="5c4c5-464">Stejný problém se týká, pokud nainstalujete ASP.NET MVC 3 pro Visual Studio na počítači, který nemá Visual Web Developer Express, a pak později nainstalujete Visual Web Developer Express.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-464">The same issue applies if you install ASP.NET MVC 3 for Visual Studio on a computer that does not have Visual Web Developer Express and then later install Visual Web Developer Express.</span></span>
- <span data-ttu-id="5c4c5-465">Instalace ASP.NET MVC 3 RC 2 neaktualizuje NuGet, pokud ji už máte nainstalovanou.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-465">Installing ASP.NET MVC 3 RC 2 does not update NuGet if you already have it installed.</span></span> <span data-ttu-id="5c4c5-466">Pokud chcete upgradovat NuGet, navštivte Správce rozšíření sady Visual Studio a měl by se zobrazit jako dostupná aktualizace.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-466">To upgrade NuGet, go to the Visual Studio Extension manager and it should show up as an available update.</span></span> <span data-ttu-id="5c4c5-467">Z této služby můžete upgradovat NuGet na nejnovější verzi.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-467">You can upgrade NuGet to the latest release from there.</span></span>

<a id="TOC_ASP_NET_3_RC"></a>
## <a name="aspnet-mvc-3-release-candidate"></a><span data-ttu-id="5c4c5-468">ASP.NET MVC 3 Release Candidate</span><span class="sxs-lookup"><span data-stu-id="5c4c5-468">ASP.NET MVC 3 Release Candidate</span></span>

<span data-ttu-id="5c4c5-469">ASP.NET MVC Release Candidate byl vydán 9. listopadu 2010.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-469">ASP.NET MVC Release Candidate was released on November 9, 2010.</span></span>

<a id="_Toc276711785"></a>
## <a name="new-features-in-aspnet-mvc-3-rc"></a><span data-ttu-id="5c4c5-470">Nové funkce v ASP.NET MVC 3 RC</span><span class="sxs-lookup"><span data-stu-id="5c4c5-470">New Features in ASP.NET MVC 3 RC</span></span>

<span data-ttu-id="5c4c5-471">Tato část popisuje funkce, které byly představeny ve verzi ASP.NET MVC 3 RC, od verze beta.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-471">This section describes features that have been introduced in the ASP.NET MVC 3 RC release since the Beta release.</span></span>

<a id="_Toc276711786"></a>
### <a name="nuget-package-manager"></a><span data-ttu-id="5c4c5-472">Správce balíčků NuGet</span><span class="sxs-lookup"><span data-stu-id="5c4c5-472">NuGet Package Manager</span></span>

<span data-ttu-id="5c4c5-473">ASP.NET MVC 3 zahrnuje Správce balíčků NuGet (dříve označovaný jako NuPack), což je integrovaný nástroj pro správu balíčků pro přidávání knihoven a nástrojů do projektů sady Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-473">ASP.NET MVC 3 includes the NuGet Package Manager (formerly known as NuPack), which is an integrated package management tool for adding libraries and tools to Visual Studio projects.</span></span> <span data-ttu-id="5c4c5-474">Tento nástroj automatizuje kroky, které vývojáři dnes využívají, aby získaly knihovnu do zdrojového stromu.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-474">This tool automates the steps that developers take today to get a library into their source tree.</span></span>

<span data-ttu-id="5c4c5-475">S NuGet můžete pracovat jako s nástrojem příkazového řádku, jako s integrovaným oknem konzoly v sadě Visual Studio 2010, v místní nabídce sady Visual Studio a jako sadou rutin PowerShellu.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-475">You can work with NuGet as a command-line tool, as an integrated console window inside Visual Studio 2010, from the Visual Studio context menu, and as a set of PowerShell cmdlets.</span></span>

<span data-ttu-id="5c4c5-476">Další informace o NuGet najdete v [dokumentaci k NuGet](https://docs.microsoft.com/nuget/).</span><span class="sxs-lookup"><span data-stu-id="5c4c5-476">For more information about NuGet, read the [Nuget Documentation](https://docs.microsoft.com/nuget/).</span></span>

<a id="_Toc276711787"></a>
### <a name="improved-new-project-dialog-box"></a><span data-ttu-id="5c4c5-477">Vylepšené dialogové okno Nový projekt</span><span class="sxs-lookup"><span data-stu-id="5c4c5-477">Improved "New Project" Dialog Box</span></span>

<span data-ttu-id="5c4c5-478">Při vytváření nového projektu teď dialogové okno Nový projekt umožňuje určit modul zobrazení i typ projektu ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-478">When you create a new project, the New Project dialog box now lets you specify the view engine as well as an ASP.NET MVC project type.</span></span>

![](mvc3-release-notes/_static/image5.png)

<span data-ttu-id="5c4c5-479">Tato verze obsahuje podporu pro úpravu seznamu šablon a modulů zobrazení uvedených v dialogovém okně.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-479">Support for modifying the list of templates and view engines listed in the dialog box is included in this release.</span></span>

<span data-ttu-id="5c4c5-480">Výchozí šablony jsou následující:</span><span class="sxs-lookup"><span data-stu-id="5c4c5-480">The default templates are the following:</span></span>

<span data-ttu-id="5c4c5-481">Obsahovat.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-481">Empty.</span></span> <span data-ttu-id="5c4c5-482">Obsahuje minimální sadu souborů pro projekt ASP.NET MVC, včetně výchozí adresářové struktury pro projekty ASP.NET MVC, souboru site. CSS, který obsahuje výchozí styly ASP.NET MVC a adresář skriptů, který obsahuje výchozí soubory JavaScriptu.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-482">Contains a minimal set of files for an ASP.NET MVC project, including the default directory structure for ASP.NET MVC projects, a Site.css file that contains the default ASP.NET MVC styles, and a Scripts directory that contains the default JavaScript files.</span></span>

<span data-ttu-id="5c4c5-483">Internetovou aplikaci.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-483">Internet Application.</span></span> <span data-ttu-id="5c4c5-484">Obsahuje ukázkové funkce, které demonstrují, jak použít poskytovatele členství s ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-484">Contains sample functionality that demonstrates how to use the membership provider with ASP.NET MVC.</span></span>

<span data-ttu-id="5c4c5-485">Seznam šablon projektu, které se zobrazí v dialogovém okně, je určen v registru systému Windows.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-485">The list of project templates that is displayed in the dialog box is specified in the Windows registry.</span></span>

<a id="_Toc276711788"></a>
### <a name="sessionless-controllers"></a><span data-ttu-id="5c4c5-486">Řadiče s nerelačními relacemi</span><span class="sxs-lookup"><span data-stu-id="5c4c5-486">Sessionless Controllers</span></span>

<span data-ttu-id="5c4c5-487">Nový *ControllerSessionStateAttribute* nabízí větší kontrolu nad chováním stavu relace pro řadiče tím, že zadáte hodnotu výčtu [System. Web. SessionState. SessionStateBehavior](https://msdn.microsoft.com/library/system.web.sessionstate.sessionstatebehavior.aspx) .</span><span class="sxs-lookup"><span data-stu-id="5c4c5-487">The new *ControllerSessionStateAttribute* gives you more control over session-state behavior for controllers by specifying a [System.Web.SessionState.SessionStateBehavior](https://msdn.microsoft.com/library/system.web.sessionstate.sessionstatebehavior.aspx) enumeration value.</span></span>

<span data-ttu-id="5c4c5-488">Následující příklad ukazuje, jak vypnout stav relace pro všechny požadavky na kontroler.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-488">The following example shows how to turn off session state for all requests to a controller.</span></span>

[!code-csharp[Main](mvc3-release-notes/samples/sample13.cs)]

<span data-ttu-id="5c4c5-489">Následující příklad ukazuje, jak nastavit stav relace jen pro čtení pro všechny požadavky na kontroler.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-489">The following example shows how to set read-only session state for all requests to a controller.</span></span>

[!code-csharp[Main](mvc3-release-notes/samples/sample14.cs)]

<a id="_Toc276711789"></a>
### <a name="new-validation-attributes"></a><span data-ttu-id="5c4c5-490">Nové atributy ověřování</span><span class="sxs-lookup"><span data-stu-id="5c4c5-490">New Validation Attributes</span></span>

#### <a name="compareattribute"></a><span data-ttu-id="5c4c5-491">CompareAttribute</span><span class="sxs-lookup"><span data-stu-id="5c4c5-491">CompareAttribute</span></span>

<span data-ttu-id="5c4c5-492">Nový atribut ověřování *CompareAttribute* vám umožňuje porovnat hodnoty dvou různých vlastností modelu.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-492">The new *CompareAttribute* validation attribute lets you compare the values of two different properties of a model.</span></span> <span data-ttu-id="5c4c5-493">V následujícím příkladu musí vlastnost *ComparePassword* odpovídat poli *heslo* , aby byla platná.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-493">In the following example, the *ComparePassword* property must match the *Password* field in order to be valid.</span></span>

[!code-csharp[Main](mvc3-release-notes/samples/sample15.cs)]

#### <a name="remoteattribute"></a><span data-ttu-id="5c4c5-494">RemoteAttribute</span><span class="sxs-lookup"><span data-stu-id="5c4c5-494">RemoteAttribute</span></span>

<span data-ttu-id="5c4c5-495">Nový atribut ověření *RemoteAttribute* využívá vzdálený validátor modulu plug-in jQuery pro ověření, který umožňuje ověřování na straně klienta volat metodu na serveru, který provádí skutečnou logiku ověřování.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-495">The new *RemoteAttribute* validation attribute takes advantage of the jQuery Validation plug-in's remote validator, which enables client-side validation to call a method on the server that performs the actual validation logic.</span></span>

<span data-ttu-id="5c4c5-496">V následujícím příkladu má vlastnost *username* použit parametr *RemoteAttribute* .</span><span class="sxs-lookup"><span data-stu-id="5c4c5-496">In the following example, the *UserName* property has the *RemoteAttribute* applied.</span></span> <span data-ttu-id="5c4c5-497">Při úpravách této vlastnosti v zobrazení pro úpravy bude ověření klienta volat akci s názvem *UserNameAvailable* ve třídě *UsersController* , aby toto pole bylo možné ověřit.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-497">When editing this property in an Edit view, client validation will call an action named *UserNameAvailable* on the *UsersController* class in order to validate this field.</span></span>

[!code-csharp[Main](mvc3-release-notes/samples/sample16.cs)]

<span data-ttu-id="5c4c5-498">Následující příklad ukazuje odpovídající kontroler.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-498">The following example shows the corresponding controller.</span></span>

[!code-csharp[Main](mvc3-release-notes/samples/sample17.cs)]

<span data-ttu-id="5c4c5-499">Ve výchozím nastavení je název vlastnosti, na kterou je atribut použit, odesílán do metody Action jako parametr řetězce dotazu.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-499">By default, the property name that the attribute is applied to is sent to the action method as a query-string parameter.</span></span>

<a id="_Toc276711790"></a>
### <a name="new-overloads-for-labelfor-and-labelformodel-methods"></a><span data-ttu-id="5c4c5-500">Nová přetížení pro metody "LabelFor" a "LabelForModel"</span><span class="sxs-lookup"><span data-stu-id="5c4c5-500">New Overloads for "LabelFor" and "LabelForModel" Methods</span></span>

<span data-ttu-id="5c4c5-501">Pro metody *LabelFor* a *LabelForModel* se přidala nová přetížení, která umožňují zadat text popisku.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-501">New overloads have been added for the *LabelFor* and *LabelForModel* methods that let you specify the label text.</span></span> <span data-ttu-id="5c4c5-502">Následující příklad ukazuje, jak použít tato přetížení.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-502">The following example shows how to use these overloads.</span></span>

[!code-cshtml[Main](mvc3-release-notes/samples/sample18.cshtml)]

<a id="_Toc276711791"></a>
### <a name="child-action-output-caching"></a><span data-ttu-id="5c4c5-503">Ukládání výstupu podřízené akce do mezipaměti</span><span class="sxs-lookup"><span data-stu-id="5c4c5-503">Child Action Output Caching</span></span>

<span data-ttu-id="5c4c5-504">*OutputCacheAttribute* podporuje ukládání výstupu do mezipaměti podřízených akcí, které jsou volány pomocí pomocných metod *HTML. RenderAction* nebo *HTML. Action* .</span><span class="sxs-lookup"><span data-stu-id="5c4c5-504">The *OutputCacheAttribute* supports output caching of child actions that are called by using the *Html.RenderAction* or *Html.Action* helper methods.</span></span> <span data-ttu-id="5c4c5-505">Následující příklad ukazuje zobrazení, které volá jinou akci.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-505">The following example shows a view that calls another action.</span></span>

[!code-cshtml[Main](mvc3-release-notes/samples/sample19.cshtml)]

<span data-ttu-id="5c4c5-506">Akce *GETDATE* je opatřena poznámkou s *OutputCacheAttribute*:</span><span class="sxs-lookup"><span data-stu-id="5c4c5-506">The *GetDate* action is annotated with the *OutputCacheAttribute*:</span></span>

[!code-csharp[Main](mvc3-release-notes/samples/sample20.cs)]

<span data-ttu-id="5c4c5-507">Po spuštění tohoto kódu je výsledek volání HTML. Action ("GETDATE") uložen do mezipaměti po dobu 100 sekund.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-507">When this code runs, the result of the call to Html.Action("GetDate") is cached for 100 seconds.</span></span>

<a id="_Toc276711792"></a>
### <a name="add-view-dialog-box-improvements"></a><span data-ttu-id="5c4c5-508">Vylepšení dialogového okna Přidat zobrazení</span><span class="sxs-lookup"><span data-stu-id="5c4c5-508">"Add View" Dialog Box Improvements</span></span>

<span data-ttu-id="5c4c5-509">Když přidáte zobrazení silného typu, dialogové okno Přidat zobrazení teď vyfiltruje víc nepoužitelných typů než v předchozích verzích, jako je třeba mnoho základních .NET Framework typů.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-509">When you add a strongly typed view, the Add View dialog box now filters out more non-applicable types than in previous releases, such as many core .NET Framework types.</span></span> <span data-ttu-id="5c4c5-510">Seznam je nyní seřazen podle názvu třídy, a ne podle plně kvalifikovaného názvu typu, což usnadňuje hledání typů.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-510">Also, the list is now sorted by the class name and not by the fully qualified type name, which makes it easier to find types.</span></span> <span data-ttu-id="5c4c5-511">Například název typu je nyní zobrazen jako v následujícím příkladu:</span><span class="sxs-lookup"><span data-stu-id="5c4c5-511">For example, the type name is now displayed as in the following example:</span></span>

<span data-ttu-id="5c4c5-512">ClassName (obor názvů)</span><span class="sxs-lookup"><span data-stu-id="5c4c5-512">ClassName (namespace)</span></span>

<span data-ttu-id="5c4c5-513">V dřívějších verzích se tato zpráva zobrazila jako následující:</span><span class="sxs-lookup"><span data-stu-id="5c4c5-513">In earlier releases, this would have been displayed as the following:</span></span>

<span data-ttu-id="5c4c5-514">Namespace. ClassName</span><span class="sxs-lookup"><span data-stu-id="5c4c5-514">Namespace.ClassName</span></span>

<a id="_Toc276711793"></a>
### <a name="granular-request-validation"></a><span data-ttu-id="5c4c5-515">Podrobné ověření požadavku</span><span class="sxs-lookup"><span data-stu-id="5c4c5-515">Granular Request Validation</span></span>

<span data-ttu-id="5c4c5-516">Vlastnost *Exclude* třídy *ValidateInputAttribute* již neexistuje.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-516">The *Exclude* property of *ValidateInputAttribute* no longer exists.</span></span> <span data-ttu-id="5c4c5-517">Místo toho, aby bylo ověření žádosti přeskočeno pro konkrétní vlastnosti modelu během vytváření vazby modelu, použijte nový *SkipRequestValidationAttribute*.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-517">Instead, to have request validation skipped for specific properties of a model during model binding, use the new *SkipRequestValidationAttribute*.</span></span>

<span data-ttu-id="5c4c5-518">Předpokládejme například, že se pro úpravu blogového příspěvku používá metoda akce:</span><span class="sxs-lookup"><span data-stu-id="5c4c5-518">For example, suppose an action method is used to edit a blog post:</span></span>

[!code-csharp[Main](mvc3-release-notes/samples/sample21.cs)]

<span data-ttu-id="5c4c5-519">Následující příklad ukazuje model zobrazení pro Blogový příspěvek.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-519">The following example shows the view model for a blog post.</span></span>

[!code-csharp[Main](mvc3-release-notes/samples/sample22.cs)]

<span data-ttu-id="5c4c5-520">Když uživatel odešle kód pro vlastnost Description, vazba modelu selže z důvodu ověření žádosti.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-520">When a user submits some markup for the Description property, model binding will fail due to request validation.</span></span> <span data-ttu-id="5c4c5-521">Chcete-li zakázat ověření žádosti během vazby modelu pro popis blogového příspěvku, použijte *SkipRequpestValidationAttribute* na vlastnost, jak je znázorněno v následujícím příkladu:.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-521">To disable request validation during model binding for the blog post Description, apply the *SkipRequpestValidationAttribute* to the property, as shown in this example:.</span></span>

[!code-csharp[Main](mvc3-release-notes/samples/sample23.cs)]

<span data-ttu-id="5c4c5-522">Případně pro vypnutí žádosti o ověření pro každou vlastnost modelu použijte *ValidateInputAttribute* s hodnotou *false* na metodu akce:</span><span class="sxs-lookup"><span data-stu-id="5c4c5-522">Alternatively, to turn off request validation for every property of the model, apply *ValidateInputAttribute* with a value of *false* to the action method:</span></span>

[!code-csharp[Main](mvc3-release-notes/samples/sample24.cs)]

<a id="_Toc276711794"></a>
## <a name="breaking-changes"></a><span data-ttu-id="5c4c5-523">Nejnovější změny</span><span class="sxs-lookup"><span data-stu-id="5c4c5-523">Breaking Changes</span></span>

- <span data-ttu-id="5c4c5-524">Pořadí spouštění pro filtry výjimek se změnilo pro filtry výjimek, které mají stejnou hodnotu *Order* .</span><span class="sxs-lookup"><span data-stu-id="5c4c5-524">The order of execution for exception filters has changed for exception filters that have the same *Order* value.</span></span> <span data-ttu-id="5c4c5-525">V ASP.NET MVC 2 a starších byly filtry výjimek na řadiči, které měly stejné *pořadí* jako u metody Action, provedeny před filtry výjimek v metodě Action.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-525">In ASP.NET MVC 2 and earlier, exception filters on the controller that had the same *Order* as those on an action method were executed before the exception filters on the action method.</span></span> <span data-ttu-id="5c4c5-526">Obvykle se jedná o případ, kdy byly filtry výjimek aplikovány bez zadané hodnoty *pořadí* .</span><span class="sxs-lookup"><span data-stu-id="5c4c5-526">This would typically be the case when exception filters were applied without a specified *Order* value.</span></span> <span data-ttu-id="5c4c5-527">V ASP.NET MVC 3 bylo toto pořadí obráceno, aby se nejdříve nastavila většina specifická obslužná rutina výjimky.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-527">In ASP.NET MVC 3, this order has been reversed so that the most specific exception handler executes first.</span></span> <span data-ttu-id="5c4c5-528">V případě, že je vlastnost *Order* explicitně určena jako v dřívějších verzích, jsou filtry spouštěny v zadaném pořadí.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-528">As in earlier versions, if the *Order* property is explicitly specified, the filters are run in the specified order.</span></span>
- <span data-ttu-id="5c4c5-529">Do základní třídy *VirtualPathProviderViewEngine* se přidala nová vlastnost s názvem *přípona* .</span><span class="sxs-lookup"><span data-stu-id="5c4c5-529">Added a new property named *FileExtensions* to the *VirtualPathProviderViewEngine* base class.</span></span> <span data-ttu-id="5c4c5-530">Při vyhledávání zobrazení podle cesty (a nikoli podle názvu) se považuje jenom zobrazení s příponou souboru obsažená v seznamu určeném touto novou vlastností.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-530">When looking up a view by path (and not by name), only views with a file extension contained in the list specified by this new property is considered.</span></span> <span data-ttu-id="5c4c5-531">Toto je zásadní změna pro uživatele, kteří registrují vlastního poskytovatele sestavení, aby povolili vlastní příponu souboru pro zobrazení webového formuláře a odkazovala na tato zobrazení pomocí úplné cesty místo názvu.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-531">This is a breaking change for those who register a custom build provider to enable a custom file extension for web form views and are referencing those views by using a full path rather than a name.</span></span> <span data-ttu-id="5c4c5-532">Alternativním řešením je změnit hodnotu vlastnosti *přípony* souborů tak, aby zahrnovala vlastní příponu souboru.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-532">The workaround is to modify the value of the *FileExtensions* property to include the custom file extension.</span></span>

<a id="_Toc276711795"></a>
## <a name="known-issues"></a><span data-ttu-id="5c4c5-533">Známé problémy</span><span class="sxs-lookup"><span data-stu-id="5c4c5-533">Known Issues</span></span>

- <span data-ttu-id="5c4c5-534">Instalační program může trvat mnohem déle než předchozí verze ASP.NET MVC, protože aktualizuje součásti sady Visual Studio 2010.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-534">The installer may take much longer than previous versions of ASP.NET MVC to complete because it updates components of Visual Studio 2010.</span></span>
- <span data-ttu-id="5c4c5-535">Přidání generování uživatelského rozhraní zobrazení při výběru vlastností astrongly typů zobrazení typu, které jsou jen pro zápis.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-535">The Add View scaffolding when selecting astrongly typed view scaffolds write-only properties.</span></span> <span data-ttu-id="5c4c5-536">Tyto by se měly vždycky ignorovat pomocí generování uživatelského rozhraní.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-536">These should always be ignored by scaffolding.</span></span> <span data-ttu-id="5c4c5-537">Dialog Přidat zobrazení také při generování zobrazení upravit nebo vytvořit vytvoří vlastnosti jen pro čtení.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-537">The Add View dialog also scaffolds read-only properties when generating an "Edit" or "Create" view.</span></span> <span data-ttu-id="5c4c5-538">Vlastnosti jen pro čtení by měly být pro zobrazení zobrazení a seznamu pouze vygenerované jako generátory.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-538">Read-only properties should only be scaffolded for the Display and List views.</span></span>
- <span data-ttu-id="5c4c5-539">Ladění nefunguje, když je nainstalovaná ASP.NET MVC 3 společně s asynchronní CTP.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-539">Debugging doesn't work when ASP.NET MVC 3 is installed alongside the Async CTP.</span></span> <span data-ttu-id="5c4c5-540">ASP.NET MVC 3 nelze nainstalovat souběžně s asynchronní CTP.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-540">ASP.NET MVC 3 cannot be installed side-by-side with the Async CTP.</span></span> <span data-ttu-id="5c4c5-541">Odinstalujte asynchronní CTP za účelem opravy ladění.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-541">Uninstall the Async CTP to repair debugging.</span></span> <span data-ttu-id="5c4c5-542">Další podrobnosti najdete v [tomto blogovém příspěvku](http://drew-prog.blogspot.com/2010/11/how-to-uninstall-microsoft-aspnet-mvc-3.html) o odinstalaci všech částí ASP.NET MVC 3 RC.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-542">For more details, read [this blog post](http://drew-prog.blogspot.com/2010/11/how-to-uninstall-microsoft-aspnet-mvc-3.html) about uninstalling all the pieces of ASP.NET MVC 3 RC.</span></span>
- <span data-ttu-id="5c4c5-543">Technologie IntelliSense pro Razor nefunguje, když je nainstalováno reostřejšíer.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-543">Razor Intellisense does not work when Resharper is installed.</span></span> <span data-ttu-id="5c4c5-544">Pokud máte reostřejšíer nainstalovaný a chcete využít podporu technologie IntelliSense Razor v ASP.NET MVC 3 RC, přečtěte si [Tento Blogový příspěvek](https://blogs.jetbrains.com/dotnet/2010/11/razor-intellisense-and-resharper/) z JetBrains, který pojednává o způsobech jejich používání společně.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-544">If you have ReSharper installed and want to take advantage of the Razor intellisense support in ASP.NET MVC 3 RC, please read [this blog post](https://blogs.jetbrains.com/dotnet/2010/11/razor-intellisense-and-resharper/) from JetBrains which discusses ways to use them together today.</span></span>
- <span data-ttu-id="5c4c5-545">Zobrazení CSHTML a VBHTML vytvořená pomocí beta verze ASP.NET MVC 3 nemají správnou akci sestavení, která je vynechává z publikování.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-545">CSHTML and VBHTML views created with Beta of ASP.NET MVC 3 do not have their build action correctly which omits them from publishing.</span></span> <span data-ttu-id="5c4c5-546">*Akce sestavení* pro tyto soubory by měla být nastavená na "obsah".</span><span class="sxs-lookup"><span data-stu-id="5c4c5-546">The *Build Action* for these files should be set to "Content".</span></span> <span data-ttu-id="5c4c5-547">ASP.NET MVC 3 RC opravuje tento problém pro nové soubory, ale neopraví nastavení existujících souborů pro projekt vytvořený pomocí beta verze.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-547">ASP.NET MVC 3 RC fixes this issue for new files, but doesn't correct the setting for existing files for a project created with the Beta.</span></span>
- <span data-ttu-id="5c4c5-548">Instalační program může trvat mnohem déle než předchozí verze ASP.NET MVC, protože aktualizuje součásti sady Visual Studio 2010.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-548">The installer may take much longer than previous versions of ASP.NET MVC to complete because it updates components of Visual Studio 2010.</span></span>
- <span data-ttu-id="5c4c5-549">Přidání generování uživatelského rozhraní pro zobrazení při výběru možnosti upravit pouze generátory zobrazení silného typu.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-549">The Add View scaffolding when selecting an "Edit" strongly typed view scaffolds read only properties.</span></span> <span data-ttu-id="5c4c5-550">Podobně jsou vlastnosti jen pro zápis vygenerované pro zobrazení "zobrazení".</span><span class="sxs-lookup"><span data-stu-id="5c4c5-550">Likewise, write-only properties are scaffolded for "Display" views.</span></span>
- <span data-ttu-id="5c4c5-551">Během instalace se v dialogovém okně přijetí smlouvy EULA zobrazí licenční podmínky v okně, které je menší než určené.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-551">During installation, the EULA acceptance dialog box displays the license terms in a window that is smaller than intended.</span></span>
- <span data-ttu-id="5c4c5-552">Při instalaci sady Visual Studio Async CTP dojde ke konfliktu s verzí Razor, která je součástí instalace nástrojů ASP.NET MVC 3.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-552">Installing the Visual Studio Async CTP causes a conflict with the Razor release that is included as part of the ASP.NET MVC 3 tooling installation.</span></span> <span data-ttu-id="5c4c5-553">Ujistěte se, že se nepokoušíte nainstalovat Visual Studio Async CTP a verzi Razor do stejného počítače.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-553">Make sure that you do not try to install both the Visual Studio Async CTP and the Razor release on the same machine.</span></span>
- <span data-ttu-id="5c4c5-554">Při úpravách zobrazení Razor (soubor. cshtml) nebude k dispozici položka nabídky přejít na řadič v aplikaci Visual Studio a neexistují žádné fragmenty kódu.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-554">When you are editing a Razor view (.cshtml file), the Go To Controller menu item in Visual Studio will not be available, and there are no code snippets.</span></span>

<a id="TOC_ASP_NET_3_Beta"></a>
## <a name="aspnet-mvc-3-beta"></a><span data-ttu-id="5c4c5-555">ASP.NET MVC 3 beta</span><span class="sxs-lookup"><span data-stu-id="5c4c5-555">ASP.NET MVC 3 Beta</span></span>

<span data-ttu-id="5c4c5-556">ASP.NET MVC 3 beta byla vydána 6. října 2010.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-556">ASP.NET MVC 3 Beta was released on October 6, 2010.</span></span> <span data-ttu-id="5c4c5-557">Následující poznámky jsou specifické pro beta verzi a vztahují se na všechny aktualizace nebo změny, na které odkazuje část ASP.NET MVC 3 Release Candidate výše.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-557">The following notes are specific to the Beta release, and are subject to any updates or changes referenced in the ASP.NET MVC 3 Release Candidate section above.</span></span>

## <a id="0.1__Toc274034215"></a><span data-ttu-id="5c4c5-558">New Featuresin ASP.NET MVC 3 beta</span><span class="sxs-lookup"><span data-stu-id="5c4c5-558">New Featuresin ASP.NET MVC 3 Beta</span></span>

<a id="0.1__Default_validation_system"></a><span data-ttu-id="5c4c5-559">Tato část popisuje funkce, které byly představeny ve verzi ASP.NET MVC 3 beta.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-559">This section describes features that have been introduced in the ASP.NET MVC 3 Beta release.</span></span>

### <a id="0.1__Toc274034216"></a><span data-ttu-id="5c4c5-560">Správce balíčků NuGet</span><span class="sxs-lookup"><span data-stu-id="5c4c5-560">NuGet Package Manager</span></span>

<span data-ttu-id="5c4c5-561">ASP.NET MVC 3 zahrnuje Správce balíčků NuGet, což je integrovaný nástroj pro správu balíčků pro přidávání knihoven a nástrojů do projektů sady Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-561">ASP.NET MVC 3 includes NuGet Package Manager, which is an integrated package management tool for adding libraries and tools to Visual Studio projects.</span></span> <span data-ttu-id="5c4c5-562">Ve většině případů automatizuje kroky, které vývojáři dnes využívají, aby získaly knihovnu do zdrojového stromu.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-562">For the most part, it automates the steps that developers take today to get a library into their source tree.</span></span>

<span data-ttu-id="5c4c5-563">S NuGet můžete pracovat jako s nástrojem příkazového řádku, jako s integrovaným oknem konzoly v sadě Visual Studio 2010, v místní nabídce sady Visual Studio a jako sadou rutin PowerShellu.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-563">You can work with NuGet as a command line tool, as an integrated console window inside Visual Studio 2010, from the Visual Studio context menu, and as set of PowerShell cmdlets.</span></span>

<span data-ttu-id="5c4c5-564">Další informace o NuGet najdete v [dokumentaci k NuGet](https://docs.microsoft.com/nuget/).</span><span class="sxs-lookup"><span data-stu-id="5c4c5-564">For more information about NuGet, read the [NuGet Documentation](https://docs.microsoft.com/nuget/).</span></span>

### <a id="0.1__Toc274034217"></a><span data-ttu-id="5c4c5-565">Vylepšený dialog Nový projekt</span><span class="sxs-lookup"><span data-stu-id="5c4c5-565">Improved New Project Dialog Box</span></span>

<span data-ttu-id="5c4c5-566">Při vytváření nového projektu teď dialogové okno Nový projekt umožňuje určit modul zobrazení i typ projektu ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-566">When you create a new project, the New Project dialog box now lets you specify the view engine as well as an ASP.NET MVC project type.</span></span>

![](mvc3-release-notes/_static/image6.png)

<span data-ttu-id="5c4c5-567">V této verzi není zahrnutá podpora pro úpravu seznamu šablon a zobrazení modulů, které jsou uvedené v tomto dialogu.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-567">Support for modifying the list of templates and view engines listed in the dialog box is not included in this release.</span></span>

<span data-ttu-id="5c4c5-568">Výchozí šablony jsou následující:</span><span class="sxs-lookup"><span data-stu-id="5c4c5-568">The default templates are the following:</span></span>

<span data-ttu-id="5c4c5-569">Obsahovat.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-569">Empty.</span></span> <span data-ttu-id="5c4c5-570">Obsahuje minimální sadu souborů pro projekt ASP.NET MVC, včetně výchozí adresářové struktury pro projekty ASP.NET MVC, malého souboru. CSS, který obsahuje výchozí styly ASP.NET MVC, a adresáře skriptů, které obsahují výchozí soubory JavaScriptu.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-570">Contains a minimal set of files for an ASP.NET MVC project, including the default directory structure for ASP.NET MVC projects, a small Site.css file that contains the default ASP.NET MVC styles, and a Scripts directory that contains the default JavaScript files.</span></span>

<span data-ttu-id="5c4c5-571">Internetovou aplikaci.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-571">Internet Application.</span></span> <span data-ttu-id="5c4c5-572">Obsahuje ukázkové funkce, které demonstrují, jak používat poskytovatele členství v rámci ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-572">Contains sample functionality that demonstrates how to use the membership provider within ASP.NET MVC.</span></span>

### <a id="0.1__Toc274034218"></a><span data-ttu-id="5c4c5-573">Zjednodušený způsob, jak zadat modely silného typu v zobrazeních Razor</span><span class="sxs-lookup"><span data-stu-id="5c4c5-573">Simplified Way to Specify Strongly Typed Models in Razor Views</span></span>

<span data-ttu-id="5c4c5-574">Způsob určení typu modelu pro zobrazení se silnými typy Razor byl zjednodušen pomocí nové direktivy @model pro zobrazení CSHTML a direktivy @ModelType pro zobrazení VBHTML.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-574">The way to specify the model type for strongly typed Razor views has been simplified by using the new @model directive for CSHTML views and @ModelType directive for VBHTML views.</span></span> <span data-ttu-id="5c4c5-575">V dřívějších verzích ASP.NET MVC byste zadali model silného typu pro zobrazení Razor tímto způsobem:</span><span class="sxs-lookup"><span data-stu-id="5c4c5-575">In earlier versions of ASP.NET MVC, you would specify a strongly typed model for Razor views this way:</span></span>

[!code-cshtml[Main](mvc3-release-notes/samples/sample25.cshtml)]

<span data-ttu-id="5c4c5-576">V této verzi můžete použít následující syntaxi:</span><span class="sxs-lookup"><span data-stu-id="5c4c5-576">In this release, you can use the following syntax:</span></span>

[!code-cshtml[Main](mvc3-release-notes/samples/sample26.cshtml)]

### <a id="0.1__Toc274034219"></a><span data-ttu-id="5c4c5-577">Podpora pro nové pomocné metody webových stránek ASP.NET</span><span class="sxs-lookup"><span data-stu-id="5c4c5-577">Support for New ASP.NET Web Pages Helper Methods</span></span>

<span data-ttu-id="5c4c5-578">Technologie New ASP.NET Web Pages zahrnuje sadu pomocných metod, které jsou užitečné pro přidání běžně používaných funkcí do zobrazení a řadičů.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-578">The new ASP.NET Web Pages technology includes a set of helper methods that are useful for adding commonly used functionality to views and controllers.</span></span> <span data-ttu-id="5c4c5-579">ASP.NET MVC 3 podporuje používání těchto pomocných metod v rámci řadičů a zobrazení (tam, kde je to vhodné).</span><span class="sxs-lookup"><span data-stu-id="5c4c5-579">ASP.NET MVC 3 supports using these helper methods within controllers and views (where appropriate).</span></span> <span data-ttu-id="5c4c5-580">Tyto metody jsou obsaženy v sestavení System. Web. Helpers.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-580">These methods are contained in the System.Web.Helpers assembly.</span></span> <span data-ttu-id="5c4c5-581">Následující tabulka uvádí několik pomocných metod ASP.NET webových stránek.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-581">The following table lists a few of the ASP.NET Web Pages helper methods.</span></span>

| <span data-ttu-id="5c4c5-582">**Podpůrn**</span><span class="sxs-lookup"><span data-stu-id="5c4c5-582">**Helper**</span></span> | <span data-ttu-id="5c4c5-583">**Popis**</span><span class="sxs-lookup"><span data-stu-id="5c4c5-583">**Description**</span></span> |
| --- | --- |
| <span data-ttu-id="5c4c5-584">Graf</span><span class="sxs-lookup"><span data-stu-id="5c4c5-584">Chart</span></span> | <span data-ttu-id="5c4c5-585">Vykreslí graf v rámci zobrazení.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-585">Renders a chart within a view.</span></span> <span data-ttu-id="5c4c5-586">Obsahuje metody, jako je například Chart. ToWebImage, Chart. Save a Chart. Write.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-586">Contains methods such as Chart.ToWebImage, Chart.Save, and Chart.Write.</span></span> |
| <span data-ttu-id="5c4c5-587">SGC</span><span class="sxs-lookup"><span data-stu-id="5c4c5-587">Crypto</span></span> | <span data-ttu-id="5c4c5-588">Používá algoritmy hash k vytváření správně nasolených a zatřiďovacích hesel.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-588">Uses hashing algorithms to create properly salted and hashed passwords.</span></span> |
| <span data-ttu-id="5c4c5-589">WebGrid</span><span class="sxs-lookup"><span data-stu-id="5c4c5-589">WebGrid</span></span> | <span data-ttu-id="5c4c5-590">Vykreslí kolekci objektů (obvykle data z databáze) jako mřížku.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-590">Renders a collection of objects (typically, data from a database) as a grid.</span></span> <span data-ttu-id="5c4c5-591">Podporuje stránkování a řazení.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-591">Supports paging and sorting.</span></span> |
| <span data-ttu-id="5c4c5-592">Webimage</span><span class="sxs-lookup"><span data-stu-id="5c4c5-592">WebImage</span></span> | <span data-ttu-id="5c4c5-593">Vykreslí obrázek.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-593">Renders an image.</span></span> |
| <span data-ttu-id="5c4c5-594">Webová pošta</span><span class="sxs-lookup"><span data-stu-id="5c4c5-594">WebMail</span></span> | <span data-ttu-id="5c4c5-595">Pošle e-mailovou zprávu.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-595">Sends an email message.</span></span> |

<span data-ttu-id="5c4c5-596">Stručné téma s přehledem obsahuje seznam pomocníků a základní syntaxe je k dispozici jako součást dokumentace ASP.NET syntaxe Razor na následující adrese URL:</span><span class="sxs-lookup"><span data-stu-id="5c4c5-596">A quick reference topic that lists the helpers and basic syntax is available as part of the ASP.NET Razor syntax documentation at the following URL:</span></span>

[https://www.asp.net/webmatrix/tutorials/asp-net-web-pages-api-reference](../web-pages/overview/api-reference/asp-net-web-pages-api-reference.md)

### <a id="0.1__Toc274034220"></a><span data-ttu-id="5c4c5-597">Podpora vkládání dalších závislostí</span><span class="sxs-lookup"><span data-stu-id="5c4c5-597">Additional Dependency Injection Support</span></span>

<span data-ttu-id="5c4c5-598">V rámci verze Preview 1 pro ASP.NET MVC 3 je v aktuální verzi zahrnutá podpora pro dvě nové služby a čtyři existující služby a vylepšená podpora pro řešení závislosti a běžný lokátor služby.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-598">Building on the ASP.NET MVC 3 Preview 1 release, the current release includes added support for two new services and four existing services, and improved support for dependency resolution and the Common Service Locator.</span></span>

#### <a name="new-icontrolleractivator-interface-for-fine-grained-controller-instantiation"></a><span data-ttu-id="5c4c5-599">Nové rozhraní IControllerActivator pro vytvoření podrobného vytváření instancí kontroleru</span><span class="sxs-lookup"><span data-stu-id="5c4c5-599">New IControllerActivator Interface for Fine-Grained Controller Instantiation</span></span>

<span data-ttu-id="5c4c5-600">Nové rozhraní IControllerActivator poskytuje podrobnější kontrolu nad tím, jak se vytváří instance řadičů přes vkládání závislostí.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-600">The new IControllerActivator interface provides more fine-grained control over how controllers are instantiated via dependency injection.</span></span> <span data-ttu-id="5c4c5-601">Následující příklad ukazuje rozhraní:</span><span class="sxs-lookup"><span data-stu-id="5c4c5-601">The following example shows the interface:</span></span>

[!code-csharp[Main](mvc3-release-notes/samples/sample27.cs)]

<span data-ttu-id="5c4c5-602">Naproti tomu roli objektu pro vytváření kontroléru.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-602">Contrast this to the role of the controller factory.</span></span> <span data-ttu-id="5c4c5-603">Továrna kontroleru je implementací rozhraní IControllerFactory, které zodpovídá jak při hledání typu kontroleru, tak při vytváření instancí instance daného typu kontroleru.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-603">A controller factory is an implementation of the IControllerFactory interface, which is responsible both for locating a controller type and for instantiating an instance of that controller type.</span></span>

<span data-ttu-id="5c4c5-604">Aktivátory kontroleru jsou zodpovědné jenom za vytvoření instance typu kontroleru.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-604">Controller activators are responsible only for instantiating an instance of a controller type.</span></span> <span data-ttu-id="5c4c5-605">Neprovádějí vyhledávání typu řadiče.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-605">They do not perform the controller type lookup.</span></span> <span data-ttu-id="5c4c5-606">Po nalezení správného typu kontroleru by se továrny kontrolérů měly delegovat na instanci IControllerActivator, aby zpracovávala vlastní instanci řadiče.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-606">After locating a proper controller type, controller factories should delegate to an instance of IControllerActivator to handle the actual instantiation of the controller.</span></span>

<span data-ttu-id="5c4c5-607">Třída DefaultControllerFactory má nový konstruktor, který přijímá instanci IControllerFactory.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-607">The DefaultControllerFactory class has a new constructor that accepts an IControllerFactory instance.</span></span> <span data-ttu-id="5c4c5-608">To umožňuje použít vkládání závislostí pro správu tohoto aspektu vytváření kontroléru, aniž by bylo nutné přepsat výchozí chování při vyhledávání typu řadiče.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-608">This lets you apply Dependency Injection to manage this aspect of controller creation without having to override the default controller-type lookup behavior.</span></span>

#### <a name="iservicelocator-interface-replaced-with-idependencyresolver"></a><span data-ttu-id="5c4c5-609">Rozhraní IServiceLocator nahrazené IDependencyResolver</span><span class="sxs-lookup"><span data-stu-id="5c4c5-609">IServiceLocator Interface Replaced with IDependencyResolver</span></span>

<span data-ttu-id="5c4c5-610">V závislosti na názorech komunity nahradila verze ASP.NET MVC 3 beta použití rozhraní IServiceLocator s rozhraním slimmed IDependencyResolver, které je specifické pro potřeby ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-610">Based on community feedback, the ASP.NET MVC 3 Beta release has replaced the use of the IServiceLocator interface with a slimmed-down IDependencyResolver interface specific to the needs of ASP.NET MVC.</span></span> <span data-ttu-id="5c4c5-611">Následující příklad ukazuje nové rozhraní:</span><span class="sxs-lookup"><span data-stu-id="5c4c5-611">The following example shows the new interface:</span></span>

[!code-csharp[Main](mvc3-release-notes/samples/sample28.cs)]

<span data-ttu-id="5c4c5-612">V rámci této změny byla třída ServiceLocator nahrazena také třídou DependencyResolver.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-612">As part of this change, the ServiceLocator class was also replaced with the DependencyResolver class.</span></span> <span data-ttu-id="5c4c5-613">Registrace překladače závislostí se podobá starší verzi ASP.NET MVC:</span><span class="sxs-lookup"><span data-stu-id="5c4c5-613">Registration of a dependency resolver is similar to earlier versions of ASP.NET MVC:</span></span>

[!code-csharp[Main](mvc3-release-notes/samples/sample29.cs)]

<span data-ttu-id="5c4c5-614">Implementace tohoto rozhraní by měla jednoduše delegovat na podkladový kontejner injektáže závislosti a poskytnout tak registrovanou službu pro požadovaný typ.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-614">Implementations of this interface should simply delegate to the underlying dependency injection container to provide the registered service for the requested type.</span></span>

<span data-ttu-id="5c4c5-615">Pokud nejsou k dispozici žádné registrované služby požadovaného typu, ASP.NET MVC očekává, že implementace tohoto rozhraní vrátí hodnotu null ze služby GetService a vrátí prázdnou kolekci ze služeb GetService.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-615">When there are no registered services of the requested type, ASP.NET MVC expects implementations of this interface to return null from GetService and to return an empty collection from GetServices.</span></span>

<span data-ttu-id="5c4c5-616">Nová třída DependencyResolver umožňuje registrovat třídy, které implementují nové rozhraní IDependencyResolver nebo rozhraní IServiceLocator (Common Service Locator Interface).</span><span class="sxs-lookup"><span data-stu-id="5c4c5-616">The new DependencyResolver class lets you register classes that implement either the new IDependencyResolver interface or the Common Service Locator interface (IServiceLocator).</span></span> <span data-ttu-id="5c4c5-617">Další informace o běžných lokátorech služby najdete v tématu [CommonServiceLocator na GitHubu](https://github.com/unitycontainer/commonservicelocator).</span><span class="sxs-lookup"><span data-stu-id="5c4c5-617">For more information about Common Service Locator, see [CommonServiceLocator on GitHub](https://github.com/unitycontainer/commonservicelocator).</span></span>

<a id="0.1__Breaking_Changes"></a>

#### <a name="new-iviewactivator-interface-for-fine-grained-view-page-instantiation"></a><span data-ttu-id="5c4c5-618">Nové rozhraní IViewActivator pro detailní vytváření instancí stránky zobrazení</span><span class="sxs-lookup"><span data-stu-id="5c4c5-618">New IViewActivator Interface for Fine-Grained View Page Instantiation</span></span>

<span data-ttu-id="5c4c5-619">Nové rozhraní IViewPageActivator poskytuje podrobnější kontrolu nad tím, jak jsou stránky zobrazení vytvořeny pomocí injektáže závislostí.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-619">The new IViewPageActivator interface provides more fine-grained control over how view pages are instantiated via dependency injection.</span></span> <span data-ttu-id="5c4c5-620">To platí pro instance WebFormView i pro instance RazorView.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-620">This applies to both WebFormView instances and RazorView instances.</span></span> <span data-ttu-id="5c4c5-621">Následující příklad ukazuje nové rozhraní:</span><span class="sxs-lookup"><span data-stu-id="5c4c5-621">The following example shows the new interface:</span></span>

[!code-csharp[Main](mvc3-release-notes/samples/sample30.cs)]

<span data-ttu-id="5c4c5-622">Tyto třídy nyní přijímají argument konstruktoru IViewPageActivator, který umožňuje použití injektáže závislosti k řízení, jak jsou vytvořeny instance ViewPage, ViewUserControl a WebViewPage.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-622">These classes now accept an IViewPageActivator constructor argument, which lets you use dependency injection to control how the ViewPage, ViewUserControl, and WebViewPage types are instantiated.</span></span>

#### <a name="new-dependency-resolver-support-for-existing-services"></a><span data-ttu-id="5c4c5-623">Nová podpora překladače závislostí pro existující služby</span><span class="sxs-lookup"><span data-stu-id="5c4c5-623">New Dependency Resolver Support for Existing Services</span></span>

<span data-ttu-id="5c4c5-624">Nová verze zahrnuje podporu překladu závislostí pro následující služby:</span><span class="sxs-lookup"><span data-stu-id="5c4c5-624">The new release includes dependency resolution support for the following services:</span></span>

- <span data-ttu-id="5c4c5-625">Poskytovatelé ověřování modelu.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-625">Model validation providers.</span></span> <span data-ttu-id="5c4c5-626">Třídy, které implementují ModelValidatorProvider, můžou být zaregistrované v překladači závislostí a systém je bude používat k podpoře ověřování na straně klienta a serveru.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-626">Classes that implement ModelValidatorProvider can be registered in the dependency resolver, and the system will use them to support client- and server-side validation.</span></span>
- <span data-ttu-id="5c4c5-627">Poskytovatel metadat modelu</span><span class="sxs-lookup"><span data-stu-id="5c4c5-627">Model metadata provider.</span></span> <span data-ttu-id="5c4c5-628">Jedna třída, která implementuje ModelMetadataProvider, může být registrována v překladači závislostí a systém ji bude používat k poskytování metadat pro šablonování a ověřovací systémy.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-628">A single class that implements ModelMetadataProvider can be registered in the dependency resolver, and the system will use it to provide metadata for the templating and validation systems.</span></span>
- <span data-ttu-id="5c4c5-629">Zprostředkovatelé hodnot.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-629">Value providers.</span></span> <span data-ttu-id="5c4c5-630">Třídy, které implementují ValueProviderFactory, mohou být registrovány v překladači závislostí a systém je bude používat k vytvoření zprostředkovatelů hodnot, které jsou spotřebovány řadičem a během vazby modelu.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-630">Classes that implement ValueProviderFactory can be registered in the dependency resolver, and the system will use them to create value providers that are consumed by the controller and during model binding.</span></span>
- <span data-ttu-id="5c4c5-631">Pořadače modelů.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-631">Model binders.</span></span> <span data-ttu-id="5c4c5-632">Třídy, které implementují IModelBinderProvider, mohou být registrovány v překladači závislostí a systém je bude používat k vytváření pořadačů modelů, které jsou spotřebovány systémem vazby modelu.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-632">Classes that implement IModelBinderProvider can be registered in the dependency resolver, and the system will use them to create model binders that are consumed by the model binding system.</span></span>

### <a id="0.1__Toc274034221"></a><span data-ttu-id="5c4c5-633">Nová podpora pro nenápad AJAX na bázi jQuery</span><span class="sxs-lookup"><span data-stu-id="5c4c5-633">New Support for Unobtrusive jQuery-Based Ajax</span></span>

<span data-ttu-id="5c4c5-634">ASP.NET MVC obsahuje pomocné metody AJAX, například následující:</span><span class="sxs-lookup"><span data-stu-id="5c4c5-634">ASP.NET MVC includes Ajax helper methods such as the following:</span></span>

- <span data-ttu-id="5c4c5-635">AJAX. ActionLink</span><span class="sxs-lookup"><span data-stu-id="5c4c5-635">Ajax.ActionLink</span></span>
- <span data-ttu-id="5c4c5-636">AJAX. RouteLink</span><span class="sxs-lookup"><span data-stu-id="5c4c5-636">Ajax.RouteLink</span></span>
- <span data-ttu-id="5c4c5-637">AJAX. BeginForm</span><span class="sxs-lookup"><span data-stu-id="5c4c5-637">Ajax.BeginForm</span></span>
- <span data-ttu-id="5c4c5-638">AJAX. BeginRouteForm</span><span class="sxs-lookup"><span data-stu-id="5c4c5-638">Ajax.BeginRouteForm</span></span>

<span data-ttu-id="5c4c5-639">Tyto metody používají JavaScript k vyvolání metody akce na serveru místo použití úplného zpětného volání.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-639">These methods use JavaScript to invoke an action method on the server rather than using a full postback.</span></span> <span data-ttu-id="5c4c5-640">Tato funkce se aktualizovala tak, aby využívala nenápadný způsob.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-640">This functionality has been updated to take advantage of jQuery in an unobtrusive manner.</span></span> <span data-ttu-id="5c4c5-641">Namísto rušivého vygenerování vložených klientských skriptů tyto pomocné metody oddělují chování od značky tím, že generují atributy HTML5 pomocí předpony *data-AJAX* .</span><span class="sxs-lookup"><span data-stu-id="5c4c5-641">Rather than intrusively emitting inline client scripts, these helper methods separate the behavior from the markup by emitting HTML5 attributes using the *data-ajax* prefix.</span></span> <span data-ttu-id="5c4c5-642">Chování se pak aplikuje na značky odkazem na příslušné soubory JavaScriptu.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-642">Behavior is then applied to the markup by referencing the appropriate JavaScript files.</span></span> <span data-ttu-id="5c4c5-643">Ujistěte se, že jsou odkazovány následující soubory jazyka JavaScript:</span><span class="sxs-lookup"><span data-stu-id="5c4c5-643">Make sure that the following JavaScript files are referenced:</span></span>

- <span data-ttu-id="5c4c5-644">jQuery 1.4.1. js</span><span class="sxs-lookup"><span data-stu-id="5c4c5-644">jquery-1.4.1.js</span></span>
- <span data-ttu-id="5c4c5-645">jQuery. unnápad. Ajax. js</span><span class="sxs-lookup"><span data-stu-id="5c4c5-645">jquery.unobtrusive.ajax.js</span></span>

<span data-ttu-id="5c4c5-646">Tato funkce je ve výchozím nastavení povolená v souboru Web. config v ASP.NET MVC 3 nové šablony projektu, ale ve výchozím nastavení je pro existující projekty zakázané.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-646">This feature is enabled by default in the Web.config file in the ASP.NET MVC 3 new project templates, but is disabled by default for existing projects.</span></span> <span data-ttu-id="5c4c5-647">Další informace najdete v tématu [přidané příznaky pro aplikaci pro ověřování klientů a](#0.1_AddedApplicationWideFlagsForClientValida) nenáročného JavaScriptu na později v tomto dokumentu.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-647">For more information, see [Added application-wide flags for client validation and unobtrusive JavaScript](#0.1_AddedApplicationWideFlagsForClientValida) later in this document.</span></span>

### <a id="0.1__Toc274034222"></a><span data-ttu-id="5c4c5-648">Nová podpora pro nenápadné ověřování jQuery</span><span class="sxs-lookup"><span data-stu-id="5c4c5-648">New Support for Unobtrusive jQuery Validation</span></span>

<span data-ttu-id="5c4c5-649">Ve výchozím nastavení používá ASP.NET MVC 3 beta nezpůsobující ověřování jQuery, aby bylo možné provádět ověřování na straně klienta.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-649">By default, ASP.NET MVC 3 Beta uses jQuery validation in an unobtrusive manner in order to perform client-side validation.</span></span> <span data-ttu-id="5c4c5-650">Pokud chcete povolit nenápadné ověřování klientů, udělejte v zobrazení volání jako v následujícím seznamu:</span><span class="sxs-lookup"><span data-stu-id="5c4c5-650">To enable unobtrusive client validation, make a call like the following from within a view:</span></span>

[!code-csharp[Main](mvc3-release-notes/samples/sample31.cs)]

<span data-ttu-id="5c4c5-651">To vyžaduje, aby vlastnost ViewContext. UnobtrusiveJavaScriptEnabled byla nastavena na hodnotu true, což lze provést provedením následujících volání:</span><span class="sxs-lookup"><span data-stu-id="5c4c5-651">This requires that ViewContext.UnobtrusiveJavaScriptEnabled property is set to true, which you can do by making the following call:</span></span>

[!code-csharp[Main](mvc3-release-notes/samples/sample32.cs)]

<span data-ttu-id="5c4c5-652">Také se ujistěte, že jsou odkazovány následující soubory jazyka JavaScript.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-652">Also make sure the following JavaScript files are referenced.</span></span>

- <span data-ttu-id="5c4c5-653">jQuery 1.4.1. js</span><span class="sxs-lookup"><span data-stu-id="5c4c5-653">jquery-1.4.1.js</span></span>
- <span data-ttu-id="5c4c5-654">jQuery. Validate. js</span><span class="sxs-lookup"><span data-stu-id="5c4c5-654">jquery.validate.js</span></span>
- <span data-ttu-id="5c4c5-655">jQuery. Validate. nenáročná. js</span><span class="sxs-lookup"><span data-stu-id="5c4c5-655">jquery.validate.unobtrusive.js</span></span>

<span data-ttu-id="5c4c5-656">Tato funkce je ve výchozím nastavení povolená v souboru Web. config v ASP.NET MVC 3 nové šablony projektu, ale ve výchozím nastavení je pro existující projekty zakázané.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-656">This feature is enabled on by default in the Web.config file in the ASP.NET MVC 3 new project templates, but is disabled by default for existing projects.</span></span> <span data-ttu-id="5c4c5-657">Další informace najdete v tématu [nové příznaky pro ověřování klientů v úrovni aplikace a](#0.1_AddedApplicationWideFlagsForClientValida) nenáročného JavaScriptu v tomto dokumentu.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-657">For more information, see [New application-wide flags for client validation and unobtrusive JavaScript](#0.1_AddedApplicationWideFlagsForClientValida) later in this document.</span></span>

<a id="0.1__Toc274034223"></a>

### <a id="0.1_AddedApplicationWideFlagsForClientValida"></a><span data-ttu-id="5c4c5-658">Nové příznaky pro aplikaci pro ověřování klienta a nenáročnému JavaScriptu</span><span class="sxs-lookup"><span data-stu-id="5c4c5-658">New Application-Wide Flags for Client Validation and Unobtrusive JavaScript</span></span>

<span data-ttu-id="5c4c5-659">Můžete povolit nebo zakázat ověřování klienta a nenápadit globálně JavaScript pomocí statických členů třídy HtmlHelper, jak je uvedeno v následujícím příkladu:</span><span class="sxs-lookup"><span data-stu-id="5c4c5-659">You can enable or disable client validation and unobtrusive JavaScript globally using static members of the HtmlHelper class, as in the following example:</span></span>

[!code-csharp[Main](mvc3-release-notes/samples/sample33.cs)]

<span data-ttu-id="5c4c5-660">Výchozí šablony projektu umožňují ve výchozím nastavení nenápadný JavaScript.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-660">The default project templates enable unobtrusive JavaScript by default.</span></span> <span data-ttu-id="5c4c5-661">Tyto funkce můžete povolit nebo zakázat v kořenovém souboru Web. config aplikace pomocí následujících nastavení:</span><span class="sxs-lookup"><span data-stu-id="5c4c5-661">You can also enable or disable these features in the root Web.config file of your application using the following settings:</span></span>

[!code-xml[Main](mvc3-release-notes/samples/sample34.xml)]

<span data-ttu-id="5c4c5-662">Vzhledem k tomu, že tyto funkce můžete ve výchozím nastavení povolit, byly do třídy HtmlHelper zavedena nová přetížení, která umožňují přepsat výchozí nastavení, jak je znázorněno v následujících příkladech:</span><span class="sxs-lookup"><span data-stu-id="5c4c5-662">Because you can enable these features by default, new overloads were introduced to the HtmlHelper class that let you override the default settings, as shown in the following examples:</span></span>

[!code-csharp[Main](mvc3-release-notes/samples/sample35.cs)]

<span data-ttu-id="5c4c5-663">Z důvodu zpětné kompatibility jsou obě tyto funkce ve výchozím nastavení zakázané.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-663">For backward compatibility, both of these features are disabled by default.</span></span>

### <a id="0.1__Toc274034224"></a><span data-ttu-id="5c4c5-664">Nová podpora kódu, který se spouští před spuštěním zobrazení</span><span class="sxs-lookup"><span data-stu-id="5c4c5-664">New Support for Code that Runs Before Views Run</span></span>

<span data-ttu-id="5c4c5-665">Nyní můžete umístit soubor s názvem \_viewstart. cshtml (nebo \_viewstart. vbhtml) do adresáře views a přidat do něj kód, který bude sdílen mezi více zobrazeními v tomto adresáři a jeho podadresáři.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-665">You can now put a file named \_viewstart.cshtml (or \_viewstart.vbhtml) in the Views directory and add code to it that will be shared among multiple views in that directory and its subdirectories.</span></span> <span data-ttu-id="5c4c5-666">Například můžete vložit následující kód do stránky \_viewstart. cshtml ve složce ~/Views:</span><span class="sxs-lookup"><span data-stu-id="5c4c5-666">For example, you might put the following code into the \_viewstart.cshtml page in the ~/Views folder:</span></span>

[!code-cshtml[Main](mvc3-release-notes/samples/sample36.cshtml)]

<span data-ttu-id="5c4c5-667">Tím nastavíte stránku rozložení pro každé zobrazení ve složce zobrazení a všechny její podsložky rekurzivně.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-667">This sets the layout page for every view within the Views folder and all its subfolders recursively.</span></span> <span data-ttu-id="5c4c5-668">Při vykreslování zobrazení se kód v souboru \_viewstart. cshtml spustí před spuštěním kódu zobrazení.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-668">When a view is being rendered, the code in the \_viewstart.cshtml file runs before the view code runs.</span></span> <span data-ttu-id="5c4c5-669">Kód \_viewstart. cshtml se vztahuje na všechna zobrazení v této složce.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-669">The \_viewstart.cshtml code applies to every view in that folder.</span></span>

<span data-ttu-id="5c4c5-670">Ve výchozím nastavení se kód v souboru \_viewstart. cshtml vztahuje také na zobrazení v jakékoli podsložce.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-670">By default, the code in the \_viewstart.cshtml file also applies to views in any subfolder.</span></span> <span data-ttu-id="5c4c5-671">Jednotlivé podsložky však mohou mít vlastní verzi souboru \_viewstart. cshtml; v takovém případě má přednost místní verze.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-671">However, individual subfolders can have their own version of the \_viewstart.cshtml file; in that case, the local version takes precedence.</span></span> <span data-ttu-id="5c4c5-672">Chcete-li například spustit kód, který je společný pro všechna zobrazení pro HomeController, \_vložte soubor viewstart. cshtml do složky ~/Views/Home.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-672">For example, to run code that is common to all views for the HomeController, put a \_viewstart.cshtml file in the ~/Views/Home folder.</span></span>

### <a id="0.1__Toc274034225"></a><span data-ttu-id="5c4c5-673">Nová podpora pro syntaxi VBHTML Razor</span><span class="sxs-lookup"><span data-stu-id="5c4c5-673">New Support for the VBHTML Razor Syntax</span></span>

<span data-ttu-id="5c4c5-674">Předchozí ASP.NET MVC Preview zahrnuje podporu pro zobrazení pomocí syntaxe Razor založené na C#.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-674">The previous ASP.NET MVC preview included support for views using Razor syntax based on C#.</span></span> <span data-ttu-id="5c4c5-675">V těchto zobrazeních se používá Přípona souboru. cshtml.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-675">These views use the .cshtml file extension.</span></span> <span data-ttu-id="5c4c5-676">V rámci průběžné práce na podporu Razor zavádí ASP.NET MVC 3 beta podporu syntaxe Razor v Visual Basic, která používá příponu souboru. vbhtml.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-676">As part of ongoing work to support Razor, the ASP.NET MVC 3 Beta introduces support for the Razor syntax in Visual Basic, which uses the .vbhtml file extension.</span></span>

<span data-ttu-id="5c4c5-677">Úvod k použití syntaxe Visual Basic na stránkách VBHTML najdete v kurzu na následující adrese URL:</span><span class="sxs-lookup"><span data-stu-id="5c4c5-677">For an introduction to using Visual Basic syntax in VBHTML pages, see the tutorial at the following URL:</span></span>

[https://www.asp.net/webmatrix/tutorials/asp-net-web-pages-visual-basic](../web-pages/overview/getting-started/introducing-razor-syntax-vb.md)

### <a id="0.1__Toc274034226"></a><span data-ttu-id="5c4c5-678">Přesnější řízení nad ValidateInputAttribute</span><span class="sxs-lookup"><span data-stu-id="5c4c5-678">More Granular Control over ValidateInputAttribute</span></span>

<span data-ttu-id="5c4c5-679">ASP.NET MVC má vždycky zahrnutou třídu ValidateInputAttribute, která volá základní infrastrukturu ověřování žádostí ASP.NET, aby se zajistilo, že příchozí požadavek neobsahuje potenciálně škodlivý vstup.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-679">ASP.NET MVC has always included the ValidateInputAttribute class, which invokes the core ASP.NET request validation infrastructure to make sure that the incoming request does not contain potentially malicious input.</span></span> <span data-ttu-id="5c4c5-680">Ve výchozím nastavení je povoleno ověřování vstupu.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-680">By default, input validation is enabled.</span></span> <span data-ttu-id="5c4c5-681">Ověření žádosti je možné zakázat pomocí atributu ValidateInputAttribute, jak je znázorněno v následujícím příkladu:</span><span class="sxs-lookup"><span data-stu-id="5c4c5-681">It is possible to disable request validation by using the ValidateInputAttribute attribute, as in the following example:</span></span>

[!code-csharp[Main](mvc3-release-notes/samples/sample37.cs)]

<span data-ttu-id="5c4c5-682">Mnoho webových aplikací však má jednotlivá pole formuláře, která musí umožňovat jazyk HTML, zatímco zbývající pole by neměla.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-682">However, many web applications have individual form fields that need to allow HTML, while the remaining fields should not.</span></span> <span data-ttu-id="5c4c5-683">Třída ValidateInputAttribute nyní umožňuje zadat seznam polí, která by neměla být obsažena v žádosti o ověření.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-683">The ValidateInputAttribute class now lets you specify a list of fields that should not be included in request validation.</span></span>

<span data-ttu-id="5c4c5-684">Pokud například vyvíjíte modul blogu, možná budete chtít v poli tělo a souhrnu použít označení.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-684">For example, if you are developing a blog engine, you might want to allow markup in the Body and Summary fields.</span></span> <span data-ttu-id="5c4c5-685">Tato pole mohou být reprezentovány dvěma vstupními prvky, každý s atributem názvu odpovídajícím názvu vlastnosti ("tělo" a "summary").</span><span class="sxs-lookup"><span data-stu-id="5c4c5-685">These fields might be represented by two input element, each with a name attribute corresponding to the property name ("Body" and "Summary").</span></span> <span data-ttu-id="5c4c5-686">Chcete-li zakázat ověření žádosti pouze pro tato pole, zadejte názvy (oddělené čárkami) ve vlastnosti Exclude třídy metodě ValidateInput, jak je uvedeno v následujícím příkladu:</span><span class="sxs-lookup"><span data-stu-id="5c4c5-686">To disable request validation for these fields only, specify the names (comma-separated) in the Exclude property of the ValidateInput class, as in the following example:</span></span>

[!code-csharp[Main](mvc3-release-notes/samples/sample38.cs)]

### <a id="0.1__Toc274034227"></a><span data-ttu-id="5c4c5-687">Pomáhat pomocníkům při převodu podtržítek na spojovníky názvů atributů HTML zadaných pomocí anonymních objektů</span><span class="sxs-lookup"><span data-stu-id="5c4c5-687">Helpers Convert Underscores to Hyphens for HTML Attribute Names Specified Using Anonymous Objects</span></span>

<span data-ttu-id="5c4c5-688">Pomocné metody umožňují zadat páry název-hodnota atributu pomocí anonymního objektu, jak je uvedeno v následujícím příkladu:</span><span class="sxs-lookup"><span data-stu-id="5c4c5-688">Helper methods let you specify attribute name/value pairs using an anonymous object, as in the following example:</span></span>

[!code-csharp[Main](mvc3-release-notes/samples/sample39.cs)]

<span data-ttu-id="5c4c5-689">Tento přístup neumožňuje používat spojovníky v názvu atributu, protože spojovník nelze použít pro název vlastnosti v ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-689">This approach doesn't let you use hyphens in the attribute name, because a hyphen cannot be used for a property name in ASP.NET.</span></span> <span data-ttu-id="5c4c5-690">Pomlčky jsou však důležité pro vlastní atributy HTML5; HTML5 například používá předponu "data-".</span><span class="sxs-lookup"><span data-stu-id="5c4c5-690">However, hyphens are important for custom HTML5 attributes; for example, HTML5 uses the "data-" prefix.</span></span>

<span data-ttu-id="5c4c5-691">Ve stejnou dobu nelze podtržítka použít pro názvy atributů ve formátu HTML, ale jsou platné v rámci názvů vlastností.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-691">At the same time, underscores cannot be used for attribute names in HTML, but are valid within property names.</span></span> <span data-ttu-id="5c4c5-692">Proto pokud zadáte atributy pomocí anonymního objektu a pokud názvy atributů obsahují podtržítko,, pomocné metody převedou podtržítka na spojovníky.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-692">Therefore, if you specify attributes using an anonymous object, and if the attribute names include an underscore,, helper methods will convert the underscores to hyphens.</span></span> <span data-ttu-id="5c4c5-693">Například následující syntaxe pomocníka používá podtržítko:</span><span class="sxs-lookup"><span data-stu-id="5c4c5-693">For example, the following helper syntax uses an underscore:</span></span>

[!code-csharp[Main](mvc3-release-notes/samples/sample40.cs)]

<span data-ttu-id="5c4c5-694">Předchozí příklad vykresluje následující kód při spuštění pomocníka:</span><span class="sxs-lookup"><span data-stu-id="5c4c5-694">The previous example renders the following markup when the helper runs:</span></span>

[!code-html[Main](mvc3-release-notes/samples/sample41.html)]

## <a id="0.1__Toc274034228"></a><span data-ttu-id="5c4c5-695">Opravy chyb</span><span class="sxs-lookup"><span data-stu-id="5c4c5-695">Bug Fixes</span></span>

<span data-ttu-id="5c4c5-696">Výchozí šablona objektu pro pomocníky šablony EditorFor a DisplayFor teď podporuje řazení určené ve vlastnosti DisplayAttribute. Order.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-696">The default object template for the EditorFor and DisplayFor template helpers now supports the ordering specified in the DisplayAttribute.Order property.</span></span> <span data-ttu-id="5c4c5-697">(V předchozích verzích se nastavení Order nepoužilo.)</span><span class="sxs-lookup"><span data-stu-id="5c4c5-697">(In previous versions, the Order setting was not used.)</span></span>

<span data-ttu-id="5c4c5-698">Ověřování klienta teď podporuje ověřování přepsaných vlastností, u kterých se aplikují atributy ověřování.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-698">Client validation now supports validation of overridden properties that have validation attributes applied.</span></span>

<span data-ttu-id="5c4c5-699">Služba JsonValueProviderFactory je nyní registrována ve výchozím nastavení.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-699">JsonValueProviderFactory is now registered by default.</span></span>

## <a id="0.1__Toc274034229"></a><span data-ttu-id="5c4c5-700">Průlomové změny</span><span class="sxs-lookup"><span data-stu-id="5c4c5-700">Breaking Changes</span></span>

<span data-ttu-id="5c4c5-701">Pořadí spouštění pro filtry výjimek se změnilo pro filtry výjimek, které mají stejnou hodnotu Order.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-701">The order of execution for exception filters has changed for exception filters that have the same Order value.</span></span> <span data-ttu-id="5c4c5-702">V ASP.NET MVC 2 a starších verzích filtry výjimek na kontroleru se stejným pořadím jako u metody Action byly provedeny před filtry výjimek v metodě Action.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-702">In ASP.NET MVC 2 and earlier, exception filters on the controller with the same Order as those on an action method were executed before the exception filters on the action method.</span></span> <span data-ttu-id="5c4c5-703">Obvykle se jedná o případ, kdy byly filtry výjimek aplikovány bez zadané hodnoty pořadí.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-703">This would typically be the case when exception filters were applied without a specified Order value.</span></span> <span data-ttu-id="5c4c5-704">V ASP.NET MVC 3 bylo toto pořadí obráceno, aby se nejdříve nastavila většina specifická obslužná rutina výjimky.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-704">In ASP.NET MVC 3, this order has been reversed so that the most specific exception handler executes first.</span></span> <span data-ttu-id="5c4c5-705">V případě, že je vlastnost Order explicitně určena jako v dřívějších verzích, jsou filtry spouštěny v zadaném pořadí.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-705">As in earlier versions, if the Order property is explicitly specified, the filters are run in the specified order.</span></span>

## <a id="0.1__Toc274034230"></a><span data-ttu-id="5c4c5-706">Známé problémy</span><span class="sxs-lookup"><span data-stu-id="5c4c5-706">Known Issues</span></span>

<span data-ttu-id="5c4c5-707">Během instalace se v dialogovém okně přijetí smlouvy EULA zobrazí licenční podmínky v okně, které je menší než určené.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-707">During installation, the EULA acceptance dialog box displays the license terms in a window that is smaller than intended.</span></span>

<span data-ttu-id="5c4c5-708">Zobrazení Razor nemají podporu technologie IntelliSense ani zvýrazňování syntaxe.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-708">Razor views do not have IntelliSense support nor syntax highlighting.</span></span> <span data-ttu-id="5c4c5-709">Očekává se, že podpora pro syntaxe Razor v aplikaci Visual Studio bude zahrnutá jako součást novější verze.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-709">It is anticipated that support for Razor syntax in Visual Studio will be included as part of a later release.</span></span>

<span data-ttu-id="5c4c5-710">Při úpravách zobrazení Razor (soubor cshtml) <a id="0.1__Toc224729061"></a> <a id="0.1__Toc238051347"></a> nebude k dispozici položka nabídky přejít na řadič v aplikaci Visual Studio a neexistují žádné fragmenty kódu.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-710">When you are editing a Razor view (CSHTML file), the <a id="0.1__Toc224729061"></a><a id="0.1__Toc238051347"></a> Go To Controller menu item in Visual Studio will not be available, and there are no code snippets.</span></span>

<span data-ttu-id="5c4c5-711">Při použití syntaxe @model pro určení silně typovaného zobrazení CSHTML nejsou rozpoznány jazykové zkratky pro typy.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-711">When using the @model syntax to specify a strongly typed CSHTML view, language-specific shortcuts for types are not recognized.</span></span> <span data-ttu-id="5c4c5-712">Například @model int nebude fungovat, ale @model Int32 bude fungovat.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-712">For example, @model int will not work, but @model Int32 will work.</span></span> <span data-ttu-id="5c4c5-713">Alternativním řešením pro tuto chybu je použití skutečného názvu typu při zadání typu modelu.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-713">The workaround for this bug is to use the actual type name when you specify the model type.</span></span>

<span data-ttu-id="5c4c5-714">Při použití syntaxe @model k určení silně typovaného zobrazení CSHTML (nebo @ModelType určení zobrazení typu VBHTML se silným typem) nejsou podporované typy s možnou hodnotou null a deklarace polí.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-714">When using the @model syntax to specify a strongly typed CSHTML view (or @ModelType to specify a strongly typed VBHTML view), nullable types and array declarations are not supported.</span></span> <span data-ttu-id="5c4c5-715">Například @model int? není podporováno.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-715">For example, @model int? is not supported.</span></span> <span data-ttu-id="5c4c5-716">Použijte místo toho `@model Nullable<Int32>`.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-716">Instead, use `@model Nullable<Int32>`.</span></span> <span data-ttu-id="5c4c5-717">Syntaxe @model řetězec [] není také podporována; místo toho použijte `@model IList<string>`.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-717">The syntax @model string[] is also not supported; instead, use `@model IList<string>`.</span></span>

<span data-ttu-id="5c4c5-718">Při upgradu projektu ASP.NET MVC 2 na ASP.NET MVC 3 nezapomeňte přidat následující do oddílu appSettings souboru Web. config:</span><span class="sxs-lookup"><span data-stu-id="5c4c5-718">When you upgrade an ASP.NET MVC 2 project to ASP.NET MVC 3, make sure to add the following to the appSettings section of the Web.config file:</span></span>

[!code-xml[Main](mvc3-release-notes/samples/sample42.xml)]

<span data-ttu-id="5c4c5-719">Došlo k známému problému, který způsobí, že ověřování pomocí formulářů vždy přesměruje neověřené uživatele na ~/Account/Login a ignoruje nastavení ověřování pomocí formulářů použité v souboru Web. config. Alternativním řešením je přidat následující nastavení aplikace.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-719">There's a known issue that causes Forms Authentication to always redirect unauthenticated users to ~/Account/Login, ignoring the forms authentication setting used in Web.config. The workaround is to add the following app setting.</span></span>

[!code-xml[Main](mvc3-release-notes/samples/sample43.xml)]

## <a id="0.1__Toc274034231"></a><span data-ttu-id="5c4c5-720">Právní omezení</span><span class="sxs-lookup"><span data-stu-id="5c4c5-720">Disclaimer</span></span>

<span data-ttu-id="5c4c5-721">© 2011 Microsoft Corporation.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-721">© 2011 Microsoft Corporation.</span></span> <span data-ttu-id="5c4c5-722">Všechna práva vyhrazena.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-722">All rights reserved.</span></span> <span data-ttu-id="5c4c5-723">Tento dokument se poskytuje "tak, jak je".</span><span class="sxs-lookup"><span data-stu-id="5c4c5-723">This document is provided "as-is."</span></span> <span data-ttu-id="5c4c5-724">Informace a názory vyjádřené v tomto dokumentu, včetně adres URL a dalších odkazů na internetové weby, se mohou bez předchozího oznámení změnit.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-724">Information and views expressed in this document, including URL and other Internet Web site references, may change without notice.</span></span> <span data-ttu-id="5c4c5-725">Berete na sebe rizika spojená s jeho používáním.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-725">You bear the risk of using it.</span></span>

<span data-ttu-id="5c4c5-726">Tento dokument vám neposkytuje žádná zákonná práva k žádnému duševnímu vlastnictví v jakémkoli produktu společnosti Microsoft.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-726">This document does not provide you with any legal rights to any intellectual property in any Microsoft product.</span></span> <span data-ttu-id="5c4c5-727">Tento dokument můžete kopírovat a používat pro vaše interní referenční účely.</span><span class="sxs-lookup"><span data-stu-id="5c4c5-727">You may copy and use this document for your internal, reference purposes.</span></span>
