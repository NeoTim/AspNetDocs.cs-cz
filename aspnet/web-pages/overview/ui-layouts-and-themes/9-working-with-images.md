---
uid: web-pages/overview/ui-layouts-and-themes/9-working-with-images
title: Práce s obrázky na webu ASP.NET Web Pages (Razor) | Microsoft Docs
author: Rick-Anderson
description: V této kapitole se dozvíte, jak přidat, zobrazit a manipulovat s obrázky (změnit velikost, překlopit a přidat meze) na vašem webu.
ms.author: riande
ms.date: 02/20/2014
ms.assetid: 778c4e58-4372-4d25-bab9-aec4a8d8e38d
msc.legacyurl: /web-pages/overview/ui-layouts-and-themes/9-working-with-images
msc.type: authoredcontent
ms.openlocfilehash: 53514b3c314fc182a43c82974ffcfa8158a636a1
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 03/06/2020
ms.locfileid: "78631857"
---
# <a name="working-with-images-in-an-aspnet-web-pages-razor-site"></a><span data-ttu-id="dfb6b-103">Práce s obrázky na webu ASP.NET Web Pages (Razor)</span><span class="sxs-lookup"><span data-stu-id="dfb6b-103">Working with Images in an ASP.NET Web Pages (Razor) Site</span></span>

<span data-ttu-id="dfb6b-104">tím, že [FitzMacken](https://github.com/tfitzmac)</span><span class="sxs-lookup"><span data-stu-id="dfb6b-104">by [Tom FitzMacken](https://github.com/tfitzmac)</span></span>

> <span data-ttu-id="dfb6b-105">V tomto článku se dozvíte, jak přidat, zobrazit a manipulovat s obrázky (Změna velikosti, překlopení a přidání vodoznaků) na webu ASP.NET Web Pages (Razor).</span><span class="sxs-lookup"><span data-stu-id="dfb6b-105">This article shows you how to add, display, and manipulate images (resize, flip, and add watermarks) in an ASP.NET Web Pages (Razor) website.</span></span>
> 
> <span data-ttu-id="dfb6b-106">Naučíte se:</span><span class="sxs-lookup"><span data-stu-id="dfb6b-106">What you'll learn:</span></span>
> 
> - <span data-ttu-id="dfb6b-107">Jak dynamicky přidat obrázek na stránku</span><span class="sxs-lookup"><span data-stu-id="dfb6b-107">How to add an image to a page dynamically.</span></span>
> - <span data-ttu-id="dfb6b-108">Jak umožnit uživatelům odeslat obrázek.</span><span class="sxs-lookup"><span data-stu-id="dfb6b-108">How to let users upload an image.</span></span>
> - <span data-ttu-id="dfb6b-109">Jak změnit velikost obrázku</span><span class="sxs-lookup"><span data-stu-id="dfb6b-109">How to resize an image.</span></span>
> - <span data-ttu-id="dfb6b-110">Jak překlopit nebo otočit obrázek</span><span class="sxs-lookup"><span data-stu-id="dfb6b-110">How to flip or rotate an image.</span></span>
> - <span data-ttu-id="dfb6b-111">Postup přidání vodoznaku do obrázku</span><span class="sxs-lookup"><span data-stu-id="dfb6b-111">How to add a watermark to an image.</span></span>
> - <span data-ttu-id="dfb6b-112">Použití obrázku jako meze.</span><span class="sxs-lookup"><span data-stu-id="dfb6b-112">How to use an image as a watermark.</span></span>
> 
> <span data-ttu-id="dfb6b-113">Jedná se o funkce ASP.NET programování, které jsou představené v článku:</span><span class="sxs-lookup"><span data-stu-id="dfb6b-113">These are the ASP.NET programming features introduced in the article:</span></span>
> 
> - <span data-ttu-id="dfb6b-114">Pomocná rutina `WebImage`</span><span class="sxs-lookup"><span data-stu-id="dfb6b-114">The `WebImage` helper.</span></span>
> - <span data-ttu-id="dfb6b-115">Objekt `Path`, který poskytuje metody, které umožňují pracovat s cestami a názvy souborů.</span><span class="sxs-lookup"><span data-stu-id="dfb6b-115">The `Path` object, which provides methods that let you manipulate path and file names.</span></span>
>   
> 
> ## <a name="software-versions-used-in-the-tutorial"></a><span data-ttu-id="dfb6b-116">Verze softwaru použité v tomto kurzu</span><span class="sxs-lookup"><span data-stu-id="dfb6b-116">Software versions used in the tutorial</span></span>
> 
> 
> - <span data-ttu-id="dfb6b-117">Webové stránky ASP.NET (Razor) 2</span><span class="sxs-lookup"><span data-stu-id="dfb6b-117">ASP.NET Web Pages (Razor) 2</span></span>
> - <span data-ttu-id="dfb6b-118">WebMatrix 2</span><span class="sxs-lookup"><span data-stu-id="dfb6b-118">WebMatrix 2</span></span>
>   
> 
> <span data-ttu-id="dfb6b-119">V tomto kurzu se používá také WebMatrix 3.</span><span class="sxs-lookup"><span data-stu-id="dfb6b-119">This tutorial also works with WebMatrix 3.</span></span>

<a id="Adding_an_Image"></a>
## <a name="adding-an-image-to-a-web-page-dynamically"></a><span data-ttu-id="dfb6b-120">Dynamické přidání obrázku na webovou stránku</span><span class="sxs-lookup"><span data-stu-id="dfb6b-120">Adding an Image to a Web Page Dynamically</span></span>

<span data-ttu-id="dfb6b-121">Při vývoji webu můžete přidat obrázky na svůj web a na jednotlivé stránky.</span><span class="sxs-lookup"><span data-stu-id="dfb6b-121">You can add images to your website and to individual pages while you're developing the website.</span></span> <span data-ttu-id="dfb6b-122">Můžete také umožnit uživatelům odeslat obrázky, které mohou být užitečné pro úlohy, jako je například umožnění Přidání fotografie profilu.</span><span class="sxs-lookup"><span data-stu-id="dfb6b-122">You can also let users upload images, which might be useful for tasks like letting them add a profile photo.</span></span>

<span data-ttu-id="dfb6b-123">Pokud je obrázek již na vašem webu k dispozici a chcete jej pouze zobrazit na stránce, použijte prvek HTML `<img>` takto:</span><span class="sxs-lookup"><span data-stu-id="dfb6b-123">If an image is already available on your site and you just want to display it on a page, you use an HTML `<img>` element like this:</span></span>

[!code-html[Main](9-working-with-images/samples/sample1.html)]

<span data-ttu-id="dfb6b-124">Někdy je ale potřeba, abyste mohli obrázky dynamicky &#8212; zobrazovat, ale nevíte, jaký obrázek chcete zobrazit, dokud stránka neběží.</span><span class="sxs-lookup"><span data-stu-id="dfb6b-124">Sometimes, though, you need to be able to display images dynamically &#8212; that is, you don't know what image to display until the page is running.</span></span>

<span data-ttu-id="dfb6b-125">Postup v této části ukazuje, jak zobrazit obrázek průběžně, kde uživatelé určují název souboru obrázku ze seznamu názvů obrázků.</span><span class="sxs-lookup"><span data-stu-id="dfb6b-125">The procedure in this section shows how to display an image on the fly where users specify the image file name from a list of image names.</span></span> <span data-ttu-id="dfb6b-126">Vyberou název obrázku z rozevíracího seznamu a při odeslání stránky se zobrazí obrázek, který vybrali.</span><span class="sxs-lookup"><span data-stu-id="dfb6b-126">They select the name of the image from a drop-down list, and when they submit the page, the image they selected is displayed.</span></span>

<span data-ttu-id="dfb6b-127">![obrazu](9-working-with-images/_static/image1.jpg "ch9images-1. jpg")</span><span class="sxs-lookup"><span data-stu-id="dfb6b-127">![[image]](9-working-with-images/_static/image1.jpg "ch9images-1.jpg")</span></span>

1. <span data-ttu-id="dfb6b-128">V WebMatrixu vytvořte nový web.</span><span class="sxs-lookup"><span data-stu-id="dfb6b-128">In WebMatrix, create a new website.</span></span>
2. <span data-ttu-id="dfb6b-129">Přidejte novou stránku s názvem *DynamicImage. cshtml*.</span><span class="sxs-lookup"><span data-stu-id="dfb6b-129">Add a new page named *DynamicImage.cshtml*.</span></span>
3. <span data-ttu-id="dfb6b-130">V kořenové složce webu přidejte novou složku a pojmenujte ji jako *Image*.</span><span class="sxs-lookup"><span data-stu-id="dfb6b-130">In the root folder of the website, add a new folder and name it *images*.</span></span>
4. <span data-ttu-id="dfb6b-131">Přidejte čtyři obrázky do složky *images* , kterou jste právě vytvořili.</span><span class="sxs-lookup"><span data-stu-id="dfb6b-131">Add four images to the *images* folder you just created.</span></span> <span data-ttu-id="dfb6b-132">(Všechny užitečné obrázky budou, ale měly by se vejít na stránku.) Přejmenujte obrázky *Photo1. jpg*, *Photo2. jpg*, *Photo3. jpg*a *Photo4. jpg*.</span><span class="sxs-lookup"><span data-stu-id="dfb6b-132">(Any images you have handy will do, but they should fit onto a page.) Rename the images *Photo1.jpg*, *Photo2.jpg*, *Photo3.jpg*, and *Photo4.jpg*.</span></span> <span data-ttu-id="dfb6b-133">(V tomto postupu nebudete používat *Photo4. jpg* , ale budete ho používat později v článku.)</span><span class="sxs-lookup"><span data-stu-id="dfb6b-133">(You won't use *Photo4.jpg* in this procedure, but you'll use it later in the article.)</span></span>
5. <span data-ttu-id="dfb6b-134">Ověřte, že čtyři bitové kopie nejsou označeny jako jen pro čtení.</span><span class="sxs-lookup"><span data-stu-id="dfb6b-134">Verify that the four images are not marked as read-only.</span></span>
6. <span data-ttu-id="dfb6b-135">Stávající obsah stránky nahraďte následujícím způsobem:</span><span class="sxs-lookup"><span data-stu-id="dfb6b-135">Replace the existing content in the page with the following:</span></span>

    [!code-cshtml[Main](9-working-with-images/samples/sample2.cshtml)]

    <span data-ttu-id="dfb6b-136">Tělo stránky obsahuje rozevírací seznam (`<select>` element), který má název `photoChoice`.</span><span class="sxs-lookup"><span data-stu-id="dfb6b-136">The body of the page has a drop-down list (a `<select>` element) that's named `photoChoice`.</span></span> <span data-ttu-id="dfb6b-137">Seznam má tři možnosti a atribut `value` každé možnosti seznamu má název jedné z imagí, které vložíte do složky *images* .</span><span class="sxs-lookup"><span data-stu-id="dfb6b-137">The list has three options, and the `value` attribute of each list option has the name of one of the images that you put in the *images* folder.</span></span> <span data-ttu-id="dfb6b-138">V podstatě vám seznam umožní uživateli vybrat popisný název, například &quot;fotografii 1&quot;, a po odeslání stránky předává název souboru *. jpg* .</span><span class="sxs-lookup"><span data-stu-id="dfb6b-138">Essentially, the list lets the user select a friendly name like &quot;Photo 1&quot;, and it then passes the *.jpg* file name when the page is submitted.</span></span>

    <span data-ttu-id="dfb6b-139">V kódu můžete získat výběr uživatele (jinými slovy, název souboru obrázku) ze seznamu, a to čtením `Request["photoChoice"]`.</span><span class="sxs-lookup"><span data-stu-id="dfb6b-139">In the code, you can get the user's selection (in other words, the image file name) from the list by reading `Request["photoChoice"]`.</span></span> <span data-ttu-id="dfb6b-140">Nejprve se zobrazí, zda existuje výběr.</span><span class="sxs-lookup"><span data-stu-id="dfb6b-140">You first see if there's a selection at all.</span></span> <span data-ttu-id="dfb6b-141">Pokud je k dispozici, vytvoříte cestu k obrázku, který se skládá z názvu složky pro obrázky a názvu souboru obrázku uživatele.</span><span class="sxs-lookup"><span data-stu-id="dfb6b-141">If there is, you construct a path for the image that consists of the name of the folder for the images and the user's image file name.</span></span> <span data-ttu-id="dfb6b-142">(Pokud jste se pokusili vytvořit cestu, ale nedošlo k žádnému `Request["photoChoice"]`, zobrazí se chyba.) Výsledkem je relativní cesta, například:</span><span class="sxs-lookup"><span data-stu-id="dfb6b-142">(If you tried to construct a path but there was nothing in `Request["photoChoice"]`, you'd get an error.) This results in a relative path like this:</span></span>

    <span data-ttu-id="dfb6b-143">*obrázky/Photo1. jpg*</span><span class="sxs-lookup"><span data-stu-id="dfb6b-143">*images/Photo1.jpg*</span></span>

    <span data-ttu-id="dfb6b-144">Cesta je uložena v proměnné s názvem `imagePath`, kterou budete později potřebovat na stránce.</span><span class="sxs-lookup"><span data-stu-id="dfb6b-144">The path is stored in variable named `imagePath` that you'll need later in the page.</span></span>

    <span data-ttu-id="dfb6b-145">V těle je také `<img>` element, který se používá k zobrazení obrázku, který uživatel vybral.</span><span class="sxs-lookup"><span data-stu-id="dfb6b-145">In the body, there's also an `<img>` element that's used to display the image that the user picked.</span></span> <span data-ttu-id="dfb6b-146">Atribut `src` není nastaven na název souboru nebo na adresu URL, třeba v případě, že byste chtěli zobrazit statický prvek.</span><span class="sxs-lookup"><span data-stu-id="dfb6b-146">The `src` attribute isn't set to a file name or URL, like you'd do to display a static element.</span></span> <span data-ttu-id="dfb6b-147">Místo toho je nastavená na `@imagePath`, což znamená, že získá hodnotu z cesty, kterou jste nastavili v kódu.</span><span class="sxs-lookup"><span data-stu-id="dfb6b-147">Instead, it's set to `@imagePath`, meaning that it gets its value from the path you set in code.</span></span>

    <span data-ttu-id="dfb6b-148">Při prvním spuštění stránky, ale není k dispozici žádný obrázek k zobrazení, protože uživatel nic nevybrali.</span><span class="sxs-lookup"><span data-stu-id="dfb6b-148">The first time that the page runs, though, there's no image to display, because the user hasn't selected anything.</span></span> <span data-ttu-id="dfb6b-149">To obvykle znamená, že atribut `src` by byl prázdný a obrázek by se zobrazil jako červený &quot;x&quot; (nebo bez ohledu na to, jestli se v prohlížeči nenajde obrázek).</span><span class="sxs-lookup"><span data-stu-id="dfb6b-149">This would normally mean that the `src` attribute would be empty and the image would show up as a red &quot;x&quot; (or whatever the browser renders when it can't find an image).</span></span> <span data-ttu-id="dfb6b-150">Chcete-li tomu zabránit, vložte prvek `<img>` do bloku `if`, který testuje, zda obsahuje `imagePath` proměnná, která obsahuje nějaké informace.</span><span class="sxs-lookup"><span data-stu-id="dfb6b-150">To prevent this, you put the `<img>` element in an `if` block that tests to see whether the `imagePath` variable has anything in it.</span></span> <span data-ttu-id="dfb6b-151">Pokud uživatel provedl výběr, `imagePath` obsahuje cestu.</span><span class="sxs-lookup"><span data-stu-id="dfb6b-151">If the user made a selection, `imagePath` contains the path.</span></span> <span data-ttu-id="dfb6b-152">Pokud uživatel nezvolil obrázek, nebo pokud se jedná o první zobrazení stránky, `<img>` element není ani vykreslen.</span><span class="sxs-lookup"><span data-stu-id="dfb6b-152">If the user didn't pick an image or if this is the first time the page is displayed, the `<img>` element isn't even rendered.</span></span>
7. <span data-ttu-id="dfb6b-153">Uložte soubor a spusťte stránku v prohlížeči.</span><span class="sxs-lookup"><span data-stu-id="dfb6b-153">Save the file and run the page in a browser.</span></span> <span data-ttu-id="dfb6b-154">(Před spuštěním se ujistěte, že je stránka vybraná v pracovním prostoru **soubory** .)</span><span class="sxs-lookup"><span data-stu-id="dfb6b-154">(Make sure the page is selected in the **Files** workspace before you run it.)</span></span>
8. <span data-ttu-id="dfb6b-155">V rozevíracím seznamu vyberte obrázek a klikněte na **ukázkový obrázek**.</span><span class="sxs-lookup"><span data-stu-id="dfb6b-155">Select an image from the drop-down list and then click **Sample Image**.</span></span> <span data-ttu-id="dfb6b-156">Ujistěte se, že se zobrazují různé obrázky pro různé volby.</span><span class="sxs-lookup"><span data-stu-id="dfb6b-156">Make sure that you see different images for different choices.</span></span>

<a id="Uploading_an_Image"></a>
## <a name="uploading-an-image"></a><span data-ttu-id="dfb6b-157">Nahrání obrázku</span><span class="sxs-lookup"><span data-stu-id="dfb6b-157">Uploading an Image</span></span>

<span data-ttu-id="dfb6b-158">Předchozí příklad ukazuje, jak dynamicky zobrazit obrázek, ale pracoval pouze s obrázky, které již byly na vašem webu.</span><span class="sxs-lookup"><span data-stu-id="dfb6b-158">The previous example showed you how to display an image dynamically, but it worked only with images that were already on your website.</span></span> <span data-ttu-id="dfb6b-159">Tento postup ukazuje, jak umožnit uživatelům odeslat obrázek, který se pak zobrazí na stránce.</span><span class="sxs-lookup"><span data-stu-id="dfb6b-159">This procedure shows how to let users upload an image, which is then displayed on the page.</span></span> <span data-ttu-id="dfb6b-160">V ASP.NET můžete pomocí pomocné rutiny `WebImage` manipulovat s imagemi, které obsahují metody, které umožňují vytvářet, manipulovat a ukládat obrázky.</span><span class="sxs-lookup"><span data-stu-id="dfb6b-160">In ASP.NET, you can manipulate images on the fly using the `WebImage` helper, which has methods that let you create, manipulate, and save images.</span></span> <span data-ttu-id="dfb6b-161">Pomocná rutina `WebImage` podporuje všechny běžné typy souborů webové image, včetně *. jpg*, *. png*a *. bmp*.</span><span class="sxs-lookup"><span data-stu-id="dfb6b-161">The `WebImage` helper supports all the common web image file types, including *.jpg*, *.png*, and *.bmp*.</span></span> <span data-ttu-id="dfb6b-162">V celém článku budete používat obrázky *. jpg* , ale můžete použít libovolný z těchto typů obrázků.</span><span class="sxs-lookup"><span data-stu-id="dfb6b-162">Throughout this article, you'll use *.jpg* images, but you can use any of the image types.</span></span>

<span data-ttu-id="dfb6b-163">![obrazu](9-working-with-images/_static/image2.jpg "ch9images-2. jpg")</span><span class="sxs-lookup"><span data-stu-id="dfb6b-163">![[image]](9-working-with-images/_static/image2.jpg "ch9images-2.jpg")</span></span>

1. <span data-ttu-id="dfb6b-164">Přidejte novou stránku a pojmenujte ji *UploadImage. cshtml*.</span><span class="sxs-lookup"><span data-stu-id="dfb6b-164">Add a new page and name it *UploadImage.cshtml*.</span></span>
2. <span data-ttu-id="dfb6b-165">Stávající obsah stránky nahraďte následujícím způsobem:</span><span class="sxs-lookup"><span data-stu-id="dfb6b-165">Replace the existing content in the page with the following:</span></span> 

    [!code-cshtml[Main](9-working-with-images/samples/sample3.cshtml)]

    <span data-ttu-id="dfb6b-166">Tělo textu má element `<input type="file">`, který umožňuje uživatelům vybrat soubor, který se má nahrát.</span><span class="sxs-lookup"><span data-stu-id="dfb6b-166">The body of the text has an `<input type="file">` element, which lets users select a file to upload.</span></span> <span data-ttu-id="dfb6b-167">Když kliknete na **Odeslat**, soubor, který se vybere, se odešle spolu s formulářem.</span><span class="sxs-lookup"><span data-stu-id="dfb6b-167">When they click **Submit**, the file they picked is submitted along with the form.</span></span>

    <span data-ttu-id="dfb6b-168">K získání nahraného obrázku použijte pomocníka `WebImage`, který obsahuje nejrůznější užitečné metody pro práci s obrázky.</span><span class="sxs-lookup"><span data-stu-id="dfb6b-168">To get the uploaded image, you use the `WebImage` helper, which has all sorts of useful methods for working with images.</span></span> <span data-ttu-id="dfb6b-169">Konkrétně se používá `WebImage.GetImageFromRequest` k získání nahraného obrázku (pokud existuje) a jeho uložení do proměnné s názvem `photo`.</span><span class="sxs-lookup"><span data-stu-id="dfb6b-169">Specifically, you use `WebImage.GetImageFromRequest` to get the uploaded image (if any) and store it in a variable named `photo`.</span></span>

    <span data-ttu-id="dfb6b-170">Spousta práce v tomto příkladu zahrnuje získání a nastavení názvů souborů a cest.</span><span class="sxs-lookup"><span data-stu-id="dfb6b-170">A lot of the work in this example involves getting and setting file and path names.</span></span> <span data-ttu-id="dfb6b-171">Problém je, že chcete získat název (a pouze název) image, kterou uživatel nahrál, a pak vytvořit novou cestu, do které budete image ukládat.</span><span class="sxs-lookup"><span data-stu-id="dfb6b-171">The issue is that you want to get the name (and just the name) of the image that the user uploaded, and then create a new path for where you're going to store the image.</span></span> <span data-ttu-id="dfb6b-172">Vzhledem k tomu, že uživatelé mohou nahrát více obrázků se stejným názvem, použijete pro vytváření jedinečných názvů bitovou kopii dalšího kódu a zajistěte, aby uživatelé nepřepsali existující obrázky.</span><span class="sxs-lookup"><span data-stu-id="dfb6b-172">Because users could potentially upload multiple images that have the same name, you use a bit of extra code to create unique names and make sure that users don't overwrite existing pictures.</span></span>

    <span data-ttu-id="dfb6b-173">Pokud byl obrázek odeslán (test `if (photo != null)`), získá se název obrázku z vlastnosti `FileName` obrázku.</span><span class="sxs-lookup"><span data-stu-id="dfb6b-173">If an image actually has been uploaded (the test `if (photo != null)`), you get the image name from the image's `FileName` property.</span></span> <span data-ttu-id="dfb6b-174">Když uživatel obrázek nahraje, `FileName` obsahuje původní název uživatele, který zahrnuje cestu z počítače uživatele.</span><span class="sxs-lookup"><span data-stu-id="dfb6b-174">When the user uploads the image, `FileName` contains the user's original name, which includes the path from the user's computer.</span></span> <span data-ttu-id="dfb6b-175">Může to vypadat takto:</span><span class="sxs-lookup"><span data-stu-id="dfb6b-175">It might look like this:</span></span>

    <span data-ttu-id="dfb6b-176">*C:\Users\Joe\Pictures\SamplePhoto1.jpg*</span><span class="sxs-lookup"><span data-stu-id="dfb6b-176">*C:\Users\Joe\Pictures\SamplePhoto1.jpg*</span></span>

    <span data-ttu-id="dfb6b-177">Nechcete všechny tyto informace o cestě, ale &#8212; chcete mít jenom skutečný název souboru (*SamplePhoto1. jpg*).</span><span class="sxs-lookup"><span data-stu-id="dfb6b-177">You don't want all that path information, though &#8212; you just want the actual file name (*SamplePhoto1.jpg*).</span></span> <span data-ttu-id="dfb6b-178">Pomocí metody `Path.GetFileName` můžete prokládat pouze soubor z cesty, například takto:</span><span class="sxs-lookup"><span data-stu-id="dfb6b-178">You can strip out just the file from a path by using the `Path.GetFileName` method, like this:</span></span>

    [!code-csharp[Main](9-working-with-images/samples/sample4.cs)]

    <span data-ttu-id="dfb6b-179">Pak můžete vytvořit nový jedinečný název souboru přidáním identifikátoru GUID k původnímu názvu.</span><span class="sxs-lookup"><span data-stu-id="dfb6b-179">You then create a new unique file name by adding a GUID to the original name.</span></span> <span data-ttu-id="dfb6b-180">(Další informace o identifikátorech GUID najdete v tématu [o guidch](#SB_AboutGUIDs) dále v tomto článku.) Pak vytvoříte úplnou cestu, kterou můžete použít k uložení obrázku.</span><span class="sxs-lookup"><span data-stu-id="dfb6b-180">(For more about GUIDs, see [About GUIDs](#SB_AboutGUIDs) later in this article.) Then you construct a complete path that you can use to save the image.</span></span> <span data-ttu-id="dfb6b-181">Cesta pro uložení se skládá z nového názvu souboru, složky (imagí) a aktuálního umístění webu.</span><span class="sxs-lookup"><span data-stu-id="dfb6b-181">The save path is made up of the new file name, the folder (images), and the current website location.</span></span>

    > [!NOTE]
    > <span data-ttu-id="dfb6b-182">Aby váš kód ukládal soubory do složky *imagí* , aplikace potřebuje oprávnění ke čtení i zápisu pro tuto složku.</span><span class="sxs-lookup"><span data-stu-id="dfb6b-182">In order for your code to save files in the *images* folder, the application needs read-write permissions for that folder.</span></span> <span data-ttu-id="dfb6b-183">Ve vývojovém počítači to není obvykle problém.</span><span class="sxs-lookup"><span data-stu-id="dfb6b-183">On your development computer this is not typically an issue.</span></span> <span data-ttu-id="dfb6b-184">Když ale publikujete web na webový server poskytovatele hostingu, možná budete muset tato oprávnění výslovně nastavit.</span><span class="sxs-lookup"><span data-stu-id="dfb6b-184">However, when you publish your site to a hosting provider's web server, you might need to explicitly set those permissions.</span></span> <span data-ttu-id="dfb6b-185">Pokud spustíte tento kód na serveru poskytovatele hostingu a získáte chyby, obraťte se na poskytovatele hostingu a zjistěte, jak tato oprávnění nastavit.</span><span class="sxs-lookup"><span data-stu-id="dfb6b-185">If you run this code on a hosting provider's server and get errors, check with the hosting provider to find out how to set those permissions.</span></span>

    <span data-ttu-id="dfb6b-186">Nakonec předáte cestu pro uložení do metody `Save` pomocné rutiny `WebImage`.</span><span class="sxs-lookup"><span data-stu-id="dfb6b-186">Finally, you pass the save path to the `Save` method of the `WebImage` helper.</span></span> <span data-ttu-id="dfb6b-187">Tím se nahraný obrázek uloží pod jeho nový název.</span><span class="sxs-lookup"><span data-stu-id="dfb6b-187">This stores the uploaded image under its new name.</span></span> <span data-ttu-id="dfb6b-188">Metoda Save vypadá takto: `photo.Save(@"~\" + imagePath)`.</span><span class="sxs-lookup"><span data-stu-id="dfb6b-188">The save method looks like this: `photo.Save(@"~\" + imagePath)`.</span></span> <span data-ttu-id="dfb6b-189">Úplná cesta je připojena k `@"~\"`, což je aktuální umístění webu.</span><span class="sxs-lookup"><span data-stu-id="dfb6b-189">The complete path is appended to `@"~\"`, which is the current website location.</span></span> <span data-ttu-id="dfb6b-190">(Informace o operátoru `~` naleznete v tématu [Úvod do webového programování ASP.NET pomocí syntaxe Razor](https://go.microsoft.com/fwlink/?LinkId=202890#ID_WorkingWithFileAndFolderPaths).)</span><span class="sxs-lookup"><span data-stu-id="dfb6b-190">(For information about the `~` operator, see [Introduction to ASP.NET Web Programming Using the Razor Syntax](https://go.microsoft.com/fwlink/?LinkId=202890#ID_WorkingWithFileAndFolderPaths).)</span></span>

    <span data-ttu-id="dfb6b-191">Jak je uvedeno v předchozím příkladu, tělo stránky obsahuje prvek `<img>` pro zobrazení obrázku.</span><span class="sxs-lookup"><span data-stu-id="dfb6b-191">As in the previous example, the body of the page contains an `<img>` element to display the image.</span></span> <span data-ttu-id="dfb6b-192">Pokud byla nastavena `imagePath`, je prvek `<img>` vykreslen a jeho atribut `src` je nastaven na hodnotu `imagePath`.</span><span class="sxs-lookup"><span data-stu-id="dfb6b-192">If `imagePath` has been set, the `<img>` element is rendered and its `src` attribute is set to the `imagePath` value.</span></span>
3. <span data-ttu-id="dfb6b-193">Spusťte stránku v prohlížeči.</span><span class="sxs-lookup"><span data-stu-id="dfb6b-193">Run the page in a browser.</span></span>
4. <span data-ttu-id="dfb6b-194">Nahrajte obrázek a ujistěte se, že je zobrazený na stránce.</span><span class="sxs-lookup"><span data-stu-id="dfb6b-194">Upload an image and make sure it's displayed in the page.</span></span>
5. <span data-ttu-id="dfb6b-195">V lokalitě otevřete složku *images* .</span><span class="sxs-lookup"><span data-stu-id="dfb6b-195">In your site, open the *images* folder.</span></span> <span data-ttu-id="dfb6b-196">Vidíte, že byl přidán nový soubor, jehož název souboru vypadá nějak takto::</span><span class="sxs-lookup"><span data-stu-id="dfb6b-196">You see that a new file has been added whose file name looks something like this::</span></span> 

    <span data-ttu-id="dfb6b-197">*45ea4527-7ddd-4965-b9ca-c6444982b342\_MyPhoto. png*</span><span class="sxs-lookup"><span data-stu-id="dfb6b-197">*45ea4527-7ddd-4965-b9ca-c6444982b342\_MyPhoto.png*</span></span>

    <span data-ttu-id="dfb6b-198">Toto je obrázek, který jste nahráli pomocí identifikátoru GUID s předponou názvu.</span><span class="sxs-lookup"><span data-stu-id="dfb6b-198">This is the image that you uploaded with a GUID prefixed to the name.</span></span> <span data-ttu-id="dfb6b-199">(Vlastní soubor bude mít jiný identifikátor GUID a pravděpodobně se jmenuje něco jiného než *Myphoto. png*.)</span><span class="sxs-lookup"><span data-stu-id="dfb6b-199">(Your own file will have a different GUID and probably is named something different than *MyPhoto.png*.)</span></span>

> [!TIP] 
> 
> <a id="SB_AboutGUIDs"></a>
> ### <a name="about-guids"></a><span data-ttu-id="dfb6b-200">O identifikátorech GUID</span><span class="sxs-lookup"><span data-stu-id="dfb6b-200">About GUIDs</span></span>
> 
> <span data-ttu-id="dfb6b-201">Identifikátor GUID (globálně jedinečné ID) je identifikátor, který se obvykle vykresluje v následujícím formátu: `936DA01F-9ABD-4d9d-80C7-02AF85C822A8`.</span><span class="sxs-lookup"><span data-stu-id="dfb6b-201">A GUID (globally-unique ID) is an identifier that's usually rendered in a format like this: `936DA01F-9ABD-4d9d-80C7-02AF85C822A8`.</span></span> <span data-ttu-id="dfb6b-202">Čísla a písmena (od A-F) se liší pro každý identifikátor GUID, ale všechny mají stejný postup jako při používání skupin 8-4-4-4-12 znaků.</span><span class="sxs-lookup"><span data-stu-id="dfb6b-202">The numbers and letters (from A-F) differ for each GUID, but they all follow the pattern of using groups of 8-4-4-4-12 characters.</span></span> <span data-ttu-id="dfb6b-203">(Technicky, identifikátor GUID je 16 bajtů nebo 128bitové číslo.) Pokud potřebujete identifikátor GUID, můžete zavolat specializovaný kód, který pro vás vygeneruje identifikátor GUID.</span><span class="sxs-lookup"><span data-stu-id="dfb6b-203">(Technically, a GUID is a 16-byte/128-bit number.) When you need a GUID, you can call specialized code that generates a GUID for you.</span></span> <span data-ttu-id="dfb6b-204">V rámci identifikátorů GUID je to, že mezi mimořádnou velikostí čísla (3,4 x 10<sup>38</sup>) a algoritmem pro jeho vygenerování je výsledný počet prakticky zaručený jako jeden z druhů.</span><span class="sxs-lookup"><span data-stu-id="dfb6b-204">The idea behind GUIDs is that between the enormous size of the number (3.4 x 10<sup>38</sup>) and the algorithm for generating it, the resulting number is virtually guaranteed to be one of a kind.</span></span> <span data-ttu-id="dfb6b-205">Identifikátory GUID jsou proto dobrým způsobem, jak vygenerovat názvy věcí, pokud musíte zaručit, že nebudete používat stejný název dvakrát.</span><span class="sxs-lookup"><span data-stu-id="dfb6b-205">GUIDs therefore are a good way to generate names for things when you must guarantee that you won't use the same name twice.</span></span> <span data-ttu-id="dfb6b-206">Nevýhodou je samozřejmě, že identifikátory GUID nejsou obzvláště uživatelsky přívětivé, takže mají být použity, pokud se název používá pouze v kódu.</span><span class="sxs-lookup"><span data-stu-id="dfb6b-206">The downside, of course, is that GUIDs aren't particularly user friendly, so they tend to be used when the name is used only in code.</span></span>

<a id="Resizing_an_Image"></a>
## <a name="resizing-an-image"></a><span data-ttu-id="dfb6b-207">Změna velikosti obrázku</span><span class="sxs-lookup"><span data-stu-id="dfb6b-207">Resizing an Image</span></span>

<span data-ttu-id="dfb6b-208">Pokud web akceptuje obrázky od uživatele, možná budete chtít změnit velikost obrázků, než je zobrazíte nebo uložíte.</span><span class="sxs-lookup"><span data-stu-id="dfb6b-208">If your website accepts images from a user, you might want to resize the images before you display or save them.</span></span> <span data-ttu-id="dfb6b-209">Pro tuto akci můžete znovu použít pomocníka `WebImage`.</span><span class="sxs-lookup"><span data-stu-id="dfb6b-209">You can again use the `WebImage` helper for this.</span></span>

<span data-ttu-id="dfb6b-210">Tento postup ukazuje, jak změnit velikost nahraného obrázku pro vytvoření miniatury a pak uložit miniaturu a původní obrázek na webu.</span><span class="sxs-lookup"><span data-stu-id="dfb6b-210">This procedure shows how to resize an uploaded image to create a thumbnail and then save the thumbnail and original image in the website.</span></span> <span data-ttu-id="dfb6b-211">Miniaturu můžete zobrazit na stránce a použít hypertextový odkaz pro přesměrování uživatelů na obrázek v plné velikosti.</span><span class="sxs-lookup"><span data-stu-id="dfb6b-211">You display the thumbnail on the page and use a hyperlink to redirect users to the full-sized image.</span></span>

<span data-ttu-id="dfb6b-212">![obrazu](9-working-with-images/_static/image3.jpg "ch9images-3. jpg")</span><span class="sxs-lookup"><span data-stu-id="dfb6b-212">![[image]](9-working-with-images/_static/image3.jpg "ch9images-3.jpg")</span></span>

1. <span data-ttu-id="dfb6b-213">Přidejte novou stránku s názvem *Thumbnail. cshtml*.</span><span class="sxs-lookup"><span data-stu-id="dfb6b-213">Add a new page named *Thumbnail.cshtml*.</span></span>
2. <span data-ttu-id="dfb6b-214">Ve složce *images* vytvořte podsložku s názvem *palec*.</span><span class="sxs-lookup"><span data-stu-id="dfb6b-214">In the *images* folder, create a subfolder named *thumbs*.</span></span>
3. <span data-ttu-id="dfb6b-215">Stávající obsah stránky nahraďte následujícím způsobem:</span><span class="sxs-lookup"><span data-stu-id="dfb6b-215">Replace the existing content in the page with the following:</span></span> 

    [!code-cshtml[Main](9-working-with-images/samples/sample5.cshtml)]

    <span data-ttu-id="dfb6b-216">Tento kód je podobný kódu z předchozího příkladu.</span><span class="sxs-lookup"><span data-stu-id="dfb6b-216">This code is similar to the code from the previous example.</span></span> <span data-ttu-id="dfb6b-217">Rozdílem je, že tento kód uloží obrázek dvakrát, jednou za normálních podmínek, a jednou po vytvoření miniatury bitové kopie.</span><span class="sxs-lookup"><span data-stu-id="dfb6b-217">The difference is that this code saves the image twice, once normally and once after you create a thumbnail copy of the image.</span></span> <span data-ttu-id="dfb6b-218">Napřed dostanete nahraný obrázek a uložte ho do složky *images* .</span><span class="sxs-lookup"><span data-stu-id="dfb6b-218">First you get the uploaded image and save it in the *images* folder.</span></span> <span data-ttu-id="dfb6b-219">Pak vytvoříte novou cestu k obrázku miniatury.</span><span class="sxs-lookup"><span data-stu-id="dfb6b-219">You then construct a new path for the thumbnail image.</span></span> <span data-ttu-id="dfb6b-220">Chcete-li vytvořit miniaturu, zavoláte `Resize` metodu `WebImage` pomoc k vytvoření obrázku 60-pixel podle 60-pixel.</span><span class="sxs-lookup"><span data-stu-id="dfb6b-220">To actually create the thumbnail, you call the `WebImage` helper's `Resize` method to create a 60-pixel by 60-pixel image.</span></span> <span data-ttu-id="dfb6b-221">Tento příklad ukazuje, jak zachováte poměr stran a jak můžete zabránit zvětšování obrázku (pro případ, že by nová velikost znamenala větší velikost obrázku).</span><span class="sxs-lookup"><span data-stu-id="dfb6b-221">The example shows how you preserve the aspect ratio and how you can prevent the image from being enlarged (in case the new size would actually make the image larger).</span></span> <span data-ttu-id="dfb6b-222">Obrázek se změněnou velikostí se pak uloží v podsložce s *miniaturami* .</span><span class="sxs-lookup"><span data-stu-id="dfb6b-222">The resized image is then saved in the *thumbs* subfolder.</span></span>

    <span data-ttu-id="dfb6b-223">Na konci značky použijete stejný `<img>` element s atributem Dynamic `src`, který jste si poznamenali v předchozích příkladech, k podmíněnému zobrazení obrázku.</span><span class="sxs-lookup"><span data-stu-id="dfb6b-223">At the end of the markup, you use the same `<img>` element with the dynamic `src` attribute that you've seen in the previous examples to conditionally show the image.</span></span> <span data-ttu-id="dfb6b-224">V tomto případě zobrazíte miniaturu.</span><span class="sxs-lookup"><span data-stu-id="dfb6b-224">In this case, you display the thumbnail.</span></span> <span data-ttu-id="dfb6b-225">Pomocí elementu `<a>` také můžete vytvořit hypertextový odkaz na velkou verzi obrázku.</span><span class="sxs-lookup"><span data-stu-id="dfb6b-225">You also use an `<a>` element to create a hyperlink to the big version of the image.</span></span> <span data-ttu-id="dfb6b-226">Stejně jako u atributu `src` `<img>` elementu, je automaticky nastaven atribut `href` prvku `<a>` dynamicky na cokoli, co je v `imagePath`.</span><span class="sxs-lookup"><span data-stu-id="dfb6b-226">As with the `src` attribute of the `<img>` element, you set the `href` attribute of the `<a>` element dynamically to whatever is in `imagePath`.</span></span> <span data-ttu-id="dfb6b-227">Chcete-li se ujistit, že cesta může fungovat jako adresa URL, předáte `imagePath` do metody `Html.AttributeEncode`, která převede rezervované znaky v cestě na znaky, které jsou v adrese URL v pořádku.</span><span class="sxs-lookup"><span data-stu-id="dfb6b-227">To make sure that the path can work as a URL, you pass `imagePath` to the `Html.AttributeEncode` method, which converts reserved characters in the path to characters that are ok in a URL.</span></span>
4. <span data-ttu-id="dfb6b-228">Spusťte stránku v prohlížeči.</span><span class="sxs-lookup"><span data-stu-id="dfb6b-228">Run the page in a browser.</span></span>
5. <span data-ttu-id="dfb6b-229">Nahrajte fotografii a ověřte, jestli je zobrazená miniatura.</span><span class="sxs-lookup"><span data-stu-id="dfb6b-229">Upload a photo and verify that the thumbnail is shown.</span></span>
6. <span data-ttu-id="dfb6b-230">Kliknutím na miniaturu zobrazíte obrázek v plné velikosti.</span><span class="sxs-lookup"><span data-stu-id="dfb6b-230">Click the thumbnail to see the full-size image.</span></span>
7. <span data-ttu-id="dfb6b-231">V *obrazech* a *obrázcích/palec*si všimněte, že byly přidány nové soubory.</span><span class="sxs-lookup"><span data-stu-id="dfb6b-231">In the *images* and *images/thumbs*, note that new files have been added.</span></span>

<a id="Rotating_and_Flipping"></a>
## <a name="rotating-and-flipping-an-image"></a><span data-ttu-id="dfb6b-232">Otočení a překlopení obrázku</span><span class="sxs-lookup"><span data-stu-id="dfb6b-232">Rotating and Flipping an Image</span></span>

<span data-ttu-id="dfb6b-233">Pomocná rutina `WebImage` také umožňuje překlopit a otočit obrázky.</span><span class="sxs-lookup"><span data-stu-id="dfb6b-233">The `WebImage` helper also lets you flip and rotate images.</span></span> <span data-ttu-id="dfb6b-234">Tento postup ukazuje, jak získat obrázek ze serveru, jak překlopit obrázek (svisle), uložit ho a pak zobrazit převrácenou image na stránce.</span><span class="sxs-lookup"><span data-stu-id="dfb6b-234">This procedure shows how to get an image from the server, flip the image upside down (vertically), save it, and then display the flipped image on the page.</span></span> <span data-ttu-id="dfb6b-235">V tomto příkladu jste právě používali soubor, který už máte na serveru (*Photo2. jpg*).</span><span class="sxs-lookup"><span data-stu-id="dfb6b-235">In this example, you're just using a file you already have on the server (*Photo2.jpg*).</span></span> <span data-ttu-id="dfb6b-236">V reálné aplikaci byste pravděpodobně přeměnili obrázek, jehož název se dynamicky načte, stejně jako v předchozích příkladech.</span><span class="sxs-lookup"><span data-stu-id="dfb6b-236">In a real application, you'd probably flip an image whose name you get dynamically, like you did in previous examples.</span></span>

<span data-ttu-id="dfb6b-237">![obrazu](9-working-with-images/_static/image4.jpg "ch9images-4. jpg")</span><span class="sxs-lookup"><span data-stu-id="dfb6b-237">![[image]](9-working-with-images/_static/image4.jpg "ch9images-4.jpg")</span></span>

1. <span data-ttu-id="dfb6b-238">Přidejte novou stránku s názvem *FlipImage. cshtml*.</span><span class="sxs-lookup"><span data-stu-id="dfb6b-238">Add a new page named *FlipImage.cshtml*.</span></span>
2. <span data-ttu-id="dfb6b-239">Stávající obsah stránky nahraďte následujícím způsobem:</span><span class="sxs-lookup"><span data-stu-id="dfb6b-239">Replace the existing content in the page with the following:</span></span> 

    [!code-cshtml[Main](9-working-with-images/samples/sample6.cshtml)]

    <span data-ttu-id="dfb6b-240">Kód používá pomocníka `WebImage` k získání obrázku ze serveru.</span><span class="sxs-lookup"><span data-stu-id="dfb6b-240">The code uses the `WebImage` helper to get an image from the server.</span></span> <span data-ttu-id="dfb6b-241">Cestu k bitové kopii vytvoříte pomocí stejné techniky, jakou jste použili v předchozích příkladech pro ukládání imagí, a předáte tuto cestu při vytváření image pomocí `WebImage`:</span><span class="sxs-lookup"><span data-stu-id="dfb6b-241">You create the path to the image using the same technique you used in earlier examples for saving images, and you pass that path when you create an image using `WebImage`:</span></span>

    [!code-javascript[Main](9-working-with-images/samples/sample7.js)]

    <span data-ttu-id="dfb6b-242">Pokud se najde obrázek, vytvoří se nová cesta a název souboru, podobně jako v předchozích příkladech.</span><span class="sxs-lookup"><span data-stu-id="dfb6b-242">If an image is found, you construct a new path and file name, like you did in earlier examples.</span></span> <span data-ttu-id="dfb6b-243">Chcete-li překlopit obrázek, zavoláte metodu `FlipVertical` a pak obrázek znovu uložíte.</span><span class="sxs-lookup"><span data-stu-id="dfb6b-243">To flip the image, you call the `FlipVertical` method, and then you save the image again.</span></span>

    <span data-ttu-id="dfb6b-244">Obrázek se znovu zobrazí na stránce pomocí elementu `<img>` s atributem `src` nastaveným na `imagePath`.</span><span class="sxs-lookup"><span data-stu-id="dfb6b-244">The image is again displayed on the page by using the `<img>` element with the `src` attribute set to `imagePath`.</span></span>
3. <span data-ttu-id="dfb6b-245">Spusťte stránku v prohlížeči.</span><span class="sxs-lookup"><span data-stu-id="dfb6b-245">Run the page in a browser.</span></span> <span data-ttu-id="dfb6b-246">Zobrazuje se obrázek pro *Photo2. jpg* .</span><span class="sxs-lookup"><span data-stu-id="dfb6b-246">The image for *Photo2.jpg* is shown upside down.</span></span>
4. <span data-ttu-id="dfb6b-247">Aktualizujte stránku, nebo požádejte stránku znovu, aby se zobrazila znovu pravá strana.</span><span class="sxs-lookup"><span data-stu-id="dfb6b-247">Refresh the page or request the page again to see the image is flipped right side up again.</span></span>

<span data-ttu-id="dfb6b-248">Pro otočení obrázku použijte stejný kód s tím rozdílem, že místo volání `FlipVertical` nebo `FlipHorizontal`zavoláte `RotateLeft` nebo `RotateRight`.</span><span class="sxs-lookup"><span data-stu-id="dfb6b-248">To rotate an image, you use the same code, except that instead of calling the `FlipVertical` or `FlipHorizontal`, you call `RotateLeft` or `RotateRight`.</span></span>

<a id="Adding_a_Watermark"></a>
## <a name="adding-a-watermark-to-an-image"></a><span data-ttu-id="dfb6b-249">Přidání vodoznaku do obrázku</span><span class="sxs-lookup"><span data-stu-id="dfb6b-249">Adding a Watermark to an Image</span></span>

<span data-ttu-id="dfb6b-250">Když na svůj web přidáte obrázky, možná budete chtít přidat vodoznak do obrázku před jeho uložením nebo zobrazením na stránce.</span><span class="sxs-lookup"><span data-stu-id="dfb6b-250">When you add images to your website, you might want to add a watermark to the image before you save it or display it on a page.</span></span> <span data-ttu-id="dfb6b-251">Lidé často používají vodoznaky k přidání informací o autorských právech do obrázku nebo pro inzerci svého obchodního jména.</span><span class="sxs-lookup"><span data-stu-id="dfb6b-251">People often use watermarks to add copyright information to an image or to advertise their business name.</span></span>

<span data-ttu-id="dfb6b-252">![obrazu](9-working-with-images/_static/image5.jpg "ch9images-5. jpg")</span><span class="sxs-lookup"><span data-stu-id="dfb6b-252">![[image]](9-working-with-images/_static/image5.jpg "ch9images-5.jpg")</span></span>

1. <span data-ttu-id="dfb6b-253">Přidejte novou stránku s názvem *vodotisk. cshtml*.</span><span class="sxs-lookup"><span data-stu-id="dfb6b-253">Add a new page named *Watermark.cshtml*.</span></span>
2. <span data-ttu-id="dfb6b-254">Stávající obsah stránky nahraďte následujícím způsobem:</span><span class="sxs-lookup"><span data-stu-id="dfb6b-254">Replace the existing content in the page with the following:</span></span> 

    [!code-cshtml[Main](9-working-with-images/samples/sample8.cshtml)]

    <span data-ttu-id="dfb6b-255">Tento kód je podobný kódu na stránce *FlipImage. cshtml* ze starší verze (Přestože tato doba používá soubor *Photo3. jpg* ).</span><span class="sxs-lookup"><span data-stu-id="dfb6b-255">This code is like the code in the *FlipImage.cshtml* page from earlier (although this time it uses the *Photo3.jpg* file).</span></span> <span data-ttu-id="dfb6b-256">Chcete-li přidat meze, zavoláte metodu `AddTextWatermark` pomocné rutiny `WebImage` před uložením obrázku.</span><span class="sxs-lookup"><span data-stu-id="dfb6b-256">To add the watermark, you call the `WebImage` helper's `AddTextWatermark` method before you save the image.</span></span> <span data-ttu-id="dfb6b-257">V volání `AddTextWatermark`předáte text &quot;můj vodoznak&quot;, nastavíte barvu písma na žlutou a nastavíte rodinu písma na Arial.</span><span class="sxs-lookup"><span data-stu-id="dfb6b-257">In the call to `AddTextWatermark`, you pass the text &quot;My Watermark&quot;, set the font color to yellow, and set the font family to Arial.</span></span> <span data-ttu-id="dfb6b-258">(I když zde není zobrazená, Pomocník pro `WebImage` také umožňuje určit krytí, rodinu písem a velikost písma a umístění textu meze.) Když uložíte obrázek, nesmí být jen pro čtení.</span><span class="sxs-lookup"><span data-stu-id="dfb6b-258">(Although it's not shown here, the `WebImage` helper also lets you specify opacity, font family and font size, and the position of the watermark text.) When you save the image it must not be read-only.</span></span>

    <span data-ttu-id="dfb6b-259">Jak jste viděli dříve, obrázek se zobrazí na stránce pomocí elementu `<img>` s atributem src nastaveným na `@imagePath`.</span><span class="sxs-lookup"><span data-stu-id="dfb6b-259">As you've seen before, the image is displayed on the page by using the `<img>` element with the src attribute set to `@imagePath`.</span></span>
3. <span data-ttu-id="dfb6b-260">Spusťte stránku v prohlížeči.</span><span class="sxs-lookup"><span data-stu-id="dfb6b-260">Run the page in a browser.</span></span> <span data-ttu-id="dfb6b-261">V pravém dolním rohu obrázku si všimněte textu "můj vodoznak".</span><span class="sxs-lookup"><span data-stu-id="dfb6b-261">Notice the text "My Watermark" at the bottom-right corner of the image.</span></span>

<a id="Using_an_Image_as_a_Watermark"></a>
## <a name="using-an-image-as-a-watermark"></a><span data-ttu-id="dfb6b-262">Použití obrázku jako meze</span><span class="sxs-lookup"><span data-stu-id="dfb6b-262">Using an Image As a Watermark</span></span>

<span data-ttu-id="dfb6b-263">Místo používání textu pro vodoznak můžete použít jiný obrázek.</span><span class="sxs-lookup"><span data-stu-id="dfb6b-263">Instead of using text for a watermark, you can use another image.</span></span> <span data-ttu-id="dfb6b-264">Lidé někdy používají jako vodoznak obrázky, jako je logo společnosti, nebo používají obrázek vodoznaku místo textu pro informace o autorských právech.</span><span class="sxs-lookup"><span data-stu-id="dfb6b-264">People sometimes use images like a company logo as a watermark, or they use a watermark image instead of text for copyright information.</span></span>

<span data-ttu-id="dfb6b-265">![obrazu](9-working-with-images/_static/image6.jpg "ch9images-6. jpg")</span><span class="sxs-lookup"><span data-stu-id="dfb6b-265">![[image]](9-working-with-images/_static/image6.jpg "ch9images-6.jpg")</span></span>

1. <span data-ttu-id="dfb6b-266">Přidejte novou stránku s názvem *ImageWatermark. cshtml*.</span><span class="sxs-lookup"><span data-stu-id="dfb6b-266">Add a new page named *ImageWatermark.cshtml*.</span></span>
2. <span data-ttu-id="dfb6b-267">Přidejte obrázek do složky *images* , kterou můžete použít jako logo a přejmenovat image *MyCompanyLogo. jpg*.</span><span class="sxs-lookup"><span data-stu-id="dfb6b-267">Add an image to the *images* folder that you can use as a logo, and rename the image *MyCompanyLogo.jpg*.</span></span> <span data-ttu-id="dfb6b-268">Tento obrázek by měl být obrázek, který se zobrazí jasně, když je nastaven na 80 pixelů a velký objem 20 pixelů.</span><span class="sxs-lookup"><span data-stu-id="dfb6b-268">This image should be an image that you can see clearly when it's set to 80 pixels wide and 20 pixels high.</span></span>
3. <span data-ttu-id="dfb6b-269">Stávající obsah stránky nahraďte následujícím způsobem:</span><span class="sxs-lookup"><span data-stu-id="dfb6b-269">Replace the existing content in the page with the following:</span></span> 

    [!code-cshtml[Main](9-working-with-images/samples/sample9.cshtml)]

    <span data-ttu-id="dfb6b-270">Jedná se o další variaci kódu z předchozích příkladů.</span><span class="sxs-lookup"><span data-stu-id="dfb6b-270">This is another variation on the code from earlier examples.</span></span> <span data-ttu-id="dfb6b-271">V tomto případě zavoláte `AddImageWatermark` pro přidání obrázku meze do cílové Image (*Photo3. jpg*) před uložením obrázku.</span><span class="sxs-lookup"><span data-stu-id="dfb6b-271">In this case, you call `AddImageWatermark` to add the watermark image to the target image (*Photo3.jpg*) before you save the image.</span></span> <span data-ttu-id="dfb6b-272">Při volání `AddImageWatermark`nastavíte šířku na 80 pixelů a výšku na 20 pixelů.</span><span class="sxs-lookup"><span data-stu-id="dfb6b-272">When you call `AddImageWatermark`, you set its width to 80 pixels and the height to 20 pixels.</span></span> <span data-ttu-id="dfb6b-273">Obrázek *MyCompanyLogo. jpg* je vodorovně zarovnán do středu a svisle zarovnané v dolní části cílové image.</span><span class="sxs-lookup"><span data-stu-id="dfb6b-273">The *MyCompanyLogo.jpg* image is horizontally aligned in the center and vertically aligned at the bottom of the target image.</span></span> <span data-ttu-id="dfb6b-274">Neprůhlednost je nastavena na 100% a odsazení je nastaveno na 10 pixelů.</span><span class="sxs-lookup"><span data-stu-id="dfb6b-274">The opacity is set to 100% and the padding is set to 10 pixels.</span></span> <span data-ttu-id="dfb6b-275">Pokud je obrázek meze větší než cílový obrázek, nic se nestane.</span><span class="sxs-lookup"><span data-stu-id="dfb6b-275">If the watermark image is bigger than the target image, nothing will happen.</span></span> <span data-ttu-id="dfb6b-276">Pokud je obrázek meze větší než cílový obrázek a nastavíte odsazení obrázku na hodnotu nula, vodoznak se ignoruje.</span><span class="sxs-lookup"><span data-stu-id="dfb6b-276">If the watermark image is bigger than the target image and you set the padding for the image watermark to zero, the watermark is ignored.</span></span>

    <span data-ttu-id="dfb6b-277">Stejně jako předtím zobrazíte obrázek pomocí elementu `<img>` a dynamického atributu `src`.</span><span class="sxs-lookup"><span data-stu-id="dfb6b-277">As before, you display the image using the `<img>` element and a dynamic `src` attribute.</span></span>
4. <span data-ttu-id="dfb6b-278">Spusťte stránku v prohlížeči.</span><span class="sxs-lookup"><span data-stu-id="dfb6b-278">Run the page in a browser.</span></span> <span data-ttu-id="dfb6b-279">Všimněte si, že obrázek vodoznaku se zobrazí v dolní části hlavní bitové kopie.</span><span class="sxs-lookup"><span data-stu-id="dfb6b-279">Notice that the watermark image appears at the bottom of the main image.</span></span>

<a id="Additional_Resources"></a>
## <a name="additional-resources"></a><span data-ttu-id="dfb6b-280">Další prostředky</span><span class="sxs-lookup"><span data-stu-id="dfb6b-280">Additional Resources</span></span>

[<span data-ttu-id="dfb6b-281">Práce se soubory na webu ASP.NET Web Pages</span><span class="sxs-lookup"><span data-stu-id="dfb6b-281">Working with Files in an ASP.NET Web Pages Site</span></span>](https://go.microsoft.com/fwlink/?LinkId=202896)

[<span data-ttu-id="dfb6b-282">Úvod do programování webových stránek ASP.NET pomocí syntaxe Razor</span><span class="sxs-lookup"><span data-stu-id="dfb6b-282">Introduction to ASP.NET Web Pages Programming Using the Razor Syntax</span></span>](https://go.microsoft.com/fwlink/?LinkID=251587)
