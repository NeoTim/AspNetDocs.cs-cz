---
uid: web-pages/overview/ui-layouts-and-themes/3-creating-a-consistent-look
title: Vytvoření konzistentního rozložení v rozhraní ASP.NET Web Pages servery (Razor) | Dokumentace Microsoftu
author: Rick-Anderson
description: Chcete-li efektivnější vytvořit webové stránky pro váš web, můžete vytvořit opakovaně použitelné bloky obsahu (jako záhlaví a zápatí) u vašeho webu a jazyka c je...
ms.author: riande
ms.date: 03/10/2014
ms.assetid: d7bd001b-6db2-4422-9b78-f3d08b743b00
msc.legacyurl: /web-pages/overview/ui-layouts-and-themes/3-creating-a-consistent-look
msc.type: authoredcontent
ms.openlocfilehash: 83aef41c0baaeca6a25e09b4ea797ce9ee963a85
ms.sourcegitcommit: 24b1f6decbb17bb22a45166e5fdb0845c65af498
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 03/01/2019
ms.locfileid: "57074020"
---
<a name="creating-a-consistent-layout-in-aspnet-web-pages-razor-sites"></a><span data-ttu-id="5e36a-103">Vytvoření konzistentního rozložení v lokalitách rozhraní ASP.NET Web Pages (Razor)</span><span class="sxs-lookup"><span data-stu-id="5e36a-103">Creating a Consistent Layout in ASP.NET Web Pages (Razor) Sites</span></span>
====================
<span data-ttu-id="5e36a-104">podle [Tom FitzMacken](https://github.com/tfitzmac)</span><span class="sxs-lookup"><span data-stu-id="5e36a-104">by [Tom FitzMacken](https://github.com/tfitzmac)</span></span>

> <span data-ttu-id="5e36a-105">Tento článek vysvětluje, jak můžete pomocí rozložení stránky na webu rozhraní ASP.NET Web Pages (Razor) k vytvoření opakovaně použitelné bloky obsahu (jako záhlaví a zápatí) a k vytvoření konzistentního vzhledu všech stránek na webu.</span><span class="sxs-lookup"><span data-stu-id="5e36a-105">This article explains how you can use layout pages in an ASP.NET Web Pages (Razor) website to create reusable blocks of content (like headers and footers) and to create a consistent look for all the pages in the site.</span></span>
> 
> <span data-ttu-id="5e36a-106">**Co se dozvíte:**</span><span class="sxs-lookup"><span data-stu-id="5e36a-106">**What you'll learn:**</span></span> 
> 
> - <span data-ttu-id="5e36a-107">Jak vytvářet opakovaně použitelné bloky obsahu jako záhlaví a zápatí.</span><span class="sxs-lookup"><span data-stu-id="5e36a-107">How to create reusable blocks of content like headers and footers.</span></span>
> - <span data-ttu-id="5e36a-108">Postup vytvoření konzistentního vzhledu všech stránek ve vaší lokalitě pomocí rozložení.</span><span class="sxs-lookup"><span data-stu-id="5e36a-108">How to create a consistent look for all the pages in your site using a layout.</span></span>
> - <span data-ttu-id="5e36a-109">Jak předávat data v době běhu na stránku rozložení.</span><span class="sxs-lookup"><span data-stu-id="5e36a-109">How to pass data at run time to a layout page.</span></span>
> 
> <span data-ttu-id="5e36a-110">Toto jsou funkce technologie ASP.NET v následujícím článku:</span><span class="sxs-lookup"><span data-stu-id="5e36a-110">These are the ASP.NET features introduced in the article:</span></span>
> 
> - <span data-ttu-id="5e36a-111">Bloky obsahu, které jsou soubory, které obsahují obsah ve formátu HTML má být vložen do více stránek.</span><span class="sxs-lookup"><span data-stu-id="5e36a-111">Content blocks, which are files that contain HTML-formatted content to be inserted in multiple pages.</span></span>
> - <span data-ttu-id="5e36a-112">Rozložení stránky, které jsou stránky, které obsahují obsah ve formátu HTML, který může být sdílen stránky na webu.</span><span class="sxs-lookup"><span data-stu-id="5e36a-112">Layout pages, which are pages that contain HTML-formatted content that can be shared by pages on the website.</span></span>
> - <span data-ttu-id="5e36a-113">`RenderPage`, `RenderBody`, A `RenderSection` metody, které zjistit, kam chcete vložit elementy stránek technologie ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="5e36a-113">The `RenderPage`, `RenderBody`, and `RenderSection` methods, which tell ASP.NET where to insert page elements.</span></span>
> - <span data-ttu-id="5e36a-114">`PageData` Slovník, který umožňuje sdílet data mezi bloky obsahu a rozložení stránky.</span><span class="sxs-lookup"><span data-stu-id="5e36a-114">The `PageData` dictionary that lets you share data between content blocks and layout pages.</span></span>
>   
> 
> ## <a name="software-versions-used-in-the-tutorial"></a><span data-ttu-id="5e36a-115">V tomto kurzu použili verze softwaru</span><span class="sxs-lookup"><span data-stu-id="5e36a-115">Software versions used in the tutorial</span></span>
> 
> 
> - <span data-ttu-id="5e36a-116">Webové stránky ASP.NET (Razor) 3</span><span class="sxs-lookup"><span data-stu-id="5e36a-116">ASP.NET Web Pages (Razor) 3</span></span>
>   
> 
> <span data-ttu-id="5e36a-117">V tomto kurzu se také pracuje s ASP.NET Web Pages 2.</span><span class="sxs-lookup"><span data-stu-id="5e36a-117">This tutorial also works with ASP.NET Web Pages 2.</span></span>


## <a name="about-layout-pages"></a><span data-ttu-id="5e36a-118">Informace o rozložení stránky</span><span class="sxs-lookup"><span data-stu-id="5e36a-118">About Layout Pages</span></span>

<span data-ttu-id="5e36a-119">Mnohé weby mají obsah, který se zobrazí na každé stránce, jako je záhlaví a zápatí nebo pole, který uživatele informuje, že jste přihlášení.</span><span class="sxs-lookup"><span data-stu-id="5e36a-119">Many websites have content that's displayed on every page, like a header and footer, or a box that tells users that they're logged in.</span></span> <span data-ttu-id="5e36a-120">Technologie ASP.NET umožňuje vytvořit samostatný soubor s bloku s obsahem, který může obsahovat text, značek a kódu, stejně jako běžné webové stránce.</span><span class="sxs-lookup"><span data-stu-id="5e36a-120">ASP.NET lets you create a separate file with a content block that can contain text, markup, and code, just like a regular web page.</span></span> <span data-ttu-id="5e36a-121">Pak můžete vložit blok s obsahem na jiných stránkách na webu, kam chcete informace zobrazit.</span><span class="sxs-lookup"><span data-stu-id="5e36a-121">You can then insert the content block in other pages on the site where you want the information to appear.</span></span> <span data-ttu-id="5e36a-122">Díky tomu není nutné zkopírovat a vložit stejný obsah do každé stránky.</span><span class="sxs-lookup"><span data-stu-id="5e36a-122">That way you don't have to copy and paste the same content into every page.</span></span> <span data-ttu-id="5e36a-123">Vytvoření společného obsahu, jako je to také usnadňuje rychlé k aktualizaci vašeho webu.</span><span class="sxs-lookup"><span data-stu-id="5e36a-123">Creating common content like this also makes it easier to update your site.</span></span> <span data-ttu-id="5e36a-124">Pokud potřebujete změnit obsah, můžete aktualizovat jenom jeden soubor a změny se projeví všude, kde byl vložen obsah.</span><span class="sxs-lookup"><span data-stu-id="5e36a-124">If you need to change the content, you can just update a single file, and the changes are then reflected everywhere the content has been inserted.</span></span>

<span data-ttu-id="5e36a-125">Následující diagram znázorňuje, jak obsah blokuje práce.</span><span class="sxs-lookup"><span data-stu-id="5e36a-125">The following diagram shows how content blocks work.</span></span> <span data-ttu-id="5e36a-126">Když prohlížeč požádá o stránku z webového serveru, ASP.NET vloží bloky obsahu v místě, kde `RenderPage` metoda je volána na hlavní stránce.</span><span class="sxs-lookup"><span data-stu-id="5e36a-126">When a browser requests a page from the web server, ASP.NET inserts the content blocks at the point where the `RenderPage` method is called in the main page.</span></span> <span data-ttu-id="5e36a-127">Na stránce dokončení (sloučení) se pak posílají do prohlížeče.</span><span class="sxs-lookup"><span data-stu-id="5e36a-127">The finished (merged) page is then sent to the browser.</span></span>

![Koncepční diagram znázorňující, jak metoda RenderPage vloží odkazované stránky do aktuální stránky.](3-creating-a-consistent-look/_static/image1.jpg)

<span data-ttu-id="5e36a-129">V tomto postupu vytvoříte stránku, která odkazuje na dva bloky obsahu (záhlaví nebo zápatí), které se nacházejí v samostatných souborech.</span><span class="sxs-lookup"><span data-stu-id="5e36a-129">In this procedure, you'll create a page that references two content blocks (a header and a footer) that are located in separate files.</span></span> <span data-ttu-id="5e36a-130">Tyto stejné bloky obsahu můžete použít na libovolné stránce na webu.</span><span class="sxs-lookup"><span data-stu-id="5e36a-130">You can use these same content blocks in any page in your site.</span></span> <span data-ttu-id="5e36a-131">Jakmile budete hotovi, získáte na stránce takto:</span><span class="sxs-lookup"><span data-stu-id="5e36a-131">When you're done, you'll get a page like this:</span></span>

![Snímek obrazovky zobrazující stránku v prohlížeči, který je výsledkem spuštění stránky, která obsahuje volání metodě RenderPage.](3-creating-a-consistent-look/_static/image2.jpg)

1. <span data-ttu-id="5e36a-133">V kořenové složce vašeho webu, vytvořte soubor s názvem *Index.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="5e36a-133">In the root folder of your website, create a file named *Index.cshtml*.</span></span>
2. <span data-ttu-id="5e36a-134">Nahraďte existující kód následujícím kódem:</span><span class="sxs-lookup"><span data-stu-id="5e36a-134">Replace the existing markup with the following:</span></span>

    [!code-html[Main](3-creating-a-consistent-look/samples/sample1.html)]
3. <span data-ttu-id="5e36a-135">V kořenové složce vytvořte složku s názvem *Shared*.</span><span class="sxs-lookup"><span data-stu-id="5e36a-135">In the root folder, create a folder named *Shared*.</span></span>

    > [!NOTE]
    > <span data-ttu-id="5e36a-136">Se obvykle používá k ukládání souborů, které jsou odkazy sdíleny mezi webové stránky ve složce s názvem *Shared*.</span><span class="sxs-lookup"><span data-stu-id="5e36a-136">It's common practice to store files that are shared among web pages in a folder named *Shared*.</span></span>
4. <span data-ttu-id="5e36a-137">V *Shared* složce vytvořte soubor s názvem  *\_Header.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="5e36a-137">In the *Shared* folder, create a file named *\_Header.cshtml*.</span></span>
5. <span data-ttu-id="5e36a-138">Jakýkoli existující obsah nahraďte následujícím kódem:</span><span class="sxs-lookup"><span data-stu-id="5e36a-138">Replace any existing content with the following:</span></span>

    [!code-html[Main](3-creating-a-consistent-look/samples/sample2.html)]

    <span data-ttu-id="5e36a-139">Všimněte si, že je název souboru  *\_Header.cshtml*, podtržítko (\_) jako předponu.</span><span class="sxs-lookup"><span data-stu-id="5e36a-139">Notice that the file name is *\_Header.cshtml*, with an underscore (\_) as a prefix.</span></span> <span data-ttu-id="5e36a-140">ASP.NET nebude lze do prohlížeče odeslat stránku, pokud jeho název začíná podtržítkem.</span><span class="sxs-lookup"><span data-stu-id="5e36a-140">ASP.NET won't send a page to the browser if its name starts with an underscore.</span></span> <span data-ttu-id="5e36a-141">To zabrání uživatelům požaduje (neúmyslně nebo jinak) tyto stránky přímo.</span><span class="sxs-lookup"><span data-stu-id="5e36a-141">This prevents people from requesting (inadvertently or otherwise) these pages directly.</span></span> <span data-ttu-id="5e36a-142">Je vhodné použít na název stránky, které mají bloky obsahu v nich, podtržítko, protože nechcete skutečně uživatelé mít možnost požádat o tyto stránky &#8212; existují výhradně má být vložen do jiné stránky.</span><span class="sxs-lookup"><span data-stu-id="5e36a-142">It's a good idea to use an underscore to name pages that have content blocks in them, because you don't really want users to be able to request these pages &#8212; they exist strictly to be inserted into other pages.</span></span>
6. <span data-ttu-id="5e36a-143">V *Shared* složce vytvořte soubor s názvem  *\_Footer.cshtml* a nahraďte obsah následujícím kódem:</span><span class="sxs-lookup"><span data-stu-id="5e36a-143">In the *Shared* folder, create a file named *\_Footer.cshtml* and replace the content with the following:</span></span>

    [!code-html[Main](3-creating-a-consistent-look/samples/sample3.html)]
7. <span data-ttu-id="5e36a-144">V *Index.cshtml* stránce, přidejte dvě volání `RenderPage` způsob, jak je znázorněno zde:</span><span class="sxs-lookup"><span data-stu-id="5e36a-144">In the *Index.cshtml* page, add two calls to the `RenderPage` method, as shown here:</span></span>

    [!code-html[Main](3-creating-a-consistent-look/samples/sample4.html)]

    <span data-ttu-id="5e36a-145">To ukazuje, jak vložit blok s obsahem do webové stránky.</span><span class="sxs-lookup"><span data-stu-id="5e36a-145">This shows how to insert a content block into a web page.</span></span> <span data-ttu-id="5e36a-146">Volání `RenderPage` metoda a předejte mu název souboru, jejíž obsah chcete vložit v daném okamžiku.</span><span class="sxs-lookup"><span data-stu-id="5e36a-146">You call the `RenderPage` method and pass it the name of the file whose contents you want to insert at that point.</span></span> <span data-ttu-id="5e36a-147">Sem vkládáte obsah  *\_Header.cshtml* a  *\_Footer.cshtml* soubory do *Index.cshtml* souboru.</span><span class="sxs-lookup"><span data-stu-id="5e36a-147">Here, you're inserting the contents of the *\_Header.cshtml* and *\_Footer.cshtml* files into the *Index.cshtml* file.</span></span>
8. <span data-ttu-id="5e36a-148">Spustit *Index.cshtml* stránku v prohlížeči.</span><span class="sxs-lookup"><span data-stu-id="5e36a-148">Run the *Index.cshtml* page in a browser.</span></span> <span data-ttu-id="5e36a-149">(V nástroji WebMatrix, v **soubory** pracovní prostor, klikněte pravým tlačítkem na soubor a pak vyberte **spustit v prohlížeči**.)</span><span class="sxs-lookup"><span data-stu-id="5e36a-149">(In WebMatrix, in the **Files** workspace, right-click the file and then select **Launch in browser**.)</span></span>
9. <span data-ttu-id="5e36a-150">V prohlížeči zobrazte zdroj stránky.</span><span class="sxs-lookup"><span data-stu-id="5e36a-150">In the browser, view the page source.</span></span> <span data-ttu-id="5e36a-151">(Například v aplikaci Internet Explorer, klikněte pravým tlačítkem na stránce a potom klikněte na tlačítko **zobrazit zdroj**.)</span><span class="sxs-lookup"><span data-stu-id="5e36a-151">(For example, in Internet Explorer, right-click the page and then click **View Source**.)</span></span>

    <span data-ttu-id="5e36a-152">To umožňuje zobrazit kódu webové stránky, které je odesláno prohlížeči, který kombinuje značky index stránky s bloky obsahu.</span><span class="sxs-lookup"><span data-stu-id="5e36a-152">This lets you see the web page markup that's sent to the browser, which combines the index page markup with the content blocks.</span></span> <span data-ttu-id="5e36a-153">Následující příklad ukazuje na stránku zdroj, který je vykreslen pro *Index.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="5e36a-153">The following example shows the page source that's rendered for *Index.cshtml*.</span></span> <span data-ttu-id="5e36a-154">Volání `RenderPage` , který jste vložili do *Index.cshtml* bylo nahrazeno tématem skutečný obsah souborů záhlaví a zápatí.</span><span class="sxs-lookup"><span data-stu-id="5e36a-154">The calls to `RenderPage` that you inserted into *Index.cshtml* have been replaced with the actual contents of the header and footer files.</span></span>

    [!code-html[Main](3-creating-a-consistent-look/samples/sample5.html)]

## <a name="creating-a-consistent-look-using-layout-pages"></a><span data-ttu-id="5e36a-155">Vytvoření konzistentního vzhledu pomocí rozložení stránek</span><span class="sxs-lookup"><span data-stu-id="5e36a-155">Creating a Consistent Look Using Layout Pages</span></span>

<span data-ttu-id="5e36a-156">Zatím jste viděli, že je snadné zahrnutí stejného obsahu na více stránkách.</span><span class="sxs-lookup"><span data-stu-id="5e36a-156">So far you've seen that it's easy to include the same content on multiple pages.</span></span> <span data-ttu-id="5e36a-157">Více strukturovaný přístup k vytvoření konzistentního vzhledu pro lokalitu, je použití rozložení stránky.</span><span class="sxs-lookup"><span data-stu-id="5e36a-157">A more structured approach to creating a consistent look for a site is to use layout pages.</span></span> <span data-ttu-id="5e36a-158">Stránka rozložení definuje strukturu webové stránky, ale neobsahuje žádný skutečný obsah.</span><span class="sxs-lookup"><span data-stu-id="5e36a-158">A layout page defines the structure of a web page, but doesn't contain any actual content.</span></span> <span data-ttu-id="5e36a-159">Po vytvoření rozložení stránek, můžete vytvořit webové stránky, které obsahují obsah a připojit je ke stránce rozložení.</span><span class="sxs-lookup"><span data-stu-id="5e36a-159">After you've created a layout page, you can create web pages that contain the content and then link them to the layout page.</span></span> <span data-ttu-id="5e36a-160">Při tyto stránky se zobrazí, budete mít ve formátu podle rozložení stránky.</span><span class="sxs-lookup"><span data-stu-id="5e36a-160">When these pages are displayed, they'll be formatted according to the layout page.</span></span> <span data-ttu-id="5e36a-161">(V tomto smyslu stránku rozložení funguje jako šablony pro obsah, který je definován v jiné stránky.)</span><span class="sxs-lookup"><span data-stu-id="5e36a-161">(In this sense, a layout page acts as a kind of template for content that's defined in other pages.)</span></span>

<span data-ttu-id="5e36a-162">Stránka rozložení se stejně jako libovolnou stránku HTML s tím rozdílem, že obsahuje volání `RenderBody` metody.</span><span class="sxs-lookup"><span data-stu-id="5e36a-162">The layout page is just like any HTML page, except that it contains a call to the `RenderBody` method.</span></span> <span data-ttu-id="5e36a-163">Pozice `RenderBody` metody ve stránce rozložení určuje, kde budou zahrnuty informace z obsahu stránky.</span><span class="sxs-lookup"><span data-stu-id="5e36a-163">The position of the `RenderBody` method in the layout page determines where the information from the content page will be included.</span></span>

<span data-ttu-id="5e36a-164">Následující diagram ukazuje, jak obsahu stránky a rozložení stránky jsou zkombinované v době běhu k vytvoření konečného webové stránky.</span><span class="sxs-lookup"><span data-stu-id="5e36a-164">The following diagram shows how content pages and layout pages are combined at run time to produce the finished web page.</span></span> <span data-ttu-id="5e36a-165">Prohlížeč požádá o stránku obsahu.</span><span class="sxs-lookup"><span data-stu-id="5e36a-165">The browser requests a content page.</span></span> <span data-ttu-id="5e36a-166">Stránka obsahu obsahuje kód, který určuje požadovanou stránku rozložení pro stránky strukturu.</span><span class="sxs-lookup"><span data-stu-id="5e36a-166">The content page has code in it that specifies the layout page to use for the page's structure.</span></span> <span data-ttu-id="5e36a-167">Na stránce rozložení se vloží obsah v místě, kde `RenderBody` metoda je volána.</span><span class="sxs-lookup"><span data-stu-id="5e36a-167">In the layout page, the content is inserted at the point where the `RenderBody` method is called.</span></span> <span data-ttu-id="5e36a-168">Obsahu bloky lze také vložit do rozložení stránky voláním `RenderPage` metodu, tak, jak jste to udělali v předchozí části.</span><span class="sxs-lookup"><span data-stu-id="5e36a-168">Content blocks can also be inserted into the layout page by calling the `RenderPage` method, the way you did in the previous section.</span></span> <span data-ttu-id="5e36a-169">Po dokončení webové stránky je odesláno prohlížeči.</span><span class="sxs-lookup"><span data-stu-id="5e36a-169">When the web page is complete, it's sent to the browser.</span></span>

![Snímek obrazovky zobrazující stránku v prohlížeči, který je výsledkem spuštění stránky, která obsahuje volání metodě RenderBody.](3-creating-a-consistent-look/_static/image3.jpg)

<span data-ttu-id="5e36a-171">Následující postup ukazuje, jak vytvořit rozložení stránky obsahu stránky a odkaz na něj.</span><span class="sxs-lookup"><span data-stu-id="5e36a-171">The following procedure shows how to create a layout page and link content pages to it.</span></span>

1. <span data-ttu-id="5e36a-172">V *Shared* složku vašeho webu, vytvořte soubor s názvem  *\_Layout1.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="5e36a-172">In the *Shared* folder of your website, create a file named *\_Layout1.cshtml*.</span></span>
2. <span data-ttu-id="5e36a-173">Jakýkoli existující obsah nahraďte následujícím kódem:</span><span class="sxs-lookup"><span data-stu-id="5e36a-173">Replace any existing content with the following:</span></span>

    [!code-html[Main](3-creating-a-consistent-look/samples/sample6.html)]

    <span data-ttu-id="5e36a-174">Můžete použít `RenderPage` metody ve stránce rozložení pro vložení bloky obsahu.</span><span class="sxs-lookup"><span data-stu-id="5e36a-174">You use the `RenderPage` method in a layout page to insert content blocks.</span></span> <span data-ttu-id="5e36a-175">Rozložení stránky může obsahovat pouze jedno volání `RenderBody` metody.</span><span class="sxs-lookup"><span data-stu-id="5e36a-175">A layout page can contain only one call to the `RenderBody` method.</span></span>
3. <span data-ttu-id="5e36a-176">V *Shared* složce vytvořte soubor s názvem  *\_Header2.cshtml* a jakýkoli existující obsah nahraďte následujícím kódem:</span><span class="sxs-lookup"><span data-stu-id="5e36a-176">In the *Shared* folder, create a file named *\_Header2.cshtml* and replace any existing content with the following:</span></span>

    [!code-html[Main](3-creating-a-consistent-look/samples/sample7.html)]
4. <span data-ttu-id="5e36a-177">V kořenové složce vytvořte novou složku s názvem *styly*.</span><span class="sxs-lookup"><span data-stu-id="5e36a-177">In the root folder, create a new folder and name it *Styles*.</span></span>
5. <span data-ttu-id="5e36a-178">V *styly* složce vytvořte soubor s názvem *Site.css* a přidejte následující definice:</span><span class="sxs-lookup"><span data-stu-id="5e36a-178">In the *Styles* folder, create a file named *Site.css* and add the following style definitions:</span></span>

    [!code-css[Main](3-creating-a-consistent-look/samples/sample8.css)]

    <span data-ttu-id="5e36a-179">Tyto definice stylů se tady jenom zobrazit použití šablony stylů se stránkami rozložení.</span><span class="sxs-lookup"><span data-stu-id="5e36a-179">These style definitions are here only to show how style sheets can be used with layout pages.</span></span> <span data-ttu-id="5e36a-180">Pokud chcete, můžete definovat vlastní styly pro tyto elementy.</span><span class="sxs-lookup"><span data-stu-id="5e36a-180">If you want, you can define your own styles for these elements.</span></span>
6. <span data-ttu-id="5e36a-181">V kořenové složce vytvořte soubor s názvem *Content1.cshtml* a jakýkoli existující obsah nahraďte následujícím kódem:</span><span class="sxs-lookup"><span data-stu-id="5e36a-181">In the root folder, create a file named *Content1.cshtml* and replace any existing content with the following:</span></span>

    [!code-cshtml[Main](3-creating-a-consistent-look/samples/sample9.cshtml)]

    <span data-ttu-id="5e36a-182">Toto je stránka, která bude používat stránku rozložení.</span><span class="sxs-lookup"><span data-stu-id="5e36a-182">This is a page that will use a layout page.</span></span> <span data-ttu-id="5e36a-183">Blok kódu v horní části stránky označuje stránce rozložení, které se má použít pro formátování tohoto obsahu.</span><span class="sxs-lookup"><span data-stu-id="5e36a-183">The code block at the top of the page indicates which layout page to use to format this content.</span></span>
7. <span data-ttu-id="5e36a-184">Spustit *Content1.cshtml* v prohlížeči.</span><span class="sxs-lookup"><span data-stu-id="5e36a-184">Run *Content1.cshtml* in a browser.</span></span> <span data-ttu-id="5e36a-185">Na vykreslené stránce používá formát a šablony stylů definovaná v  *\_Layout1.cshtml* a text (obsah) definované v *Content1.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="5e36a-185">The rendered page uses the format and style sheet defined in *\_Layout1.cshtml* and the text (content) defined in *Content1.cshtml*.</span></span>

    ![[image]](3-creating-a-consistent-look/_static/image4.jpg)

    <span data-ttu-id="5e36a-187">Krok 6 a vytvořte další stránky obsahu, které pak můžete sdílet stejnou stránku rozložení, můžete opakovat.</span><span class="sxs-lookup"><span data-stu-id="5e36a-187">You can repeat step 6 to create additional content pages that can then share the same layout page.</span></span>

    > [!NOTE]
    > <span data-ttu-id="5e36a-188">Můžete nastavit svůj web tak, aby může automaticky použít stejnou stránku rozložení pro všechny stránky obsahu ve složce.</span><span class="sxs-lookup"><span data-stu-id="5e36a-188">You can set up your site so that you can automatically use the same layout page for all the content pages in a folder.</span></span> <span data-ttu-id="5e36a-189">Podrobnosti najdete v tématu [přizpůsobení chování v celém webu pro webové stránky ASP.NET](https://go.microsoft.com/fwlink/?LinkId=202906).</span><span class="sxs-lookup"><span data-stu-id="5e36a-189">For details, see [Customizing Site-Wide Behavior for ASP.NET Web Pages](https://go.microsoft.com/fwlink/?LinkId=202906).</span></span>

## <a name="designing-layout-pages-that-have-multiple-content-sections"></a><span data-ttu-id="5e36a-190">Návrh rozložení stránky, které mají více oddíly obsahu.</span><span class="sxs-lookup"><span data-stu-id="5e36a-190">Designing Layout Pages That Have Multiple Content Sections</span></span>

<span data-ttu-id="5e36a-191">Stránka obsahu může mít více oddílů, což je užitečné, pokud chcete použít rozložení, které mají více oblastí s obsahem replaceable.</span><span class="sxs-lookup"><span data-stu-id="5e36a-191">A content page can have multiple sections, which is useful if you want to use layouts that have multiple areas with replaceable content.</span></span> <span data-ttu-id="5e36a-192">Na stránce obsahu dáte každý oddíl jedinečný název.</span><span class="sxs-lookup"><span data-stu-id="5e36a-192">In the content page, you give each section a unique name.</span></span> <span data-ttu-id="5e36a-193">(Výchozí sekcí zbývá nepojmenované.) Na stránce rozložení přidáte `RenderBody` metodu k určení, kde by se měla zobrazit v části nepojmenované (výchozí).</span><span class="sxs-lookup"><span data-stu-id="5e36a-193">(The default section is left unnamed.) In the layout page, you add a `RenderBody` method to specify where the unnamed (default) section should appear.</span></span> <span data-ttu-id="5e36a-194">Potom přidáte jako samostatné `RenderSection` metody za účelem vykreslení jednotlivě pojmenovaných oddílů.</span><span class="sxs-lookup"><span data-stu-id="5e36a-194">You then add separate `RenderSection` methods in order to render named sections individually.</span></span>

<span data-ttu-id="5e36a-195">Následující diagram znázorňuje způsob, jakým zpracovává obsah, který je rozdělený do několika částí technologie ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="5e36a-195">The following diagram shows how ASP.NET handles content that's divided into multiple sections.</span></span> <span data-ttu-id="5e36a-196">Každý pojmenovaný oddíl je obsažen v části bloku na stránce obsahu.</span><span class="sxs-lookup"><span data-stu-id="5e36a-196">Each named section is contained in a section block in the content page.</span></span> <span data-ttu-id="5e36a-197">(Se nazývají `Header` a `List` v příkladu.) Rozhraní framework vloží části obsahu do stránky rozložení v místě, kde `RenderSection` metoda je volána.</span><span class="sxs-lookup"><span data-stu-id="5e36a-197">(They're named `Header` and `List` in the example.) The framework inserts content section into the layout page at the point where the `RenderSection` method is called.</span></span> <span data-ttu-id="5e36a-198">Nepojmenované (výchozí) oddíl disku do mechaniky v místě, kde `RenderBody` metoda je volána, protože jste viděli již dříve.</span><span class="sxs-lookup"><span data-stu-id="5e36a-198">The unnamed (default) section is inserted at the point where the `RenderBody` method is called, as you saw earlier.</span></span>

![Koncepční diagram znázorňující, jak metoda RenderSection vloží odkazy na oddíly na aktuální stránku.](3-creating-a-consistent-look/_static/image5.jpg)

<span data-ttu-id="5e36a-200">Tento postup ukazuje, jak vytvořit stránku obsahu, který má více oddílů obsahu a jak lze vykreslit pomocí rozložení stránky, která podporuje víc oddílů obsahu.</span><span class="sxs-lookup"><span data-stu-id="5e36a-200">This procedure shows how to create a content page that has multiple content sections and how to render it using a layout page that supports multiple content sections.</span></span>

1. <span data-ttu-id="5e36a-201">V *Shared* složce vytvořte soubor s názvem  *\_Layout2.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="5e36a-201">In the *Shared* folder, create a file named *\_Layout2.cshtml*.</span></span>
2. <span data-ttu-id="5e36a-202">Jakýkoli existující obsah nahraďte následujícím kódem:</span><span class="sxs-lookup"><span data-stu-id="5e36a-202">Replace any existing content with the following:</span></span>

    [!code-html[Main](3-creating-a-consistent-look/samples/sample10.html)]

    <span data-ttu-id="5e36a-203">Můžete použít `RenderSection` metody vykreslit záhlaví a seznam oddílů.</span><span class="sxs-lookup"><span data-stu-id="5e36a-203">You use the `RenderSection` method to render both the header and list sections.</span></span>
3. <span data-ttu-id="5e36a-204">V kořenové složce vytvořte soubor s názvem *Content2.cshtml* a jakýkoli existující obsah nahraďte následujícím kódem:</span><span class="sxs-lookup"><span data-stu-id="5e36a-204">In the root folder, create a file named *Content2.cshtml* and replace any existing content with the following:</span></span>

    [!code-cshtml[Main](3-creating-a-consistent-look/samples/sample11.cshtml)]

    <span data-ttu-id="5e36a-205">Tato stránka obsahu obsahuje blok kódu v horní části stránky.</span><span class="sxs-lookup"><span data-stu-id="5e36a-205">This content page contains a code block at the top of the page.</span></span> <span data-ttu-id="5e36a-206">Každý pojmenovaný oddíl je obsažen v části bloku.</span><span class="sxs-lookup"><span data-stu-id="5e36a-206">Each named section is contained in a section block.</span></span> <span data-ttu-id="5e36a-207">Zbývající části stránky obsahuje výchozí (nepojmenované) části obsahu.</span><span class="sxs-lookup"><span data-stu-id="5e36a-207">The rest of the page contains the default (unnamed) content section.</span></span>
4. <span data-ttu-id="5e36a-208">Spustit *Content2.cshtml* v prohlížeči.</span><span class="sxs-lookup"><span data-stu-id="5e36a-208">Run *Content2.cshtml* in a browser.</span></span>

    ![Snímek obrazovky zobrazující stránku v prohlížeči, který je výsledkem spuštění stránky, která obsahuje volání metodě RenderSection.](3-creating-a-consistent-look/_static/image6.jpg)

## <a name="making-content-sections-optional"></a><span data-ttu-id="5e36a-210">Provádění nepovinné oddíly obsahu.</span><span class="sxs-lookup"><span data-stu-id="5e36a-210">Making Content Sections Optional</span></span>

<span data-ttu-id="5e36a-211">Za normálních okolností oddíly, které jste vytvořili na stránce obsahu se musí shodovat oddíly, které jsou definovány na stránce rozložení.</span><span class="sxs-lookup"><span data-stu-id="5e36a-211">Normally, the sections that you create in a content page have to match sections that are defined in the layout page.</span></span> <span data-ttu-id="5e36a-212">Chyby můžete získat, pokud dojde k některé z následujících akcí:</span><span class="sxs-lookup"><span data-stu-id="5e36a-212">You can get errors if any of the following occur:</span></span>

- <span data-ttu-id="5e36a-213">Stránka obsahu obsahuje oddíl, který nemá žádný odpovídající oddíl na stránce rozložení.</span><span class="sxs-lookup"><span data-stu-id="5e36a-213">The content page contains a section that has no corresponding section in the layout page.</span></span>
- <span data-ttu-id="5e36a-214">Stránka rozložení obsahuje oddíl, který není k dispozici žádný obsah.</span><span class="sxs-lookup"><span data-stu-id="5e36a-214">The layout page contains a section for which there's no content.</span></span>
- <span data-ttu-id="5e36a-215">Stránka rozložení obsahuje volání metody, které se pokoušejí vykreslení stejné části více než jednou.</span><span class="sxs-lookup"><span data-stu-id="5e36a-215">The layout page includes method calls that try to render the same section more than once.</span></span>

<span data-ttu-id="5e36a-216">Však můžete přepsat toto chování pro pojmenovaný oddíl deklarováním oddílu, který má být volitelné na stránce rozložení.</span><span class="sxs-lookup"><span data-stu-id="5e36a-216">However, you can override this behavior for a named section by declaring the section to be optional in the layout page.</span></span> <span data-ttu-id="5e36a-217">To vám umožňuje definovat více obsahu stránek, které sdílejí stránku rozložení, ale mohou nebo nemusí mít obsah pro určitou část.</span><span class="sxs-lookup"><span data-stu-id="5e36a-217">This lets you define multiple content pages that can share a layout page but that might or might not have content for a specific section.</span></span>

1. <span data-ttu-id="5e36a-218">Otevřít *Content2.cshtml* a odeberte následující části:</span><span class="sxs-lookup"><span data-stu-id="5e36a-218">Open *Content2.cshtml* and remove the following section:</span></span>

    [!code-cshtml[Main](3-creating-a-consistent-look/samples/sample12.cshtml)]
2. <span data-ttu-id="5e36a-219">Uložit na stránku a pak ho spusťte v prohlížeči.</span><span class="sxs-lookup"><span data-stu-id="5e36a-219">Save the page and then run it in a browser.</span></span> <span data-ttu-id="5e36a-220">Chybová zpráva se zobrazí, protože obsah stránky neposkytuje obsah pro oddíl definovaný v rozložení stránky, konkrétně oddíl hlavičky.</span><span class="sxs-lookup"><span data-stu-id="5e36a-220">An error message is displayed, because the content page doesn't provide content for a section defined in the layout page, namely the header section.</span></span>

    ![Snímek obrazovky, který se zobrazuje chyba, ke které dojde při spuštění stránky, která volá metodu RenderSection, ale odpovídající oddíl není k dispozici.](3-creating-a-consistent-look/_static/image7.jpg)
3. <span data-ttu-id="5e36a-222">V *Shared* složku, otevřete  *\_Layout2.cshtml* stránce a nahraďte tento řádek:</span><span class="sxs-lookup"><span data-stu-id="5e36a-222">In the *Shared* folder, open the *\_Layout2.cshtml* page and replace this line:</span></span>

    [!code-javascript[Main](3-creating-a-consistent-look/samples/sample13.js)]

    <span data-ttu-id="5e36a-223">následujícím kódem:</span><span class="sxs-lookup"><span data-stu-id="5e36a-223">with the following code:</span></span>

    [!code-javascript[Main](3-creating-a-consistent-look/samples/sample14.js)]

    <span data-ttu-id="5e36a-224">Jako alternativu můžete na předchozí řádek kódu nahradit následující blok kódu, který vytvoří stejné výsledky:</span><span class="sxs-lookup"><span data-stu-id="5e36a-224">As an alternative, you could replace the previous line of code with the following code block, which produces the same results:</span></span>

    [!code-cshtml[Main](3-creating-a-consistent-look/samples/sample15.cshtml)]
4. <span data-ttu-id="5e36a-225">Spustit *Content2.cshtml* stránku v prohlížeči znovu.</span><span class="sxs-lookup"><span data-stu-id="5e36a-225">Run the *Content2.cshtml* page in a browser again.</span></span> <span data-ttu-id="5e36a-226">(Pokud stále máte tuto stránku otevřít v prohlížeči, můžete jen aktualizovat ji.) Tentokrát stránka se zobrazí s žádná chyba, i když nemá žádné hlavičky.</span><span class="sxs-lookup"><span data-stu-id="5e36a-226">(If you still have this page open in the browser, you can just refresh it.) This time the page is displayed with no error, even though it has no header.</span></span>

## <a name="passing-data-to-layout-pages"></a><span data-ttu-id="5e36a-227">Předání dat stránkám rozložení</span><span class="sxs-lookup"><span data-stu-id="5e36a-227">Passing Data to Layout Pages</span></span>

<span data-ttu-id="5e36a-228">Můžete mít data definovaná v obsahu stránky, které potřebujete k odkazování na stránce rozložení.</span><span class="sxs-lookup"><span data-stu-id="5e36a-228">You might have data defined in the content page that you need to refer to in a layout page.</span></span> <span data-ttu-id="5e36a-229">Pokud ano, je potřeba předat data z obsahu stránky na stránku rozložení.</span><span class="sxs-lookup"><span data-stu-id="5e36a-229">If so, you need to pass the data from the content page to the layout page.</span></span> <span data-ttu-id="5e36a-230">Například můžete chtít zobrazit stav přihlášení uživatele, nebo můžete chtít zobrazit nebo skrýt oblasti obsahu, které jsou založeny na vstup uživatele.</span><span class="sxs-lookup"><span data-stu-id="5e36a-230">For example, you might want to display the login status of a user, or you might want to show or hide content areas based on user input.</span></span>

<span data-ttu-id="5e36a-231">Předání dat z obsahu stránky pro stránku rozložení, hodnoty je možné uspořádat do `PageData` vlastnost obsahu stránky.</span><span class="sxs-lookup"><span data-stu-id="5e36a-231">To pass data from a content page to a layout page, you can put values into the `PageData` property of the content page.</span></span> <span data-ttu-id="5e36a-232">`PageData` Vlastnost je kolekce dvojic název/hodnota, které obsahují data, která chcete předávat mezi stránkami.</span><span class="sxs-lookup"><span data-stu-id="5e36a-232">The `PageData` property is a collection of name/value pairs that hold the data that you want to pass between pages.</span></span> <span data-ttu-id="5e36a-233">Na stránce rozložení, pak můžete přečíst hodnot z `PageData` vlastnost.</span><span class="sxs-lookup"><span data-stu-id="5e36a-233">In the layout page, you can then read values out of the `PageData` property.</span></span>

<span data-ttu-id="5e36a-234">Tady je jiného diagramu.</span><span class="sxs-lookup"><span data-stu-id="5e36a-234">Here's another diagram.</span></span> <span data-ttu-id="5e36a-235">Tento ukazuje, jak můžete používat ASP.NET `PageData` vlastnost k předání hodnot z obsahu stránky na stránku rozložení.</span><span class="sxs-lookup"><span data-stu-id="5e36a-235">This one shows how ASP.NET can use the `PageData` property to pass values from a content page to the layout page.</span></span> <span data-ttu-id="5e36a-236">Po zahájení sestavování webové stránky ASP.NET vytvoří `PageData` kolekce.</span><span class="sxs-lookup"><span data-stu-id="5e36a-236">When ASP.NET begins building the web page, it creates the `PageData` collection.</span></span> <span data-ttu-id="5e36a-237">Na stránce obsahu píšete kód k vložení dat `PageData` kolekce.</span><span class="sxs-lookup"><span data-stu-id="5e36a-237">In the content page, you write code to put data in the `PageData` collection.</span></span> <span data-ttu-id="5e36a-238">Hodnoty v `PageData` kolekci lze rovněž přistupovat pomocí jiné části na stránce obsahu nebo další bloky obsahu.</span><span class="sxs-lookup"><span data-stu-id="5e36a-238">Values in the `PageData` collection can also be accessed by other sections in the content page or by additional content blocks.</span></span>

![Koncepční diagram, který ukazuje, jak naplnit PageData slovníku a předávat tyto informace ke stránce rozložení stránky obsahu.](3-creating-a-consistent-look/_static/image8.jpg)

<span data-ttu-id="5e36a-240">Následující postup ukazuje, jak předat data z obsahu stránky pro stránku rozložení.</span><span class="sxs-lookup"><span data-stu-id="5e36a-240">The following procedure shows how to pass data from a content page to a layout page.</span></span> <span data-ttu-id="5e36a-241">Při spuštění stránky se zobrazí tlačítko, které umožňuje uživateli skrýt nebo zobrazit seznam, který je definován v rozložení stránky.</span><span class="sxs-lookup"><span data-stu-id="5e36a-241">When the page runs, it displays a button that lets the user hide or show a list that's defined in the layout page.</span></span> <span data-ttu-id="5e36a-242">Když uživatelé kliknou na tlačítko, nastaví hodnotu true nebo false (Boolean) `PageData` vlastnost.</span><span class="sxs-lookup"><span data-stu-id="5e36a-242">When users click the button, it sets a true/false (Boolean) value in the `PageData` property.</span></span> <span data-ttu-id="5e36a-243">Stránka rozložení přečte tuto hodnotu a pokud je hodnota false, skryje seznamu.</span><span class="sxs-lookup"><span data-stu-id="5e36a-243">The layout page reads that value, and if it's false, hides the list.</span></span> <span data-ttu-id="5e36a-244">Hodnota se také používá na stránce obsahu k určení, jestli se má zobrazit **skrýt seznam** tlačítko nebo **zobrazit seznam** tlačítko.</span><span class="sxs-lookup"><span data-stu-id="5e36a-244">The value is also used in the content page to determine whether to display the **Hide List** button or the **Show List** button.</span></span>

![[image]](3-creating-a-consistent-look/_static/image9.jpg)

1. <span data-ttu-id="5e36a-246">V kořenové složce vytvořte soubor s názvem *Content3.cshtml* a jakýkoli existující obsah nahraďte následujícím kódem:</span><span class="sxs-lookup"><span data-stu-id="5e36a-246">In the root folder, create a file named *Content3.cshtml* and replace any existing content with the following:</span></span>

    [!code-cshtml[Main](3-creating-a-consistent-look/samples/sample16.cshtml)]

    <span data-ttu-id="5e36a-247">Ukládá dva druhy dat v kódu `PageData` vlastnost &#8212; název webové stránky a true nebo false určující, zda chcete-li zobrazit seznam.</span><span class="sxs-lookup"><span data-stu-id="5e36a-247">The code stores two pieces of data in the `PageData` property &#8212; the title of the web page and true or false to specify whether to display a list.</span></span>

    <span data-ttu-id="5e36a-248">Všimněte si, že technologie ASP.NET umožňuje vložit kód HTML do stránky podmíněně pomocí bloku kódu.</span><span class="sxs-lookup"><span data-stu-id="5e36a-248">Notice that ASP.NET lets you put HTML markup into the page conditionally using a code block.</span></span> <span data-ttu-id="5e36a-249">Například `if/else` blok v těle stránky určuje, který formulář pro zobrazení v závislosti na tom, zda `PageData["ShowList"]` je nastavena na hodnotu true.</span><span class="sxs-lookup"><span data-stu-id="5e36a-249">For example, the `if/else` block in the body of the page determines which form to display depending on whether `PageData["ShowList"]` is set to true.</span></span>
2. <span data-ttu-id="5e36a-250">V *Shared* složce vytvořte soubor s názvem  *\_Layout3.cshtml* a jakýkoli existující obsah nahraďte následujícím kódem:</span><span class="sxs-lookup"><span data-stu-id="5e36a-250">In the *Shared* folder, create a file named *\_Layout3.cshtml* and replace any existing content with the following:</span></span>

    [!code-cshtml[Main](3-creating-a-consistent-look/samples/sample17.cshtml)]

    <span data-ttu-id="5e36a-251">Stránka rozložení obsahuje výraz v `<title>` element, který získá hodnotu názvu `PageData` vlastnost.</span><span class="sxs-lookup"><span data-stu-id="5e36a-251">The layout page includes an expression in the `<title>` element that gets the title value from the `PageData` property.</span></span> <span data-ttu-id="5e36a-252">Využívá také `ShowList` hodnotu `PageData` a určí, jestli se má zobrazit seznam blok s obsahem.</span><span class="sxs-lookup"><span data-stu-id="5e36a-252">It also uses the `ShowList` value of the `PageData` property to determine whether to display the list content block.</span></span>
3. <span data-ttu-id="5e36a-253">V *Shared* složce vytvořte soubor s názvem  *\_List.cshtml* a jakýkoli existující obsah nahraďte následujícím kódem:</span><span class="sxs-lookup"><span data-stu-id="5e36a-253">In the *Shared* folder, create a file named *\_List.cshtml* and replace any existing content with the following:</span></span>

    [!code-html[Main](3-creating-a-consistent-look/samples/sample18.html)]
4. <span data-ttu-id="5e36a-254">Spustit *Content3.cshtml* stránku v prohlížeči.</span><span class="sxs-lookup"><span data-stu-id="5e36a-254">Run the *Content3.cshtml* page in a browser.</span></span> <span data-ttu-id="5e36a-255">Zobrazí se na stránce se seznamem na levé straně stránky viditelná a **skrýt seznam** tlačítko dole.</span><span class="sxs-lookup"><span data-stu-id="5e36a-255">The page is displayed with the list visible on the left side of the page and a **Hide List** button at the bottom.</span></span>

    ![Snímek obrazovky zobrazující stránku, která obsahuje seznam a tlačítko s textem "Skrýt seznam".](3-creating-a-consistent-look/_static/image10.jpg)
5. <span data-ttu-id="5e36a-257">Klikněte na tlačítko **skrýt seznam**.</span><span class="sxs-lookup"><span data-stu-id="5e36a-257">Click **Hide List**.</span></span> <span data-ttu-id="5e36a-258">V seznamu zmizí a tlačítko se změní na **zobrazit seznam**.</span><span class="sxs-lookup"><span data-stu-id="5e36a-258">The list disappears and the button changes to **Show List**.</span></span>

    ![Snímek obrazovky zobrazující stránku, která se nenachází v seznamu a tlačítko, které se říká zobrazit seznam.](3-creating-a-consistent-look/_static/image11.jpg)
6. <span data-ttu-id="5e36a-260">Klikněte na tlačítko **zobrazit seznam** tlačítko a v seznamu se zobrazí znovu.</span><span class="sxs-lookup"><span data-stu-id="5e36a-260">Click the **Show List** button, and the list is displayed again.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="5e36a-261">Další prostředky</span><span class="sxs-lookup"><span data-stu-id="5e36a-261">Additional Resources</span></span>


[<span data-ttu-id="5e36a-262">Přizpůsobení chování v celém webu pro webové stránky ASP.NET</span><span class="sxs-lookup"><span data-stu-id="5e36a-262">Customizing Site-Wide Behavior for ASP.NET Web Pages</span></span>](https://go.microsoft.com/fwlink/?LinkId=202906)
