---
title: Práce s SameSite soubory cookie a otevřeným webovým rozhraním pro .NET (OWIN)
author: rick-anderson
description: Práce s SameSite soubory cookie a otevřeným webovým rozhraním pro .NET (OWIN)
ms.author: riande
ms.date: 12/6/2019
uid: owin-samesite
ms.openlocfilehash: fc64315e8c3614e460c9a8d551bcb0848b3fe8f9
ms.sourcegitcommit: 516a168548252ff0eaae2c02ec4bd9ffcfa8375e
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 12/09/2019
ms.locfileid: "74951894"
---
# <a name="samesite-cookies-and-the-open-web-interface-for-net-owin"></a><span data-ttu-id="c212b-103">SameSite soubory cookie a otevřené webové rozhraní pro .NET (OWIN)</span><span class="sxs-lookup"><span data-stu-id="c212b-103">SameSite cookies and the Open Web Interface for .NET (OWIN)</span></span>

<span data-ttu-id="c212b-104">Podle [Rick Anderson](https://twitter.com/RickAndMSFT)</span><span class="sxs-lookup"><span data-stu-id="c212b-104">By [Rick Anderson](https://twitter.com/RickAndMSFT)</span></span>

<span data-ttu-id="c212b-105">`SameSite` je koncept [organizace IETF](https://ietf.org/about/) navržený tak, aby poskytoval určitou ochranu proti útokům přes CSRF (mezi lokalitami).</span><span class="sxs-lookup"><span data-stu-id="c212b-105">`SameSite` is an [IETF](https://ietf.org/about/) draft designed to provide some protection against cross-site request forgery (CSRF) attacks.</span></span> <span data-ttu-id="c212b-106">[Koncept SameSite 2019](https://tools.ietf.org/html/draft-west-cookie-incrementalism-00):</span><span class="sxs-lookup"><span data-stu-id="c212b-106">The [SameSite 2019 draft](https://tools.ietf.org/html/draft-west-cookie-incrementalism-00):</span></span>

* <span data-ttu-id="c212b-107">Ve výchozím nastavení považuje soubory cookie za `SameSite=Lax`.</span><span class="sxs-lookup"><span data-stu-id="c212b-107">Treats cookies as `SameSite=Lax` by default.</span></span>
* <span data-ttu-id="c212b-108">Stavy souborů cookie, které explicitně vyhodnotí `SameSite=None`, aby bylo možné povolit doručování mezi weby, by mělo být označeno jako `Secure`.</span><span class="sxs-lookup"><span data-stu-id="c212b-108">States cookies that explicitly assert `SameSite=None` in order to enable cross-site delivery should be marked as `Secure`.</span></span>

<span data-ttu-id="c212b-109">`Lax` funguje pro většinu souborů cookie aplikace.</span><span class="sxs-lookup"><span data-stu-id="c212b-109">`Lax` works for most app cookies.</span></span> <span data-ttu-id="c212b-110">Některé formy ověřování, jako je [OpenID Connect](https://openid.net/connect/) (OIDC) a [WS-Federation](https://auth0.com/docs/protocols/ws-fed) , jako výchozí vystavení přesměrování na základě.</span><span class="sxs-lookup"><span data-stu-id="c212b-110">Some forms of authentication like [OpenID Connect](https://openid.net/connect/) (OIDC) and [WS-Federation](https://auth0.com/docs/protocols/ws-fed) default to POST based redirects.</span></span> <span data-ttu-id="c212b-111">Přesměrování na základě příspěvku spustí `SameSite` ochrany prohlížečem, takže `SameSite` pro tyto součásti zakázáno.</span><span class="sxs-lookup"><span data-stu-id="c212b-111">The POST based redirects trigger the `SameSite` browser protections, so `SameSite` is disabled for these components.</span></span> <span data-ttu-id="c212b-112">Většina přihlášení [OAuth](https://oauth.net/) není ovlivněná kvůli rozdílům ve způsobu, jakým jsou požadavky v toku.</span><span class="sxs-lookup"><span data-stu-id="c212b-112">Most [OAuth](https://oauth.net/) logins aren't affected due to differences in how the request flows.</span></span> <span data-ttu-id="c212b-113">Všechny ostatní komponenty ve **výchozím nastavení nenastaví `SameSite`** a používají výchozí chování klientů (staré nebo nové).</span><span class="sxs-lookup"><span data-stu-id="c212b-113">All other components do **not** set `SameSite` by default and use the clients default behavior (old or new).</span></span>

<span data-ttu-id="c212b-114">Parametr `None` způsobuje problémy s kompatibilitou s klienty, kteří implementovali předchozí [koncept standard 2016](https://tools.ietf.org/html/draft-west-first-party-cookies-07) (například iOS 12).</span><span class="sxs-lookup"><span data-stu-id="c212b-114">The `None` parameter causes compatibility problems with clients that implemented the prior [2016 draft standard](https://tools.ietf.org/html/draft-west-first-party-cookies-07) (for example, iOS 12).</span></span> <span data-ttu-id="c212b-115">Viz [Podpora starších prohlížečů](#sob) v tomto dokumentu.</span><span class="sxs-lookup"><span data-stu-id="c212b-115">See [Supporting older browsers](#sob) in this document.</span></span>

<span data-ttu-id="c212b-116">Každá komponenta OWIN, která generuje soubory cookie, musí rozhodnout, zda je `SameSite` vhodné.</span><span class="sxs-lookup"><span data-stu-id="c212b-116">Each OWIN component that emits cookies needs to decide if `SameSite` is appropriate.</span></span>

<span data-ttu-id="c212b-117">Verzi tohoto článku pro ASP.NET 4. x najdete v tématu <xref:samesite/system-web-samesite>.</span><span class="sxs-lookup"><span data-stu-id="c212b-117">For the ASP.NET 4.x version of this article, see <xref:samesite/system-web-samesite>.</span></span>

## <a name="api-usage-with-samesite"></a><span data-ttu-id="c212b-118">Použití rozhraní API s SameSite</span><span class="sxs-lookup"><span data-stu-id="c212b-118">API usage with SameSite</span></span>

<span data-ttu-id="c212b-119">`Microsoft.Owin` má vlastní `SameSite` implementaci:</span><span class="sxs-lookup"><span data-stu-id="c212b-119">`Microsoft.Owin` has its own `SameSite` implementation:</span></span>

* <span data-ttu-id="c212b-120">Ta není přímo závislá na `System.Web`.</span><span class="sxs-lookup"><span data-stu-id="c212b-120">That is not directly dependent on the one in `System.Web`.</span></span>
* <span data-ttu-id="c212b-121">`SameSite` funguje na všech verzích, které cílí na `Microsoft.Owin` balíčky, .NET 4,5 a novější.</span><span class="sxs-lookup"><span data-stu-id="c212b-121">`SameSite` works on all versions targetable by the `Microsoft.Owin` packages, .NET 4.5 and later.</span></span>
* <span data-ttu-id="c212b-122">Pouze komponenta [SystemWebCookieManager](https://github.com/aspnet/AspNetKatana/blob/dev/src/Microsoft.Owin.Host.SystemWeb/SystemWebCookieManager.cs) přímo spolupracuje s třídou `System.Web` `HttpCookie`.</span><span class="sxs-lookup"><span data-stu-id="c212b-122">Only the [SystemWebCookieManager](https://github.com/aspnet/AspNetKatana/blob/dev/src/Microsoft.Owin.Host.SystemWeb/SystemWebCookieManager.cs) component directly interacts with the `System.Web` `HttpCookie` class.</span></span>

<span data-ttu-id="c212b-123">`SystemWebCookieManager` závisí na rozhraních API .NET 4.7.2 `System.Web` pro povolení `SameSite` podpory a opravách, které mění chování.</span><span class="sxs-lookup"><span data-stu-id="c212b-123">`SystemWebCookieManager` depends on the .NET 4.7.2 `System.Web` APIs to enable `SameSite` support, and the patches to change the behavior.</span></span>

<span data-ttu-id="c212b-124">Důvody pro použití `SystemWebCookieManager` jsou popsaných v [potížích s integrací souborů cookie Owin a System. Web Response](https://github.com/aspnet/AspNetKatana/wiki/System.Web-response-cookie-integration-issues).</span><span class="sxs-lookup"><span data-stu-id="c212b-124">The reasons to use `SystemWebCookieManager` are outlined in [OWIN and System.Web response cookie integration issues](https://github.com/aspnet/AspNetKatana/wiki/System.Web-response-cookie-integration-issues).</span></span> <span data-ttu-id="c212b-125">`SystemWebCookieManager` se doporučuje při spuštění v `System.Web`.</span><span class="sxs-lookup"><span data-stu-id="c212b-125">`SystemWebCookieManager` is recommended when running on `System.Web`.</span></span> 

<span data-ttu-id="c212b-126">Následující sady kódů `SameSite` `Lax`:</span><span class="sxs-lookup"><span data-stu-id="c212b-126">The following code sets `SameSite` to `Lax`:</span></span>

```csharp
owinContext.Response.Cookies.Append("My Key", "My Value", new CookieOptions()
{
    SameSite = SameSiteMode.Lax
});
```

<span data-ttu-id="c212b-127">Následující rozhraní API používají `SameSite`:</span><span class="sxs-lookup"><span data-stu-id="c212b-127">The following APIs use `SameSite`:</span></span>

* [<span data-ttu-id="c212b-128">Microsoft. Owin. SameSiteMode</span><span class="sxs-lookup"><span data-stu-id="c212b-128">Microsoft.Owin.SameSiteMode</span></span>](https://github.com/aspnet/AspNetKatana/blob/dev/src/Microsoft.Owin/SameSiteMode.cs)
* [<span data-ttu-id="c212b-129">CookieOptions.SameSite</span><span class="sxs-lookup"><span data-stu-id="c212b-129">CookieOptions.SameSite</span></span>](xref:Microsoft.AspNetCore.Http.CookieOptions.SameSite)
* <span data-ttu-id="c212b-130">[CookieAuthenticationOptions – třída](/previous-versions/aspnet/dn385599(v%3Dvs.113))</span><span class="sxs-lookup"><span data-stu-id="c212b-130">[CookieAuthenticationOptions Class](/previous-versions/aspnet/dn385599(v%3Dvs.113))</span></span> <!-- CookieAuthenticationOptions.CookieSameSite not published -->
* [<span data-ttu-id="c212b-131">CookieAuthenticationOptions.CookieSameSite</span><span class="sxs-lookup"><span data-stu-id="c212b-131">CookieAuthenticationOptions.CookieSameSite</span></span>](https://github.com/aspnet/AspNetKatana/blob/dev/src/Microsoft.Owin.Security.Cookies/CookieAuthenticationOptions.cs#L68-#L72)
* <span data-ttu-id="c212b-132">[ICookieManager](/previous-versions/aspnet/dn800238(v%3Dvs.113))</span><span class="sxs-lookup"><span data-stu-id="c212b-132">[ICookieManager](/previous-versions/aspnet/dn800238(v%3Dvs.113))</span></span>
* [<span data-ttu-id="c212b-133">SystemWebCookieManager</span><span class="sxs-lookup"><span data-stu-id="c212b-133">SystemWebCookieManager</span></span>](https://github.com/aspnet/AspNetKatana/blob/dev/src/Microsoft.Owin.Host.SystemWeb/SystemWebCookieManager.cs)
* [<span data-ttu-id="c212b-134">SystemWebChunkingCookieManager</span><span class="sxs-lookup"><span data-stu-id="c212b-134">SystemWebChunkingCookieManager</span></span>](https://github.com/aspnet/AspNetKatana/blob/dev/src/Microsoft.Owin.Host.SystemWeb/SystemWebChunkingCookieManager.cs)
* [<span data-ttu-id="c212b-135">CookieAuthenticationOptions.CookieManager</span><span class="sxs-lookup"><span data-stu-id="c212b-135">CookieAuthenticationOptions.CookieManager</span></span>](https://github.com/aspnet/AspNetKatana/blob/dev/src/Microsoft.Owin.Security.Cookies/CookieAuthenticationOptions.cs#L143-#AL148)
* [<span data-ttu-id="c212b-136">OpenIdConnectAuthenticationOptions.CookieManager</span><span class="sxs-lookup"><span data-stu-id="c212b-136">OpenIdConnectAuthenticationOptions.CookieManager</span></span>](https://github.com/aspnet/AspNetKatana/blob/dev/src/Microsoft.Owin.Security.OpenIdConnect/OpenIdConnectAuthenticationOptions.cs#L315-#L318)

## <a name="history-and-changes"></a><span data-ttu-id="c212b-137">Historie a změny</span><span class="sxs-lookup"><span data-stu-id="c212b-137">History and changes</span></span>

<span data-ttu-id="c212b-138">[Microsoft. Owin](https://www.nuget.org/packages/Microsoft.Owin/) nikdy nepodporuje [koncept Standard`SameSite` 2016](https://tools.ietf.org/html/draft-west-first-party-cookies-07#section-4.1).</span><span class="sxs-lookup"><span data-stu-id="c212b-138">[Microsoft.Owin](https://www.nuget.org/packages/Microsoft.Owin/) never supported the [`SameSite` 2016 draft standard](https://tools.ietf.org/html/draft-west-first-party-cookies-07#section-4.1).</span></span>

<span data-ttu-id="c212b-139">Podpora [konceptu SameSite 2019](https://tools.ietf.org/html/draft-west-cookie-incrementalism-00) je k dispozici pouze v `Microsoft.Owin` 4.1.0 a novějších.</span><span class="sxs-lookup"><span data-stu-id="c212b-139">Support for the [SameSite 2019 draft](https://tools.ietf.org/html/draft-west-cookie-incrementalism-00) is only available in `Microsoft.Owin` 4.1.0 and later.</span></span> <span data-ttu-id="c212b-140">Pro předchozí verze nejsou k dispozici žádné opravy.</span><span class="sxs-lookup"><span data-stu-id="c212b-140">There are no patches for prior versions.</span></span>

<span data-ttu-id="c212b-141">Koncept 2019 specifikace `SameSite`:</span><span class="sxs-lookup"><span data-stu-id="c212b-141">The 2019 draft of the `SameSite` specification:</span></span>

* <span data-ttu-id="c212b-142">Není **zpětně** kompatibilní s konceptem 2016.</span><span class="sxs-lookup"><span data-stu-id="c212b-142">Is **not** backwards compatible with the 2016 draft.</span></span> <span data-ttu-id="c212b-143">Další informace najdete v tématu [Podpora starších prohlížečů](#sob) v tomto dokumentu.</span><span class="sxs-lookup"><span data-stu-id="c212b-143">For more information, see [Supporting older browsers](#sob) in this document.</span></span>
* <span data-ttu-id="c212b-144">Určuje, že soubory cookie se ve výchozím nastavení považují za `SameSite=Lax`.</span><span class="sxs-lookup"><span data-stu-id="c212b-144">Specifies cookies are treated as `SameSite=Lax` by default.</span></span>
* <span data-ttu-id="c212b-145">Určuje soubory cookie, které explicitně vyhodnotí `SameSite=None`, aby bylo možné povolit doručování mezi weby, musí být označeno jako `Secure`.</span><span class="sxs-lookup"><span data-stu-id="c212b-145">Specifies cookies that explicitly assert `SameSite=None` in order to enable cross-site delivery should be marked as `Secure`.</span></span> <span data-ttu-id="c212b-146">`None` je nová položka k odhlášení.</span><span class="sxs-lookup"><span data-stu-id="c212b-146">`None` is a new entry to opt out.</span></span>
* <span data-ttu-id="c212b-147">Ve výchozím nastavení je naplánovaná podpora [Chrome](https://chromestatus.com/feature/5088147346030592) v [únoru 2020](https://blog.chromium.org/2019/10/developers-get-ready-for-new.html).</span><span class="sxs-lookup"><span data-stu-id="c212b-147">Is scheduled to be enabled by [Chrome](https://chromestatus.com/feature/5088147346030592) by default in [Feb 2020](https://blog.chromium.org/2019/10/developers-get-ready-for-new.html).</span></span> <span data-ttu-id="c212b-148">Prohlížeče začaly při přesunu do tohoto standardu v 2019.</span><span class="sxs-lookup"><span data-stu-id="c212b-148">Browsers started moving to this standard in 2019.</span></span>
* <span data-ttu-id="c212b-149">Jsou podporovány opravami vydanými v následujících KBch:</span><span class="sxs-lookup"><span data-stu-id="c212b-149">Is supported by patches issued as described in the following KB's:</span></span>
  * [<span data-ttu-id="c212b-150">Článek znalostní báze 4531182</span><span class="sxs-lookup"><span data-stu-id="c212b-150">KB article 4531182</span></span>](https://support.microsoft.com/help/4531182/kb4531182)
  * [<span data-ttu-id="c212b-151">Článek znalostní báze 4524421</span><span class="sxs-lookup"><span data-stu-id="c212b-151">KB article 4524421</span></span>](https://support.microsoft.com/help/4524421/kb4524421)

<a name="sob"></a>

## <a name="supporting-older-browsers"></a><span data-ttu-id="c212b-152">Podpora starších prohlížečů</span><span class="sxs-lookup"><span data-stu-id="c212b-152">Supporting older browsers</span></span>

<span data-ttu-id="c212b-153">2016 `SameSite` standardně posuzuje, že neznámé hodnoty musí být považovány za `SameSite=Strict` hodnoty.</span><span class="sxs-lookup"><span data-stu-id="c212b-153">The 2016 `SameSite` standard mandated that unknown values must be treated as `SameSite=Strict` values.</span></span> <span data-ttu-id="c212b-154">Aplikace, ke kterým se přistupoval ze starších prohlížečů, které podporují 2016 `SameSite` Standard, se můžou přerušit, když získají vlastnost `SameSite` s hodnotou `None`.</span><span class="sxs-lookup"><span data-stu-id="c212b-154">Apps accessed from older browsers which support the 2016 `SameSite` standard may break when they get a `SameSite` property with a value of `None`.</span></span> <span data-ttu-id="c212b-155">Webové aplikace musí implementovat detekci prohlížeče, pokud chtějí podporovat starší prohlížeče.</span><span class="sxs-lookup"><span data-stu-id="c212b-155">Web apps must implement browser detection if they intend to support older browsers.</span></span> <span data-ttu-id="c212b-156">ASP.NET neimplementuje zjišťování prohlížeče, protože hodnoty uživatelských agentů jsou vysoce těkavé a často se mění.</span><span class="sxs-lookup"><span data-stu-id="c212b-156">ASP.NET doesn't implement browser detection because User-Agents values are highly volatile and change frequently.</span></span> <span data-ttu-id="c212b-157">Bod rozšíření v [ICookieManager](/previous-versions/aspnet/dn800238(v%3Dvs.113)) umožňuje zapojení do logiky specifické pro uživatele.</span><span class="sxs-lookup"><span data-stu-id="c212b-157">An extension point in [ICookieManager](/previous-versions/aspnet/dn800238(v%3Dvs.113)) allows plugging in User-Agent specific logic.</span></span>
<!-- https://docs.microsoft.com/en-us/previous-versions/aspnet/dn800238(v%3Dvs.113) -->

<span data-ttu-id="c212b-158">V `Startup.Configuration`přidejte kód podobný následujícímu:</span><span class="sxs-lookup"><span data-stu-id="c212b-158">In `Startup.Configuration`, add code similar to the following:</span></span>

[!code-csharp[](sample/Startup1.cs?name=snippet)]

<span data-ttu-id="c212b-159">Předchozí kód vyžaduje rozhraní .NET 4.7.2 nebo novější opravu `SameSite`.</span><span class="sxs-lookup"><span data-stu-id="c212b-159">The preceding code requires the .NET 4.7.2 or later `SameSite` patch.</span></span>

<span data-ttu-id="c212b-160">Následující kód ukazuje příklad implementace `SameSiteCookieManager`:</span><span class="sxs-lookup"><span data-stu-id="c212b-160">The following code shows an example implementation of `SameSiteCookieManager`:</span></span>

[!code-csharp[](sample/SameSiteCookieManager.cs?name=snippet)]

<span data-ttu-id="c212b-161">V předchozím příkladu je `DisallowsSameSiteNone` volána v metodě `CheckSameSite`.</span><span class="sxs-lookup"><span data-stu-id="c212b-161">In the preceding sample, `DisallowsSameSiteNone` is called in the `CheckSameSite` method.</span></span> <span data-ttu-id="c212b-162">`DisallowsSameSiteNone` je metoda uživatele, která zjistí, zda uživatelský agent nepodporuje `SameSite` `None`:</span><span class="sxs-lookup"><span data-stu-id="c212b-162">`DisallowsSameSiteNone` is a user method that detects if the user agent doesn't support `SameSite` `None`:</span></span>

[!code-csharp[](sample/SameSiteCookieManager.cs?name=snippet3&highlight=4)]

<span data-ttu-id="c212b-163">Následující kód ukazuje ukázkovou `DisallowsSameSiteNone` metodu:</span><span class="sxs-lookup"><span data-stu-id="c212b-163">The following code shows a sample `DisallowsSameSiteNone` method:</span></span>

> [!WARNING]
> <span data-ttu-id="c212b-164">Následující kód je určen pouze pro ukázku:</span><span class="sxs-lookup"><span data-stu-id="c212b-164">The following code is for demonstration only:</span></span>
> * <span data-ttu-id="c212b-165">Neměla by být považována za dokončenou.</span><span class="sxs-lookup"><span data-stu-id="c212b-165">It should not be considered complete.</span></span>
> * <span data-ttu-id="c212b-166">Není udržována ani podporována.</span><span class="sxs-lookup"><span data-stu-id="c212b-166">It is not maintained or supported.</span></span>

[!code-csharp[](sample/SameSiteCookieManager.cs?name=snippet2)]

## <a name="test-apps-for-samesite-problems"></a><span data-ttu-id="c212b-167">Testování aplikací pro problémy s SameSite</span><span class="sxs-lookup"><span data-stu-id="c212b-167">Test apps for SameSite problems</span></span>

<span data-ttu-id="c212b-168">Aplikace, které komunikují se vzdálenými lokalitami, jako je třeba přihlášení třetí strany, potřebují:</span><span class="sxs-lookup"><span data-stu-id="c212b-168">Apps that interact with remote sites such as through third-party login need to:</span></span>

* <span data-ttu-id="c212b-169">Otestujte interakci na více prohlížečích.</span><span class="sxs-lookup"><span data-stu-id="c212b-169">Test the interaction on multiple browsers.</span></span>
* <span data-ttu-id="c212b-170">Použití [zjišťování a zmírnění](#sob) problémů v prohlížeči, které jsou popsány v tomto dokumentu.</span><span class="sxs-lookup"><span data-stu-id="c212b-170">Apply the [browser detection and mitigation](#sob) discussed in this document.</span></span>

<span data-ttu-id="c212b-171">Otestujte webové aplikace pomocí verze klienta, která se může přihlásit k novému chování `SameSite`.</span><span class="sxs-lookup"><span data-stu-id="c212b-171">Test web apps using a client version that can opt-in to the new `SameSite` behavior.</span></span> <span data-ttu-id="c212b-172">Pro Chrome, Firefox a chrom Edge mají všechny nové příznaky funkcí pro výslovný souhlas, které lze použít k testování.</span><span class="sxs-lookup"><span data-stu-id="c212b-172">Chrome, Firefox, and Chromium Edge all have new opt-in feature flags that can be used for testing.</span></span> <span data-ttu-id="c212b-173">Jakmile vaše aplikace použije `SameSite` opravy, otestujte ji pomocí starších verzí klientů, zejména Safari.</span><span class="sxs-lookup"><span data-stu-id="c212b-173">After your app applies the `SameSite` patches, test it with older client versions, especially Safari.</span></span> <span data-ttu-id="c212b-174">Další informace najdete v tématu [Podpora starších prohlížečů](#sob) v tomto dokumentu.</span><span class="sxs-lookup"><span data-stu-id="c212b-174">For more information, see [Supporting older browsers](#sob) in this document.</span></span>

### <a name="test-with-chrome"></a><span data-ttu-id="c212b-175">Testování s použitím Chromu</span><span class="sxs-lookup"><span data-stu-id="c212b-175">Test with Chrome</span></span>

<span data-ttu-id="c212b-176">Chrome 78 + poskytuje zavádějící výsledky, protože má na zpracování dočasné omezení.</span><span class="sxs-lookup"><span data-stu-id="c212b-176">Chrome 78+ gives misleading results because it has a temporary mitigation in place.</span></span> <span data-ttu-id="c212b-177">Chrome 78 + dočasné zmírnění umožňuje, aby soubory cookie byly starší než dvě minuty.</span><span class="sxs-lookup"><span data-stu-id="c212b-177">The Chrome 78+ temporary mitigation allows cookies less than two minutes old.</span></span> <span data-ttu-id="c212b-178">Chrome 76 nebo 77 s povolenými vhodnými příznakem testu poskytuje přesnější výsledky.</span><span class="sxs-lookup"><span data-stu-id="c212b-178">Chrome 76 or 77 with the appropriate test flags enabled provides more accurate results.</span></span> <span data-ttu-id="c212b-179">Chcete-li otestovat nové rozhraní `SameSite` přepínač chování je `chrome://flags/#same-site-by-default-cookies` **povoleno**.</span><span class="sxs-lookup"><span data-stu-id="c212b-179">To test the new `SameSite` behavior toggle `chrome://flags/#same-site-by-default-cookies` to **Enabled**.</span></span> <span data-ttu-id="c212b-180">Starší verze Chrome (75 a novější) jsou hlášeny jako neúspěšné s novým nastavením `None`.</span><span class="sxs-lookup"><span data-stu-id="c212b-180">Older versions of Chrome (75 and below) are reported to fail with the new `None` setting.</span></span> <span data-ttu-id="c212b-181">Viz [Podpora starších prohlížečů](#sob) v tomto dokumentu.</span><span class="sxs-lookup"><span data-stu-id="c212b-181">See [Supporting older browsers](#sob) in this document.</span></span>

<span data-ttu-id="c212b-182">Google nezpřístupňuje starší verze Chrome.</span><span class="sxs-lookup"><span data-stu-id="c212b-182">Google does not make older chrome versions available.</span></span> <span data-ttu-id="c212b-183">Postupujte podle pokynů v části [stažení Chromu](https://www.chromium.org/getting-involved/download-chromium) a otestujte starší verze Chrome.</span><span class="sxs-lookup"><span data-stu-id="c212b-183">Follow the instructions at [Download Chromium](https://www.chromium.org/getting-involved/download-chromium) to test older versions of Chrome.</span></span> <span data-ttu-id="c212b-184">Nestahujte Chrome z odkazů **, které jsou** k dispozici, hledáním ve starších verzích Chrome.</span><span class="sxs-lookup"><span data-stu-id="c212b-184">Do **not** download Chrome from links provided by searching for older versions of chrome.</span></span>

* [<span data-ttu-id="c212b-185">Chróm 76 Win64</span><span class="sxs-lookup"><span data-stu-id="c212b-185">Chromium 76 Win64</span></span>](https://commondatastorage.googleapis.com/chromium-browser-snapshots/index.html?prefix=Win_x64/664998/)
* [<span data-ttu-id="c212b-186">Chróm 74 Win64</span><span class="sxs-lookup"><span data-stu-id="c212b-186">Chromium 74 Win64</span></span>](https://commondatastorage.googleapis.com/chromium-browser-snapshots/index.html?prefix=Win_x64/638880/)

### <a name="test-with-safari"></a><span data-ttu-id="c212b-187">Testování pomocí Safari</span><span class="sxs-lookup"><span data-stu-id="c212b-187">Test with Safari</span></span>

<span data-ttu-id="c212b-188">Prohlížeč Safari 12 striktně implementuje předchozí koncept a v případě, že je nová hodnota `None` v souboru cookie, se nezdařila.</span><span class="sxs-lookup"><span data-stu-id="c212b-188">Safari 12 strictly implemented the prior draft and fails when the new `None` value is in a cookie.</span></span> <span data-ttu-id="c212b-189">`None` se vyhnete prostřednictvím kódu detekce prohlížeče, který [podporuje starší prohlížeče](#sob) v tomto dokumentu.</span><span class="sxs-lookup"><span data-stu-id="c212b-189">`None` is avoided via the browser detection code [Supporting older browsers](#sob) in this document.</span></span> <span data-ttu-id="c212b-190">Pomocí MSAL, ADAL nebo libovolné knihovny, kterou používáte, otestujte přihlašovací údaje pro WebKit Safari 12, Safari 13 a na bázi.</span><span class="sxs-lookup"><span data-stu-id="c212b-190">Test Safari 12, Safari 13, and WebKit based OS style logins using MSAL, ADAL or whatever library you are using.</span></span> <span data-ttu-id="c212b-191">Problém závisí na základní verzi operačního systému.</span><span class="sxs-lookup"><span data-stu-id="c212b-191">The problem is dependent on the underlying OS version.</span></span> <span data-ttu-id="c212b-192">OSX Mojave (10,14) a iOS 12 se nazývají problémy s kompatibilitou s novým chováním `SameSite`.</span><span class="sxs-lookup"><span data-stu-id="c212b-192">OSX Mojave (10.14) and iOS 12 are known to have compatibility problems with the new `SameSite` behavior.</span></span> <span data-ttu-id="c212b-193">Upgrade operačního systému na OSX Catalina (10,15) nebo iOS 13 opravuje problém.</span><span class="sxs-lookup"><span data-stu-id="c212b-193">Upgrading the OS to OSX Catalina (10.15) or iOS 13 fixes the problem.</span></span> <span data-ttu-id="c212b-194">Prohlížeč Safari aktuálně nemá příznak výslovných přihlášení pro testování nového chování specifikace.</span><span class="sxs-lookup"><span data-stu-id="c212b-194">Safari does not currently have an opt-in flag for testing the new spec behavior.</span></span>

### <a name="test-with-firefox"></a><span data-ttu-id="c212b-195">Testování pomocí Firefox</span><span class="sxs-lookup"><span data-stu-id="c212b-195">Test with Firefox</span></span>

<span data-ttu-id="c212b-196">Podporu aplikace Firefox pro nový standard lze testovat na verzi 68 + tím, že na stránce `about:config` `network.cookie.sameSite.laxByDefault`příznak funkce.</span><span class="sxs-lookup"><span data-stu-id="c212b-196">Firefox support for the new standard can be tested on version 68+ by opting in on the `about:config` page with the feature flag `network.cookie.sameSite.laxByDefault`.</span></span> <span data-ttu-id="c212b-197">Nebyly zjištěny žádné zprávy o problémech s kompatibilitou se staršími verzemi aplikace Firefox.</span><span class="sxs-lookup"><span data-stu-id="c212b-197">There haven't been reports of compatibility issues with older versions of Firefox.</span></span>

### <a name="test-with-edge-browser"></a><span data-ttu-id="c212b-198">Testování pomocí prohlížeče Edge</span><span class="sxs-lookup"><span data-stu-id="c212b-198">Test with Edge browser</span></span>

<span data-ttu-id="c212b-199">Edge podporuje starý `SameSite` Standard.</span><span class="sxs-lookup"><span data-stu-id="c212b-199">Edge supports the old `SameSite` standard.</span></span> <span data-ttu-id="c212b-200">Edge verze 44 nemá žádné známé problémy s kompatibilitou s novým standardem.</span><span class="sxs-lookup"><span data-stu-id="c212b-200">Edge version 44 doesn't have any known compatibility problems with the new standard.</span></span>

### <a name="test-with-edge-chromium"></a><span data-ttu-id="c212b-201">Test s hranou (chrom)</span><span class="sxs-lookup"><span data-stu-id="c212b-201">Test with Edge (Chromium)</span></span>

<span data-ttu-id="c212b-202">příznaky `SameSite` jsou nastaveny na stránce `edge://flags/#same-site-by-default-cookies`.</span><span class="sxs-lookup"><span data-stu-id="c212b-202">`SameSite` flags are set on the `edge://flags/#same-site-by-default-cookies` page.</span></span> <span data-ttu-id="c212b-203">U Edge Chromu se nezjistily žádné problémy s kompatibilitou.</span><span class="sxs-lookup"><span data-stu-id="c212b-203">No compatibility issues were discovered with Edge Chromium.</span></span>

### <a name="test-with-electron"></a><span data-ttu-id="c212b-204">Testování s elektronem</span><span class="sxs-lookup"><span data-stu-id="c212b-204">Test with Electron</span></span>

<span data-ttu-id="c212b-205">K verzím elektronů patří starší verze Chromu.</span><span class="sxs-lookup"><span data-stu-id="c212b-205">Versions of Electron include older versions of Chromium.</span></span> <span data-ttu-id="c212b-206">Například verze elektronicky používané týmy je chrom 66, který vykazuje starší chování.</span><span class="sxs-lookup"><span data-stu-id="c212b-206">For example, the version of Electron used by Teams is Chromium 66, which exhibits the older behavior.</span></span> <span data-ttu-id="c212b-207">Je nutné provést vlastní testování kompatibility s verzí elektronů, kterou váš produkt používá.</span><span class="sxs-lookup"><span data-stu-id="c212b-207">You must perform your own compatibility testing with the version of Electron your product uses.</span></span> <span data-ttu-id="c212b-208">Viz [Podpora starších prohlížečů](#sob) v následující části.</span><span class="sxs-lookup"><span data-stu-id="c212b-208">See [Supporting older browsers](#sob) in the following section.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="c212b-209">Další materiály a zdroje informací</span><span class="sxs-lookup"><span data-stu-id="c212b-209">Additional resources</span></span>

* [<span data-ttu-id="c212b-210">Chromový blog: vývojáři: Připravte se na nové SameSite = None; Nastavení zabezpečeného souboru cookie</span><span class="sxs-lookup"><span data-stu-id="c212b-210">Chromium Blog:Developers: Get Ready for New SameSite=None; Secure Cookie Settings</span></span>](https://blog.chromium.org/2019/10/developers-get-ready-for-new.html)
* [<span data-ttu-id="c212b-211">Vysvětlení souborů cookie SameSite</span><span class="sxs-lookup"><span data-stu-id="c212b-211">SameSite cookies explained</span></span>](https://web.dev/samesite-cookies-explained/)
* [<span data-ttu-id="c212b-212">Problémy s integrací souboru cookie OWIN a System. Web Response</span><span class="sxs-lookup"><span data-stu-id="c212b-212">OWIN and System.Web response cookie integration issues</span></span>](https://github.com/aspnet/AspNetKatana/wiki/System.Web-response-cookie-integration-issues)
