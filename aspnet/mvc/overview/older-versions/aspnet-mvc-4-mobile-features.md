---
uid: mvc/overview/older-versions/aspnet-mvc-4-mobile-features
title: ASP.NET MVC 4 – mobilní funkce | Microsoft Docs
author: Rick-Anderson
description: V tomto kurzu je teď verze MVC 5 tohoto kurzu s ukázkami kódu v nasazení mobilní webové aplikace ASP.NET MVC 5 na webech Azure.
ms.author: riande
ms.date: 08/15/2012
ms.assetid: 27dc4fc8-1b51-43b0-933f-fc1b52476523
msc.legacyurl: /mvc/overview/older-versions/aspnet-mvc-4-mobile-features
msc.type: authoredcontent
ms.openlocfilehash: 9716def069ca9f7115af32e16381f41bd4d13342
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 03/06/2020
ms.locfileid: "78579987"
---
# <a name="aspnet-mvc-4-mobile-features"></a><span data-ttu-id="cf622-103">Funkce mobilní architektury ASP.NET MVC 4</span><span class="sxs-lookup"><span data-stu-id="cf622-103">ASP.NET MVC 4 Mobile Features</span></span>

<span data-ttu-id="cf622-104">od [Rick Anderson](https://twitter.com/RickAndMSFT)</span><span class="sxs-lookup"><span data-stu-id="cf622-104">by [Rick Anderson](https://twitter.com/RickAndMSFT)</span></span>

> <span data-ttu-id="cf622-105">V tomto kurzu je teď verze MVC 5 tohoto kurzu s ukázkami kódu v [Nasazení mobilní webové aplikace ASP.NET MVC 5 na webech Azure](https://azure.microsoft.com/documentation/articles/web-sites-dotnet-deploy-aspnet-mvc-mobile-app/).</span><span class="sxs-lookup"><span data-stu-id="cf622-105">There is now an MVC 5 version of this tutorial with code samples at [Deploy an ASP.NET MVC 5 Mobile Web Application on Azure Web Sites](https://azure.microsoft.com/documentation/articles/web-sites-dotnet-deploy-aspnet-mvc-mobile-app/).</span></span>

<span data-ttu-id="cf622-106">V tomto kurzu se naučíte základy práce s mobilními funkcemi ve webové aplikaci ASP.NET MVC 4.</span><span class="sxs-lookup"><span data-stu-id="cf622-106">This tutorial will teach you the basics of how to work with mobile features in an ASP.NET MVC 4 Web application.</span></span> <span data-ttu-id="cf622-107">Pro tento kurz můžete použít [Visual Studio Express 2012](https://www.microsoft.com/visualstudio/11/products/express) nebo Visual Web Developer 2010 Express Service Pack 1 (&quot;Visual Web Developer nebo souboru vwd&quot;).</span><span class="sxs-lookup"><span data-stu-id="cf622-107">For this tutorial, you can use [Visual Studio Express 2012](https://www.microsoft.com/visualstudio/11/products/express) or Visual Web Developer 2010 Express Service Pack 1 (&quot;Visual Web Developer or VWD&quot;).</span></span> <span data-ttu-id="cf622-108">Pokud již máte, můžete použít profesionální verzi sady Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="cf622-108">You can use the professional version of Visual Studio if you already have that.</span></span>

<span data-ttu-id="cf622-109">Než začnete, ujistěte se, že jste nainstalovali požadavky uvedené níže.</span><span class="sxs-lookup"><span data-stu-id="cf622-109">Before you start, make sure you've installed the prerequisites listed below.</span></span>

- <span data-ttu-id="cf622-110">[Visual Studio Express 2012](https://www.microsoft.com/visualstudio/11/products/express) (doporučeno) nebo Visual Studio Web Developer Express SP1.</span><span class="sxs-lookup"><span data-stu-id="cf622-110">[Visual Studio Express 2012](https://www.microsoft.com/visualstudio/11/products/express) (recommended) or Visual Studio Web Developer Express SP1.</span></span> <span data-ttu-id="cf622-111">Visual Studio 2012 obsahuje ASP.NET MVC 4.</span><span class="sxs-lookup"><span data-stu-id="cf622-111">Visual Studio 2012 contains ASP.NET MVC 4.</span></span> <span data-ttu-id="cf622-112">Pokud používáte aplikaci Visual Web Developer 2010, je nutné nainstalovat [ASP.NET MVC 4](https://go.microsoft.com/fwlink/?LinkId=243392).</span><span class="sxs-lookup"><span data-stu-id="cf622-112">If you are using Visual Web Developer 2010, you must install [ASP.NET MVC 4](https://go.microsoft.com/fwlink/?LinkId=243392).</span></span>

<span data-ttu-id="cf622-113">Budete také potřebovat emulátor mobilního prohlížeče.</span><span class="sxs-lookup"><span data-stu-id="cf622-113">You will also need a mobile browser emulator.</span></span> <span data-ttu-id="cf622-114">Bude fungovat kterýkoli z následujících postupů:</span><span class="sxs-lookup"><span data-stu-id="cf622-114">Any of the following will work:</span></span>

- <span data-ttu-id="cf622-115">[Emulátor pro Windows 7 Phone](https://msdn.microsoft.com/library/ff402563(VS.92).aspx).</span><span class="sxs-lookup"><span data-stu-id="cf622-115">[Windows 7 Phone Emulator](https://msdn.microsoft.com/library/ff402563(VS.92).aspx).</span></span> <span data-ttu-id="cf622-116">(Jedná se o emulátor, který se používá ve většině snímků obrazovky v tomto kurzu.)</span><span class="sxs-lookup"><span data-stu-id="cf622-116">(This is the emulator that's used in most of the screen shots in this tutorial.)</span></span>
- <span data-ttu-id="cf622-117">Změňte řetězec uživatelského agenta tak, aby emuluje iPhone.</span><span class="sxs-lookup"><span data-stu-id="cf622-117">Change the user agent string to emulate an iPhone.</span></span> <span data-ttu-id="cf622-118">Podívejte se na [tuto](http://www.howtogeek.com/113439/how-to-change-your-browsers-user-agent-without-installing-any-extensions/) položku blogu.</span><span class="sxs-lookup"><span data-stu-id="cf622-118">See [this](http://www.howtogeek.com/113439/how-to-change-your-browsers-user-agent-without-installing-any-extensions/) blog entry.</span></span>
- [<span data-ttu-id="cf622-119">Emulátor mobilního emulátoru Opera</span><span class="sxs-lookup"><span data-stu-id="cf622-119">Opera Mobile Emulator</span></span>](http://www.opera.com/developer/tools/mobile/)
- <span data-ttu-id="cf622-120">[Apple Safari](http://www.apple.com/safari/download/) s uživatelským agentem nastaveným na iPhone.</span><span class="sxs-lookup"><span data-stu-id="cf622-120">[Apple Safari](http://www.apple.com/safari/download/) with the user agent set to iPhone.</span></span> <span data-ttu-id="cf622-121">Pokyny, jak nastavit agenta uživatele v Safari na "iPhone", najdete v článku [jak umožnit Safari předstírat se](http://www.davidalison.com/2008/05/how-to-let-safari-pretend-its-ie.html) na blogu David ALISON v IE.</span><span class="sxs-lookup"><span data-stu-id="cf622-121">For instructions on how to set the user agent in Safari to "iPhone", see [How to let Safari pretend it's IE](http://www.davidalison.com/2008/05/how-to-let-safari-pretend-its-ie.html) on David Alison's blog.</span></span>

<span data-ttu-id="cf622-122">Projekty sady Visual Studio C# se zdrojovým kódem jsou k dispozici pro toto téma:</span><span class="sxs-lookup"><span data-stu-id="cf622-122">Visual Studio projects with C# source code are available to accompany this topic:</span></span>

- [<span data-ttu-id="cf622-123">Stažení projektu Starter</span><span class="sxs-lookup"><span data-stu-id="cf622-123">Starter project download</span></span>](https://go.microsoft.com/fwlink/?linkid=228307&amp;clcid=0x409)
- [<span data-ttu-id="cf622-124">Stažení dokončeného projektu</span><span class="sxs-lookup"><span data-stu-id="cf622-124">Completed project download</span></span>](https://go.microsoft.com/fwlink/?linkid=228306&amp;clcid=0x409)

### <a name="what-youll-build"></a><span data-ttu-id="cf622-125">Co sestavíte</span><span class="sxs-lookup"><span data-stu-id="cf622-125">What You'll Build</span></span>

<span data-ttu-id="cf622-126">Pro tento kurz přidáte mobilní funkce do jednoduché aplikace výpisu konferencí, která je k dispozici v [počátečním projektu](https://go.microsoft.com/fwlink/?LinkId=228307).</span><span class="sxs-lookup"><span data-stu-id="cf622-126">For this tutorial, you'll add mobile features to the simple conference-listing application that's provided in the [starter project](https://go.microsoft.com/fwlink/?LinkId=228307).</span></span> <span data-ttu-id="cf622-127">Na následujícím snímku obrazovky vidíte stránku značek dokončené aplikace, jak je vidět v [emulátoru telefonu pro Windows 7](https://msdn.microsoft.com/library/ff402563(VS.92).aspx).</span><span class="sxs-lookup"><span data-stu-id="cf622-127">The following screenshot shows the tags page of the completed application as seen in the [Windows 7 Phone Emulator](https://msdn.microsoft.com/library/ff402563(VS.92).aspx).</span></span> <span data-ttu-id="cf622-128">Pokud chcete zjednodušit vstup z klávesnice, přečtěte si téma [mapování klávesnice pro Windows Phone emulátor](https://msdn.microsoft.com/library/ff754352(v=vs.92).aspx) .</span><span class="sxs-lookup"><span data-stu-id="cf622-128">See [Keyboard Mapping for Windows Phone Emulator](https://msdn.microsoft.com/library/ff754352(v=vs.92).aspx) to simplify keyboard input.</span></span>

<span data-ttu-id="cf622-129">[![p1_Tags_CompletedProj](aspnet-mvc-4-mobile-features/_static/image2.png)](aspnet-mvc-4-mobile-features/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="cf622-129">[![p1_Tags_CompletedProj](aspnet-mvc-4-mobile-features/_static/image2.png)](aspnet-mvc-4-mobile-features/_static/image1.png)</span></span>

<span data-ttu-id="cf622-130">K vývoji mobilní aplikace můžete použít Internet Explorer verze 9 nebo 10, FireFox nebo Chrome nastavením [řetězce uživatelského agenta](http://www.howtogeek.com/113439/how-to-change-your-browsers-user-agent-without-installing-any-extensions/).</span><span class="sxs-lookup"><span data-stu-id="cf622-130">You can use Internet Explorer version 9 or 10, FireFox or Chrome to develop your mobile application by setting the [user agent string](http://www.howtogeek.com/113439/how-to-change-your-browsers-user-agent-without-installing-any-extensions/).</span></span> <span data-ttu-id="cf622-131">Následující obrázek znázorňuje dokončený kurz pomocí aplikace Internet Explorer emulující iPhone.</span><span class="sxs-lookup"><span data-stu-id="cf622-131">The following image shows the completed tutorial using Internet Explorer emulating an iPhone.</span></span> <span data-ttu-id="cf622-132">K ladění aplikace můžete použít nástroje pro vývojáře v aplikaci Internet Explorer F-12 a [Nástroj Fiddler](http://www.fiddler2.com/fiddler2/) .</span><span class="sxs-lookup"><span data-stu-id="cf622-132">You can use the Internet Explorer F-12 developer tools and the [Fiddler tool](http://www.fiddler2.com/fiddler2/) to help debug your application.</span></span>

![](aspnet-mvc-4-mobile-features/_static/image3.png)

### <a name="skills-youll-learn"></a><span data-ttu-id="cf622-133">Dovednosti, se kterými se naučíte</span><span class="sxs-lookup"><span data-stu-id="cf622-133">Skills You'll Learn</span></span>

<span data-ttu-id="cf622-134">Tady je seznam toho, co se naučíte:</span><span class="sxs-lookup"><span data-stu-id="cf622-134">Here's what you'll learn:</span></span>

- <span data-ttu-id="cf622-135">Jak šablony ASP.NET MVC 4 používají atribut HTML5 `viewport` a adaptivní vykreslování pro zlepšení zobrazení na mobilních zařízeních.</span><span class="sxs-lookup"><span data-stu-id="cf622-135">How the ASP.NET MVC 4 templates use the HTML5 `viewport` attribute and adaptive rendering to improve display on mobile devices.</span></span>
- <span data-ttu-id="cf622-136">Vytváření zobrazení specifických pro mobilní zařízení.</span><span class="sxs-lookup"><span data-stu-id="cf622-136">How to create mobile-specific views.</span></span>
- <span data-ttu-id="cf622-137">Jak vytvořit přepínač zobrazení, který uživatelům umožňuje přepínat mezi mobilním zobrazením a zobrazením plochy aplikace.</span><span class="sxs-lookup"><span data-stu-id="cf622-137">How to create a view switcher that lets users toggle between a mobile view and a desktop view of the application.</span></span>

### <a name="getting-started"></a><span data-ttu-id="cf622-138">začínáme</span><span class="sxs-lookup"><span data-stu-id="cf622-138">Getting Started</span></span>

<span data-ttu-id="cf622-139">Stáhněte si aplikaci pro výpis konference pro počáteční projekt pomocí následujícího odkazu: [Stáhnout](https://go.microsoft.com/fwlink/?LinkId=228307).</span><span class="sxs-lookup"><span data-stu-id="cf622-139">Download the conference-listing application for the starter project using the following link: [Download](https://go.microsoft.com/fwlink/?LinkId=228307).</span></span> <span data-ttu-id="cf622-140">Pak v Průzkumníkovi Windows klikněte pravým tlačítkem na soubor *MvcMobile. zip* a zvolte **vlastnosti**.</span><span class="sxs-lookup"><span data-stu-id="cf622-140">Then in Windows Explorer, right-click the *MvcMobile.zip* file and choose **Properties**.</span></span> <span data-ttu-id="cf622-141">V dialogovém okně **vlastnosti MvcMobile. zip** vyberte tlačítko **odblokování** .</span><span class="sxs-lookup"><span data-stu-id="cf622-141">In the **MvcMobile.zip Properties** dialog box, choose the **Unblock** button.</span></span> <span data-ttu-id="cf622-142">(Odblokování zabraňuje upozornění zabezpečení, které se vyskytne při pokusu o použití souboru *. zip* , který jste stáhli z webu.)</span><span class="sxs-lookup"><span data-stu-id="cf622-142">(Unblocking prevents a security warning that occurs when you try to use a *.zip* file that you've downloaded from the web.)</span></span>

![p1_unBlock](aspnet-mvc-4-mobile-features/_static/image4.png)

<span data-ttu-id="cf622-144">Klikněte pravým tlačítkem na soubor *MvcMobile. zip* a vyberte **Rozbalit vše pro rozbalení** souboru.</span><span class="sxs-lookup"><span data-stu-id="cf622-144">Right-click the *MvcMobile.zip* file and select **Extract All** to unzip the file.</span></span> <span data-ttu-id="cf622-145">V aplikaci Visual Studio otevřete soubor *MvcMobile. sln* .</span><span class="sxs-lookup"><span data-stu-id="cf622-145">In Visual Studio, open the *MvcMobile.sln* file.</span></span>

<span data-ttu-id="cf622-146">Stisknutím kombinace kláves CTRL + F5 spusťte aplikaci, která se zobrazí v prohlížeči na ploše.</span><span class="sxs-lookup"><span data-stu-id="cf622-146">Press CTRL+F5 to run the application, which will display it in your desktop browser.</span></span> <span data-ttu-id="cf622-147">Spusťte emulátor mobilního prohlížeče, zkopírujte adresu URL pro aplikaci konference do emulátoru a potom klikněte na odkaz **Procházet podle značky** .</span><span class="sxs-lookup"><span data-stu-id="cf622-147">Start your mobile browser emulator, copy the URL for the conference application into the emulator, and then click the **Browse by tag** link.</span></span> <span data-ttu-id="cf622-148">Pokud používáte emulátor Windows Phone, klikněte na panelu Adresa URL a stisknutím klávesy Pause získáte přístup k klávesnici.</span><span class="sxs-lookup"><span data-stu-id="cf622-148">If you are using the Windows Phone Emulator, click in the URL bar and press the Pause key to get keyboard access.</span></span> <span data-ttu-id="cf622-149">Následující obrázek ukazuje zobrazení *AllTags* (výběr možnosti **Procházet podle značky**).</span><span class="sxs-lookup"><span data-stu-id="cf622-149">The image below shows the *AllTags* view (from choosing **Browse by tag**).</span></span>

<span data-ttu-id="cf622-150">[![p1_browseTag](aspnet-mvc-4-mobile-features/_static/image6.png)](aspnet-mvc-4-mobile-features/_static/image5.png)</span><span class="sxs-lookup"><span data-stu-id="cf622-150">[![p1_browseTag](aspnet-mvc-4-mobile-features/_static/image6.png)](aspnet-mvc-4-mobile-features/_static/image5.png)</span></span>

<span data-ttu-id="cf622-151">Zobrazení je velmi čitelné na mobilním zařízení.</span><span class="sxs-lookup"><span data-stu-id="cf622-151">The display is very readable on a mobile device.</span></span> <span data-ttu-id="cf622-152">Klikněte na odkaz ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="cf622-152">Choose the ASP.NET link.</span></span>

<span data-ttu-id="cf622-153">[![p1_tagged_ASPNET](aspnet-mvc-4-mobile-features/_static/image8.png)](aspnet-mvc-4-mobile-features/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="cf622-153">[![p1_tagged_ASPNET](aspnet-mvc-4-mobile-features/_static/image8.png)](aspnet-mvc-4-mobile-features/_static/image7.png)</span></span>

<span data-ttu-id="cf622-154">Zobrazení značek ASP.NET je velmi zbytečné.</span><span class="sxs-lookup"><span data-stu-id="cf622-154">The ASP.NET tag view is very cluttered.</span></span> <span data-ttu-id="cf622-155">Například sloupec **data** je velmi obtížné přečíst.</span><span class="sxs-lookup"><span data-stu-id="cf622-155">For example, the **Date** column is very difficult to read.</span></span> <span data-ttu-id="cf622-156">Později v tomto kurzu vytvoříte verzi zobrazení *AllTags* , která je určená konkrétně pro mobilní prohlížeče a která umožní čtení zobrazení.</span><span class="sxs-lookup"><span data-stu-id="cf622-156">Later in the tutorial you'll create a version of the *AllTags* view that's specifically for mobile browsers and that will make the display readable.</span></span>

<span data-ttu-id="cf622-157">Poznámka: v současné době existuje chyba v modulu ukládání do mezipaměti pro mobilní zařízení.</span><span class="sxs-lookup"><span data-stu-id="cf622-157">Note: Currently a bug exists in the mobile caching engine.</span></span> <span data-ttu-id="cf622-158">V případě produkčních aplikací je nutné nainstalovat [opravený balíček DisplayMode](http://nuget.org/packages/Microsoft.AspNet.Mvc.FixedDisplayModes) zrnkos.</span><span class="sxs-lookup"><span data-stu-id="cf622-158">For production applications, you must install the [Fixed DisplayModes](http://nuget.org/packages/Microsoft.AspNet.Mvc.FixedDisplayModes) nugget package.</span></span> <span data-ttu-id="cf622-159">Podrobnosti o opravě najdete v tématu věnovaném [chybě ukládání do mezipaměti pro mobilní služby ASP.NET MVC 4](https://blogs.msdn.com/b/rickandy/archive/2012/09/17/asp-net-mvc-4-mobile-caching-bug-fixed.aspx) .</span><span class="sxs-lookup"><span data-stu-id="cf622-159">See [ASP.NET MVC 4 Mobile Caching Bug Fixed](https://blogs.msdn.com/b/rickandy/archive/2012/09/17/asp-net-mvc-4-mobile-caching-bug-fixed.aspx) for details on the fix.</span></span>

## <a name="css-media-queries"></a><span data-ttu-id="cf622-160">Dotazy na média CSS</span><span class="sxs-lookup"><span data-stu-id="cf622-160">CSS Media Queries</span></span>

<span data-ttu-id="cf622-161">[Dotazy na média CSS](http://www.w3.org/TR/css3-mediaqueries/) jsou rozšíření šablon stylů CSS pro typy médií.</span><span class="sxs-lookup"><span data-stu-id="cf622-161">[CSS media queries](http://www.w3.org/TR/css3-mediaqueries/) are an extension to CSS for media types.</span></span> <span data-ttu-id="cf622-162">Umožňují vytvářet pravidla, která přepisují výchozí pravidla CSS pro konkrétní prohlížeče (uživatelské agenty).</span><span class="sxs-lookup"><span data-stu-id="cf622-162">They allow you to create rules that override the default CSS rules for specific browsers (user agents).</span></span> <span data-ttu-id="cf622-163">Běžné pravidlo pro šablonu stylů CSS, které cílí na mobilní prohlížeče, definuje maximální velikost obrazovky.</span><span class="sxs-lookup"><span data-stu-id="cf622-163">A common rule for CSS that targets mobile browsers is defining the maximum screen size.</span></span> <span data-ttu-id="cf622-164">Soubor *Content\Site.CSS* , který se vytvoří při vytvoření nového ASP.NET projektu MVC 4, obsahuje následující multimediální dotaz:</span><span class="sxs-lookup"><span data-stu-id="cf622-164">The *Content\Site.css* file that's created when you create a new ASP.NET MVC 4 Internet project contains the following media query:</span></span>

[!code-css[Main](aspnet-mvc-4-mobile-features/samples/sample1.css)]

<span data-ttu-id="cf622-165">Pokud je okno prohlížeče 850 pixelů na šířku nebo méně, budou použita pravidla šablony stylů CSS v tomto bloku média.</span><span class="sxs-lookup"><span data-stu-id="cf622-165">If the browser window is 850 pixels wide or less, it will use the CSS rules inside this media block.</span></span> <span data-ttu-id="cf622-166">Pomocí multimediálních dotazů šablon stylů CSS můžete poskytnout lepší zobrazení obsahu HTML v malých prohlížečích (například v mobilních prohlížečích) než výchozí pravidla šablon stylů CSS, která jsou navržena pro širší zobrazení desktopových prohlížečů.</span><span class="sxs-lookup"><span data-stu-id="cf622-166">You can use CSS media queries like this to provide a better display of HTML content on small browsers (like mobile browsers) than the default CSS rules that are designed for the wider displays of desktop browsers.</span></span>

## <a name="the-viewport-meta-tag"></a><span data-ttu-id="cf622-167">Meta značka zobrazení</span><span class="sxs-lookup"><span data-stu-id="cf622-167">The Viewport Meta Tag</span></span>

<span data-ttu-id="cf622-168">Většina mobilních prohlížečů definuje šířku okna virtuálního prohlížeče ( *zobrazení*), která je mnohem větší než skutečná šířka mobilního zařízení.</span><span class="sxs-lookup"><span data-stu-id="cf622-168">Most mobile browsers define a virtual browser window width (the *viewport*) that's much larger than the actual width of the mobile device.</span></span> <span data-ttu-id="cf622-169">To umožňuje mobilním prohlížečům umístit celou webovou stránku do virtuálního zobrazení.</span><span class="sxs-lookup"><span data-stu-id="cf622-169">This allows mobile browsers to fit the entire web page inside the virtual display.</span></span> <span data-ttu-id="cf622-170">Uživatelé se pak můžou přiblížit k zajímavému obsahu.</span><span class="sxs-lookup"><span data-stu-id="cf622-170">Users can then zoom in on interesting content.</span></span> <span data-ttu-id="cf622-171">Pokud však nastavíte šířku zobrazení na skutečnou šířku zařízení, není nutné žádné přiblížení, protože obsah se vejde do mobilního prohlížeče.</span><span class="sxs-lookup"><span data-stu-id="cf622-171">However, if you set the viewport width to the actual device width, no zooming is required, because the content fits in the mobile browser.</span></span>

<span data-ttu-id="cf622-172">Zobrazení `<meta>` značka v souboru rozložení ASP.NET MVC 4 nastaví zobrazení na šířku zařízení.</span><span class="sxs-lookup"><span data-stu-id="cf622-172">The viewport `<meta>` tag in the ASP.NET MVC 4 layout file sets the viewport to the device width.</span></span> <span data-ttu-id="cf622-173">Následující řádek ukazuje zobrazení `<meta>` značku v souboru rozložení ASP.NET MVC 4.</span><span class="sxs-lookup"><span data-stu-id="cf622-173">The following line shows the viewport `<meta>` tag in the ASP.NET MVC 4 layout file.</span></span>

[!code-html[Main](aspnet-mvc-4-mobile-features/samples/sample2.html)]

## <a name="examining-the-effect-of-css-media-queries-and-the-viewport-meta-tag"></a><span data-ttu-id="cf622-174">Zkoumání efektu dotazů na média CSS a značky meta zobrazení</span><span class="sxs-lookup"><span data-stu-id="cf622-174">Examining the Effect of CSS Media Queries and the Viewport Meta Tag</span></span>

<span data-ttu-id="cf622-175">V editoru otevřete soubor *Views\Shared\\_Layout. cshtml* a odkomentujte `<meta>` značku zobrazení.</span><span class="sxs-lookup"><span data-stu-id="cf622-175">Open the *Views\Shared\\_Layout.cshtml* file in the editor and comment out the viewport `<meta>` tag.</span></span> <span data-ttu-id="cf622-176">Následující kód ukazuje řádek s komentářem.</span><span class="sxs-lookup"><span data-stu-id="cf622-176">The following markup shows the commented-out line.</span></span>

[!code-cshtml[Main](aspnet-mvc-4-mobile-features/samples/sample3.cshtml)]

<span data-ttu-id="cf622-177">Otevřete soubor *MvcMobile\Content\Site.CSS* v editoru a změňte maximální šířku dotazu na média na nula pixelů.</span><span class="sxs-lookup"><span data-stu-id="cf622-177">Open the *MvcMobile\Content\Site.css* file in the editor and change the maximum width in the media query to zero pixels.</span></span> <span data-ttu-id="cf622-178">Tím zabráníte použití pravidel CSS v mobilních prohlížečích.</span><span class="sxs-lookup"><span data-stu-id="cf622-178">This will prevent the CSS rules from being used in mobile browsers.</span></span> <span data-ttu-id="cf622-179">Upravený multimediální dotaz se zobrazuje na následujícím řádku:</span><span class="sxs-lookup"><span data-stu-id="cf622-179">The following line shows the modified media query:</span></span>

[!code-css[Main](aspnet-mvc-4-mobile-features/samples/sample4.css)]

<span data-ttu-id="cf622-180">Uložte změny a přejděte do aplikace konference v emulátoru mobilního prohlížeče.</span><span class="sxs-lookup"><span data-stu-id="cf622-180">Save your changes and browse to the Conference application in a mobile browser emulator.</span></span> <span data-ttu-id="cf622-181">Malý text na následujícím obrázku je výsledkem odebrání zobrazení `<meta>` značku.</span><span class="sxs-lookup"><span data-stu-id="cf622-181">The tiny text in the following image is the result of removing the viewport `<meta>` tag.</span></span> <span data-ttu-id="cf622-182">Bez zobrazení `<meta>` značku, prohlížeč se přiblíží k výchozí šířce zobrazení (850 pixelů nebo širší pro většinu mobilních prohlížečů).</span><span class="sxs-lookup"><span data-stu-id="cf622-182">With no viewport `<meta>` tag, the browser is zooming out to the default viewport width (850 pixels or wider for most mobile browsers.)</span></span>

<span data-ttu-id="cf622-183">[![p1_noViewPort](aspnet-mvc-4-mobile-features/_static/image10.png)](aspnet-mvc-4-mobile-features/_static/image9.png)</span><span class="sxs-lookup"><span data-stu-id="cf622-183">[![p1_noViewPort](aspnet-mvc-4-mobile-features/_static/image10.png)](aspnet-mvc-4-mobile-features/_static/image9.png)</span></span>

<span data-ttu-id="cf622-184">Vrátit zpět změny – Odkomentujte zobrazení `<meta>` značku v souboru rozložení a obnovte dotaz média na 850 pixelů v souboru *site. CSS* .</span><span class="sxs-lookup"><span data-stu-id="cf622-184">Undo your changes — uncomment the viewport `<meta>` tag in the layout file and restore the media query to 850 pixels in the *Site.css* file.</span></span> <span data-ttu-id="cf622-185">Uložte změny a aktualizujte mobilní prohlížeč, aby se ověřilo, že se obnovilo mobilní zobrazení.</span><span class="sxs-lookup"><span data-stu-id="cf622-185">Save your changes and refresh the mobile browser to verify that the mobile-friendly display has been restored.</span></span>

<span data-ttu-id="cf622-186">Zobrazení `<meta>` značka a dotaz na média CSS nejsou specifické pro ASP.NET MVC 4 a můžete využít výhod těchto funkcí v jakékoli webové aplikaci.</span><span class="sxs-lookup"><span data-stu-id="cf622-186">The viewport `<meta>` tag and the CSS media query are not specific to ASP.NET MVC 4, and you can take advantage of these features in any web application.</span></span> <span data-ttu-id="cf622-187">Jsou však nyní integrovány do souborů, které jsou generovány při vytváření nového projektu ASP.NET MVC 4.</span><span class="sxs-lookup"><span data-stu-id="cf622-187">But they are now built into the files that are generated when you create a new ASP.NET MVC 4 project.</span></span>

<span data-ttu-id="cf622-188">Další informace o zobrazení `<meta>` značky naleznete v části se [dvěma zobrazeními – druhá část](http://www.quirksmode.org/mobile/viewports2.html).</span><span class="sxs-lookup"><span data-stu-id="cf622-188">For more information about the viewport `<meta>` tag, see [A tale of two viewports — part two](http://www.quirksmode.org/mobile/viewports2.html).</span></span>

<span data-ttu-id="cf622-189">V další části se dozvíte, jak poskytnout zobrazení specifická pro mobilní prohlížeče.</span><span class="sxs-lookup"><span data-stu-id="cf622-189">In the next section you'll see how to provide mobile-browser specific views.</span></span>

## <a name="overriding-views-layouts-and-partial-views"></a><span data-ttu-id="cf622-190">Přepsání zobrazení, rozložení a částečných zobrazení</span><span class="sxs-lookup"><span data-stu-id="cf622-190">Overriding Views, Layouts, and Partial Views</span></span>

<span data-ttu-id="cf622-191">Významnou novou funkcí v ASP.NET MVC 4 je jednoduchý mechanismus, který umožňuje potlačit libovolné zobrazení (včetně rozložení a částečných zobrazení) pro mobilní prohlížeče obecně, pro jednotlivé mobilní prohlížeče nebo pro všechny konkrétní prohlížeče.</span><span class="sxs-lookup"><span data-stu-id="cf622-191">A significant new feature in ASP.NET MVC 4 is a simple mechanism that lets you override any view (including layouts and partial views) for mobile browsers in general, for an individual mobile browser, or for any specific browser.</span></span> <span data-ttu-id="cf622-192">Chcete-li poskytnout zobrazení pro konkrétní mobilní zařízení, můžete zkopírovat soubor zobrazení a přidat *. Mobilní* na název souboru.</span><span class="sxs-lookup"><span data-stu-id="cf622-192">To provide a mobile-specific view, you can copy a view file and add *.Mobile* to the file name.</span></span> <span data-ttu-id="cf622-193">Chcete-li například vytvořit zobrazení mobilního *indexu* , zkopírujte *Views\Home\Index.cshtml* do *Views\Home\Index.Mobile.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="cf622-193">For example, to create a mobile *Index* view, copy *Views\Home\Index.cshtml* to *Views\Home\Index.Mobile.cshtml*.</span></span>

<span data-ttu-id="cf622-194">V této části vytvoříte soubor rozložení specifický pro mobilní zařízení.</span><span class="sxs-lookup"><span data-stu-id="cf622-194">In this section, you'll create a mobile-specific layout file.</span></span>

<span data-ttu-id="cf622-195">Spusťte kopírování *Views\Shared\\_Layout. cshtml* do *Views\Shared\\_Layout. Mobile. cshtml*.</span><span class="sxs-lookup"><span data-stu-id="cf622-195">To start, copy *Views\Shared\\_Layout.cshtml* to *Views\Shared\\_Layout.Mobile.cshtml*.</span></span> <span data-ttu-id="cf622-196">Otevřete *\_layout. Mobile. cshtml* a změňte název z **konference MVC4** na **konferenci (mobilní)** .</span><span class="sxs-lookup"><span data-stu-id="cf622-196">Open *\_Layout.Mobile.cshtml* and change the title from **MVC4 Conference** to **Conference (Mobile)**.</span></span>

<span data-ttu-id="cf622-197">V každém volání `Html.ActionLink` odeberte "Procházet podle" v každém odkazu *ActionLink*.</span><span class="sxs-lookup"><span data-stu-id="cf622-197">In each `Html.ActionLink` call, remove "Browse by" in each link *ActionLink*.</span></span> <span data-ttu-id="cf622-198">Následující kód ukazuje část hotový text v souboru rozložení pro mobilní zařízení.</span><span class="sxs-lookup"><span data-stu-id="cf622-198">The following code shows the completed body section of the mobile layout file.</span></span>

[!code-cshtml[Main](aspnet-mvc-4-mobile-features/samples/sample5.cshtml)]

<span data-ttu-id="cf622-199">Zkopírujte soubor *Views\Home\AllTags.cshtml* do *Views\Home\AllTags.Mobile.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="cf622-199">Copy the *Views\Home\AllTags.cshtml* file to *Views\Home\AllTags.Mobile.cshtml*.</span></span> <span data-ttu-id="cf622-200">Otevřete nový soubor a změňte `<h2>` element z "Tags" na "Tags" (M) ":</span><span class="sxs-lookup"><span data-stu-id="cf622-200">Open the new file and change the `<h2>` element from "Tags" to "Tags (M)":</span></span>

[!code-html[Main](aspnet-mvc-4-mobile-features/samples/sample6.html)]

<span data-ttu-id="cf622-201">Přejděte na stránku značky pomocí klasického prohlížeče a pomocí emulátoru v mobilním prohlížeči.</span><span class="sxs-lookup"><span data-stu-id="cf622-201">Browse to the tags page using a desktop browser and using mobile browser emulator.</span></span> <span data-ttu-id="cf622-202">Emulátor mobilního prohlížeče zobrazuje dvě změny, které jste provedli.</span><span class="sxs-lookup"><span data-stu-id="cf622-202">The mobile browser emulator shows the two changes you made.</span></span>

<span data-ttu-id="cf622-203">[![p2m_layoutTags. Mobile](aspnet-mvc-4-mobile-features/_static/image12.png)](aspnet-mvc-4-mobile-features/_static/image11.png)</span><span class="sxs-lookup"><span data-stu-id="cf622-203">[![p2m_layoutTags.mobile](aspnet-mvc-4-mobile-features/_static/image12.png)](aspnet-mvc-4-mobile-features/_static/image11.png)</span></span>

<span data-ttu-id="cf622-204">Naproti tomu se zobrazení plochy nezměnilo.</span><span class="sxs-lookup"><span data-stu-id="cf622-204">In contrast, the desktop display has not changed.</span></span>

<span data-ttu-id="cf622-205">[![p2_layoutTagsDesktop](aspnet-mvc-4-mobile-features/_static/image14.png)](aspnet-mvc-4-mobile-features/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="cf622-205">[![p2_layoutTagsDesktop](aspnet-mvc-4-mobile-features/_static/image14.png)](aspnet-mvc-4-mobile-features/_static/image13.png)</span></span>

## <a name="browser-specific-views"></a><span data-ttu-id="cf622-206">Zobrazení specifická pro prohlížeč</span><span class="sxs-lookup"><span data-stu-id="cf622-206">Browser-Specific Views</span></span>

<span data-ttu-id="cf622-207">Kromě zobrazení specifických pro mobilní zařízení a pro stolní počítače můžete vytvořit zobrazení pro jednotlivé prohlížeče.</span><span class="sxs-lookup"><span data-stu-id="cf622-207">In addition to mobile-specific and desktop-specific views, you can create views for an individual browser.</span></span> <span data-ttu-id="cf622-208">Můžete například vytvořit zobrazení, která jsou speciálně pro prohlížeč iPhone.</span><span class="sxs-lookup"><span data-stu-id="cf622-208">For example, you can create views that are specifically for the iPhone browser.</span></span> <span data-ttu-id="cf622-209">V této části vytvoříte rozložení pro iPhone Browser a verzi iPhone *AllTags* zobrazení.</span><span class="sxs-lookup"><span data-stu-id="cf622-209">In this section, you'll create a layout for the iPhone browser and an iPhone version of the *AllTags* view.</span></span>

<span data-ttu-id="cf622-210">Otevřete soubor *Global. asax* a přidejte následující kód do metody `Application_Start`.</span><span class="sxs-lookup"><span data-stu-id="cf622-210">Open the *Global.asax* file and add the following code to the `Application_Start` method.</span></span>

[!code-csharp[Main](aspnet-mvc-4-mobile-features/samples/sample7.cs)]

<span data-ttu-id="cf622-211">Tento kód definuje nový režim zobrazení s názvem iPhone, který se bude shodovat s každým příchozím požadavkem.</span><span class="sxs-lookup"><span data-stu-id="cf622-211">This code defines a new display mode named "iPhone" that will be matched against each incoming request.</span></span> <span data-ttu-id="cf622-212">Pokud příchozí požadavek odpovídá definované hodnotě (tj. Pokud uživatelský agent obsahuje řetězec "iPhone"), ASP.NET MVC bude hledat zobrazení, jejichž název obsahuje příponu "iPhone".</span><span class="sxs-lookup"><span data-stu-id="cf622-212">If the incoming request matches the condition you defined (that is, if the user agent contains the string "iPhone"), ASP.NET MVC will look for views whose name contains the "iPhone" suffix.</span></span>

<span data-ttu-id="cf622-213">V kódu klikněte pravým tlačítkem myši `DefaultDisplayMode`, zvolte možnost **vyřešit**a pak zvolte možnost `using System.Web.WebPages;`.</span><span class="sxs-lookup"><span data-stu-id="cf622-213">In the code, right-click `DefaultDisplayMode`, choose **Resolve**, and then choose `using System.Web.WebPages;`.</span></span> <span data-ttu-id="cf622-214">Tím se přidá odkaz na obor názvů `System.Web.WebPages`, kde jsou definovány typy `DisplayModes` a `DefaultDisplayMode`.</span><span class="sxs-lookup"><span data-stu-id="cf622-214">This adds a reference to the `System.Web.WebPages` namespace, which is where the `DisplayModes` and `DefaultDisplayMode` types are defined.</span></span>

<span data-ttu-id="cf622-215">[![p2_resolve](aspnet-mvc-4-mobile-features/_static/image16.png)](aspnet-mvc-4-mobile-features/_static/image15.png)</span><span class="sxs-lookup"><span data-stu-id="cf622-215">[![p2_resolve](aspnet-mvc-4-mobile-features/_static/image16.png)](aspnet-mvc-4-mobile-features/_static/image15.png)</span></span>

<span data-ttu-id="cf622-216">Alternativně můžete ručně přidat následující řádek do oddílu `using` souboru.</span><span class="sxs-lookup"><span data-stu-id="cf622-216">Alternatively, you can just manually add the following line to the `using` section of the file.</span></span>

[!code-csharp[Main](aspnet-mvc-4-mobile-features/samples/sample8.cs)]

<span data-ttu-id="cf622-217">Úplný obsah souboru *Global. asax* je uveden níže.</span><span class="sxs-lookup"><span data-stu-id="cf622-217">The complete contents of the *Global.asax* file is shown below.</span></span>

[!code-csharp[Main](aspnet-mvc-4-mobile-features/samples/sample9.cs)]

<span data-ttu-id="cf622-218">Uložte změny.</span><span class="sxs-lookup"><span data-stu-id="cf622-218">Save the changes.</span></span> <span data-ttu-id="cf622-219">Zkopírujte soubor *MvcMobile\Views\Shared\\_Layout. Mobile. cshtml* do *MvcMobile\Views\Shared\\_Layout. iPhone. cshtml*.</span><span class="sxs-lookup"><span data-stu-id="cf622-219">Copy the *MvcMobile\Views\Shared\\_Layout.Mobile.cshtml* file to *MvcMobile\Views\Shared\\_Layout.iPhone.cshtml*.</span></span> <span data-ttu-id="cf622-220">Otevřete nový soubor a potom změňte nadpis `h1` z `Conference (Mobile)` na `Conference (iPhone)`.</span><span class="sxs-lookup"><span data-stu-id="cf622-220">Open the new file and then change the `h1` heading from `Conference (Mobile)` to `Conference (iPhone)`.</span></span>

<span data-ttu-id="cf622-221">Zkopírujte soubor *MvcMobile\Views\Home\AllTags.Mobile.cshtml* do *MvcMobile\Views\Home\AllTags.iPhone.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="cf622-221">Copy the *MvcMobile\Views\Home\AllTags.Mobile.cshtml* file to *MvcMobile\Views\Home\AllTags.iPhone.cshtml*.</span></span> <span data-ttu-id="cf622-222">V novém souboru změňte `<h2>` element z "Tags (M)" na "Tags (iPhone)".</span><span class="sxs-lookup"><span data-stu-id="cf622-222">In the new file, change the `<h2>` element from "Tags (M)" to "Tags (iPhone)".</span></span>

<span data-ttu-id="cf622-223">Spusťte aplikaci.</span><span class="sxs-lookup"><span data-stu-id="cf622-223">Run the application.</span></span> <span data-ttu-id="cf622-224">Spusťte emulátor mobilního prohlížeče, ujistěte se, že je jeho uživatelský agent nastavený na "iPhone", a přejděte do zobrazení *AllTags* .</span><span class="sxs-lookup"><span data-stu-id="cf622-224">Run a mobile browser emulator, make sure its user agent is set to "iPhone", and browse to the *AllTags* view.</span></span> <span data-ttu-id="cf622-225">Na následujícím snímku obrazovky vidíte zobrazení *AllTags* vygenerované v prohlížeči [Safari](http://www.apple.com/safari/download/) .</span><span class="sxs-lookup"><span data-stu-id="cf622-225">The following screenshot shows the *AllTags* view rendered in the [Safari](http://www.apple.com/safari/download/) browser.</span></span> <span data-ttu-id="cf622-226">Safari pro Windows si můžete stáhnout [tady](https://support.apple.com/kb/DL1531).</span><span class="sxs-lookup"><span data-stu-id="cf622-226">You can download Safari for Windows [here](https://support.apple.com/kb/DL1531).</span></span>

<span data-ttu-id="cf622-227">[![p2_iphoneView](aspnet-mvc-4-mobile-features/_static/image18.png)](aspnet-mvc-4-mobile-features/_static/image17.png)</span><span class="sxs-lookup"><span data-stu-id="cf622-227">[![p2_iphoneView](aspnet-mvc-4-mobile-features/_static/image18.png)](aspnet-mvc-4-mobile-features/_static/image17.png)</span></span>

<span data-ttu-id="cf622-228">V této části jsme viděli, jak vytvořit mobilní rozložení a zobrazení a jak vytvářet rozložení a zobrazení pro konkrétní zařízení, jako je iPhone.</span><span class="sxs-lookup"><span data-stu-id="cf622-228">In this section we've seen how to create mobile layouts and views and how to create layouts and views for specific devices such as the iPhone.</span></span> <span data-ttu-id="cf622-229">V další části se dozvíte, jak využít jQuery Mobile pro působivější mobilní zobrazení.</span><span class="sxs-lookup"><span data-stu-id="cf622-229">In the next section you'll see how to leverage jQuery Mobile for more compelling mobile views.</span></span>

## <a name="using-jquery-mobile"></a><span data-ttu-id="cf622-230">Použití jQuery Mobile</span><span class="sxs-lookup"><span data-stu-id="cf622-230">Using jQuery Mobile</span></span>

<span data-ttu-id="cf622-231">Knihovna [jQuery Mobile](http://jquerymobile.com/demos/1.0b3/#/demos/1.0b3/docs/about/intro.html) poskytuje rozhraní pro uživatelské rozhraní, které funguje ve všech hlavních mobilních prohlížečích.</span><span class="sxs-lookup"><span data-stu-id="cf622-231">The [jQuery Mobile](http://jquerymobile.com/demos/1.0b3/#/demos/1.0b3/docs/about/intro.html) library provides a user interface framework that works on all the major mobile browsers.</span></span> <span data-ttu-id="cf622-232">jQuery Mobile používá *progresivní rozšíření* pro mobilní prohlížeče, které podporují šablony stylů CSS a JavaScript.</span><span class="sxs-lookup"><span data-stu-id="cf622-232">jQuery Mobile applies *progressive enhancement* to mobile browsers that support CSS and JavaScript.</span></span> <span data-ttu-id="cf622-233">Progresivní navýšení umožňuje všem prohlížečům zobrazit základní obsah webové stránky a zároveň umožnit výkonnějším prohlížečům a zařízením lepší zobrazení.</span><span class="sxs-lookup"><span data-stu-id="cf622-233">Progressive enhancement allows all browsers to display the basic content of a web page, while allowing more powerful browsers and devices to have a richer display.</span></span> <span data-ttu-id="cf622-234">Soubory jazyka JavaScript a CSS, které jsou součástí funkce jQuery Mobile Style, obsahují mnoho prvků, které odpovídají mobilním prohlížečům bez jakýchkoli změn kódu.</span><span class="sxs-lookup"><span data-stu-id="cf622-234">The JavaScript and CSS files that are included with jQuery Mobile style many elements to fit mobile browsers without making any markup changes.</span></span>

<span data-ttu-id="cf622-235">V této části nainstalujete balíček NuGet *jQuery. Mobile. Mvc* , který nainstaluje jQuery Mobile a widget pro přepínač zobrazení.</span><span class="sxs-lookup"><span data-stu-id="cf622-235">In this section you'll install the *jQuery.Mobile.MVC* NuGet package, which installs jQuery Mobile and a view-switcher widget.</span></span>

<span data-ttu-id="cf622-236">Chcete-li začít, odstraňte *sdílené\\_Layout. Mobile. cshtml* a *shared\\_Layout soubory. iPhone. cshtml* , které jste vytvořili dříve.</span><span class="sxs-lookup"><span data-stu-id="cf622-236">To start, delete the *Shared\\_Layout.Mobile.cshtml* and *Shared\\_Layout.iPhone.cshtml* files that you created earlier.</span></span>

<span data-ttu-id="cf622-237">Přejmenujte soubory *Views\Home\AllTags.Mobile.cshtml* a *Views\Home\AllTags.iPhone.cshtml* na *Views\Home\AllTags.iPhone.cshtml.Hide* a *Views\Home\AllTags.Mobile.cshtml.Hide*.</span><span class="sxs-lookup"><span data-stu-id="cf622-237">Rename *Views\Home\AllTags.Mobile.cshtml* and *Views\Home\AllTags.iPhone.cshtml* files to *Views\Home\AllTags.iPhone.cshtml.hide* and *Views\Home\AllTags.Mobile.cshtml.hide*.</span></span> <span data-ttu-id="cf622-238">Vzhledem k tomu, že soubory již nemají příponu *. cshtml* , nebudou použity modulem runtime ASP.NET MVC k vykreslení zobrazení *AllTags* .</span><span class="sxs-lookup"><span data-stu-id="cf622-238">Because the files no longer have a *.cshtml* extension, they won't be used by the ASP.NET MVC runtime to render the *AllTags* view.</span></span>

<span data-ttu-id="cf622-239">Nainstalujte balíček NuGet *jQuery. Mobile. Mvc* tímto způsobem:</span><span class="sxs-lookup"><span data-stu-id="cf622-239">Install the *jQuery.Mobile.MVC* NuGet package by doing this:</span></span>

1. <span data-ttu-id="cf622-240">V nabídce **nástroje** vyberte **Správce balíčků NuGet**a pak vyberte **Konzola správce balíčků**.</span><span class="sxs-lookup"><span data-stu-id="cf622-240">From the **Tools** menu, select **NuGet Package Manager**, and then select **Package Manager Console**.</span></span>

    <span data-ttu-id="cf622-241">[![p3_packageMgr](aspnet-mvc-4-mobile-features/_static/image20.png)](aspnet-mvc-4-mobile-features/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="cf622-241">[![p3_packageMgr](aspnet-mvc-4-mobile-features/_static/image20.png)](aspnet-mvc-4-mobile-features/_static/image19.png)</span></span>
2. <span data-ttu-id="cf622-242">V **konzole správce balíčků**zadejte `Install-Package jQuery.Mobile.MVC -version 1.0.0`</span><span class="sxs-lookup"><span data-stu-id="cf622-242">In the **Package Manager Console**, enter `Install-Package jQuery.Mobile.MVC -version 1.0.0`</span></span>

<span data-ttu-id="cf622-243">Následující obrázek ukazuje soubory přidané a změněné do projektu MvcMobile pomocí balíčku NuGet jQuery. Mobile. MVC.</span><span class="sxs-lookup"><span data-stu-id="cf622-243">The following image shows the files added and changed to the MvcMobile project by the NuGet jQuery.Mobile.MVC package.</span></span> <span data-ttu-id="cf622-244">Přidané soubory mají za název souboru doplněny [Add].</span><span class="sxs-lookup"><span data-stu-id="cf622-244">Files which are added have [add] appended after the file name.</span></span> <span data-ttu-id="cf622-245">V imagi se nezobrazuje soubory GIF a PNG přidané do složky *Content\images* .</span><span class="sxs-lookup"><span data-stu-id="cf622-245">The image does not show the GIF and PNG files added to the *Content\images* folder.</span></span>

![](aspnet-mvc-4-mobile-features/_static/image21.png)

<span data-ttu-id="cf622-246">Balíček NuGet jQuery. Mobile. MVC nainstaluje následující:</span><span class="sxs-lookup"><span data-stu-id="cf622-246">The jQuery.Mobile.MVC NuGet package installs the following:</span></span>

- <span data-ttu-id="cf622-247">*Aplikace\_souboru Start\BundleMobileConfig.cs* , který je potřeba pro odkazování na přidané soubory JAVASCRIPTU a šablony pro jQuery.</span><span class="sxs-lookup"><span data-stu-id="cf622-247">The *App\_Start\BundleMobileConfig.cs* file, which is needed to reference the jQuery JavaScript and CSS files added.</span></span> <span data-ttu-id="cf622-248">Musíte postupovat podle následujících pokynů a odkazovat na mobilní sadu definovanou v tomto souboru.</span><span class="sxs-lookup"><span data-stu-id="cf622-248">You must follow the instructions below and reference the mobile bundle defined in this file.</span></span>
- <span data-ttu-id="cf622-249">jQuery Mobile CSS files.</span><span class="sxs-lookup"><span data-stu-id="cf622-249">jQuery Mobile CSS files.</span></span>
- <span data-ttu-id="cf622-250">Widget kontroleru `ViewSwitcher` (*Controllers\ViewSwitcherController.cs*).</span><span class="sxs-lookup"><span data-stu-id="cf622-250">A `ViewSwitcher` controller widget (*Controllers\ViewSwitcherController.cs*).</span></span>
- <span data-ttu-id="cf622-251">soubory JavaScriptu pro mobilní zařízení</span><span class="sxs-lookup"><span data-stu-id="cf622-251">jQuery Mobile JavaScript files.</span></span>
- <span data-ttu-id="cf622-252">Soubor rozložení s mobilním stylem jQuery (*Views\Shared\\_Layout. Mobile. cshtml*).</span><span class="sxs-lookup"><span data-stu-id="cf622-252">A jQuery Mobile-styled layout file (*Views\Shared\\_Layout.Mobile.cshtml*).</span></span>
- <span data-ttu-id="cf622-253">Částečné zobrazení s přepínačem zobrazení *(MvcMobile\Views\Shared\\_ViewSwitcher. cshtml*), které poskytuje odkaz v horní části každé stránky pro přepínání z desktopového zobrazení do mobilního zobrazení a naopak.</span><span class="sxs-lookup"><span data-stu-id="cf622-253">A view-switcher partial view *(MvcMobile\Views\Shared\\_ViewSwitcher.cshtml*) that provides a link at the top of each page to switch from desktop view to mobile view and vice versa.</span></span>
- <span data-ttu-id="cf622-254">Několik souborů obrázků<em>. png</em> a <em>. gif</em> ve složce <em>Content\images</em></span><span class="sxs-lookup"><span data-stu-id="cf622-254">Several<em>.png</em> and <em>.gif</em> image files in the <em>Content\images</em> folder.</span></span>

<span data-ttu-id="cf622-255">Otevřete soubor *Global. asax* a přidejte následující kód jako poslední řádek metody `Application_Start`.</span><span class="sxs-lookup"><span data-stu-id="cf622-255">Open the *Global.asax* file and add the following code as the last line of the `Application_Start` method.</span></span>

[!code-csharp[Main](aspnet-mvc-4-mobile-features/samples/sample10.cs)]

<span data-ttu-id="cf622-256">Následující kód ukazuje kompletní soubor *Global. asax* .</span><span class="sxs-lookup"><span data-stu-id="cf622-256">The following code shows the complete *Global.asax* file.</span></span>

[!code-csharp[Main](aspnet-mvc-4-mobile-features/samples/sample11.cs?highlight=26)]

> [!NOTE]
> <span data-ttu-id="cf622-257">Pokud používáte Internet Explorer 9 a `BundleMobileConfig` řádek výše ve žlutém zvýraznění, klikněte na tlačítko [zobrazení kompatibility](https://windows.microsoft.com/windows7/How-to-use-Compatibility-View-in-Internet-Explorer-9)![Obrázek tlačítka zobrazení kompatibility (vypnuto)](https://res2.windows.microsoft.com/resbox/en/Windows 7/main/f080e77f-9b66-4ac8-9af0-803c4f8a859c_15.jpg "Obrázek tlačítka pro zobrazení kompatibility (vypnuto)") v IE, aby se ikona změnila z ![obrázku](https://res2.windows.microsoft.com/resbox/en/Windows 7/main/f080e77f-9b66-4ac8-9af0-803c4f8a859c_15.jpg "Obrázek tlačítka pro zobrazení kompatibility (vypnuto)") v osnově tlačítka zobrazení kompatibility (zapnuto) na plný barevný obrázek tlačítka kompatibilního zobrazení ![(zapnuto](https://res1.windows.microsoft.com/resbox/en/Windows 7/main/156805ff-3130-481b-a12d-4d3a96470f36_14.jpg "Obrázek tlačítka zobrazení kompatibility (zapnuto)")).</span><span class="sxs-lookup"><span data-stu-id="cf622-257">If you are using Internet Explorer 9 and you don't see the `BundleMobileConfig` line above in yellow highlight, click the [Compatibility View button](https://windows.microsoft.com/windows7/How-to-use-Compatibility-View-in-Internet-Explorer-9)![Picture of the Compatibility View button (off)](https://res2.windows.microsoft.com/resbox/en/Windows 7/main/f080e77f-9b66-4ac8-9af0-803c4f8a859c_15.jpg "Picture of the Compatibility View button (off)") in IE to make the icon change from an outline ![Picture of the Compatibility View button (off)](https://res2.windows.microsoft.com/resbox/en/Windows 7/main/f080e77f-9b66-4ac8-9af0-803c4f8a859c_15.jpg "Picture of the Compatibility View button (off)") to a solid color ![Picture of the Compatibility View button (on)](https://res1.windows.microsoft.com/resbox/en/Windows 7/main/156805ff-3130-481b-a12d-4d3a96470f36_14.jpg "Picture of the Compatibility View button (on)").</span></span> <span data-ttu-id="cf622-258">Případně můžete tento kurz zobrazit v prohlížeči FireFox nebo Chrome.</span><span class="sxs-lookup"><span data-stu-id="cf622-258">Alternatively you can view this tutorial in FireFox or Chrome.</span></span>

<span data-ttu-id="cf622-259">Otevřete soubor *MvcMobile\Views\Shared\\_Layout. Mobile. cshtml* a přidejte následující značku přímo po `Html.Partial` volání:</span><span class="sxs-lookup"><span data-stu-id="cf622-259">Open the *MvcMobile\Views\Shared\\_Layout.Mobile.cshtml* file and add the following markup directly after the `Html.Partial` call:</span></span>

[!code-cshtml[Main](aspnet-mvc-4-mobile-features/samples/sample12.cshtml)]

<span data-ttu-id="cf622-260">Úplný soubor *MvcMobile\Views\Shared\\_Layout. Mobile. cshtml* je zobrazený níže:</span><span class="sxs-lookup"><span data-stu-id="cf622-260">The complete *MvcMobile\Views\Shared\\_Layout.Mobile.cshtml* file is shown below:</span></span>

[!code-cshtml[Main](aspnet-mvc-4-mobile-features/samples/sample13.cshtml)]

<span data-ttu-id="cf622-261">Sestavte aplikaci a v emulátoru mobilního prohlížeče přejděte do zobrazení *AllTags* .</span><span class="sxs-lookup"><span data-stu-id="cf622-261">Build the application, and in your mobile browser emulator browse to the *AllTags* view.</span></span> <span data-ttu-id="cf622-262">Zobrazí se následující:</span><span class="sxs-lookup"><span data-stu-id="cf622-262">You see the following:</span></span>

<span data-ttu-id="cf622-263">[![p3_afterNuGet](aspnet-mvc-4-mobile-features/_static/image23.png)](aspnet-mvc-4-mobile-features/_static/image22.png)</span><span class="sxs-lookup"><span data-stu-id="cf622-263">[![p3_afterNuGet](aspnet-mvc-4-mobile-features/_static/image23.png)](aspnet-mvc-4-mobile-features/_static/image22.png)</span></span>

> [!NOTE]
> <span data-ttu-id="cf622-264">Kód specifický pro mobilní zařízení můžete ladit [nastavením řetězce uživatelského agenta](http://www.howtogeek.com/113439/how-to-change-your-browsers-user-agent-without-installing-any-extensions/) pro IE nebo Chrome na iPhone a pak pomocí vývojářských nástrojů F-12.</span><span class="sxs-lookup"><span data-stu-id="cf622-264">You can debug the mobile specific code by [setting the user agent string](http://www.howtogeek.com/113439/how-to-change-your-browsers-user-agent-without-installing-any-extensions/) for IE or Chrome to iPhone and then using the F-12 developer tools.</span></span> <span data-ttu-id="cf622-265">Pokud v mobilním prohlížeči nejsou odkazy na **domovskou stránku**, **mluvčí**, **značku**a **kalendářních dat** , je pravděpodobné, že odkazy na skripty jQuery a soubory CSS nejsou správné.</span><span class="sxs-lookup"><span data-stu-id="cf622-265">If your mobile browser doesn't display the **Home**, **Speaker**, **Tag**, and **Date** links as buttons, the references to jQuery Mobile scripts and CSS files are probably not correct.</span></span>

<span data-ttu-id="cf622-266">Kromě změny stylu se zobrazí zobrazení **mobilního zobrazení** a odkaz, který vám umožní přepnout z mobilního zobrazení do desktopového zobrazení.</span><span class="sxs-lookup"><span data-stu-id="cf622-266">In addition to the style changes, you see **Displaying mobile view** and a link that lets you switch from mobile view to desktop view.</span></span> <span data-ttu-id="cf622-267">Klikněte na odkaz **zobrazení plochy** a zobrazí se zobrazení plocha.</span><span class="sxs-lookup"><span data-stu-id="cf622-267">Choose the **Desktop view** link, and the desktop view is displayed.</span></span>

<span data-ttu-id="cf622-268">[![p3_desktopView](aspnet-mvc-4-mobile-features/_static/image25.png)](aspnet-mvc-4-mobile-features/_static/image24.png)</span><span class="sxs-lookup"><span data-stu-id="cf622-268">[![p3_desktopView](aspnet-mvc-4-mobile-features/_static/image25.png)](aspnet-mvc-4-mobile-features/_static/image24.png)</span></span>

<span data-ttu-id="cf622-269">Zobrazení plochy neposkytuje způsob, jak přímo přejít zpět do mobilního zobrazení.</span><span class="sxs-lookup"><span data-stu-id="cf622-269">The desktop view doesn't provide a way to directly navigate back to the mobile view.</span></span> <span data-ttu-id="cf622-270">Nyní ji opravíte.</span><span class="sxs-lookup"><span data-stu-id="cf622-270">You'll fix that now.</span></span> <span data-ttu-id="cf622-271">Otevřete soubor *Views\Shared\\_Layout. cshtml* .</span><span class="sxs-lookup"><span data-stu-id="cf622-271">Open the *Views\Shared\\_Layout.cshtml* file.</span></span> <span data-ttu-id="cf622-272">Hned pod elementem `body` stránky přidejte následující kód, který vykresluje widget pro přepínač zobrazení:</span><span class="sxs-lookup"><span data-stu-id="cf622-272">Just under the page `body` element, add the following code, which renders the view-switcher widget:</span></span>

[!code-cshtml[Main](aspnet-mvc-4-mobile-features/samples/sample14.cshtml)]

<span data-ttu-id="cf622-273">Aktualizujte zobrazení *AllTags* v mobilním prohlížeči.</span><span class="sxs-lookup"><span data-stu-id="cf622-273">Refresh the *AllTags* view in the mobile browser.</span></span> <span data-ttu-id="cf622-274">Teď můžete přecházet mezi zobrazeními počítačů a mobilních zařízení.</span><span class="sxs-lookup"><span data-stu-id="cf622-274">You can now navigate between desktop and mobile views.</span></span>

<span data-ttu-id="cf622-275">[![p3_desktopViewWithMobileLink](aspnet-mvc-4-mobile-features/_static/image27.png)](aspnet-mvc-4-mobile-features/_static/image26.png)</span><span class="sxs-lookup"><span data-stu-id="cf622-275">[![p3_desktopViewWithMobileLink](aspnet-mvc-4-mobile-features/_static/image27.png)](aspnet-mvc-4-mobile-features/_static/image26.png)</span></span>

> [!NOTE]
> <span data-ttu-id="cf622-276">Poznámka k ladění: následující kód můžete přidat na konec Views\Shared\\_ViewSwitcher. cshtml pro usnadnění ladění zobrazení při použití prohlížeče řetězce uživatelského agenta nastaveného na mobilní zařízení.</span><span class="sxs-lookup"><span data-stu-id="cf622-276">Debug note: You can add the following code to the end of the Views\Shared\\_ViewSwitcher.cshtml to help debug views when using a browser the user agent string set to a mobile device.</span></span>
>
> [!code-csharp[Main](aspnet-mvc-4-mobile-features/samples/sample15.cs)]
>
> <span data-ttu-id="cf622-277">a přidáním následujícího nadpisu do souboru *Views\Shared\\_Layout. cshtml* .</span><span class="sxs-lookup"><span data-stu-id="cf622-277">and adding the following heading to the *Views\Shared\\_Layout.cshtml* file.</span></span>
>
> [!code-html[Main](aspnet-mvc-4-mobile-features/samples/sample16.html)]

<span data-ttu-id="cf622-278">Přejděte na stránku *AllTags* v desktopovém prohlížeči.</span><span class="sxs-lookup"><span data-stu-id="cf622-278">Browse to the *AllTags* page in a desktop browser.</span></span> <span data-ttu-id="cf622-279">Widget pro přepínání zobrazení není zobrazený v desktopovém prohlížeči, protože je přidaný jenom na stránku rozložení pro mobilní zařízení.</span><span class="sxs-lookup"><span data-stu-id="cf622-279">The view-switcher widget is not displayed in a desktop browser because it's added only to the mobile layout page.</span></span> <span data-ttu-id="cf622-280">Později v tomto kurzu uvidíte, jak můžete přidat widget pro přepínání zobrazení do zobrazení plochy.</span><span class="sxs-lookup"><span data-stu-id="cf622-280">Later in the tutorial you'll see how you can add the view-switcher widget to the desktop view.</span></span>

<span data-ttu-id="cf622-281">[![p3_desktopBrowser](aspnet-mvc-4-mobile-features/_static/image29.png)](aspnet-mvc-4-mobile-features/_static/image28.png)</span><span class="sxs-lookup"><span data-stu-id="cf622-281">[![p3_desktopBrowser](aspnet-mvc-4-mobile-features/_static/image29.png)](aspnet-mvc-4-mobile-features/_static/image28.png)</span></span>

## <a name="improving-the-speakers-list"></a><span data-ttu-id="cf622-282">Vylepšení seznamu mluvčích</span><span class="sxs-lookup"><span data-stu-id="cf622-282">Improving the Speakers List</span></span>

<span data-ttu-id="cf622-283">V mobilním prohlížeči vyberte odkaz **reproduktory** .</span><span class="sxs-lookup"><span data-stu-id="cf622-283">In the mobile browser, select the **Speakers** link.</span></span> <span data-ttu-id="cf622-284">Vzhledem k tomu, že není k dispozici mobilní zobrazení (*AllSpeakers. Mobile. cshtml*), je výchozí zobrazení mluvčího (*AllSpeakers. cshtml*) vykresleno pomocí zobrazení rozložení pro mobilní zařízení ( *\_layout. Mobile. cshtml*).</span><span class="sxs-lookup"><span data-stu-id="cf622-284">Because there's no mobile view(*AllSpeakers.Mobile.cshtml*), the default speakers display (*AllSpeakers.cshtml*) is rendered using the mobile layout view (*\_Layout.Mobile.cshtml*).</span></span>

<span data-ttu-id="cf622-285">[![p3_speakersDeskTop](aspnet-mvc-4-mobile-features/_static/image31.png)](aspnet-mvc-4-mobile-features/_static/image30.png)</span><span class="sxs-lookup"><span data-stu-id="cf622-285">[![p3_speakersDeskTop](aspnet-mvc-4-mobile-features/_static/image31.png)](aspnet-mvc-4-mobile-features/_static/image30.png)</span></span>

<span data-ttu-id="cf622-286">Můžete globálně zakázat výchozí (nemobilní) zobrazení z vykreslování v mobilním rozložení nastavením `RequireConsistentDisplayMode` na `true` v *zobrazeních\\_ViewStart souboru. cshtml* , například takto:</span><span class="sxs-lookup"><span data-stu-id="cf622-286">You can globally disable a default (non-mobile) view from rendering inside a mobile layout by setting `RequireConsistentDisplayMode` to `true` in the *Views\\_ViewStart.cshtml* file, like this:</span></span>

[!code-cshtml[Main](aspnet-mvc-4-mobile-features/samples/sample17.cshtml)]

<span data-ttu-id="cf622-287">Pokud je `RequireConsistentDisplayMode` nastaveno na `true`, je mobilní rozložení (<em>\_layout. Mobile. cshtml</em>) použito pouze pro mobilní zobrazení.</span><span class="sxs-lookup"><span data-stu-id="cf622-287">When `RequireConsistentDisplayMode` is set to `true`, the mobile layout (<em>\_Layout.Mobile.cshtml</em>) is used only for mobile views.</span></span> <span data-ttu-id="cf622-288">(To znamená, že soubor zobrazení má formu <em>\* \* viewName</em><em>. Mobile. cshtml</em>.) možná budete chtít nastavit `RequireConsistentDisplayMode`, aby `true`, pokud vaše mobilní rozložení nefunguje dobře s nemobilními zobrazeními.</span><span class="sxs-lookup"><span data-stu-id="cf622-288">(That is, the view file is of the form <em>\*\*ViewName</em><em>.Mobile.cshtml</em>.) You might want to set `RequireConsistentDisplayMode` to `true` if your mobile layout doesn't work well with your non-mobile views.</span></span> <span data-ttu-id="cf622-289">Následující snímek obrazovky ukazuje, jak se stránka <em>mluvčí</em> vykreslí, když je `RequireConsistentDisplayMode` nastavená na `true`.</span><span class="sxs-lookup"><span data-stu-id="cf622-289">The screenshot below shows how the <em>Speakers</em> page renders when `RequireConsistentDisplayMode` is set to `true`.</span></span>

<span data-ttu-id="cf622-290">[![p3_speakersConsistent](aspnet-mvc-4-mobile-features/_static/image33.png)](aspnet-mvc-4-mobile-features/_static/image32.png)</span><span class="sxs-lookup"><span data-stu-id="cf622-290">[![p3_speakersConsistent](aspnet-mvc-4-mobile-features/_static/image33.png)](aspnet-mvc-4-mobile-features/_static/image32.png)</span></span>

<span data-ttu-id="cf622-291">Režim konzistentního zobrazení můžete zakázat v zobrazení nastavením `RequireConsistentDisplayMode` na `false` v souboru zobrazení.</span><span class="sxs-lookup"><span data-stu-id="cf622-291">You can disable consistent display mode in a view by setting `RequireConsistentDisplayMode` to `false` in the view file.</span></span> <span data-ttu-id="cf622-292">Následující značky v sadě souborů *Views\Home\AllSpeakers.cshtml* `RequireConsistentDisplayMode` `false`:</span><span class="sxs-lookup"><span data-stu-id="cf622-292">The following markup in the *Views\Home\AllSpeakers.cshtml* file sets `RequireConsistentDisplayMode` to `false`:</span></span>

[!code-cshtml[Main](aspnet-mvc-4-mobile-features/samples/sample18.cshtml)]

## <a name="creating-a-mobile-speakers-view"></a><span data-ttu-id="cf622-293">Vytvoření zobrazení mobilního mluvčího</span><span class="sxs-lookup"><span data-stu-id="cf622-293">Creating a Mobile Speakers View</span></span>

<span data-ttu-id="cf622-294">Jak jste viděli, je zobrazení *mluvčích* čitelné, ale odkazy jsou malé a v mobilním zařízení je obtížné klepnout.</span><span class="sxs-lookup"><span data-stu-id="cf622-294">As you just saw, the *Speakers* view is readable, but the links are small and are difficult to tap on a mobile device.</span></span> <span data-ttu-id="cf622-295">V této části vytvoříte zobrazení *mluvčích* specifických pro mobilní zařízení, které vypadá jako moderní mobilní aplikace – zobrazuje velké, snadno ovladatelné odkazy a obsahuje vyhledávací pole pro rychlé vyhledání mluvčích.</span><span class="sxs-lookup"><span data-stu-id="cf622-295">In this section, you'll create a mobile-specific *Speakers* view that looks like a modern mobile application — it displays large, easy-to-tap links and contains a search box to quickly find speakers.</span></span>

<span data-ttu-id="cf622-296">Zkopírujte *AllSpeakers. cshtml* do *AllSpeakers. Mobile. cshtml*.</span><span class="sxs-lookup"><span data-stu-id="cf622-296">Copy *AllSpeakers.cshtml* to *AllSpeakers.Mobile.cshtml*.</span></span> <span data-ttu-id="cf622-297">Otevřete soubor *AllSpeakers. Mobile. cshtml* a odeberte `<h2>` element záhlaví.</span><span class="sxs-lookup"><span data-stu-id="cf622-297">Open the *AllSpeakers.Mobile.cshtml* file and remove the `<h2>` heading element.</span></span>

<span data-ttu-id="cf622-298">Ve značce `<ul>` přidejte atribut `data-role` a nastavte jeho hodnotu na `listview`.</span><span class="sxs-lookup"><span data-stu-id="cf622-298">In the `<ul>` tag, add the `data-role` attribute and set its value to `listview`.</span></span> <span data-ttu-id="cf622-299">Podobně jako u jiných [atributů`data-*`](http://html5doctor.com/html5-custom-data-attributes/)`data-role="listview"` usnadňuje klepnutí na velké položky seznamu.</span><span class="sxs-lookup"><span data-stu-id="cf622-299">Like other [`data-*` attributes](http://html5doctor.com/html5-custom-data-attributes/), `data-role="listview"` makes the large list items easier to tap.</span></span> <span data-ttu-id="cf622-300">To znamená, že hotový kód vypadá takto:</span><span class="sxs-lookup"><span data-stu-id="cf622-300">This is what the completed markup looks like:</span></span>

[!code-cshtml[Main](aspnet-mvc-4-mobile-features/samples/sample19.cshtml)]

<span data-ttu-id="cf622-301">Aktualizujte si mobilní prohlížeč.</span><span class="sxs-lookup"><span data-stu-id="cf622-301">Refresh the mobile browser.</span></span> <span data-ttu-id="cf622-302">Aktualizované zobrazení vypadá takto:</span><span class="sxs-lookup"><span data-stu-id="cf622-302">The updated view looks like this:</span></span>

<span data-ttu-id="cf622-303">[![p3_updatedSpeakerView1](aspnet-mvc-4-mobile-features/_static/image35.png)](aspnet-mvc-4-mobile-features/_static/image34.png)</span><span class="sxs-lookup"><span data-stu-id="cf622-303">[![p3_updatedSpeakerView1](aspnet-mvc-4-mobile-features/_static/image35.png)](aspnet-mvc-4-mobile-features/_static/image34.png)</span></span>

<span data-ttu-id="cf622-304">I když se mobilní zobrazení zlepšilo, je obtížné přejít na dlouhý seznam mluvčích.</span><span class="sxs-lookup"><span data-stu-id="cf622-304">Although the mobile view has improved, it's difficult to navigate the long list of speakers.</span></span> <span data-ttu-id="cf622-305">Chcete-li tento problém vyřešit, přidejte do značky `<ul>` atribut `data-filter` a nastavte jej na `true`.</span><span class="sxs-lookup"><span data-stu-id="cf622-305">To fix this, in the `<ul>` tag, add the `data-filter` attribute and set it to `true`.</span></span> <span data-ttu-id="cf622-306">Následující kód ukazuje `ul` označení.</span><span class="sxs-lookup"><span data-stu-id="cf622-306">The code below shows the `ul` markup.</span></span>

[!code-html[Main](aspnet-mvc-4-mobile-features/samples/sample20.html)]

<span data-ttu-id="cf622-307">Následující obrázek znázorňuje pole vyhledávací filtr v horní části stránky, které je výsledkem atributu `data-filter`.</span><span class="sxs-lookup"><span data-stu-id="cf622-307">The following image shows the search filter box at the top of the page that results from the `data-filter` attribute.</span></span>

<span data-ttu-id="cf622-308">[![ps_Data_Filter](aspnet-mvc-4-mobile-features/_static/image37.png)](aspnet-mvc-4-mobile-features/_static/image36.png)</span><span class="sxs-lookup"><span data-stu-id="cf622-308">[![ps_Data_Filter](aspnet-mvc-4-mobile-features/_static/image37.png)](aspnet-mvc-4-mobile-features/_static/image36.png)</span></span>

<span data-ttu-id="cf622-309">Při zadávání jednotlivých písmen do vyhledávacího pole se v okně pro hledání zobrazí mobilní filtry, jak je znázorněno na obrázku níže.</span><span class="sxs-lookup"><span data-stu-id="cf622-309">As you type each letter in the search box, jQuery Mobile filters the displayed list as shown in the image below.</span></span>

<span data-ttu-id="cf622-310">[![ps_data_filter_SC](aspnet-mvc-4-mobile-features/_static/image39.png)](aspnet-mvc-4-mobile-features/_static/image38.png)</span><span class="sxs-lookup"><span data-stu-id="cf622-310">[![ps_data_filter_SC](aspnet-mvc-4-mobile-features/_static/image39.png)](aspnet-mvc-4-mobile-features/_static/image38.png)</span></span>

## <a name="improving-the-tags-list"></a><span data-ttu-id="cf622-311">Vylepšení seznamu značek</span><span class="sxs-lookup"><span data-stu-id="cf622-311">Improving the Tags List</span></span>

<span data-ttu-id="cf622-312">Podobně jako u výchozího zobrazení *mluvčích* je zobrazení *značek* čitelné, ale odkazy jsou malé a obtížné klepnout na mobilní zařízení.</span><span class="sxs-lookup"><span data-stu-id="cf622-312">Like the default *Speakers* view, the *Tags* view is readable, but the links are small and difficult to tap on a mobile device.</span></span> <span data-ttu-id="cf622-313">V této části opravíte zobrazení *značek* stejným způsobem jako v zobrazení *mluvčích* .</span><span class="sxs-lookup"><span data-stu-id="cf622-313">In this section, you'll fix the *Tags* view the same way you fixed the *Speakers* view.</span></span>

<span data-ttu-id="cf622-314">Odeberte &quot;skryjte&quot; příponu souboru *Views\Home\AllTags.Mobile.cshtml.Hide* , aby se název *Views\Home\AllTags.Mobile.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="cf622-314">Remove the &quot;hide&quot; suffix to the *Views\Home\AllTags.Mobile.cshtml.hide* file so the name is *Views\Home\AllTags.Mobile.cshtml*.</span></span> <span data-ttu-id="cf622-315">Otevřete přejmenovaný soubor a odeberte `<h2>` element.</span><span class="sxs-lookup"><span data-stu-id="cf622-315">Open the renamed file and remove the `<h2>` element.</span></span>

<span data-ttu-id="cf622-316">Do značky `<ul>` přidejte atributy `data-role` a `data-filter`, jak je znázorněno zde:</span><span class="sxs-lookup"><span data-stu-id="cf622-316">Add the `data-role` and `data-filter` attributes to the `<ul>` tag, as shown here:</span></span>

[!code-html[Main](aspnet-mvc-4-mobile-features/samples/sample21.html)]

<span data-ttu-id="cf622-317">Následující obrázek ukazuje filtrování stránky na `J`písmen.</span><span class="sxs-lookup"><span data-stu-id="cf622-317">The image below shows the tags page filtering on the letter `J`.</span></span>

<span data-ttu-id="cf622-318">[![p3_tags_J](aspnet-mvc-4-mobile-features/_static/image41.png)](aspnet-mvc-4-mobile-features/_static/image40.png)</span><span class="sxs-lookup"><span data-stu-id="cf622-318">[![p3_tags_J](aspnet-mvc-4-mobile-features/_static/image41.png)](aspnet-mvc-4-mobile-features/_static/image40.png)</span></span>

## <a name="improving-the-dates-list"></a><span data-ttu-id="cf622-319">Vylepšení seznamu kalendářních dat</span><span class="sxs-lookup"><span data-stu-id="cf622-319">Improving the Dates List</span></span>

<span data-ttu-id="cf622-320">Můžete vylepšit zobrazení *dat* , jako jste vylepšili *reproduktory* a zobrazení *značek* , aby bylo možné je snadněji používat na mobilním zařízení.</span><span class="sxs-lookup"><span data-stu-id="cf622-320">You can improve the *Dates* view like you improved the *Speakers* and *Tags* views, so that it's easier to use on a mobile device.</span></span>

<span data-ttu-id="cf622-321">Zkopírujte soubor *Views\Home\AllDates.cshtml* do *Views\Home\AllDates.Mobile.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="cf622-321">Copy the *Views\Home\AllDates.cshtml* file to *Views\Home\AllDates.Mobile.cshtml*.</span></span> <span data-ttu-id="cf622-322">Otevřete nový soubor a odeberte `<h2>` element.</span><span class="sxs-lookup"><span data-stu-id="cf622-322">Open the new file and remove the `<h2>` element.</span></span>

<span data-ttu-id="cf622-323">Přidejte `data-role="listview"` do značky `<ul>`, například takto:</span><span class="sxs-lookup"><span data-stu-id="cf622-323">Add `data-role="listview"` to the `<ul>` tag, like this:</span></span>

[!code-html[Main](aspnet-mvc-4-mobile-features/samples/sample22.html)]

<span data-ttu-id="cf622-324">Následující obrázek ukazuje, jak stránka **data** vypadá jako atribut `data-role` na místě.</span><span class="sxs-lookup"><span data-stu-id="cf622-324">The image below shows what the **Date** page looks like with the `data-role` attribute in place.</span></span>

<span data-ttu-id="cf622-325">[![p3_dates1](aspnet-mvc-4-mobile-features/_static/image43.png)](aspnet-mvc-4-mobile-features/_static/image42.png) Obsah souboru *Views\Home\AllDates.Mobile.cshtml* nahraďte následujícím kódem:</span><span class="sxs-lookup"><span data-stu-id="cf622-325">[![p3_dates1](aspnet-mvc-4-mobile-features/_static/image43.png)](aspnet-mvc-4-mobile-features/_static/image42.png) Replace the contents of the *Views\Home\AllDates.Mobile.cshtml* file with the following code:</span></span>

[!code-cshtml[Main](aspnet-mvc-4-mobile-features/samples/sample23.cshtml)]

<span data-ttu-id="cf622-326">Tento kód seskupuje všechny relace podle dnů.</span><span class="sxs-lookup"><span data-stu-id="cf622-326">This code groups all sessions by days.</span></span> <span data-ttu-id="cf622-327">Vytvoří oddělovač seznamu pro každý nový den a zobrazí všechny relace pro každý den v rámci oddělovače.</span><span class="sxs-lookup"><span data-stu-id="cf622-327">It creates a list divider for each new day, and it lists all the sessions for each day under a divider.</span></span> <span data-ttu-id="cf622-328">Jak to vypadá, když tento kód spouští:</span><span class="sxs-lookup"><span data-stu-id="cf622-328">Here's what it looks like when this code runs:</span></span>

<span data-ttu-id="cf622-329">[![p3_dates2](aspnet-mvc-4-mobile-features/_static/image45.png)](aspnet-mvc-4-mobile-features/_static/image44.png)</span><span class="sxs-lookup"><span data-stu-id="cf622-329">[![p3_dates2](aspnet-mvc-4-mobile-features/_static/image45.png)](aspnet-mvc-4-mobile-features/_static/image44.png)</span></span>

## <a name="improving-the-sessionstable-view"></a><span data-ttu-id="cf622-330">Vylepšení zobrazení relace</span><span class="sxs-lookup"><span data-stu-id="cf622-330">Improving the SessionsTable View</span></span>

<span data-ttu-id="cf622-331">V této části vytvoříte zobrazení relací specifických pro mobilní zařízení.</span><span class="sxs-lookup"><span data-stu-id="cf622-331">In this section, you'll create a mobile-specific view of sessions.</span></span> <span data-ttu-id="cf622-332">Změny, které provedeme, budou složitější než v jiných zobrazeních, která jsme vytvořili.</span><span class="sxs-lookup"><span data-stu-id="cf622-332">The changes we make will be more extensive than in other views we have created.</span></span>

<span data-ttu-id="cf622-333">V mobilním prohlížeči klepněte na tlačítko **mluvčího** a potom do vyhledávacího pole zadejte `Sc`.</span><span class="sxs-lookup"><span data-stu-id="cf622-333">In the mobile browser, tap the **Speaker** button, then enter `Sc` in the search box.</span></span>

<span data-ttu-id="cf622-334">[![ps_data_filter_SC](aspnet-mvc-4-mobile-features/_static/image47.png)](aspnet-mvc-4-mobile-features/_static/image46.png)</span><span class="sxs-lookup"><span data-stu-id="cf622-334">[![ps_data_filter_SC](aspnet-mvc-4-mobile-features/_static/image47.png)](aspnet-mvc-4-mobile-features/_static/image46.png)</span></span>

<span data-ttu-id="cf622-335">Klepněte na odkaz **Scott Hanselman** .</span><span class="sxs-lookup"><span data-stu-id="cf622-335">Tap the **Scott Hanselman** link.</span></span>

<span data-ttu-id="cf622-336">[![p3_scottHa](aspnet-mvc-4-mobile-features/_static/image49.png)](aspnet-mvc-4-mobile-features/_static/image48.png)</span><span class="sxs-lookup"><span data-stu-id="cf622-336">[![p3_scottHa](aspnet-mvc-4-mobile-features/_static/image49.png)](aspnet-mvc-4-mobile-features/_static/image48.png)</span></span>

<span data-ttu-id="cf622-337">Jak vidíte, zobrazení je obtížné přečíst v mobilním prohlížeči.</span><span class="sxs-lookup"><span data-stu-id="cf622-337">As you can see, the display is difficult to read on a mobile browser.</span></span> <span data-ttu-id="cf622-338">Sloupec data je těžké přečíst a sloupec značky je mimo zobrazení.</span><span class="sxs-lookup"><span data-stu-id="cf622-338">The date column is hard to read and the tags column is out of the view.</span></span> <span data-ttu-id="cf622-339">Pokud to chcete opravit, zkopírujte *Views\Home\SessionsTable.cshtml* do *Views\Home\SessionsTable.Mobile.cshtml*a potom nahraďte obsah souboru následujícím kódem:</span><span class="sxs-lookup"><span data-stu-id="cf622-339">To fix this, copy *Views\Home\SessionsTable.cshtml* to *Views\Home\SessionsTable.Mobile.cshtml*, and then replace the contents of the file with the following code:</span></span>

[!code-cshtml[Main](aspnet-mvc-4-mobile-features/samples/sample24.cshtml)]

<span data-ttu-id="cf622-340">Kód odstraní sloupce místnost a značky a zformátuje název, mluvčí a datum svisle tak, aby byly všechny tyto informace čitelné v mobilním prohlížeči.</span><span class="sxs-lookup"><span data-stu-id="cf622-340">The code removes the room and tags columns, and formats the title, speaker, and date vertically, so that all this information is readable on a mobile browser.</span></span> <span data-ttu-id="cf622-341">Obrázek níže odráží změny kódu.</span><span class="sxs-lookup"><span data-stu-id="cf622-341">The image below reflects the code changes.</span></span>

<span data-ttu-id="cf622-342">[![ps_SessionsByScottHa](aspnet-mvc-4-mobile-features/_static/image51.png)](aspnet-mvc-4-mobile-features/_static/image50.png)</span><span class="sxs-lookup"><span data-stu-id="cf622-342">[![ps_SessionsByScottHa](aspnet-mvc-4-mobile-features/_static/image51.png)](aspnet-mvc-4-mobile-features/_static/image50.png)</span></span>

## <a name="improving-the-sessionbycode-view"></a><span data-ttu-id="cf622-343">Vylepšení zobrazení SessionByCode</span><span class="sxs-lookup"><span data-stu-id="cf622-343">Improving the SessionByCode View</span></span>

<span data-ttu-id="cf622-344">Nakonec vytvoříte zobrazení *SessionByCode* pro mobilní zařízení.</span><span class="sxs-lookup"><span data-stu-id="cf622-344">Finally, you'll create a mobile-specific view of the *SessionByCode* view.</span></span> <span data-ttu-id="cf622-345">V mobilním prohlížeči klepněte na tlačítko **mluvčího** a potom do vyhledávacího pole zadejte `Sc`.</span><span class="sxs-lookup"><span data-stu-id="cf622-345">In the mobile browser, tap the **Speaker** button, then enter `Sc` in the search box.</span></span>

<span data-ttu-id="cf622-346">[![ps_data_filter_SC](aspnet-mvc-4-mobile-features/_static/image53.png)](aspnet-mvc-4-mobile-features/_static/image52.png)</span><span class="sxs-lookup"><span data-stu-id="cf622-346">[![ps_data_filter_SC](aspnet-mvc-4-mobile-features/_static/image53.png)](aspnet-mvc-4-mobile-features/_static/image52.png)</span></span>

<span data-ttu-id="cf622-347">Klepněte na odkaz **Scott Hanselman** .</span><span class="sxs-lookup"><span data-stu-id="cf622-347">Tap the **Scott Hanselman** link.</span></span> <span data-ttu-id="cf622-348">Zobrazí se relace Scott Hanselman.</span><span class="sxs-lookup"><span data-stu-id="cf622-348">Scott Hanselman's sessions are displayed.</span></span>

<span data-ttu-id="cf622-349">[![ps_SessionsByScottHa](aspnet-mvc-4-mobile-features/_static/image55.png)](aspnet-mvc-4-mobile-features/_static/image54.png)</span><span class="sxs-lookup"><span data-stu-id="cf622-349">[![ps_SessionsByScottHa](aspnet-mvc-4-mobile-features/_static/image55.png)](aspnet-mvc-4-mobile-features/_static/image54.png)</span></span>

<span data-ttu-id="cf622-350">Vyberte si **Přehled odkazu na lásku v MS web Stack** .</span><span class="sxs-lookup"><span data-stu-id="cf622-350">Choose the **An Overview of the MS Web Stack of Love** link.</span></span>

<span data-ttu-id="cf622-351">[![ps_love](aspnet-mvc-4-mobile-features/_static/image57.png)](aspnet-mvc-4-mobile-features/_static/image56.png)</span><span class="sxs-lookup"><span data-stu-id="cf622-351">[![ps_love](aspnet-mvc-4-mobile-features/_static/image57.png)](aspnet-mvc-4-mobile-features/_static/image56.png)</span></span>

<span data-ttu-id="cf622-352">Výchozí zobrazení desktopu je v pořádku, ale můžete ho vylepšit.</span><span class="sxs-lookup"><span data-stu-id="cf622-352">The default desktop view is fine, but you can improve it.</span></span>

<span data-ttu-id="cf622-353">Zkopírujte *Views\Home\SessionByCode.cshtml* do *Views\Home\SessionByCode.Mobile.cshtml* a nahraďte obsah souboru *Views\Home\SessionByCode.Mobile.cshtml* následujícím kódem:</span><span class="sxs-lookup"><span data-stu-id="cf622-353">Copy the *Views\Home\SessionByCode.cshtml* to *Views\Home\SessionByCode.Mobile.cshtml* and replace the contents of the *Views\Home\SessionByCode.Mobile.cshtml* file with the following markup:</span></span>

[!code-cshtml[Main](aspnet-mvc-4-mobile-features/samples/sample25.cshtml)]

<span data-ttu-id="cf622-354">Nový kód používá atribut `data-role` ke zlepšení rozložení zobrazení.</span><span class="sxs-lookup"><span data-stu-id="cf622-354">The new markup uses the `data-role` attribute to improve the layout of the view.</span></span>

<span data-ttu-id="cf622-355">Aktualizujte si mobilní prohlížeč.</span><span class="sxs-lookup"><span data-stu-id="cf622-355">Refresh the mobile browser.</span></span> <span data-ttu-id="cf622-356">Následující obrázek odráží změny kódu, které jste právě provedli:</span><span class="sxs-lookup"><span data-stu-id="cf622-356">The following image reflects the code changes that you just made:</span></span>

<span data-ttu-id="cf622-357">[![p3_love2](aspnet-mvc-4-mobile-features/_static/image59.png)](aspnet-mvc-4-mobile-features/_static/image58.png)</span><span class="sxs-lookup"><span data-stu-id="cf622-357">[![p3_love2](aspnet-mvc-4-mobile-features/_static/image59.png)](aspnet-mvc-4-mobile-features/_static/image58.png)</span></span>

## <a name="wrapup-and-review"></a><span data-ttu-id="cf622-358">Wrapup a revize</span><span class="sxs-lookup"><span data-stu-id="cf622-358">Wrapup and Review</span></span>

<span data-ttu-id="cf622-359">Tento kurz přináší nové mobilní funkce ASP.NET MVC 4 Developer Preview.</span><span class="sxs-lookup"><span data-stu-id="cf622-359">This tutorial has introduced the new mobile features of ASP.NET MVC 4 Developer Preview.</span></span> <span data-ttu-id="cf622-360">K mobilním funkcím patří:</span><span class="sxs-lookup"><span data-stu-id="cf622-360">The mobile features include:</span></span>

- <span data-ttu-id="cf622-361">Možnost přepsat rozložení, zobrazení a částečná zobrazení globálně i pro jednotlivá zobrazení.</span><span class="sxs-lookup"><span data-stu-id="cf622-361">The ability to override layout, views, and partial views, both globally and for an individual view.</span></span>
- <span data-ttu-id="cf622-362">Kontrola rozložení a vynucení částečného přepsání pomocí vlastnosti `RequireConsistentDisplayMode`.</span><span class="sxs-lookup"><span data-stu-id="cf622-362">Control over layout and partial override enforcement using the `RequireConsistentDisplayMode` property.</span></span>
- <span data-ttu-id="cf622-363">Widget pro přepínač zobrazení pro mobilní zobrazení, než se dá zobrazit také v zobrazeních plochy.</span><span class="sxs-lookup"><span data-stu-id="cf622-363">A view-switcher widget for mobile views than can also be displayed in desktop views.</span></span>
- <span data-ttu-id="cf622-364">Podpora pro podporu konkrétních prohlížečů, jako je například prohlížeč iPhone.</span><span class="sxs-lookup"><span data-stu-id="cf622-364">Support for supporting specific browsers, such as the iPhone browser.</span></span>

## <a name="see-also"></a><span data-ttu-id="cf622-365">Viz také</span><span class="sxs-lookup"><span data-stu-id="cf622-365">See Also</span></span>

- <span data-ttu-id="cf622-366">[mobilní web jQuery](http://jquerymobile.com) .</span><span class="sxs-lookup"><span data-stu-id="cf622-366">[jQuery Mobile](http://jquerymobile.com) site.</span></span>
- [<span data-ttu-id="cf622-367">Přehled nástroje jQuery Mobile</span><span class="sxs-lookup"><span data-stu-id="cf622-367">jQuery Mobile Overview</span></span>](http://jquerymobile.com/demos/1.0b3/docs/about/intro.html)
- [<span data-ttu-id="cf622-368">Osvědčené postupy pro mobilní webové aplikace s doporučením W3C</span><span class="sxs-lookup"><span data-stu-id="cf622-368">W3C Recommendation Mobile Web Application Best Practices</span></span>](http://www.w3.org/TR/mwabp/)
- [<span data-ttu-id="cf622-369">Doporučení společnosti W3C pro dotazy na média</span><span class="sxs-lookup"><span data-stu-id="cf622-369">W3C Candidate Recommendation for media queries</span></span>](http://www.w3.org/TR/css3-mediaqueries/)
