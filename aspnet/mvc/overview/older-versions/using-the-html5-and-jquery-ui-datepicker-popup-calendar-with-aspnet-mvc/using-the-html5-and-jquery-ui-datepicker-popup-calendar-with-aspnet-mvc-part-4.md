---
uid: mvc/overview/older-versions/using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc/using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4
title: Použití místního kalendáře DatePicker HTML5 a jQuery UI s ASP.NET MVC – část 4 | Microsoft Docs
author: Rick-Anderson
description: V tomto kurzu se seznámíte se základy práce s šablonami editoru, šablonami zobrazení a místním datepickerm ovládacího prvku jQuery uživatelského rozhraní v ASP.NET MV...
ms.author: riande
ms.date: 08/29/2011
ms.assetid: 57666c69-2b0f-423a-a61d-be49547fa585
msc.legacyurl: /mvc/overview/older-versions/using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc/using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4
msc.type: authoredcontent
ms.openlocfilehash: 583e782641efea9a9517edb31f7718b28203d756
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 03/06/2020
ms.locfileid: "78538946"
---
# <a name="using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc---part-4"></a><span data-ttu-id="d96d6-103">Použití místního kalendáře DatePicker HTML5 a jQuery UI s ASP.NET MVC – část 4</span><span class="sxs-lookup"><span data-stu-id="d96d6-103">Using the HTML5 and jQuery UI Datepicker Popup Calendar with ASP.NET MVC - Part 4</span></span>

<span data-ttu-id="d96d6-104">od [Rick Anderson](https://twitter.com/RickAndMSFT)</span><span class="sxs-lookup"><span data-stu-id="d96d6-104">by [Rick Anderson](https://twitter.com/RickAndMSFT)</span></span>

> <span data-ttu-id="d96d6-105">V tomto kurzu se seznámíte se základy práce s šablonami editoru, šablonami zobrazení a místním datepickerm ovládacího prvku jQuery uživatelského rozhraní ve webové aplikaci ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="d96d6-105">This tutorial will teach you the basics of how to work with editor templates, display templates, and the jQuery UI datepicker popup calendar in an ASP.NET MVC Web application.</span></span>

### <a name="adding-a-template-for-editing-dates"></a><span data-ttu-id="d96d6-106">Přidání šablony pro data úpravy</span><span class="sxs-lookup"><span data-stu-id="d96d6-106">Adding a Template for Editing Dates</span></span>

<span data-ttu-id="d96d6-107">V této části vytvoříte šablonu pro úpravu dat, která se použijí, když ASP.NET MVC zobrazí uživatelské rozhraní pro úpravy vlastností modelu, které jsou označené výčtem **data** pro atribut [DataType](https://msdn.microsoft.com/library/system.componentmodel.dataannotations.datatype.aspx) .</span><span class="sxs-lookup"><span data-stu-id="d96d6-107">In this section you'll create a template for editing dates that will be applied when ASP.NET MVC displays UI for editing model properties that are marked with the **Date** enumeration of the [DataType](https://msdn.microsoft.com/library/system.componentmodel.dataannotations.datatype.aspx) attribute.</span></span> <span data-ttu-id="d96d6-108">Šablona vygeneruje pouze datum; čas se nezobrazí.</span><span class="sxs-lookup"><span data-stu-id="d96d6-108">The template will render only the date; time will not be displayed.</span></span> <span data-ttu-id="d96d6-109">V šabloně použijete místní místní kalendář [jQuery DatePicker](http://jqueryui.com/demos/datepicker/) , který poskytuje způsob, jak upravovat data.</span><span class="sxs-lookup"><span data-stu-id="d96d6-109">In the template you'll use the [jQuery UI Datepicker](http://jqueryui.com/demos/datepicker/) popup calendar to provide a way to edit dates.</span></span>

<span data-ttu-id="d96d6-110">Začněte tím, že otevřete soubor *Movie.cs* a do vlastnosti `ReleaseDate` přidáte atribut [DataType](https://msdn.microsoft.com/library/system.componentmodel.dataannotations.datatypeattribute.aspx) s výčtem **data** , jak je znázorněno v následujícím kódu:</span><span class="sxs-lookup"><span data-stu-id="d96d6-110">To begin, open the *Movie.cs* file and add the [DataType](https://msdn.microsoft.com/library/system.componentmodel.dataannotations.datatypeattribute.aspx) attribute with the **Date** enumeration to the `ReleaseDate` property, as shown in the following code:</span></span>

[!code-csharp[Main](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/samples/sample1.cs)]

<span data-ttu-id="d96d6-111">Tento kód způsobí, že se pole `ReleaseDate` zobrazí bez času v šablonách zobrazení a úpravách šablon.</span><span class="sxs-lookup"><span data-stu-id="d96d6-111">This code causes the `ReleaseDate` field to be displayed without the time in both display templates and edit templates.</span></span> <span data-ttu-id="d96d6-112">Pokud vaše aplikace obsahuje šablonu *Date. cshtml* ve složce *Views\Shared\EditorTemplates* nebo ve složce *Views\Movies\EditorTemplates* , bude tato šablona použita k vykreslení libovolné vlastnosti `DateTime` při úpravách.</span><span class="sxs-lookup"><span data-stu-id="d96d6-112">If your application contains a *date.cshtml* template in the *Views\Shared\EditorTemplates* folder or in the *Views\Movies\EditorTemplates* folder, that template will be used to render any `DateTime` property while editing.</span></span> <span data-ttu-id="d96d6-113">V opačném případě bude integrovaný systém ASP.NET šablonování zobrazovat vlastnost jako datum.</span><span class="sxs-lookup"><span data-stu-id="d96d6-113">Otherwise the built-in ASP.NET templating system will display the property as a date.</span></span>

<span data-ttu-id="d96d6-114">Stiskněte klávesy CTRL+F5 a spusťte aplikaci.</span><span class="sxs-lookup"><span data-stu-id="d96d6-114">Press CTRL+F5 to run the application.</span></span> <span data-ttu-id="d96d6-115">Vyberte odkaz pro úpravy a ověřte, že vstupní pole pro datum vydání zobrazuje pouze datum.</span><span class="sxs-lookup"><span data-stu-id="d96d6-115">Select an edit link to verify that the input field for the release date is showing only the date.</span></span>

![](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/_static/image1.png)

<span data-ttu-id="d96d6-116">V **Průzkumník řešení**rozbalte složku *zobrazení* , rozbalte *sdílenou* složku a potom klikněte pravým tlačítkem na složku *Views\Shared\EditorTemplates* .</span><span class="sxs-lookup"><span data-stu-id="d96d6-116">In **Solution Explorer**, expand the *Views* folder, expand the *Shared* folder, and then right-click the *Views\Shared\EditorTemplates* folder.</span></span>

<span data-ttu-id="d96d6-117">Klikněte na tlačítko **Přidat**a potom klikněte na tlačítko **Zobrazit**.</span><span class="sxs-lookup"><span data-stu-id="d96d6-117">Click **Add**, and then click **View**.</span></span> <span data-ttu-id="d96d6-118">Zobrazí se dialogové okno **Přidat zobrazení** .</span><span class="sxs-lookup"><span data-stu-id="d96d6-118">The **Add View** dialog box is displayed.</span></span>

<span data-ttu-id="d96d6-119">Do pole **název zobrazení** zadejte &quot;datum&quot;.</span><span class="sxs-lookup"><span data-stu-id="d96d6-119">In the **View name** box, type &quot;Date&quot;.</span></span>

<span data-ttu-id="d96d6-120">Vyberte zaškrtávací políčko **vytvořit jako částečné zobrazení** .</span><span class="sxs-lookup"><span data-stu-id="d96d6-120">Select the **Create as a partial view** check box.</span></span> <span data-ttu-id="d96d6-121">Ujistěte se, že nejsou vybrána zaškrtávací políčka **použít rozložení nebo hlavní stránku** a **vytvořit zobrazení se silným typem** .</span><span class="sxs-lookup"><span data-stu-id="d96d6-121">Make sure that the **Use a layout or master page** and **Create a strongly-typed view** check boxes are not selected.</span></span>

<span data-ttu-id="d96d6-122">Klikněte na **Přidat**.</span><span class="sxs-lookup"><span data-stu-id="d96d6-122">Click **Add**.</span></span> <span data-ttu-id="d96d6-123">Vytvoří se šablona *Views\Shared\EditorTemplates\Date.cshtml* .</span><span class="sxs-lookup"><span data-stu-id="d96d6-123">The *Views\Shared\EditorTemplates\Date.cshtml* template is created.</span></span>

<span data-ttu-id="d96d6-124">Do šablony *Views\Shared\EditorTemplates\Date.cshtml* přidejte následující kód.</span><span class="sxs-lookup"><span data-stu-id="d96d6-124">Add the following code to the *Views\Shared\EditorTemplates\Date.cshtml* template.</span></span>

[!code-cshtml[Main](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/samples/sample2.cshtml)]

<span data-ttu-id="d96d6-125">První řádek deklaruje model jako typ `DateTime`.</span><span class="sxs-lookup"><span data-stu-id="d96d6-125">The first line declares the model to be a `DateTime` type.</span></span> <span data-ttu-id="d96d6-126">I když nemusíte deklarovat typ modelu v šablonách pro úpravy a zobrazení, je osvědčeným postupem, abyste získali kontrolu nad předaným modelem v průběhu kompilace.</span><span class="sxs-lookup"><span data-stu-id="d96d6-126">Although you don't need to declare the model type in edit and display templates, it's a best practice so that you get compile-time checking of the model being passed to the view.</span></span> <span data-ttu-id="d96d6-127">(Další výhodou je, že potom získáte IntelliSense pro model v zobrazení v aplikaci Visual Studio.) Pokud typ modelu není deklarován, ASP.NET MVC považuje typ za [dynamický](https://msdn.microsoft.com/library/dd264741.aspx) a neexistuje žádná kontrola typu v době kompilace.</span><span class="sxs-lookup"><span data-stu-id="d96d6-127">(Another benefit is that you then get IntelliSense for the model in the view in Visual Studio.) If the model type is not declared, ASP.NET MVC considers it a [dynamic](https://msdn.microsoft.com/library/dd264741.aspx) type and there's no compile-time type checking.</span></span> <span data-ttu-id="d96d6-128">Pokud deklarujete model, který bude `DateTime` typ, bude silného typu.</span><span class="sxs-lookup"><span data-stu-id="d96d6-128">If you declare the model to be a `DateTime` type, it becomes strongly typed.</span></span>

<span data-ttu-id="d96d6-129">Druhý řádek je pouze literální kód HTML, který zobrazuje &quot;pomocí šablony data&quot; před polem data.</span><span class="sxs-lookup"><span data-stu-id="d96d6-129">The second line is just literal HTML markup that displays &quot;Using Date Template&quot; before a date field.</span></span> <span data-ttu-id="d96d6-130">Tento řádek použijete dočasně k ověření, že se používá tato šablona kalendářního data.</span><span class="sxs-lookup"><span data-stu-id="d96d6-130">You'll use this line temporarily to verify that this date template is being used.</span></span>

<span data-ttu-id="d96d6-131">Další řádek je pomocník [HTML. TextBox](https://msdn.microsoft.com/library/system.web.mvc.html.inputextensions.textbox.aspx) , který vykreslí pole `input`, které je textové pole.</span><span class="sxs-lookup"><span data-stu-id="d96d6-131">The next line is an [Html.TextBox](https://msdn.microsoft.com/library/system.web.mvc.html.inputextensions.textbox.aspx) helper that renders an `input` field that's a text box.</span></span> <span data-ttu-id="d96d6-132">Třetí parametr pomocné rutiny používá anonymní typ k nastavení třídy pro textové pole, které se má `datefield`, a typ, který se má `date`.</span><span class="sxs-lookup"><span data-stu-id="d96d6-132">The third parameter for the helper uses an anonymous type to set the class for the text box to `datefield` and the type to `date`.</span></span> <span data-ttu-id="d96d6-133">(Protože je `class` rezervován v C#, je nutné použít `@` znak k úniku atributu `class` v C# analyzátoru.)</span><span class="sxs-lookup"><span data-stu-id="d96d6-133">(Because `class` is a reserved in C#, you need to use the `@` character to escape the `class` attribute in the C# parser.)</span></span>

<span data-ttu-id="d96d6-134">Typ `date` je vstupní typ HTML5, který umožňuje prohlížečům podporujícím HTML5 vykreslování ovládacího prvku kalendáře HTML5.</span><span class="sxs-lookup"><span data-stu-id="d96d6-134">The `date` type is an HTML5 input type that enables HTML5-aware browsers to render a HTML5 calendar control.</span></span> <span data-ttu-id="d96d6-135">Později přidáte několik JavaScriptu, abyste připojili jQuery DatePicker k elementu `Html.TextBox` pomocí `datefield` třídy.</span><span class="sxs-lookup"><span data-stu-id="d96d6-135">Later on you'll add some JavaScript to hook up the jQuery datepicker to the `Html.TextBox` element using the `datefield` class.</span></span>

<span data-ttu-id="d96d6-136">Stiskněte klávesy CTRL+F5 a spusťte aplikaci.</span><span class="sxs-lookup"><span data-stu-id="d96d6-136">Press CTRL+F5 to run the application.</span></span> <span data-ttu-id="d96d6-137">Můžete ověřit, že vlastnost `ReleaseDate` v zobrazení pro úpravy používá šablonu Edit, protože šablona zobrazuje &quot;pomocí šablony data&quot; těsně před vstupním polem `ReleaseDate` text, jak je znázorněno na tomto obrázku:</span><span class="sxs-lookup"><span data-stu-id="d96d6-137">You can verify that the `ReleaseDate` property in the edit view is using the edit template because the template displays &quot;Using Date Template&quot; just before the `ReleaseDate` text input box, as shown in this image:</span></span>

![](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/_static/image2.png)

<span data-ttu-id="d96d6-138">V prohlížeči zobrazte zdroj stránky.</span><span class="sxs-lookup"><span data-stu-id="d96d6-138">In your browser, view the source of the page.</span></span> <span data-ttu-id="d96d6-139">(Například klikněte pravým tlačítkem na stránku a vyberte **Zobrazit zdroj**.) Následující příklad ukazuje některé značky pro stránku, ilustrující `class` a `type` atributy ve vykresleném HTML.</span><span class="sxs-lookup"><span data-stu-id="d96d6-139">(For example, right-click the page and select **View source**.) The following example shows some of the markup for the page, illustrating the `class` and `type` attributes in the rendered HTML.</span></span>

[!code-html[Main](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/samples/sample3.html)]

<span data-ttu-id="d96d6-140">Vraťte se do šablony *Views\Shared\EditorTemplates\Date.cshtml* a odeberte &quot;pomocí šablony data&quot; označení.</span><span class="sxs-lookup"><span data-stu-id="d96d6-140">Return to the *Views\Shared\EditorTemplates\Date.cshtml* template and remove the &quot;Using Date Template&quot; markup.</span></span> <span data-ttu-id="d96d6-141">Hotová šablona teď vypadá takto:</span><span class="sxs-lookup"><span data-stu-id="d96d6-141">Now the completed template looks like this:</span></span>

[!code-cshtml[Main](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/samples/sample4.cshtml)]

### <a name="adding-a-jquery-ui-datepicker-popup-calendar-using-nuget"></a><span data-ttu-id="d96d6-142">Přidání místního kalendáře DatePicker uživatelského rozhraní jQuery pomocí NuGet</span><span class="sxs-lookup"><span data-stu-id="d96d6-142">Adding a jQuery UI Datepicker Popup Calendar using NuGet</span></span>

<span data-ttu-id="d96d6-143">V této části přidáte do šablony data a Edit místní nabídku [DatePicker uživatelského rozhraní jQuery](http://jqueryui.com/demos/datepicker/) .</span><span class="sxs-lookup"><span data-stu-id="d96d6-143">In this section you'll add the [jQuery UI datepicker](http://jqueryui.com/demos/datepicker/) popup calendar to the date-edit template.</span></span> <span data-ttu-id="d96d6-144">Knihovna [uživatelského rozhraní jQuery](http://jqueryui.com/) poskytuje podporu pro animace, pokročilé efekty a přizpůsobitelné pomůcky.</span><span class="sxs-lookup"><span data-stu-id="d96d6-144">The [jQuery UI](http://jqueryui.com/) library provides support for animation, advanced effects, and customizable widgets.</span></span> <span data-ttu-id="d96d6-145">Je postaven na knihovně jazyka jQuery JavaScriptu.</span><span class="sxs-lookup"><span data-stu-id="d96d6-145">It's built on top of the jQuery JavaScript library.</span></span> <span data-ttu-id="d96d6-146">Místní okno DatePicker usnadňuje a přirozené zadání dat pomocí kalendáře namísto zadávání řetězce.</span><span class="sxs-lookup"><span data-stu-id="d96d6-146">The datepicker popup calendar makes it easy and natural to enter dates using a calendar instead of entering a string.</span></span> <span data-ttu-id="d96d6-147">Místní kalendář také omezuje uživatele na právní data – normální textové zadání data vám umožní zadat něco podobného jako `2/33/1999` (únor 33rd, 1999), ale místní nabídka [DatePicker uživatelského rozhraní jQuery](http://jqueryui.com/demos/datepicker/) to neumožní.</span><span class="sxs-lookup"><span data-stu-id="d96d6-147">The popup calendar also limits users to legal dates — ordinary text entry for a date would let you enter something like `2/33/1999` ( February 33rd, 1999), but the [jQuery UI datepicker](http://jqueryui.com/demos/datepicker/) popup calendar won't allow that.</span></span>

<span data-ttu-id="d96d6-148">Nejdřív je nutné nainstalovat knihovny uživatelského rozhraní jQuery.</span><span class="sxs-lookup"><span data-stu-id="d96d6-148">First, you have to install the jQuery UI libraries.</span></span> <span data-ttu-id="d96d6-149">K tomu budete používat NuGet, což je správce balíčků, který je zahrnutý ve verzích SP1 sady Visual Studio 2010 a Visual Web Developer.</span><span class="sxs-lookup"><span data-stu-id="d96d6-149">To do that, you'll use NuGet, which is a package manager that's included in SP1 versions of Visual Studio 2010 and Visual Web Developer.</span></span>

<span data-ttu-id="d96d6-150">V aplikaci Visual Web Developer v nabídce **nástroje** vyberte **Správce balíčků NuGet** a pak vyberte **Spravovat balíčky NuGet**.</span><span class="sxs-lookup"><span data-stu-id="d96d6-150">In Visual Web Developer, from the **Tools** menu, select **NuGet Package Manager** and then select **Manage NuGet Packages**.</span></span>

![](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/_static/image3.png)

<span data-ttu-id="d96d6-151">Poznámka: Pokud se v nabídce **nástroje** nezobrazí příkaz **Správce balíčků NuGet** , je nutné nainstalovat NuGet podle pokynů na stránce [instalace NuGet](http://docs.nuget.org/docs/start-here/installing-nuget) na webu NuGet.</span><span class="sxs-lookup"><span data-stu-id="d96d6-151">Note: If the **Tools** menu doesn't display the **NuGet Package Manager** command, you need to install NuGet by following the instructions on the [Installing NuGet](http://docs.nuget.org/docs/start-here/installing-nuget) page of the NuGet website.</span></span>   
  
<span data-ttu-id="d96d6-152">Pokud používáte sadu Visual Studio namísto Visual Web Developer, v nabídce **nástroje** vyberte **Správce balíčků NuGet** a pak vyberte **Přidat odkaz na balíček knihovny**.</span><span class="sxs-lookup"><span data-stu-id="d96d6-152">If you're using Visual Studio instead of Visual Web Developer, from the **Tools** menu, select **NuGet Package Manager** and then select **Add Library Package Reference**.</span></span>

![](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/_static/image4.png)

<span data-ttu-id="d96d6-153">V dialogovém okně **MVCMovie – spravovat balíčky NuGet** klikněte na kartu **online** na levé straně a do vyhledávacího pole zadejte &quot;jQuery. UI&quot;.</span><span class="sxs-lookup"><span data-stu-id="d96d6-153">In the **MVCMovie - Manage NuGet Packages** dialog box, click the **Online** tab on the left and then enter &quot;jQuery.UI&quot; in the search box.</span></span> <span data-ttu-id="d96d6-154">Vyberte j **Query UI widgets: DatePicker**a pak vyberte tlačítko **nainstalovat** .</span><span class="sxs-lookup"><span data-stu-id="d96d6-154">Select j **Query UI Widgets:Datepicker**, then select the **Install** button.</span></span>

![](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/_static/image5.png)

![](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/_static/image6.png)

<span data-ttu-id="d96d6-155">NuGet přidá tyto verze ladění a minifikovaného verze jádra uživatelského rozhraní jQuery a výběr data uživatelského rozhraní jQuery do vašeho projektu:</span><span class="sxs-lookup"><span data-stu-id="d96d6-155">NuGet adds these debug versions and minified versions of jQuery UI Core and the jQuery UI date picker to your project:</span></span>

- <span data-ttu-id="d96d6-156">*jQuery. UI. Core. js*</span><span class="sxs-lookup"><span data-stu-id="d96d6-156">*jquery.ui.core.js*</span></span>
- <span data-ttu-id="d96d6-157">*jQuery. UI. Core. min. js*</span><span class="sxs-lookup"><span data-stu-id="d96d6-157">*jquery.ui.core.min.js*</span></span>
- <span data-ttu-id="d96d6-158">*jQuery. UI. DatePicker. js*</span><span class="sxs-lookup"><span data-stu-id="d96d6-158">*jquery.ui.datepicker.js*</span></span>
- <span data-ttu-id="d96d6-159">*jQuery. UI. DatePicker. min. js*</span><span class="sxs-lookup"><span data-stu-id="d96d6-159">*jquery.ui.datepicker.min.js*</span></span>

<span data-ttu-id="d96d6-160">Poznámka: ladicí verze (soubory bez přípony *. min. js* ) jsou užitečné pro ladění, ale v produkčním webu byste měli použít jenom minifikovaného verze.</span><span class="sxs-lookup"><span data-stu-id="d96d6-160">Note: The debug versions (the files without the *.min.js* extension) are useful for debugging, but in a production site, you'd include only the minified versions.</span></span>

<span data-ttu-id="d96d6-161">Chcete-li použít nástroj pro výběr data jQuery, je nutné vytvořit skript jQuery, který bude zapojovat pomůcku kalendáře do šablony pro úpravy.</span><span class="sxs-lookup"><span data-stu-id="d96d6-161">To actually use the jQuery date picker, you need to create a jQuery script that will hook up the calendar widget to the edit template.</span></span> <span data-ttu-id="d96d6-162">V **Průzkumník řešení**klikněte pravým tlačítkem myši na složku *skripty* a vyberte **Přidat**, **Nová položka**a potom **soubor JScript**.</span><span class="sxs-lookup"><span data-stu-id="d96d6-162">In **Solution Explorer**, right-click the *Scripts* folder and select **Add**, then **New Item**, and then **JScript File**.</span></span> <span data-ttu-id="d96d6-163">Pojmenujte soubor *DatePickerReady. js*.</span><span class="sxs-lookup"><span data-stu-id="d96d6-163">Name the file *DatePickerReady.js*.</span></span>

<span data-ttu-id="d96d6-164">Do souboru *DatePickerReady. js* přidejte následující kód:</span><span class="sxs-lookup"><span data-stu-id="d96d6-164">Add the following code to the *DatePickerReady.js* file:</span></span>

[!code-javascript[Main](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/samples/sample5.js)]

<span data-ttu-id="d96d6-165">Pokud nejste obeznámeni se jQuery, tady je stručné vysvětlení toho, co to dělá: první řádek je funkce &quot;jQuery připravená&quot;, která se volá, když se načtou všechny prvky modelu DOM na stránce.</span><span class="sxs-lookup"><span data-stu-id="d96d6-165">If you're not familiar with jQuery, here's a brief explanation of what this does: the first line is the &quot;jQuery ready&quot; function, which is called when all the DOM elements in a page have loaded.</span></span> <span data-ttu-id="d96d6-166">Druhý řádek vybere všechny prvky modelu DOM, které mají název třídy `datefield`a poté vyvolá funkci `datepicker` pro každý z nich.</span><span class="sxs-lookup"><span data-stu-id="d96d6-166">The second line selects all DOM elements that have the class name `datefield`, then invokes the `datepicker` function for each of them.</span></span> <span data-ttu-id="d96d6-167">(Nezapomeňte přidat třídu `datefield` do šablony *Views\Shared\EditorTemplates\Date.cshtml* dříve v tomto kurzu.)</span><span class="sxs-lookup"><span data-stu-id="d96d6-167">(Remember that you added the `datefield` class to the *Views\Shared\EditorTemplates\Date.cshtml* template earlier in the tutorial.)</span></span>

<span data-ttu-id="d96d6-168">Potom otevřete soubor *Views\Shared\\_Layout. cshtml* .</span><span class="sxs-lookup"><span data-stu-id="d96d6-168">Next, open the *Views\Shared\\_Layout.cshtml* file.</span></span> <span data-ttu-id="d96d6-169">Je nutné přidat odkazy na následující soubory, které jsou všechny nutné, aby bylo možné použít nástroj pro výběr data:</span><span class="sxs-lookup"><span data-stu-id="d96d6-169">You need to add references to the following files, which are all required so that you can use the date picker:</span></span>

- <span data-ttu-id="d96d6-170">*Content/Themes/Base/jQuery. UI. Core. CSS*</span><span class="sxs-lookup"><span data-stu-id="d96d6-170">*Content/themes/base/jquery.ui.core.css*</span></span>
- <span data-ttu-id="d96d6-171">*Content/Themes/Base/jQuery. UI. DatePicker. CSS*</span><span class="sxs-lookup"><span data-stu-id="d96d6-171">*Content/themes/base/jquery.ui.datepicker.css*</span></span>
- <span data-ttu-id="d96d6-172">*Content/Themes/Base/jQuery. UI. theme. CSS*</span><span class="sxs-lookup"><span data-stu-id="d96d6-172">*Content/themes/base/jquery.ui.theme.css*</span></span>
- <span data-ttu-id="d96d6-173">*jQuery. UI. Core. min. js*</span><span class="sxs-lookup"><span data-stu-id="d96d6-173">*jquery.ui.core.min.js*</span></span>
- <span data-ttu-id="d96d6-174">*jQuery. UI. DatePicker. min. js*</span><span class="sxs-lookup"><span data-stu-id="d96d6-174">*jquery.ui.datepicker.min.js*</span></span>
- <span data-ttu-id="d96d6-175">*DatePickerReady. js*</span><span class="sxs-lookup"><span data-stu-id="d96d6-175">*DatePickerReady.js*</span></span>

<span data-ttu-id="d96d6-176">Následující příklad ukazuje skutečný kód, který byste měli přidat v dolní části `head` elementu v souboru *\\_Layout. cshtml pro Views\Shared* .</span><span class="sxs-lookup"><span data-stu-id="d96d6-176">The following example shows the actual code that you should add at the bottom of the `head` element in the *Views\Shared\\_Layout.cshtml* file.</span></span>

[!code-cshtml[Main](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/samples/sample6.cshtml)]

<span data-ttu-id="d96d6-177">Část kompletní `head` se zobrazí zde:</span><span class="sxs-lookup"><span data-stu-id="d96d6-177">The complete `head` section is shown here:</span></span>

[!code-cshtml[Main](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/samples/sample7.cshtml)]

<span data-ttu-id="d96d6-178">[Pomocná metoda obsahu URL](https://msdn.microsoft.com/library/system.web.mvc.urlhelper.content.aspx) převádí cestu prostředku na absolutní cestu.</span><span class="sxs-lookup"><span data-stu-id="d96d6-178">The [URL content helper](https://msdn.microsoft.com/library/system.web.mvc.urlhelper.content.aspx) method converts the resource path to an absolute path.</span></span> <span data-ttu-id="d96d6-179">Pokud je aplikace spuštěna ve službě IIS, je nutné použít `@URL.Content` pro správné odkazování na tyto prostředky.</span><span class="sxs-lookup"><span data-stu-id="d96d6-179">You must use `@URL.Content` to correctly reference these resources when the application is running on IIS.</span></span>

<span data-ttu-id="d96d6-180">Stiskněte klávesy CTRL+F5 a spusťte aplikaci.</span><span class="sxs-lookup"><span data-stu-id="d96d6-180">Press CTRL+F5 to run the application.</span></span> <span data-ttu-id="d96d6-181">Vyberte odkaz upravit a pak umístěte kurzor do pole **ReleaseDate** .</span><span class="sxs-lookup"><span data-stu-id="d96d6-181">Select an edit link, then put the insertion point into the **ReleaseDate** field.</span></span> <span data-ttu-id="d96d6-182">Zobrazí se automaticky otevírané okno uživatelského rozhraní jQuery.</span><span class="sxs-lookup"><span data-stu-id="d96d6-182">The jQuery UI popup calendar is displayed.</span></span>

![](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/_static/image7.png)

<span data-ttu-id="d96d6-183">Podobně jako většina ovládacích prvků jQuery vám DatePicker umožňuje rozsáhlé přizpůsobení.</span><span class="sxs-lookup"><span data-stu-id="d96d6-183">Like most jQuery controls, the datepicker lets you customize it extensively.</span></span> <span data-ttu-id="d96d6-184">Informace najdete v tématu [přizpůsobení vizuálů: návrh motivu uživatelského rozhraní jQuery](http://learn.jquery.com/jquery-ui/getting-started/#visual-customization-designing-a-jquery-ui-theme) na webu [uživatelského rozhraní jQuery](http://learn.jquery.com/jquery-ui/getting-started/) .</span><span class="sxs-lookup"><span data-stu-id="d96d6-184">For information, see [Visual Customization: Designing a jQuery UI theme](http://learn.jquery.com/jquery-ui/getting-started/#visual-customization-designing-a-jquery-ui-theme) on the [jQuery UI](http://learn.jquery.com/jquery-ui/getting-started/) site.</span></span>

### <a name="supporting-the-html5-date-input-control"></a><span data-ttu-id="d96d6-185">Podpora ovládacího prvku zadávání data HTML5</span><span class="sxs-lookup"><span data-stu-id="d96d6-185">Supporting the HTML5 Date Input Control</span></span>

<span data-ttu-id="d96d6-186">Protože více prohlížečů podporuje HTML5, budete chtít použít nativní vstup HTML5, například `date` vstupní prvek, a nepoužívat kalendář uživatelského rozhraní jQuery.</span><span class="sxs-lookup"><span data-stu-id="d96d6-186">As more browsers support HTML5, you'll want to use the native HTML5 input, such as the `date` input element, and not use the jQuery UI calendar.</span></span> <span data-ttu-id="d96d6-187">Do své aplikace můžete přidat logiku pro automatické použití ovládacích prvků HTML5, pokud je prohlížeč podporuje.</span><span class="sxs-lookup"><span data-stu-id="d96d6-187">You can add logic to your application to automatically use HTML5 controls if the browser supports them.</span></span> <span data-ttu-id="d96d6-188">Chcete-li to provést, nahraďte obsah souboru *DatePickerReady. js* následujícím způsobem:</span><span class="sxs-lookup"><span data-stu-id="d96d6-188">To do this, replace the contents of the *DatePickerReady.js* file with the following:</span></span>

[!code-javascript[Main](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/samples/sample8.js)]

<span data-ttu-id="d96d6-189">První řádek tohoto skriptu používá modernizr k ověření, že zadání data HTML5 je podporováno.</span><span class="sxs-lookup"><span data-stu-id="d96d6-189">The first line of this script uses Modernizr to verify that HTML5 date input is supported.</span></span> <span data-ttu-id="d96d6-190">Pokud není podporováno, je místo toho připojen nástroj pro výběr data uživatelského rozhraní jQuery.</span><span class="sxs-lookup"><span data-stu-id="d96d6-190">If it's not supported, the jQuery UI date picker is hooked up instead.</span></span> <span data-ttu-id="d96d6-191">([Modernizr](http://www.modernizr.com/docs/) je open source knihovna JavaScriptu, která detekuje dostupnost nativních implementací HTML5 a CSS3.</span><span class="sxs-lookup"><span data-stu-id="d96d6-191">([Modernizr](http://www.modernizr.com/docs/) is an open-source JavaScript library that detects the availability of native implementations of HTML5 and CSS3.</span></span> <span data-ttu-id="d96d6-192">Modernizr je součástí všech nových projektů ASP.NET MVC, které vytvoříte.)</span><span class="sxs-lookup"><span data-stu-id="d96d6-192">Modernizr is included in any new ASP.NET MVC projects that you create.)</span></span>

<span data-ttu-id="d96d6-193">Po provedení této změny ji můžete otestovat pomocí prohlížeče, který podporuje HTML5, jako je například Opera 11.</span><span class="sxs-lookup"><span data-stu-id="d96d6-193">After you've made this change, you can test it by using a browser that supports HTML5, such as Opera 11.</span></span> <span data-ttu-id="d96d6-194">Spusťte aplikaci pomocí prohlížeče kompatibilního s HTML5 a upravte záznam filmu.</span><span class="sxs-lookup"><span data-stu-id="d96d6-194">Run the application using an HTML5-compatible browser and edit a movie entry.</span></span> <span data-ttu-id="d96d6-195">Použije se ovládací prvek data HTML5 místo místního kalendáře uživatelského rozhraní jQuery:</span><span class="sxs-lookup"><span data-stu-id="d96d6-195">The HTML5 date control is used instead of the jQuery UI popup calendar:</span></span>

![](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/_static/image8.png)

<span data-ttu-id="d96d6-196">Vzhledem k tomu, že nové verze prohlížečů implementují HTML5 přírůstkově, dobrým řešením je nyní přidat kód na web, který bude vyhovovat nejrůznější podpoře HTML5.</span><span class="sxs-lookup"><span data-stu-id="d96d6-196">Because new versions of browsers are implementing HTML5 incrementally, a good approach for now is to add code to your website that accommodates a wide variety of HTML5 support.</span></span> <span data-ttu-id="d96d6-197">Například robustnější skript *DatePickerReady. js* je zobrazen níže, který umožňuje, aby vaše lokalita podporovala prohlížeče, které pouze částečně podporují ovládací prvek data HTML5.</span><span class="sxs-lookup"><span data-stu-id="d96d6-197">For example, a more robust *DatePickerReady.js* script is shown below that lets your site support browsers that only partially support the HTML5 date control.</span></span>

[!code-javascript[Main](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/samples/sample9.js)]

<span data-ttu-id="d96d6-198">Tento skript vybírá prvky HTML5 `input` typu `date`, které plně nepodporují ovládací prvek data HTML5.</span><span class="sxs-lookup"><span data-stu-id="d96d6-198">This script selects HTML5 `input` elements of type `date` that don't fully support the HTML5 date control.</span></span> <span data-ttu-id="d96d6-199">U těchto elementů se připojovat k místnímu kalendáři uživatelského rozhraní jQuery a poté změní atribut `type` z `date` na `text`.</span><span class="sxs-lookup"><span data-stu-id="d96d6-199">For those elements, it hooks up the jQuery UI popup calendar and then changes the `type` attribute from `date` to `text`.</span></span> <span data-ttu-id="d96d6-200">Změnou atributu `type` z `date` na `text`, částečná podpora data HTML5 se eliminuje.</span><span class="sxs-lookup"><span data-stu-id="d96d6-200">By changing the `type` attribute from `date` to `text`, partial HTML5 date support is eliminated.</span></span> <span data-ttu-id="d96d6-201">Ještě robustnější skript *DatePickerReady. js* najdete na adrese [JSFIDDLE](http://jsfiddle.net/XSTK8/15/).</span><span class="sxs-lookup"><span data-stu-id="d96d6-201">An even more robust *DatePickerReady.js* script can be found at [JSFIDDLE](http://jsfiddle.net/XSTK8/15/).</span></span>

### <a name="adding-nullable-dates-to-the-templates"></a><span data-ttu-id="d96d6-202">Přidání dat s možnou hodnotou null do šablon</span><span class="sxs-lookup"><span data-stu-id="d96d6-202">Adding Nullable Dates to the Templates</span></span>

<span data-ttu-id="d96d6-203">Použijete-li jednu z existujících šablon kalendářních dat a předáte datum v hodnotě null, zobrazí se chyba modulu runtime.</span><span class="sxs-lookup"><span data-stu-id="d96d6-203">If you use one of the existing date templates and pass a null date, you'll get a run-time error.</span></span> <span data-ttu-id="d96d6-204">Aby bylo možné šablony kalendářních dat robustnější, změňte je tak, aby zpracovávala hodnoty null.</span><span class="sxs-lookup"><span data-stu-id="d96d6-204">To make the date templates more robust, you'll change them to handle null values.</span></span> <span data-ttu-id="d96d6-205">Chcete-li podporovat data s možnou hodnotou null, změňte kód v *Views\Shared\DisplayTemplates\DateTime.cshtml* na následující:</span><span class="sxs-lookup"><span data-stu-id="d96d6-205">To support nullable dates, change the code in the *Views\Shared\DisplayTemplates\DateTime.cshtml* to the following:</span></span>

[!code-cshtml[Main](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/samples/sample10.cshtml)]

<span data-ttu-id="d96d6-206">Kód vrátí prázdný řetězec, pokud má model **hodnotu null**.</span><span class="sxs-lookup"><span data-stu-id="d96d6-206">The code returns an empty string when the model is **null**.</span></span>

<span data-ttu-id="d96d6-207">Změňte kód v souboru *Views\Shared\EditorTemplates\Date.cshtml* na následující:</span><span class="sxs-lookup"><span data-stu-id="d96d6-207">Change the code in the *Views\Shared\EditorTemplates\Date.cshtml* file to the following:</span></span>

[!code-cshtml[Main](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/samples/sample11.cshtml)]

<span data-ttu-id="d96d6-208">Pokud je tento kód spuštěn, v případě, že model není null, je použita hodnota `DateTime` modelu.</span><span class="sxs-lookup"><span data-stu-id="d96d6-208">When this code runs, if the model is not null, the model's `DateTime` value is used.</span></span> <span data-ttu-id="d96d6-209">Pokud je model null, použije se místo toho aktuální datum.</span><span class="sxs-lookup"><span data-stu-id="d96d6-209">If the model is null, the current date is used instead.</span></span>

### <a name="wrapup"></a><span data-ttu-id="d96d6-210">Wrapup</span><span class="sxs-lookup"><span data-stu-id="d96d6-210">Wrapup</span></span>

<span data-ttu-id="d96d6-211">V tomto kurzu se pokryly základy pomocníků s ASP.NET šablonami a dozvíte se, jak používat místní nabídku DatePicker uživatelského rozhraní jQuery v aplikaci ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="d96d6-211">This tutorial has covered the basics of ASP.NET templated helpers and shows you how to use the jQuery UI datepicker popup calendar in an ASP.NET MVC application.</span></span> <span data-ttu-id="d96d6-212">Další informace najdete v těchto zdrojích:</span><span class="sxs-lookup"><span data-stu-id="d96d6-212">For more information, try these resources:</span></span>

- <span data-ttu-id="d96d6-213">Informace o lokalizaci najdete v článku Rajeesh blog [JQueryUI DatePicker v ASP.NET MVC](http://www.rajeeshcv.com/2010/02/jqueryui-datepicker-in-asp-net-mvc/).</span><span class="sxs-lookup"><span data-stu-id="d96d6-213">For information on localization, see Rajeesh's blog [JQueryUI Datepicker in ASP.NET MVC](http://www.rajeeshcv.com/2010/02/jqueryui-datepicker-in-asp-net-mvc/).</span></span>
- <span data-ttu-id="d96d6-214">Informace o uživatelském rozhraní jQuery najdete v tématu [uživatelské rozhraní jQuery](http://docs.jquery.com/UI).</span><span class="sxs-lookup"><span data-stu-id="d96d6-214">For information about jQuery UI, see [jQuery UI](http://docs.jquery.com/UI).</span></span>
- <span data-ttu-id="d96d6-215">Informace o lokalizaci ovládacího prvku DatePicker naleznete v tématu [UI/Datepicker/lokalizace](http://docs.jquery.com/UI/Datepicker/Localization).</span><span class="sxs-lookup"><span data-stu-id="d96d6-215">For information about how to localize the datepicker control, see [UI/Datepicker/Localization](http://docs.jquery.com/UI/Datepicker/Localization).</span></span>
- <span data-ttu-id="d96d6-216">Další informace o šablonách MVC ASP.NET najdete v článku o sérii blogů brada Wilson v [šablonách ASP.NET MVC 2](http://bradwilson.typepad.com/blog/2009/10/aspnet-mvc-2-templates-part-1-introduction.html).</span><span class="sxs-lookup"><span data-stu-id="d96d6-216">For more information about the ASP.NET MVC templates, see Brad Wilson's blog series on [ASP.NET MVC 2 Templates](http://bradwilson.typepad.com/blog/2009/10/aspnet-mvc-2-templates-part-1-introduction.html).</span></span> <span data-ttu-id="d96d6-217">I když byla řada napsaná pro ASP.NET MVC 2, materiál se dál vztahuje na aktuální verzi ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="d96d6-217">Although the series was written for ASP.NET MVC 2, the material still applies for the current version of ASP.NET MVC.</span></span>

> [!div class="step-by-step"]
> [<span data-ttu-id="d96d6-218">Předchozí</span><span class="sxs-lookup"><span data-stu-id="d96d6-218">Previous</span></span>](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-3.md)
