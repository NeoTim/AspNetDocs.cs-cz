---
uid: mvc/overview/older-versions-1/movie-database/create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb
title: Vytvoření aplikace Movie Database za 15 minut s ASP.NET MVC (VB) | Microsoft Docs
author: StephenWalther
description: Stephen Walther sestaví celou databázi založenou na ASP.NET aplikaci MVC od začátku do konce. Tento kurz je skvělým úvodem pro lidi, kteří jsou noví t...
ms.author: riande
ms.date: 01/27/2009
ms.assetid: e4ba9786-734c-4eb3-91bb-089793325d0d
msc.legacyurl: /mvc/overview/older-versions-1/movie-database/create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb
msc.type: authoredcontent
ms.openlocfilehash: 0ce8161d29a8ab4005e2b20462b08c9e10ee815a
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 03/06/2020
ms.locfileid: "78541886"
---
# <a name="create-a-movie-database-application-in-15-minutes-with-aspnet-mvc-vb"></a><span data-ttu-id="ae822-104">Vytvoření aplikace Movie Database za 15 minut s ASP.NET MVC (VB)</span><span class="sxs-lookup"><span data-stu-id="ae822-104">Create a Movie Database Application in 15 Minutes with ASP.NET MVC (VB)</span></span>

<span data-ttu-id="ae822-105">od [Stephen Walther](https://github.com/StephenWalther)</span><span class="sxs-lookup"><span data-stu-id="ae822-105">by [Stephen Walther](https://github.com/StephenWalther)</span></span>

[<span data-ttu-id="ae822-106">Stáhnout kód</span><span class="sxs-lookup"><span data-stu-id="ae822-106">Download Code</span></span>](https://download.microsoft.com/download/7/2/8/728F8794-E59A-4D18-9A56-7AD2DB05BD9D/MovieApp_VB.zip)

> <span data-ttu-id="ae822-107">Stephen Walther sestaví celou databázi založenou na ASP.NET aplikaci MVC od začátku do konce.</span><span class="sxs-lookup"><span data-stu-id="ae822-107">Stephen Walther builds an entire database-driven ASP.NET MVC application from start to finish.</span></span> <span data-ttu-id="ae822-108">Tento kurz je skvělým úvodem pro lidi, kteří jsou noví v architektuře ASP.NET MVC a chtějí získat představu o procesu vytváření ASP.NET aplikace MVC.</span><span class="sxs-lookup"><span data-stu-id="ae822-108">This tutorial is a great introduction for people who are new to the ASP.NET MVC Framework and who want to get a sense of the process of building an ASP.NET MVC application.</span></span>

<span data-ttu-id="ae822-109">Účelem tohoto kurzu je poskytnout představu o tom, co je třeba, aby se vytvořila aplikace ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="ae822-109">The purpose of this tutorial is to give you a sense of "what it is like" to build an ASP.NET MVC application.</span></span> <span data-ttu-id="ae822-110">V tomto kurzu jsem procházím sestavením celé aplikace ASP.NET MVC od začátku do konce.</span><span class="sxs-lookup"><span data-stu-id="ae822-110">In this tutorial, I blast through building an entire ASP.NET MVC application from start to finish.</span></span> <span data-ttu-id="ae822-111">Ukážeme vám, jak vytvořit jednoduchou aplikaci založenou na databázích, která ukazuje, jak můžete vytvářet a upravovat záznamy databáze.</span><span class="sxs-lookup"><span data-stu-id="ae822-111">I show you how to build a simple database-driven application that illustrates how you can list, create, and edit database records.</span></span>

<span data-ttu-id="ae822-112">Abychom zjednodušili proces sestavení naší aplikace, využijte výhod funkcí pro generování uživatelského rozhraní sady Visual Studio 2008.</span><span class="sxs-lookup"><span data-stu-id="ae822-112">To simplify the process of building our application, we'll take advantage of the scaffolding features of Visual Studio 2008.</span></span> <span data-ttu-id="ae822-113">Visual Studio vám umožní vygenerovat počáteční kód a obsah pro naše řadiče, modely a zobrazení.</span><span class="sxs-lookup"><span data-stu-id="ae822-113">We'll let Visual Studio generate the initial code and content for our controllers, models, and views.</span></span>

<span data-ttu-id="ae822-114">Pokud jste pracovali s Active Server stránkami nebo ASP.NET, měli byste najít ASP.NET MVC velmi dobře.</span><span class="sxs-lookup"><span data-stu-id="ae822-114">If you have worked with Active Server Pages or ASP.NET, then you should find ASP.NET MVC very familiar.</span></span> <span data-ttu-id="ae822-115">Zobrazení ASP.NET MVC jsou velmi podobná stránkám v aplikaci Active Server Pages.</span><span class="sxs-lookup"><span data-stu-id="ae822-115">ASP.NET MVC views are very much like the pages in an Active Server Pages application.</span></span> <span data-ttu-id="ae822-116">A stejně jako tradiční aplikace webových formulářů v ASP.NET poskytuje ASP.NET MVC úplný přístup k bohatě dostupnému sadě jazyků a tříd poskytovaných rozhraním .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="ae822-116">And, just like a traditional ASP.NET Web Forms application, ASP.NET MVC provides you with full access to the rich set of languages and classes provided by the .NET framework.</span></span>

<span data-ttu-id="ae822-117">Doufám, že v tomto kurzu získáte představu o tom, jak se bude prostředí sestavování aplikace ASP.NET MVC podobná i odlišná než při vytváření Active Server stránek nebo ASP.NET webových formulářů.</span><span class="sxs-lookup"><span data-stu-id="ae822-117">My hope is that this tutorial will give you a sense of how the experience of building an ASP.NET MVC application is both similar and different than the experience of building an Active Server Pages or ASP.NET Web Forms application.</span></span>

## <a name="overview-of-the-movie-database-application"></a><span data-ttu-id="ae822-118">Přehled aplikace Movie Database</span><span class="sxs-lookup"><span data-stu-id="ae822-118">Overview of the Movie Database Application</span></span>

<span data-ttu-id="ae822-119">Vzhledem k tomu, že naším cílem je udržet věci jednoduché, vytvoříme velmi jednoduchou aplikaci filmové databáze.</span><span class="sxs-lookup"><span data-stu-id="ae822-119">Because our goal is to keep things simple, we'll build a very simple Movie Database application.</span></span> <span data-ttu-id="ae822-120">Naše jednoduchá aplikace pro video databáze nám umožní provést tři věci:</span><span class="sxs-lookup"><span data-stu-id="ae822-120">Our simple Movie Database application will allow us to do three things:</span></span>

1. <span data-ttu-id="ae822-121">Výpis sady záznamů filmové databáze</span><span class="sxs-lookup"><span data-stu-id="ae822-121">List a set of movie database records</span></span>
2. <span data-ttu-id="ae822-122">Vytvoří nový záznam filmové databáze.</span><span class="sxs-lookup"><span data-stu-id="ae822-122">Create a new movie database record</span></span>
3. <span data-ttu-id="ae822-123">Upravit existující záznam filmové databáze</span><span class="sxs-lookup"><span data-stu-id="ae822-123">Edit an existing movie database record</span></span>

<span data-ttu-id="ae822-124">A to proto, že chceme zachovat věci jednoduché, využijeme minimální počet funkcí rozhraní ASP.NET MVC, které je potřeba k sestavení naší aplikace.</span><span class="sxs-lookup"><span data-stu-id="ae822-124">Again, because we want to keep things simple, we'll take advantage of the minimum number of features of the ASP.NET MVC framework needed to build our application.</span></span> <span data-ttu-id="ae822-125">Nebudete například používat vývoj řízený testováním.</span><span class="sxs-lookup"><span data-stu-id="ae822-125">For example, we won't be taking advantage of Test-Driven Development.</span></span>

<span data-ttu-id="ae822-126">Aby bylo možné vytvořit naši aplikaci, je nutné provést následující kroky:</span><span class="sxs-lookup"><span data-stu-id="ae822-126">In order to create our application, we need to complete each of the following steps:</span></span>

1. <span data-ttu-id="ae822-127">Vytvoření projektu webové aplikace ASP.NET MVC</span><span class="sxs-lookup"><span data-stu-id="ae822-127">Create the ASP.NET MVC Web Application Project</span></span>
2. <span data-ttu-id="ae822-128">Vytvoření databáze</span><span class="sxs-lookup"><span data-stu-id="ae822-128">Create the database</span></span>
3. <span data-ttu-id="ae822-129">Vytvoření databázového modelu</span><span class="sxs-lookup"><span data-stu-id="ae822-129">Create the database model</span></span>
4. <span data-ttu-id="ae822-130">Vytvoření kontroleru ASP.NET MVC</span><span class="sxs-lookup"><span data-stu-id="ae822-130">Create the ASP.NET MVC controller</span></span>
5. <span data-ttu-id="ae822-131">Vytvoření zobrazení ASP.NET MVC</span><span class="sxs-lookup"><span data-stu-id="ae822-131">Create the ASP.NET MVC views</span></span>

## <a name="preliminaries"></a><span data-ttu-id="ae822-132">Nezbytné úkony</span><span class="sxs-lookup"><span data-stu-id="ae822-132">Preliminaries</span></span>

<span data-ttu-id="ae822-133">K vytvoření aplikace ASP.NET MVC budete potřebovat Visual Studio 2008 nebo Visual Web Developer 2008 Express.</span><span class="sxs-lookup"><span data-stu-id="ae822-133">You'll need either Visual Studio 2008 or Visual Web Developer 2008 Express to build an ASP.NET MVC application.</span></span> <span data-ttu-id="ae822-134">Také je nutné stáhnout architekturu ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="ae822-134">You also need to download the ASP.NET MVC framework.</span></span>

<span data-ttu-id="ae822-135">Pokud nevlastníte sadu Visual Studio 2008, můžete si stáhnout zkušební verzi sady Visual 2008 Studio 90 dne na tomto webu:</span><span class="sxs-lookup"><span data-stu-id="ae822-135">If you don't own Visual Studio 2008, then you can download a 90 day trial version of Visual Studio 2008 from this website:</span></span>

[https://msdn.microsoft.com/vs2008/products/cc268305.aspx](https://msdn.microsoft.com/vs2008/products/cc268305.aspx)

<span data-ttu-id="ae822-136">Alternativně můžete vytvářet aplikace ASP.NET MVC pomocí nástroje Visual Web Developer Express 2008.</span><span class="sxs-lookup"><span data-stu-id="ae822-136">Alternatively, you can create ASP.NET MVC applications with Visual Web Developer Express 2008.</span></span> <span data-ttu-id="ae822-137">Pokud se rozhodnete použít Visual Web Developer Express, je nutné mít nainstalovanou aktualizaci Service Pack 1.</span><span class="sxs-lookup"><span data-stu-id="ae822-137">If you decide to use Visual Web Developer Express then you must have Service Pack 1 installed.</span></span> <span data-ttu-id="ae822-138">Visual Web Developer 2008 Express s aktualizací Service Pack 1 si můžete stáhnout z tohoto webu:</span><span class="sxs-lookup"><span data-stu-id="ae822-138">You can download Visual Web Developer 2008 Express with Service Pack 1 from this website:</span></span>

[<span data-ttu-id="ae822-139">https://www.microsoft.com/downloads/details.aspx?FamilyId=BDB6391C-05CA-4036-9154-6DF4F6DEBD14&amp;d isplaylang = EN</span><span class="sxs-lookup"><span data-stu-id="ae822-139">https://www.microsoft.com/downloads/details.aspx?FamilyId=BDB6391C-05CA-4036-9154-6DF4F6DEBD14&amp;displaylang=en</span></span>](https://www.microsoft.com/downloads/details.aspx?FamilyId=BDB6391C-05CA-4036-9154-6DF4F6DEBD14&amp;displaylang=en)

<span data-ttu-id="ae822-140">Po instalaci sady Visual Studio 2008 nebo Visual Web Developer 2008 je nutné nainstalovat rozhraní ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="ae822-140">After you install either Visual Studio 2008 or Visual Web Developer 2008, you need to install the ASP.NET MVC framework.</span></span> <span data-ttu-id="ae822-141">Rozhraní ASP.NET MVC si můžete stáhnout z následujícího webu:</span><span class="sxs-lookup"><span data-stu-id="ae822-141">You can download the ASP.NET MVC framework from the following website:</span></span>

[https://www.asp.net/mvc/](../../../index.md)

> [!NOTE] 
> 
> <span data-ttu-id="ae822-142">Místo toho, aby se ASP.NET Framework a rozhraní ASP.NET MVC nestáhly samostatně, můžete využít výhod instalace webové platformy.</span><span class="sxs-lookup"><span data-stu-id="ae822-142">Instead of downloading the ASP.NET framework and the ASP.NET MVC framework individually, you can take advantage of the Web Platform Installer.</span></span> <span data-ttu-id="ae822-143">Instalace webové platformy je aplikace, která umožňuje snadnou správu nainstalovaných aplikací v počítači:</span><span class="sxs-lookup"><span data-stu-id="ae822-143">The Web Platform Installer is an application that enables you to easily manage the installed applications are your computer:</span></span>
> 
> [https://www.microsoft.com/web/gallery/Install.aspx](https://www.microsoft.com/web/gallery/Install.aspx)

## <a name="creating-an-aspnet-mvc-web-application-project"></a><span data-ttu-id="ae822-144">Vytvoření projektu webové aplikace ASP.NET MVC</span><span class="sxs-lookup"><span data-stu-id="ae822-144">Creating an ASP.NET MVC Web Application Project</span></span>

<span data-ttu-id="ae822-145">Pojďme začít vytvořením nového projektu webové aplikace ASP.NET MVC v aplikaci Visual Studio 2008.</span><span class="sxs-lookup"><span data-stu-id="ae822-145">Let's start by creating a new ASP.NET MVC Web Application project in Visual Studio 2008.</span></span> <span data-ttu-id="ae822-146">Vyberte soubor možnosti nabídky **, nový projekt** a zobrazí se dialogové okno Nový projekt na obrázku 1.</span><span class="sxs-lookup"><span data-stu-id="ae822-146">Select the menu option **File, New Project** and you will see the New Project dialog box in Figure 1.</span></span> <span data-ttu-id="ae822-147">Jako programovací jazyk vyberte Visual Basic a vyberte šablonu projektu webové aplikace ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="ae822-147">Select Visual Basic as the programming language and select the ASP.NET MVC Web Application project template.</span></span> <span data-ttu-id="ae822-148">Pojmenujte projekt MovieApp a klikněte na tlačítko OK.</span><span class="sxs-lookup"><span data-stu-id="ae822-148">Give your project the name MovieApp and click the OK button.</span></span>

<span data-ttu-id="ae822-149">[![dialogového okna Nový projekt](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image1.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="ae822-149">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image1.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image1.png)</span></span>

<span data-ttu-id="ae822-150">**Obrázek 01**: dialogové okno Nový projekt ([kliknutím zobrazíte obrázek v plné velikosti](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image2.png))</span><span class="sxs-lookup"><span data-stu-id="ae822-150">**Figure 01**: The New Project dialog box ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image2.png))</span></span>

<span data-ttu-id="ae822-151">Ujistěte se, že jste vybrali .NET Framework 3,5 z rozevíracího seznamu v horní části dialogového okna Nový projekt nebo když se neobjeví šablona projektu webové aplikace ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="ae822-151">Make sure that you select .NET Framework 3.5 from the dropdown list at the top of the New Project dialog or the ASP.NET MVC Web Application project template won't appear.</span></span>

<span data-ttu-id="ae822-152">Pokaždé, když vytvoříte nový projekt webové aplikace MVC, Visual Studio vás vyzve k vytvoření samostatného projektu testování částí.</span><span class="sxs-lookup"><span data-stu-id="ae822-152">Whenever you create a new MVC Web Application project, Visual Studio prompts you to create a separate unit test project.</span></span> <span data-ttu-id="ae822-153">Zobrazí se dialogové okno na obrázku 2.</span><span class="sxs-lookup"><span data-stu-id="ae822-153">The dialog in Figure 2 appears.</span></span> <span data-ttu-id="ae822-154">Vzhledem k tomu, že v tomto kurzu nebudeme vytvářet testy kvůli časovým omezením (a Ano, máme to trochu dopustili), vyberte možnost **ne** a klikněte na tlačítko **OK** .</span><span class="sxs-lookup"><span data-stu-id="ae822-154">Because we won't be creating tests in this tutorial because of time constraints (and, yes, we should feel a little guilty about this) select the **No** option and click the **OK** button.</span></span>

> [!NOTE] 
> 
> <span data-ttu-id="ae822-155">Visual Web Developer nepodporuje projekty testů.</span><span class="sxs-lookup"><span data-stu-id="ae822-155">Visual Web Developer does not support test projects.</span></span>

<span data-ttu-id="ae822-156">[![dialogového okna Nový projekt](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image2.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image3.png)</span><span class="sxs-lookup"><span data-stu-id="ae822-156">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image2.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image3.png)</span></span>

<span data-ttu-id="ae822-157">**Obrázek 02**: dialogové okno vytvořit projekt testování částí ([kliknutím zobrazíte obrázek v plné velikosti](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image4.png))</span><span class="sxs-lookup"><span data-stu-id="ae822-157">**Figure 02**: The Create Unit Test Project dialog ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image4.png))</span></span>

<span data-ttu-id="ae822-158">Aplikace ASP.NET MVC má standardní sadu složek: modely, zobrazení a složky řadičů.</span><span class="sxs-lookup"><span data-stu-id="ae822-158">An ASP.NET MVC application has a standard set of folders: a Models, Views, and Controllers folder.</span></span> <span data-ttu-id="ae822-159">Tuto standardní sadu složek můžete zobrazit v okně Průzkumník řešení.</span><span class="sxs-lookup"><span data-stu-id="ae822-159">You can see this standard set of folders in the Solution Explorer window.</span></span> <span data-ttu-id="ae822-160">Aby bylo možné sestavit aplikaci filmové databáze, bude nutné přidat soubory do každého z modelů, zobrazení a složek řadičů.</span><span class="sxs-lookup"><span data-stu-id="ae822-160">We'll need to add files to each of the Models, Views, and Controllers folders in order to build our Movie Database application.</span></span>

<span data-ttu-id="ae822-161">Při vytváření nové aplikace MVC se sadou Visual Studio získáte ukázkovou aplikaci.</span><span class="sxs-lookup"><span data-stu-id="ae822-161">When you create a new MVC application with Visual Studio, you get a sample application.</span></span> <span data-ttu-id="ae822-162">Vzhledem k tomu, že chceme začít od začátku, musíme obsah pro tuto ukázkovou aplikaci odstranit.</span><span class="sxs-lookup"><span data-stu-id="ae822-162">Because we want to start from scratch, we need to delete the content for this sample application.</span></span> <span data-ttu-id="ae822-163">Je nutné odstranit následující soubor a následující složku:</span><span class="sxs-lookup"><span data-stu-id="ae822-163">You need to delete the following file and the following folder:</span></span>

- <span data-ttu-id="ae822-164">Controllers\HomeController.vb</span><span class="sxs-lookup"><span data-stu-id="ae822-164">Controllers\HomeController.vb</span></span>
- <span data-ttu-id="ae822-165">Views\Home</span><span class="sxs-lookup"><span data-stu-id="ae822-165">Views\Home</span></span>

## <a name="creating-the-database"></a><span data-ttu-id="ae822-166">Vytvoření databáze</span><span class="sxs-lookup"><span data-stu-id="ae822-166">Creating the Database</span></span>

<span data-ttu-id="ae822-167">Musíme vytvořit databázi pro ukládání záznamů filmové databáze.</span><span class="sxs-lookup"><span data-stu-id="ae822-167">We need to create a database to hold our movie database records.</span></span> <span data-ttu-id="ae822-168">Donovanovo, Visual Studio obsahuje bezplatnou databázi s názvem SQL Server Express.</span><span class="sxs-lookup"><span data-stu-id="ae822-168">Luckily, Visual Studio includes a free database named SQL Server Express.</span></span> <span data-ttu-id="ae822-169">Pomocí těchto kroků vytvořte databázi:</span><span class="sxs-lookup"><span data-stu-id="ae822-169">Follow these steps to create the database:</span></span>

1. <span data-ttu-id="ae822-170">V okně Průzkumník řešení klikněte pravým tlačítkem na složku data\_aplikace a vyberte možnost nabídky **Přidat, nová položka**.</span><span class="sxs-lookup"><span data-stu-id="ae822-170">Right-click the App\_Data folder in the Solution Explorer window and select the menu option **Add, New Item**.</span></span>
2. <span data-ttu-id="ae822-171">Vyberte kategorii **dat** a vyberte šablonu **databáze SQL Server** (viz obrázek 3).</span><span class="sxs-lookup"><span data-stu-id="ae822-171">Select the **Data** category and select the **SQL Server Database** template (see Figure 3).</span></span>
3. <span data-ttu-id="ae822-172">Pojmenujte novou databázi *MoviesDB. mdf* a klikněte na tlačítko **Přidat** .</span><span class="sxs-lookup"><span data-stu-id="ae822-172">Name your new database *MoviesDB.mdf* and click the **Add** button.</span></span>

<span data-ttu-id="ae822-173">Po vytvoření databáze se můžete připojit k databázi dvojitým kliknutím na soubor MoviesDB. mdf umístěný ve složce App\_data.</span><span class="sxs-lookup"><span data-stu-id="ae822-173">After you create your database, you can connect to the database by double-clicking the MoviesDB.mdf file located in the App\_Data folder.</span></span> <span data-ttu-id="ae822-174">Dvojím kliknutím na soubor MoviesDB. mdf se otevře okno Průzkumník serveru.</span><span class="sxs-lookup"><span data-stu-id="ae822-174">Double-clicking the MoviesDB.mdf file opens the Server Explorer window.</span></span>

> [!NOTE] 
> 
> <span data-ttu-id="ae822-175">Okno Průzkumník serveru se jmenuje okno Průzkumník databáze v případě aplikace Visual Web Developer.</span><span class="sxs-lookup"><span data-stu-id="ae822-175">The Server Explorer window is named the Database Explorer window in the case of Visual Web Developer.</span></span>

<span data-ttu-id="ae822-176">[![dialogového okna Nový projekt](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image3.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image5.png)</span><span class="sxs-lookup"><span data-stu-id="ae822-176">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image3.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image5.png)</span></span>

<span data-ttu-id="ae822-177">**Obrázek 03**: vytvoření databáze Microsoft SQL Server ([kliknutím zobrazíte obrázek v plné velikosti](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="ae822-177">**Figure 03**: Creating a Microsoft SQL Server Database ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image6.png))</span></span>

<span data-ttu-id="ae822-178">Dál je potřeba vytvořit novou databázovou tabulku.</span><span class="sxs-lookup"><span data-stu-id="ae822-178">Next, we need to create a new database table.</span></span> <span data-ttu-id="ae822-179">V okně Průzkumníka serveru klikněte pravým tlačítkem na složku tabulky a vyberte možnost nabídky **Přidat novou tabulku**.</span><span class="sxs-lookup"><span data-stu-id="ae822-179">From within the Sever Explorer window, right-click the Tables folder and select the menu option **Add New Table**.</span></span> <span data-ttu-id="ae822-180">Když vyberete tuto možnost nabídky, otevře se Návrhář tabulky databáze.</span><span class="sxs-lookup"><span data-stu-id="ae822-180">Selecting this menu option opens the database table designer.</span></span> <span data-ttu-id="ae822-181">Vytvořte následující databázové sloupce:</span><span class="sxs-lookup"><span data-stu-id="ae822-181">Create the following database columns:</span></span>

<a id="0.2_table01"></a>

| <span data-ttu-id="ae822-182">**Název sloupce**</span><span class="sxs-lookup"><span data-stu-id="ae822-182">**Column Name**</span></span> | <span data-ttu-id="ae822-183">**Datový typ**</span><span class="sxs-lookup"><span data-stu-id="ae822-183">**Data Type**</span></span> | <span data-ttu-id="ae822-184">**Povoluje hodnoty null.**</span><span class="sxs-lookup"><span data-stu-id="ae822-184">**Allow Nulls**</span></span> |
| --- | --- | --- |
| <span data-ttu-id="ae822-185">ID</span><span class="sxs-lookup"><span data-stu-id="ae822-185">Id</span></span> | <span data-ttu-id="ae822-186">Int</span><span class="sxs-lookup"><span data-stu-id="ae822-186">Int</span></span> | <span data-ttu-id="ae822-187">False</span><span class="sxs-lookup"><span data-stu-id="ae822-187">False</span></span> |
| <span data-ttu-id="ae822-188">Název</span><span class="sxs-lookup"><span data-stu-id="ae822-188">Title</span></span> | <span data-ttu-id="ae822-189">Nvarchar(100)</span><span class="sxs-lookup"><span data-stu-id="ae822-189">Nvarchar(100)</span></span> | <span data-ttu-id="ae822-190">False</span><span class="sxs-lookup"><span data-stu-id="ae822-190">False</span></span> |
| <span data-ttu-id="ae822-191">Ředitel</span><span class="sxs-lookup"><span data-stu-id="ae822-191">Director</span></span> | <span data-ttu-id="ae822-192">Nvarchar(100)</span><span class="sxs-lookup"><span data-stu-id="ae822-192">Nvarchar(100)</span></span> | <span data-ttu-id="ae822-193">False</span><span class="sxs-lookup"><span data-stu-id="ae822-193">False</span></span> |
| <span data-ttu-id="ae822-194">DateReleased</span><span class="sxs-lookup"><span data-stu-id="ae822-194">DateReleased</span></span> | <span data-ttu-id="ae822-195">DateTime</span><span class="sxs-lookup"><span data-stu-id="ae822-195">DateTime</span></span> | <span data-ttu-id="ae822-196">False</span><span class="sxs-lookup"><span data-stu-id="ae822-196">False</span></span> |

<span data-ttu-id="ae822-197">První sloupec, sloupec ID, má dvě speciální vlastnosti.</span><span class="sxs-lookup"><span data-stu-id="ae822-197">The first column, the Id column, has two special properties.</span></span> <span data-ttu-id="ae822-198">Nejprve je třeba označit sloupec ID jako sloupec primárního klíče.</span><span class="sxs-lookup"><span data-stu-id="ae822-198">First, you need to mark the Id column as the primary key column.</span></span> <span data-ttu-id="ae822-199">Po výběru sloupce ID klikněte na tlačítko **nastavit primární klíč** (je to ikona, která vypadá jako klíč).</span><span class="sxs-lookup"><span data-stu-id="ae822-199">After selecting the Id column, click the **Set Primary Key** button (it is the icon that looks like a key).</span></span> <span data-ttu-id="ae822-200">Za druhé je třeba označit sloupec ID jako sloupec identity.</span><span class="sxs-lookup"><span data-stu-id="ae822-200">Second, you need to mark the Id column as an Identity column.</span></span> <span data-ttu-id="ae822-201">Ve sloupci okno Vlastnosti přejděte dolů k části specifikace identity a rozbalte ji.</span><span class="sxs-lookup"><span data-stu-id="ae822-201">In the Column Properties window, scroll down to the Identity Specification section and expand it.</span></span> <span data-ttu-id="ae822-202">Změňte vlastnost **is identity** na hodnotu **Yes**.</span><span class="sxs-lookup"><span data-stu-id="ae822-202">Change the **Is Identity** property to the value **Yes**.</span></span> <span data-ttu-id="ae822-203">Až budete hotovi, tabulka by měla vypadat jako na obrázku 4.</span><span class="sxs-lookup"><span data-stu-id="ae822-203">When you are finished, the table should look like Figure 4.</span></span>

<span data-ttu-id="ae822-204">[![dialogového okna Nový projekt](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image4.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="ae822-204">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image4.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image7.png)</span></span>

<span data-ttu-id="ae822-205">**Obrázek 04**: tabulka video ([kliknutím zobrazíte obrázek v plné velikosti](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image8.png))</span><span class="sxs-lookup"><span data-stu-id="ae822-205">**Figure 04**: The Movies database table ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image8.png))</span></span>

<span data-ttu-id="ae822-206">Posledním krokem je uložení nové tabulky.</span><span class="sxs-lookup"><span data-stu-id="ae822-206">The final step is to save the new table.</span></span> <span data-ttu-id="ae822-207">Klikněte na tlačítko Uložit (ikona disketové jednotky) a dejte nové tabulce Název filmy.</span><span class="sxs-lookup"><span data-stu-id="ae822-207">Click the Save button (the icon of the floppy) and give the new table the name Movies.</span></span>

<span data-ttu-id="ae822-208">Po dokončení vytváření tabulky přidejte do tabulky některé filmové záznamy.</span><span class="sxs-lookup"><span data-stu-id="ae822-208">After you finish creating the table, add some movie records to the table.</span></span> <span data-ttu-id="ae822-209">V okně Průzkumník serveru klikněte pravým tlačítkem myši na tabulku filmy a vyberte možnost nabídky **Zobrazit data tabulky**.</span><span class="sxs-lookup"><span data-stu-id="ae822-209">Right-click the Movies table in the Server Explorer window and select the menu option **Show Table Data**.</span></span> <span data-ttu-id="ae822-210">Zadejte seznam oblíbených filmů (viz obrázek 5).</span><span class="sxs-lookup"><span data-stu-id="ae822-210">Enter a list of your favorite movies (see Figure 5).</span></span>

<span data-ttu-id="ae822-211">[![dialogového okna Nový projekt](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image5.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image9.png)</span><span class="sxs-lookup"><span data-stu-id="ae822-211">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image5.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image9.png)</span></span>

<span data-ttu-id="ae822-212">**Obrázek 05**: zadání filmových záznamů ([kliknutím zobrazíte obrázek v plné velikosti](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image10.png))</span><span class="sxs-lookup"><span data-stu-id="ae822-212">**Figure 05**: Entering movie records ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image10.png))</span></span>

## <a name="creating-the-model"></a><span data-ttu-id="ae822-213">Vytvoření modelu</span><span class="sxs-lookup"><span data-stu-id="ae822-213">Creating the Model</span></span>

<span data-ttu-id="ae822-214">Dál je potřeba vytvořit sadu tříd, které reprezentují naši databázi.</span><span class="sxs-lookup"><span data-stu-id="ae822-214">We next need to create a set of classes to represent our database.</span></span> <span data-ttu-id="ae822-215">Musíme vytvořit model databáze.</span><span class="sxs-lookup"><span data-stu-id="ae822-215">We need to create a database model.</span></span> <span data-ttu-id="ae822-216">Využijeme Microsoft Entity Framework k automatickému vygenerování tříd pro náš databázový model.</span><span class="sxs-lookup"><span data-stu-id="ae822-216">We'll take advantage of the Microsoft Entity Framework to generate the classes for our database model automatically.</span></span>

> [!NOTE] 
> 
> <span data-ttu-id="ae822-217">Rozhraní ASP.NET MVC není vázané na Microsoft Entity Framework.</span><span class="sxs-lookup"><span data-stu-id="ae822-217">The ASP.NET MVC framework is not tied to the Microsoft Entity Framework.</span></span> <span data-ttu-id="ae822-218">Třídy databázového modelu můžete vytvořit pomocí různých nástrojů pro mapování relačních objektů (nebo M), včetně LINQ to SQL, antisonic a NHibernate.</span><span class="sxs-lookup"><span data-stu-id="ae822-218">You can create your database model classes by taking advantage of a variety of Object Relational Mapping (OR/M) tools including LINQ to SQL, Subsonic, and NHibernate.</span></span>

<span data-ttu-id="ae822-219">Pomocí těchto kroků spusťte Průvodce model EDM (Entity Data Model):</span><span class="sxs-lookup"><span data-stu-id="ae822-219">Follow these steps to launch the Entity Data Model Wizard:</span></span>

1. <span data-ttu-id="ae822-220">V okně Průzkumník řešení klikněte pravým tlačítkem na složku modely a vyberte možnost nabídky **Přidat, nová položka**.</span><span class="sxs-lookup"><span data-stu-id="ae822-220">Right-click the Models folder in the Solution Explorer window and the select the menu option **Add, New Item**.</span></span>
2. <span data-ttu-id="ae822-221">Vyberte kategorii **dat** a vyberte šablonu **model EDM (Entity Data Model) ADO.NET** .</span><span class="sxs-lookup"><span data-stu-id="ae822-221">Select the **Data** category and select the **ADO.NET Entity Data Model** template.</span></span>
3. <span data-ttu-id="ae822-222">Udělte datovému modelu název *MoviesDBModel. edmx* a klikněte na tlačítko **Přidat** .</span><span class="sxs-lookup"><span data-stu-id="ae822-222">Give your data model the name *MoviesDBModel.edmx* and click the **Add** button.</span></span>

<span data-ttu-id="ae822-223">Po kliknutí na tlačítko Přidat se zobrazí průvodce model EDM (Entity Data Model) (viz obrázek 6).</span><span class="sxs-lookup"><span data-stu-id="ae822-223">After you click the Add button, the Entity Data Model Wizard appears (see Figure 6).</span></span> <span data-ttu-id="ae822-224">Pomocí těchto kroků dokončete Průvodce:</span><span class="sxs-lookup"><span data-stu-id="ae822-224">Follow these steps to complete the wizard:</span></span>

1. <span data-ttu-id="ae822-225">V kroku **zvolit obsah modelu** vyberte možnost **Generovat z databáze** .</span><span class="sxs-lookup"><span data-stu-id="ae822-225">In the **Choose Model Contents** step, select the **Generate from database** option.</span></span>
2. <span data-ttu-id="ae822-226">V kroku **Vybrat datové připojení** použijte datové připojení *MoviesDB. mdf* a název *MoviesDBEntities* pro nastavení připojení.</span><span class="sxs-lookup"><span data-stu-id="ae822-226">In the **Choose Your Data Connection** step, use the *MoviesDB.mdf* data connection and the name *MoviesDBEntities* for the connection settings.</span></span> <span data-ttu-id="ae822-227">Klikněte na tlačítko **Další**.</span><span class="sxs-lookup"><span data-stu-id="ae822-227">Click the **Next** button.</span></span>
3. <span data-ttu-id="ae822-228">V kroku **Zvolte databázové objekty** rozbalte uzel tabulky a vyberte tabulku filmy.</span><span class="sxs-lookup"><span data-stu-id="ae822-228">In the **Choose Your Database Objects** step, expand the Tables node, select the Movies table.</span></span> <span data-ttu-id="ae822-229">Zadejte obor názvů *MovieApp. Models* a klikněte na tlačítko **Dokončit** .</span><span class="sxs-lookup"><span data-stu-id="ae822-229">Enter the namespace *MovieApp.Models* and click the **Finish** button.</span></span>

<span data-ttu-id="ae822-230">[![dialogového okna Nový projekt](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image6.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image11.png)</span><span class="sxs-lookup"><span data-stu-id="ae822-230">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image6.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image11.png)</span></span>

<span data-ttu-id="ae822-231">**Obrázek 6**: generování databázového modelu pomocí Průvodce model EDM (Entity Data Model) ([kliknutím zobrazíte obrázek v plné velikosti](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="ae822-231">**Figure 06**: Generating a database model with the Entity Data Model Wizard ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image12.png))</span></span>

<span data-ttu-id="ae822-232">Po dokončení průvodce model EDM (Entity Data Model) se otevře Návrhář model EDM (Entity Data Model).</span><span class="sxs-lookup"><span data-stu-id="ae822-232">After you complete the Entity Data Model Wizard, the Entity Data Model Designer opens.</span></span> <span data-ttu-id="ae822-233">Návrhář by měl zobrazit tabulku databáze filmů (viz obrázek 7).</span><span class="sxs-lookup"><span data-stu-id="ae822-233">The Designer should display the Movies database table (see Figure 7).</span></span>

<span data-ttu-id="ae822-234">[![dialogového okna Nový projekt](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image7.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="ae822-234">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image7.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image13.png)</span></span>

<span data-ttu-id="ae822-235">**Obrázek 07**: Návrhář model EDM (Entity Data Model) ([kliknutím zobrazíte obrázek v plné velikosti](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image14.png))</span><span class="sxs-lookup"><span data-stu-id="ae822-235">**Figure 07**: The Entity Data Model Designer ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image14.png))</span></span>

<span data-ttu-id="ae822-236">Než budeme pokračovat, musíme udělat jednu změnu.</span><span class="sxs-lookup"><span data-stu-id="ae822-236">We need to make one change before we continue.</span></span> <span data-ttu-id="ae822-237">Průvodce data entity vygeneruje třídu modelu s názvem filmy, která představuje tabulku databáze filmů.</span><span class="sxs-lookup"><span data-stu-id="ae822-237">The Entity Data Wizard generates a model class named Movies that represents the Movies database table.</span></span> <span data-ttu-id="ae822-238">Vzhledem k tomu, že použijeme třídu filmů k reprezentování konkrétního filmu, musíme upravit název třídy tak, aby se místo *filmů* použil *film* (číslo v čísle místo plural).</span><span class="sxs-lookup"><span data-stu-id="ae822-238">Because we'll use the Movies class to represent a particular movie, we need to modify the name of the class to be *Movie* instead of *Movies* (singular rather than plural).</span></span>

<span data-ttu-id="ae822-239">Dvakrát klikněte na název třídy na návrhové ploše a změňte název třídy z filmů na film.</span><span class="sxs-lookup"><span data-stu-id="ae822-239">Double-click the name of the class on the designer surface and change the name of the class from Movies to Movie.</span></span> <span data-ttu-id="ae822-240">Po provedení této změny klikněte na tlačítko **Uložit** (ikona disketové jednotky) a vygenerujte třídu video.</span><span class="sxs-lookup"><span data-stu-id="ae822-240">After making this change, click the **Save** button (the icon of the floppy disk) to generate the Movie class.</span></span>

## <a name="creating-the-aspnet-mvc-controller"></a><span data-ttu-id="ae822-241">Vytváří se kontroler ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="ae822-241">Creating the ASP.NET MVC Controller</span></span>

<span data-ttu-id="ae822-242">Dalším krokem je vytvoření kontroleru ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="ae822-242">The next step is to create the ASP.NET MVC controller.</span></span> <span data-ttu-id="ae822-243">Kontroler zodpovídá za řízení způsobu interakce uživatele s aplikací ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="ae822-243">A controller is responsible for controlling how a user interacts with an ASP.NET MVC application.</span></span>

<span data-ttu-id="ae822-244">Postupujte následovně:</span><span class="sxs-lookup"><span data-stu-id="ae822-244">Follow these steps:</span></span>

1. <span data-ttu-id="ae822-245">V okně Průzkumník řešení klikněte pravým tlačítkem na složku řadiče a vyberte možnost nabídky **Přidat, kontroler**.</span><span class="sxs-lookup"><span data-stu-id="ae822-245">In the Solution Explorer window, right-click the Controllers folder and select the menu option **Add, Controller**.</span></span>
2. <span data-ttu-id="ae822-246">V dialogovém okně Přidat řadič zadejte název *HomeController* a zaškrtněte políčko **přidat metody akcí pro scénáře vytváření, aktualizace a podrobností** (viz obrázek 8).</span><span class="sxs-lookup"><span data-stu-id="ae822-246">In the Add Controller dialog, enter the name *HomeController* and check the checkbox labeled **Add action methods for Create, Update, and Details scenarios** (see Figure 8).</span></span>
3. <span data-ttu-id="ae822-247">Kliknutím na tlačítko **Přidat** přidejte nový kontroler do projektu.</span><span class="sxs-lookup"><span data-stu-id="ae822-247">Click the **Add** button to add the new controller to your project.</span></span>

<span data-ttu-id="ae822-248">Po dokončení těchto kroků se vytvoří kontroler v seznamu 1.</span><span class="sxs-lookup"><span data-stu-id="ae822-248">After you complete these steps, the controller in Listing 1 is created.</span></span> <span data-ttu-id="ae822-249">Všimněte si, že obsahuje metody pojmenované index, Details, Create a Edit.</span><span class="sxs-lookup"><span data-stu-id="ae822-249">Notice that it contains methods named Index, Details, Create, and Edit.</span></span> <span data-ttu-id="ae822-250">V následujících částech přidáme potřebný kód pro získání těchto metod, které budou fungovat.</span><span class="sxs-lookup"><span data-stu-id="ae822-250">In the following sections, we'll add the necessary code to get these methods to work.</span></span>

<span data-ttu-id="ae822-251">[![dialogového okna Nový projekt](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image8.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image15.png)</span><span class="sxs-lookup"><span data-stu-id="ae822-251">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image8.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image15.png)</span></span>

<span data-ttu-id="ae822-252">**Obrázek 08**: Přidání nového KONTROLERU ASP.NET MVC ([kliknutím zobrazíte obrázek v plné velikosti](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image16.png))</span><span class="sxs-lookup"><span data-stu-id="ae822-252">**Figure 08**: Adding a new ASP.NET MVC Controller ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image16.png))</span></span>

<span data-ttu-id="ae822-253">**Výpis 1 – Controllers\HomeController.vb**</span><span class="sxs-lookup"><span data-stu-id="ae822-253">**Listing 1 – Controllers\HomeController.vb**</span></span>

[!code-vb[Main](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/samples/sample1.vb)]

## <a name="listing-database-records"></a><span data-ttu-id="ae822-254">Výpis záznamů databáze</span><span class="sxs-lookup"><span data-stu-id="ae822-254">Listing Database Records</span></span>

<span data-ttu-id="ae822-255">Metoda index () domovského kontroleru je výchozí metodou pro aplikaci ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="ae822-255">The Index() method of the Home controller is the default method for an ASP.NET MVC application.</span></span> <span data-ttu-id="ae822-256">Při spuštění aplikace ASP.NET MVC je metoda index () první volanou metodou řadiče.</span><span class="sxs-lookup"><span data-stu-id="ae822-256">When you run an ASP.NET MVC application, the Index() method is the first controller method that is called.</span></span>

<span data-ttu-id="ae822-257">K zobrazení seznamu záznamů z tabulky databáze filmů použijeme metodu index ().</span><span class="sxs-lookup"><span data-stu-id="ae822-257">We'll use the Index() method to display the list of records from the Movies database table.</span></span> <span data-ttu-id="ae822-258">Budeme využívat třídy databázového modelu, které jsme vytvořili dříve k načtení záznamů filmové databáze pomocí metody index ().</span><span class="sxs-lookup"><span data-stu-id="ae822-258">We'll take advantage of the database model classes that we created earlier to retrieve the movie database records with the Index() method.</span></span>

<span data-ttu-id="ae822-259">Změnil (a) jsem třídu HomeController v seznamu 2 tak, že obsahuje nové soukromé pole s názvem \_DB.</span><span class="sxs-lookup"><span data-stu-id="ae822-259">I've modified the HomeController class in Listing 2 so that it contains a new private field named \_db.</span></span> <span data-ttu-id="ae822-260">Třída MoviesDBEntities představuje náš databázový model a my tuto třídu používá ke komunikaci s naší databází.</span><span class="sxs-lookup"><span data-stu-id="ae822-260">The MoviesDBEntities class represents our database model and we'll use this class to communicate with our database.</span></span>

<span data-ttu-id="ae822-261">Také jsem změnil () metodu index () v seznamu 2.</span><span class="sxs-lookup"><span data-stu-id="ae822-261">I've also modified the Index() method in Listing 2.</span></span> <span data-ttu-id="ae822-262">Metoda index () používá třídu MoviesDBEntities k načtení všech záznamů filmů z tabulky databáze filmů.</span><span class="sxs-lookup"><span data-stu-id="ae822-262">The Index() method uses the MoviesDBEntities class to retrieve all of the movie records from the Movies database table.</span></span> <span data-ttu-id="ae822-263">Výraz *\_DB. MovieSet. ToList – ()* vrátí seznam všech filmových záznamů z tabulky databáze filmů.</span><span class="sxs-lookup"><span data-stu-id="ae822-263">The expression *\_db.MovieSet.ToList()* returns a list of all of the movie records from the Movies database table.</span></span>

<span data-ttu-id="ae822-264">Seznam videí se předává do zobrazení.</span><span class="sxs-lookup"><span data-stu-id="ae822-264">The list of movies is passed to the view.</span></span> <span data-ttu-id="ae822-265">Cokoli, co se předává metodě View (), se do zobrazení předává jako data zobrazení.</span><span class="sxs-lookup"><span data-stu-id="ae822-265">Anything that gets passed to the View() method gets passed to the view as view data.</span></span>

<span data-ttu-id="ae822-266">**Výpis 2 – Controllers/HomeController. vb (upravená metoda indexu)**</span><span class="sxs-lookup"><span data-stu-id="ae822-266">**Listing 2 – Controllers/HomeController.vb (modified Index method)**</span></span>

[!code-vb[Main](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/samples/sample2.vb)]

<span data-ttu-id="ae822-267">Metoda index () vrací zobrazení s názvem index.</span><span class="sxs-lookup"><span data-stu-id="ae822-267">The Index() method returns a view named Index.</span></span> <span data-ttu-id="ae822-268">Pro zobrazení seznamu záznamů o filmových databázích je potřeba toto zobrazení vytvořit.</span><span class="sxs-lookup"><span data-stu-id="ae822-268">We need to create this view to display the list of movie database records.</span></span> <span data-ttu-id="ae822-269">Postupujte následovně:</span><span class="sxs-lookup"><span data-stu-id="ae822-269">Follow these steps:</span></span>

<span data-ttu-id="ae822-270">Před otevřením dialogového okna **Přidat zobrazení** nebo v rozevíracím seznamu **Třída zobrazení dat** by se měly sestavit projekt (vyberte možnost nabídky **sestavit, sestavit řešení**).</span><span class="sxs-lookup"><span data-stu-id="ae822-270">You should build your project (select the menu option **Build, Build Solution**) before opening the **Add View** dialog or no classes will appear in the **View data class** dropdown list.</span></span>

1. <span data-ttu-id="ae822-271">Klikněte pravým tlačítkem myši na metodu index () v editoru kódu a vyberte možnost nabídky **Přidat zobrazení** (viz obrázek 9).</span><span class="sxs-lookup"><span data-stu-id="ae822-271">Right-click the Index() method in the code editor and select the menu option **Add View** (see Figure 9).</span></span>
2. <span data-ttu-id="ae822-272">V dialogovém okně Přidat zobrazení ověřte, že je zaškrtnuté políčko **vytvořit zobrazení silného typu** .</span><span class="sxs-lookup"><span data-stu-id="ae822-272">In the Add View dialog, verify that the checkbox labeled **Create a strongly-typed view** is checked.</span></span>
3. <span data-ttu-id="ae822-273">V rozevíracím seznamu **Zobrazit obsah** vyberte *seznam*hodnot.</span><span class="sxs-lookup"><span data-stu-id="ae822-273">From the **View content** dropdown list, select the value *List*.</span></span>
4. <span data-ttu-id="ae822-274">V rozevíracím seznamu **Třída zobrazení dat** vyberte hodnotu *MovieApp. video*.</span><span class="sxs-lookup"><span data-stu-id="ae822-274">From the **View data class** dropdown list, select the value *MovieApp.Movie*.</span></span>
5. <span data-ttu-id="ae822-275">Kliknutím na tlačítko Přidat vytvoříte nové zobrazení (viz obrázek 10).</span><span class="sxs-lookup"><span data-stu-id="ae822-275">Click the Add button to create the new view (see Figure 10).</span></span>

<span data-ttu-id="ae822-276">Po dokončení těchto kroků se do složky Views\Home přidá nové zobrazení s názvem index. aspx.</span><span class="sxs-lookup"><span data-stu-id="ae822-276">After you complete these steps, a new view named Index.aspx is added to the Views\Home folder.</span></span> <span data-ttu-id="ae822-277">Obsah zobrazení index je obsažen v seznamu 3.</span><span class="sxs-lookup"><span data-stu-id="ae822-277">The contents of the Index view are included in Listing 3.</span></span>

<span data-ttu-id="ae822-278">[![dialogového okna Nový projekt](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image9.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image17.png)</span><span class="sxs-lookup"><span data-stu-id="ae822-278">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image9.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image17.png)</span></span>

<span data-ttu-id="ae822-279">**Obrázek 09**: Přidání zobrazení z akce kontroleru ([kliknutím zobrazíte obrázek v plné velikosti](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image18.png))</span><span class="sxs-lookup"><span data-stu-id="ae822-279">**Figure 09**: Adding a view from a controller action ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image18.png))</span></span>

<span data-ttu-id="ae822-280">[![dialogového okna Nový projekt](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image10.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="ae822-280">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image10.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image19.png)</span></span>

<span data-ttu-id="ae822-281">**Obrázek 10**: vytvoření nového zobrazení pomocí dialogového okna Přidat zobrazení ([kliknutím zobrazíte obrázek v plné velikosti](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image20.png))</span><span class="sxs-lookup"><span data-stu-id="ae822-281">**Figure 10**: Creating a new view with the Add View dialog ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image20.png))</span></span>

[!code-aspx[Main](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/samples/sample3.aspx)]

<span data-ttu-id="ae822-282">V zobrazení index se zobrazí všechny záznamy filmů z tabulky databáze filmů v tabulce HTML.</span><span class="sxs-lookup"><span data-stu-id="ae822-282">The Index view displays all of the movie records from the Movies database table within an HTML table.</span></span> <span data-ttu-id="ae822-283">Zobrazení obsahuje pro každou smyčku, která projde jednotlivými filmy reprezentovanými vlastností ViewData. model.</span><span class="sxs-lookup"><span data-stu-id="ae822-283">The view contains a For Each loop that iterates through each movie represented by the ViewData.Model property.</span></span> <span data-ttu-id="ae822-284">Pokud spustíte aplikaci stisknutím klávesy F5, zobrazí se webová stránka na obrázku 11.</span><span class="sxs-lookup"><span data-stu-id="ae822-284">If you run your application by hitting the F5 key, then you'll see the web page in Figure 11.</span></span>

<span data-ttu-id="ae822-285">[![dialogového okna Nový projekt](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image11.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image21.png)</span><span class="sxs-lookup"><span data-stu-id="ae822-285">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image11.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image21.png)</span></span>

<span data-ttu-id="ae822-286">**Obrázek 11**: Zobrazení indexu ([kliknutím zobrazíte obrázek v plné velikosti](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image22.png))</span><span class="sxs-lookup"><span data-stu-id="ae822-286">**Figure 11**: The Index view ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image22.png))</span></span>

## <a name="creating-new-database-records"></a><span data-ttu-id="ae822-287">Vytváření nových záznamů databáze</span><span class="sxs-lookup"><span data-stu-id="ae822-287">Creating New Database Records</span></span>

<span data-ttu-id="ae822-288">Zobrazení indexu, které jsme vytvořili v předchozí části, obsahuje odkaz pro vytváření nových záznamů databáze.</span><span class="sxs-lookup"><span data-stu-id="ae822-288">The Index view that we created in the previous section includes a link for creating new database records.</span></span> <span data-ttu-id="ae822-289">Pojďme dopředu a implementovat logiku a vytvořit zobrazení nezbytné pro vytváření nových záznamů filmové databáze.</span><span class="sxs-lookup"><span data-stu-id="ae822-289">Let's go ahead and implement the logic and create the view necessary for creating new movie database records.</span></span>

<span data-ttu-id="ae822-290">Domovský kontroler obsahuje dvě metody nazvané Create ().</span><span class="sxs-lookup"><span data-stu-id="ae822-290">The Home controller contains two methods named Create().</span></span> <span data-ttu-id="ae822-291">První metoda Create () nemá žádné parametry.</span><span class="sxs-lookup"><span data-stu-id="ae822-291">The first Create() method has no parameters.</span></span> <span data-ttu-id="ae822-292">Toto přetížení metody Create () slouží k zobrazení HTML formuláře pro vytvoření nového záznamu filmové databáze.</span><span class="sxs-lookup"><span data-stu-id="ae822-292">This overload of the Create() method is used to display the HTML form for creating a new movie database record.</span></span>

<span data-ttu-id="ae822-293">Druhá metoda Create () má parametr FormCollection.</span><span class="sxs-lookup"><span data-stu-id="ae822-293">The second Create() method has a FormCollection parameter.</span></span> <span data-ttu-id="ae822-294">Toto přetížení metody Create () je voláno, když je formulář HTML pro vytvoření nového filmu odeslán na server.</span><span class="sxs-lookup"><span data-stu-id="ae822-294">This overload of the Create() method is called when the HTML form for creating a new movie is posted to the server.</span></span> <span data-ttu-id="ae822-295">Všimněte si, že tato druhá metoda Create () má atribut AcceptVerbs, který brání volání metody, pokud není provedena operace HTTP POST.</span><span class="sxs-lookup"><span data-stu-id="ae822-295">Notice that this second Create() method has an AcceptVerbs attribute that prevents the method from being called unless an HTTP Post operation is performed.</span></span>

<span data-ttu-id="ae822-296">Tato druhá metoda Create () byla upravena v aktualizované třídě HomeController v seznamu 4.</span><span class="sxs-lookup"><span data-stu-id="ae822-296">This second Create() method has been modified in the updated HomeController class in Listing 4.</span></span> <span data-ttu-id="ae822-297">Nová verze metody Create () akceptuje parametr videa a obsahuje logiku pro vložení nového videa do tabulky databáze filmů.</span><span class="sxs-lookup"><span data-stu-id="ae822-297">The new version of the Create() method accepts a Movie parameter and contains the logic for inserting a new movie into the Movies database table.</span></span>

> [!NOTE] 
> 
> <span data-ttu-id="ae822-298">Všimněte si atributu BIND.</span><span class="sxs-lookup"><span data-stu-id="ae822-298">Notice the Bind attribute.</span></span> <span data-ttu-id="ae822-299">Vzhledem k tomu, že nechci aktualizovat vlastnost ID filmu z formuláře HTML, musíme tuto vlastnost explicitně vyloučit.</span><span class="sxs-lookup"><span data-stu-id="ae822-299">Because we don't want to update the Movie Id property from HTML form, we need to explicitly exclude this property.</span></span>

<span data-ttu-id="ae822-300">**Výpis 4 – Controllers\HomeController.vb (upravená metoda Create)**</span><span class="sxs-lookup"><span data-stu-id="ae822-300">**Listing 4 – Controllers\HomeController.vb (modified Create method)**</span></span>

[!code-vb[Main](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/samples/sample4.vb)]

<span data-ttu-id="ae822-301">Visual Studio usnadňuje vytvoření formuláře pro vytvoření nového záznamu filmové databáze (viz obrázek 12).</span><span class="sxs-lookup"><span data-stu-id="ae822-301">Visual Studio makes it easy to create the form for creating a new movie database record (see Figure 12).</span></span> <span data-ttu-id="ae822-302">Postupujte následovně:</span><span class="sxs-lookup"><span data-stu-id="ae822-302">Follow these steps:</span></span>

1. <span data-ttu-id="ae822-303">Klikněte pravým tlačítkem myši na metodu Create () v editoru kódu a vyberte možnost nabídky **Přidat zobrazení**.</span><span class="sxs-lookup"><span data-stu-id="ae822-303">Right-click the Create() method in the code editor and select the menu option **Add View**.</span></span>
2. <span data-ttu-id="ae822-304">Ověřte, jestli je zaškrtnuté políčko **vytvořit zobrazení silného typu** .</span><span class="sxs-lookup"><span data-stu-id="ae822-304">Verify that the checkbox labeled **Create a strongly-typed view** is checked.</span></span>
3. <span data-ttu-id="ae822-305">V rozevíracím seznamu **Zobrazit obsah** vyberte hodnotu *vytvořit*.</span><span class="sxs-lookup"><span data-stu-id="ae822-305">From the **View content** dropdown list, select the value *Create*.</span></span>
4. <span data-ttu-id="ae822-306">V rozevíracím seznamu **Třída zobrazení dat** vyberte hodnotu *MovieApp. video*.</span><span class="sxs-lookup"><span data-stu-id="ae822-306">From the **View data class** dropdown list, select the value *MovieApp.Movie*.</span></span>
5. <span data-ttu-id="ae822-307">Kliknutím na tlačítko **Přidat** vytvoříte nové zobrazení.</span><span class="sxs-lookup"><span data-stu-id="ae822-307">Click the **Add** button to create the new view.</span></span>

<span data-ttu-id="ae822-308">[![dialogového okna Nový projekt](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image12.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image23.png)</span><span class="sxs-lookup"><span data-stu-id="ae822-308">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image12.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image23.png)</span></span>

<span data-ttu-id="ae822-309">**Obrázek 12**: Přidání zobrazení pro vytvoření ([kliknutím zobrazíte obrázek v plné velikosti](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image24.png))</span><span class="sxs-lookup"><span data-stu-id="ae822-309">**Figure 12**: Adding the Create view ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image24.png))</span></span>

<span data-ttu-id="ae822-310">Visual Studio vygeneruje zobrazení v seznamu 5 automaticky.</span><span class="sxs-lookup"><span data-stu-id="ae822-310">Visual Studio generates the view in Listing 5 automatically.</span></span> <span data-ttu-id="ae822-311">Toto zobrazení obsahuje formulář HTML, který obsahuje pole, která odpovídají jednotlivým vlastnostem třídy video.</span><span class="sxs-lookup"><span data-stu-id="ae822-311">This view contains an HTML form that includes fields that correspond to each of the properties of the Movie class.</span></span>

<span data-ttu-id="ae822-312">**Výpis 5 – Views\Home\Create.aspx**</span><span class="sxs-lookup"><span data-stu-id="ae822-312">**Listing 5 – Views\Home\Create.aspx**</span></span>

[!code-aspx[Main](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/samples/sample5.aspx)]

> [!NOTE] 
> 
> <span data-ttu-id="ae822-313">Formulář HTML generovaný dialogem přidat zobrazení vygeneruje pole ID formuláře.</span><span class="sxs-lookup"><span data-stu-id="ae822-313">The HTML form generated by the Add View dialog generates an Id form field.</span></span> <span data-ttu-id="ae822-314">Vzhledem k tomu, že sloupec ID je sloupec identity, nepotřebujeme toto pole formuláře a můžete ho bezpečně odebrat.</span><span class="sxs-lookup"><span data-stu-id="ae822-314">Because the Id column is an Identity column, we don't need this form field and you can safely remove it.</span></span>

<span data-ttu-id="ae822-315">Po přidání zobrazení vytvořit můžete do databáze přidat nové záznamy filmů.</span><span class="sxs-lookup"><span data-stu-id="ae822-315">After you add the Create view, you can add new Movie records to the database.</span></span> <span data-ttu-id="ae822-316">Spusťte aplikaci stisknutím klávesy F5 a kliknutím na odkaz vytvořit nový zobrazte formulář na obrázku 13.</span><span class="sxs-lookup"><span data-stu-id="ae822-316">Run your application by pressing the F5 key and click the Create New link to see the form in Figure 13.</span></span> <span data-ttu-id="ae822-317">Pokud dokončíte a odešlete formulář, vytvoří se nový záznam filmové databáze.</span><span class="sxs-lookup"><span data-stu-id="ae822-317">If you complete and submit the form, a new movie database record is created.</span></span>

<span data-ttu-id="ae822-318">Všimněte si, že se automaticky vyřadí ověření formuláře.</span><span class="sxs-lookup"><span data-stu-id="ae822-318">Notice that you get form validation automatically.</span></span> <span data-ttu-id="ae822-319">Pokud zapomenete zadat datum vydání pro film nebo zadáte neplatné datum vydání, bude formulář znovu zobrazen a pole Datum vydání bude zvýrazněno.</span><span class="sxs-lookup"><span data-stu-id="ae822-319">If you neglect to enter a release date for a movie, or you enter an invalid release date, then the form is redisplayed and the release date field is highlighted.</span></span>

<span data-ttu-id="ae822-320">[![dialogového okna Nový projekt](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image13.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image25.png)</span><span class="sxs-lookup"><span data-stu-id="ae822-320">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image13.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image25.png)</span></span>

<span data-ttu-id="ae822-321">**Obrázek 13**: vytvoření nového záznamu filmové databáze ([kliknutím zobrazíte obrázek v plné velikosti](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image26.png))</span><span class="sxs-lookup"><span data-stu-id="ae822-321">**Figure 13**: Creating a new movie database record ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image26.png))</span></span>

## <a name="editing-existing-database-records"></a><span data-ttu-id="ae822-322">Úprava stávajících záznamů databáze</span><span class="sxs-lookup"><span data-stu-id="ae822-322">Editing Existing Database Records</span></span>

<span data-ttu-id="ae822-323">V předchozích částech jsme probrali, jak můžete vypsat a vytvořit nové záznamy databáze.</span><span class="sxs-lookup"><span data-stu-id="ae822-323">In the previous sections, we discussed how you can list and create new database records.</span></span> <span data-ttu-id="ae822-324">V této poslední části probereme, jak můžete upravit existující záznamy databáze.</span><span class="sxs-lookup"><span data-stu-id="ae822-324">In this final section, we discuss how you can edit existing database records.</span></span>

<span data-ttu-id="ae822-325">Nejdřív musíme vygenerovat formulář pro úpravy.</span><span class="sxs-lookup"><span data-stu-id="ae822-325">First, we need to generate the Edit form.</span></span> <span data-ttu-id="ae822-326">Tento krok je snadný, protože Visual Studio vygeneruje automaticky formulář pro úpravy pro nás.</span><span class="sxs-lookup"><span data-stu-id="ae822-326">This step is easy since Visual Studio will generate the Edit form for us automatically.</span></span> <span data-ttu-id="ae822-327">Otevřete třídu HomeController. vb v editoru kódu sady Visual Studio a postupujte podle následujících kroků:</span><span class="sxs-lookup"><span data-stu-id="ae822-327">Open the HomeController.vb class in the Visual Studio code editor and follow these steps:</span></span>

1. <span data-ttu-id="ae822-328">Klikněte pravým tlačítkem myši na metodu Edit () v editoru kódu a vyberte možnost nabídky **Přidat zobrazení** (viz obrázek 14).</span><span class="sxs-lookup"><span data-stu-id="ae822-328">Right-click the Edit() method in the code editor and select the menu option **Add View** (see Figure 14).</span></span>
2. <span data-ttu-id="ae822-329">Zaškrtněte políčko s názvem **vytvořit zobrazení silného typu**.</span><span class="sxs-lookup"><span data-stu-id="ae822-329">Check the checkbox labeled **Create a strongly-typed view**.</span></span>
3. <span data-ttu-id="ae822-330">V rozevíracím seznamu **Zobrazit obsah** vyberte *Upravit*hodnotu.</span><span class="sxs-lookup"><span data-stu-id="ae822-330">From the **View content** dropdown list, select the value *Edit*.</span></span>
4. <span data-ttu-id="ae822-331">V rozevíracím seznamu **Třída zobrazení dat** vyberte hodnotu *MovieApp. video*.</span><span class="sxs-lookup"><span data-stu-id="ae822-331">From the **View data class** dropdown list, select the value *MovieApp.Movie*.</span></span>
5. <span data-ttu-id="ae822-332">Kliknutím na tlačítko **Přidat** vytvoříte nové zobrazení.</span><span class="sxs-lookup"><span data-stu-id="ae822-332">Click the **Add** button to create the new view.</span></span>

<span data-ttu-id="ae822-333">Po dokončení těchto kroků se přidá nové zobrazení s názvem Edit. aspx do složky Views\Home.</span><span class="sxs-lookup"><span data-stu-id="ae822-333">Completing these steps adds a new view named Edit.aspx to the Views\Home folder.</span></span> <span data-ttu-id="ae822-334">Toto zobrazení obsahuje formulář HTML pro úpravu záznamu filmu.</span><span class="sxs-lookup"><span data-stu-id="ae822-334">This view contains an HTML form for editing a movie record.</span></span>

<span data-ttu-id="ae822-335">[![dialogového okna Nový projekt](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image14.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image27.png)</span><span class="sxs-lookup"><span data-stu-id="ae822-335">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image14.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image27.png)</span></span>

<span data-ttu-id="ae822-336">**Obrázek 14**: Přidání zobrazení pro úpravy ([kliknutím zobrazíte obrázek v plné velikosti](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image28.png))</span><span class="sxs-lookup"><span data-stu-id="ae822-336">**Figure 14**: Adding the Edit view ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image28.png))</span></span>

> [!NOTE] 
> 
> <span data-ttu-id="ae822-337">Zobrazení pro úpravy obsahuje pole formuláře HTML, které odpovídá vlastnosti ID videa.</span><span class="sxs-lookup"><span data-stu-id="ae822-337">The Edit view contains an HTML form field that corresponds to the Movie Id property.</span></span> <span data-ttu-id="ae822-338">Vzhledem k tomu, že nechcete, aby uživatelé upravovali hodnotu vlastnosti ID, měli byste toto pole formuláře odebrat.</span><span class="sxs-lookup"><span data-stu-id="ae822-338">Because you don't want people editing the value of the Id property, you should remove this form field.</span></span>

<span data-ttu-id="ae822-339">Nakonec musíme upravit domovský kontroler tak, aby podporoval úpravu záznamu databáze.</span><span class="sxs-lookup"><span data-stu-id="ae822-339">Finally, we need to modify the Home controller so that it supports editing a database record.</span></span> <span data-ttu-id="ae822-340">Aktualizovaná třída HomeController je obsažena v seznamu 6.</span><span class="sxs-lookup"><span data-stu-id="ae822-340">The updated HomeController class is contained in Listing 6.</span></span>

<span data-ttu-id="ae822-341">**Výpis 6 – Controllers\HomeController.vb (upravit metody)**</span><span class="sxs-lookup"><span data-stu-id="ae822-341">**Listing 6 – Controllers\HomeController.vb (Edit methods)**</span></span>

[!code-vb[Main](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/samples/sample6.vb)]

<span data-ttu-id="ae822-342">V výpisu 6 jsem přidali další logiku k přetížení obou metod Edit ().</span><span class="sxs-lookup"><span data-stu-id="ae822-342">In Listing 6, I've added additional logic to both overloads of the Edit() method.</span></span> <span data-ttu-id="ae822-343">První metoda Edit () vrátí záznam filmové databáze, který odpovídá parametru ID předanému metodě.</span><span class="sxs-lookup"><span data-stu-id="ae822-343">The first Edit() method returns the movie database record that corresponds to the Id parameter passed to the method.</span></span> <span data-ttu-id="ae822-344">Druhé přetížení provede aktualizace záznamu filmu v databázi.</span><span class="sxs-lookup"><span data-stu-id="ae822-344">The second overload performs the updates to a movie record in the database.</span></span>

<span data-ttu-id="ae822-345">Všimněte si, že je nutné načíst původní film, a pak volat ApplyPropertyChanges (), chcete-li aktualizovat existující film v databázi.</span><span class="sxs-lookup"><span data-stu-id="ae822-345">Notice that you must retrieve the original movie, and then call ApplyPropertyChanges(), to update the existing movie in the database.</span></span>

## <a name="summary"></a><span data-ttu-id="ae822-346">Souhrn</span><span class="sxs-lookup"><span data-stu-id="ae822-346">Summary</span></span>

<span data-ttu-id="ae822-347">Účelem tohoto kurzu je poskytnout představu o zkušenostech s vytvářením aplikace ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="ae822-347">The purpose of this tutorial was to give you a sense of the experience of building an ASP.NET MVC application.</span></span> <span data-ttu-id="ae822-348">Doufám, že se vám zjistilo, že vytvoření webové aplikace ASP.NET MVC je velmi podobné prostředí pro vytváření Active Serverch stránek nebo ASP.NET aplikace.</span><span class="sxs-lookup"><span data-stu-id="ae822-348">I hope that you discovered that building an ASP.NET MVC web application is very similar to the experience of building an Active Server Pages or ASP.NET application.</span></span>

<span data-ttu-id="ae822-349">V tomto kurzu jsme prozkoumali jenom základní funkce architektury ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="ae822-349">In this tutorial, we examined only the most basic features of the ASP.NET MVC framework.</span></span> <span data-ttu-id="ae822-350">V budoucích kurzech podrobně hlubší témata, jako jsou například řadiče, akce kontroleru, zobrazení, zobrazení dat a pomocníky HTML.</span><span class="sxs-lookup"><span data-stu-id="ae822-350">In future tutorials, we dive deeper into topics such as controllers, controller actions, views, view data, and HTML helpers.</span></span>

> [!div class="step-by-step"]
> [<span data-ttu-id="ae822-351">Předchozí</span><span class="sxs-lookup"><span data-stu-id="ae822-351">Previous</span></span>](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs.md)
