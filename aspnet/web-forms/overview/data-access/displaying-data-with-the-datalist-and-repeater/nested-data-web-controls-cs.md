---
uid: web-forms/overview/data-access/displaying-data-with-the-datalist-and-repeater/nested-data-web-controls-cs
title: Webové ovládací prvky vnořenýchC#dat () | Microsoft Docs
author: rick-anderson
description: V tomto kurzu se naučíme, jak použít opakování vnořené uvnitř jiného opakovače. V příkladech je znázorněno, jak naplnit vnitřní opakovač d...
ms.author: riande
ms.date: 09/13/2006
ms.assetid: ad3cb0ec-26cf-42d7-b81b-184a34ec9f86
msc.legacyurl: /web-forms/overview/data-access/displaying-data-with-the-datalist-and-repeater/nested-data-web-controls-cs
msc.type: authoredcontent
ms.openlocfilehash: 8ef15bebb2c29976274b0cca1d6ace434ccc55ce
ms.sourcegitcommit: 22fbd8863672c4ad6693b8388ad5c8e753fb41a2
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 11/28/2019
ms.locfileid: "74640318"
---
# <a name="nested-data-web-controls-c"></a><span data-ttu-id="9c69d-104">Webové ovládací prvky vnořených dat (C#)</span><span class="sxs-lookup"><span data-stu-id="9c69d-104">Nested Data Web Controls (C#)</span></span>

<span data-ttu-id="9c69d-105">[Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="9c69d-105">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="9c69d-106">[Stáhnout ukázkovou aplikaci](https://download.microsoft.com/download/9/c/1/9c1d03ee-29ba-4d58-aa1a-f201dcc822ea/ASPNET_Data_Tutorial_32_CS.exe) nebo [Stáhnout PDF](nested-data-web-controls-cs/_static/datatutorial32cs1.pdf)</span><span class="sxs-lookup"><span data-stu-id="9c69d-106">[Download Sample App](https://download.microsoft.com/download/9/c/1/9c1d03ee-29ba-4d58-aa1a-f201dcc822ea/ASPNET_Data_Tutorial_32_CS.exe) or [Download PDF](nested-data-web-controls-cs/_static/datatutorial32cs1.pdf)</span></span>

> <span data-ttu-id="9c69d-107">V tomto kurzu se naučíme, jak použít opakování vnořené uvnitř jiného opakovače.</span><span class="sxs-lookup"><span data-stu-id="9c69d-107">In this tutorial we will explore how to use a Repeater nested inside another Repeater.</span></span> <span data-ttu-id="9c69d-108">V příkladech je znázorněno, jak naplnit vnitřní opakovač deklarativně i programově.</span><span class="sxs-lookup"><span data-stu-id="9c69d-108">The examples will illustrate how to populate the inner Repeater both declaratively and programmatically.</span></span>

## <a name="introduction"></a><span data-ttu-id="9c69d-109">Úvod</span><span class="sxs-lookup"><span data-stu-id="9c69d-109">Introduction</span></span>

<span data-ttu-id="9c69d-110">Kromě statických syntaxí HTML a vázání dat mohou šablony také obsahovat webové ovládací prvky a uživatelské ovládací prvky.</span><span class="sxs-lookup"><span data-stu-id="9c69d-110">In addition to static HTML and databinding syntax, templates can also include Web controls and User Controls.</span></span> <span data-ttu-id="9c69d-111">Tyto webové ovládací prvky mohou mít své vlastnosti přiřazené prostřednictvím deklarativní, datové vazby nebo mohou být k dispozici programově v rámci příslušných obslužných rutin událostí na straně serveru.</span><span class="sxs-lookup"><span data-stu-id="9c69d-111">These Web controls can have their properties assigned via declarative, databinding syntax, or can be accessed programmatically in the appropriate server-side event handlers.</span></span>

<span data-ttu-id="9c69d-112">Vložením ovládacích prvků v rámci šablony je možné přizpůsobit a zlepšit vzhled a činnost koncového uživatele na portálu.</span><span class="sxs-lookup"><span data-stu-id="9c69d-112">By embedding controls within a template, the appearance and user experience can be customized and improved upon.</span></span> <span data-ttu-id="9c69d-113">Například v tématu [použití templatefields v kurzu ovládacího prvku GridView](../custom-formatting/using-templatefields-in-the-gridview-control-cs.md) jsme viděli, jak přizpůsobit zobrazení prvku GridView s přidáním ovládacího prvku kalendáře ve třídě TemplateField k zobrazení data nástupu zaměstnance; v [přidávání ovládacích prvků ověřování do rozhraní pro úpravy a vkládání](../editing-inserting-and-deleting-data/adding-validation-controls-to-the-editing-and-inserting-interfaces-cs.md) a [přizpůsobení](../editing-inserting-and-deleting-data/customizing-the-data-modification-interface-cs.md) kurzů pro rozhraní úprav dat jsme viděli, jak přizpůsobit rozhraní pro úpravy a vkládání přidáním ovládacích prvků ověřování, textových polí, DropDownList a dalších webových ovládacích prvků.</span><span class="sxs-lookup"><span data-stu-id="9c69d-113">For example, in the [Using TemplateFields in the GridView Control](../custom-formatting/using-templatefields-in-the-gridview-control-cs.md) tutorial, we saw how to customize the GridView s display by adding a Calendar control in a TemplateField to show an employee s hire date; in the [Adding Validation Controls to the Editing and Inserting Interfaces](../editing-inserting-and-deleting-data/adding-validation-controls-to-the-editing-and-inserting-interfaces-cs.md) and [Customizing the Data Modification Interface](../editing-inserting-and-deleting-data/customizing-the-data-modification-interface-cs.md) tutorials, we saw how to customize the editing and inserting interfaces by adding validation controls, TextBoxes, DropDownLists, and other Web controls.</span></span>

<span data-ttu-id="9c69d-114">Šablony mohou obsahovat také další webové ovládací prvky dat.</span><span class="sxs-lookup"><span data-stu-id="9c69d-114">Templates can also contain other data Web controls.</span></span> <span data-ttu-id="9c69d-115">To znamená, že v rámci svých šablon můžeme mít prvek DataList, který obsahuje další prvky DataList (nebo Repeater, GridView, DetailsView atd.).</span><span class="sxs-lookup"><span data-stu-id="9c69d-115">That is, we can have a DataList that contains another DataList (or Repeater or GridView or DetailsView, and so on) within its templates.</span></span> <span data-ttu-id="9c69d-116">Výzva s takovým rozhraním je svázána s odpovídajícími daty webového ovládacího prvku pro vnitřní data.</span><span class="sxs-lookup"><span data-stu-id="9c69d-116">The challenge with such an interface is binding the appropriate data to the inner data Web control.</span></span> <span data-ttu-id="9c69d-117">K dispozici je několik různých přístupů, od deklarativních možností použití prvku ObjectDataSource až po programové aplikace.</span><span class="sxs-lookup"><span data-stu-id="9c69d-117">There are a few different approaches available, ranging from declarative options using the ObjectDataSource to programmatic ones.</span></span>

<span data-ttu-id="9c69d-118">V tomto kurzu se naučíme, jak použít opakování vnořené uvnitř jiného opakovače.</span><span class="sxs-lookup"><span data-stu-id="9c69d-118">In this tutorial we will explore how to use a Repeater nested inside another Repeater.</span></span> <span data-ttu-id="9c69d-119">Vnější opakovač bude obsahovat položku pro každou kategorii v databázi a zobrazí název kategorie s popisem.</span><span class="sxs-lookup"><span data-stu-id="9c69d-119">The outer Repeater will contain an item for each category in the database, displaying the category s name and description.</span></span> <span data-ttu-id="9c69d-120">U každé položky kategorie s vnitřním opakovačem se zobrazí informace pro každý produkt patřící do této kategorie (viz obrázek 1) v seznamu s odrážkami.</span><span class="sxs-lookup"><span data-stu-id="9c69d-120">Each category item s inner Repeater will display information for each product belonging to that category (see Figure 1) in a bulleted list.</span></span> <span data-ttu-id="9c69d-121">Naše příklady ilustrují způsob naplnění vnitřního opakovače deklarativně i programově.</span><span class="sxs-lookup"><span data-stu-id="9c69d-121">Our examples will illustrate how to populate the inner Repeater both declaratively and programmatically.</span></span>

<span data-ttu-id="9c69d-122">[![jednotlivé kategorie spolu s jejími produkty, jsou uvedeny](nested-data-web-controls-cs/_static/image2.png)](nested-data-web-controls-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="9c69d-122">[![Each Category, Along with its Products, are Listed](nested-data-web-controls-cs/_static/image2.png)](nested-data-web-controls-cs/_static/image1.png)</span></span>

<span data-ttu-id="9c69d-123">**Obrázek 1**: v seznamu jsou uvedeny všechny kategorie spolu s jeho produkty ([kliknutím zobrazíte obrázek v plné velikosti](nested-data-web-controls-cs/_static/image3.png)).</span><span class="sxs-lookup"><span data-stu-id="9c69d-123">**Figure 1**: Each Category, Along with its Products, are Listed ([Click to view full-size image](nested-data-web-controls-cs/_static/image3.png))</span></span>

## <a name="step-1-creating-the-category-listing"></a><span data-ttu-id="9c69d-124">Krok 1: vytvoření seznamu kategorií</span><span class="sxs-lookup"><span data-stu-id="9c69d-124">Step 1: Creating the Category Listing</span></span>

<span data-ttu-id="9c69d-125">Při vytváření stránky, která používá webové ovládací prvky vnořených dat, je vhodné nejprve navrhnout, vytvořit a otestovat webový ovládací prvek nejvzdálenějšího data, aniž by se musely obávat vnitřní vnořené ovládací prvky.</span><span class="sxs-lookup"><span data-stu-id="9c69d-125">When building a page that uses nested data Web controls, I find it helpful to design, create, and test the outermost data Web control first, without even worrying about the inner nested control.</span></span> <span data-ttu-id="9c69d-126">Proto začněte Projděte kroky potřebnými k přidání opakovače na stránku, která obsahuje seznam názvů a popisů pro každou kategorii.</span><span class="sxs-lookup"><span data-stu-id="9c69d-126">Therefore, let s start by walking through the steps necessary to add a Repeater to the page that lists the name and description for each category.</span></span>

<span data-ttu-id="9c69d-127">Začněte tím, že otevřete stránku `NestedControls.aspx` ve složce `DataListRepeaterBasics` a na stránku přidáte ovládací prvek Repeater a nastavíte jeho vlastnost `ID` na `CategoryList`.</span><span class="sxs-lookup"><span data-stu-id="9c69d-127">Start by opening the `NestedControls.aspx` page in the `DataListRepeaterBasics` folder and add a Repeater control to the page, setting its `ID` property to `CategoryList`.</span></span> <span data-ttu-id="9c69d-128">Z inteligentní značky Repeater vyberte, chcete-li vytvořit nový prvek ObjectDataSource s názvem `CategoriesDataSource`.</span><span class="sxs-lookup"><span data-stu-id="9c69d-128">From the Repeater s smart tag, choose to create a new ObjectDataSource named `CategoriesDataSource`.</span></span>

<span data-ttu-id="9c69d-129">[![název nového prvku ObjectDataSource CategoriesDataSource](nested-data-web-controls-cs/_static/image5.png)](nested-data-web-controls-cs/_static/image4.png)</span><span class="sxs-lookup"><span data-stu-id="9c69d-129">[![Name the New ObjectDataSource CategoriesDataSource](nested-data-web-controls-cs/_static/image5.png)](nested-data-web-controls-cs/_static/image4.png)</span></span>

<span data-ttu-id="9c69d-130">**Obrázek 2**: pojmenování nové `CategoriesDataSource` ObjectDataSource ([kliknutím zobrazíte obrázek v plné velikosti](nested-data-web-controls-cs/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="9c69d-130">**Figure 2**: Name the New ObjectDataSource `CategoriesDataSource` ([Click to view full-size image](nested-data-web-controls-cs/_static/image6.png))</span></span>

<span data-ttu-id="9c69d-131">Nastavte prvek ObjectDataSource tak, aby přečetl svá data z `CategoriesBLL` třídy s `GetCategories` metody.</span><span class="sxs-lookup"><span data-stu-id="9c69d-131">Configure the ObjectDataSource so that it pulls its data from the `CategoriesBLL` class s `GetCategories` method.</span></span>

<span data-ttu-id="9c69d-132">[![nakonfigurovat prvek ObjectDataSource na použití metody CategoriesBLL třídy s GetCategories](nested-data-web-controls-cs/_static/image8.png)](nested-data-web-controls-cs/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="9c69d-132">[![Configure the ObjectDataSource to Use the CategoriesBLL Class s GetCategories Method](nested-data-web-controls-cs/_static/image8.png)](nested-data-web-controls-cs/_static/image7.png)</span></span>

<span data-ttu-id="9c69d-133">**Obrázek 3**: Konfigurace prvku ObjectDataSource pro použití `GetCategories` metody `CategoriesBLL` třídy s ([kliknutím zobrazíte obrázek v plné velikosti](nested-data-web-controls-cs/_static/image9.png))</span><span class="sxs-lookup"><span data-stu-id="9c69d-133">**Figure 3**: Configure the ObjectDataSource to Use the `CategoriesBLL` Class s `GetCategories` Method ([Click to view full-size image](nested-data-web-controls-cs/_static/image9.png))</span></span>

<span data-ttu-id="9c69d-134">Chcete-li určit obsah šablony opakování s, musíme přejít do zobrazení zdroje a ručně zadat deklarativní syntaxi.</span><span class="sxs-lookup"><span data-stu-id="9c69d-134">To specify the Repeater s template content we need to go to the Source view and manually enter the declarative syntax.</span></span> <span data-ttu-id="9c69d-135">Přidejte `ItemTemplate`, který zobrazuje název kategorie v elementu `<h4>` a Popis kategorie s v prvku odstavce (`<p>`).</span><span class="sxs-lookup"><span data-stu-id="9c69d-135">Add an `ItemTemplate` that displays the category s name in an `<h4>` element and the category s description in a paragraph element (`<p>`).</span></span> <span data-ttu-id="9c69d-136">Jednotlivé kategorie se navíc oddělují vodorovným pravidlem (`<hr>`).</span><span class="sxs-lookup"><span data-stu-id="9c69d-136">Furthermore, let s separate each category with a horizontal rule (`<hr>`).</span></span> <span data-ttu-id="9c69d-137">Po provedení těchto změn by měla stránka obsahovat deklarativní syntaxi pro Repeater a prvek ObjectDataSource, který je podobný následujícímu:</span><span class="sxs-lookup"><span data-stu-id="9c69d-137">After making these changes your page should contain declarative syntax for the Repeater and ObjectDataSource that is similar to the following:</span></span>

[!code-aspx[Main](nested-data-web-controls-cs/samples/sample1.aspx)]

<span data-ttu-id="9c69d-138">Obrázek 4 ukazuje náš průběh při prohlížení v prohlížeči.</span><span class="sxs-lookup"><span data-stu-id="9c69d-138">Figure 4 shows our progress when viewed through a browser.</span></span>

<span data-ttu-id="9c69d-139">[![se v seznamu zobrazí všechny kategorie s názvem a popis, oddělené vodorovným pravidlem.](nested-data-web-controls-cs/_static/image11.png)](nested-data-web-controls-cs/_static/image10.png)</span><span class="sxs-lookup"><span data-stu-id="9c69d-139">[![Each Category s Name and Description is Listed, Separated by a Horizontal Rule](nested-data-web-controls-cs/_static/image11.png)](nested-data-web-controls-cs/_static/image10.png)</span></span>

<span data-ttu-id="9c69d-140">**Obrázek 4**: seznam všech kategorií s názvem a popisem jsou uvedeny a odděleny vodorovným pravidlem ([kliknutím zobrazíte obrázek v plné velikosti).](nested-data-web-controls-cs/_static/image12.png)</span><span class="sxs-lookup"><span data-stu-id="9c69d-140">**Figure 4**: Each Category s Name and Description is Listed, Separated by a Horizontal Rule ([Click to view full-size image](nested-data-web-controls-cs/_static/image12.png))</span></span>

## <a name="step-2-adding-the-nested-product-repeater"></a><span data-ttu-id="9c69d-141">Krok 2: Přidání vnořeného opakovače produktu</span><span class="sxs-lookup"><span data-stu-id="9c69d-141">Step 2: Adding the Nested Product Repeater</span></span>

<span data-ttu-id="9c69d-142">Po dokončení seznamu kategorií je dalším úkolem přidání opakovače do `ItemTemplate` `CategoryList` s, které zobrazí informace o těchto produktech patřící do příslušné kategorie.</span><span class="sxs-lookup"><span data-stu-id="9c69d-142">With the category listing complete, our next task is to add a Repeater to the `CategoryList` s `ItemTemplate` that displays information about those products belonging to the appropriate category.</span></span> <span data-ttu-id="9c69d-143">K dispozici je několik způsobů, jak získat data pro tento vnitřní opakovač, z nichž dvakrát prozkoumáme.</span><span class="sxs-lookup"><span data-stu-id="9c69d-143">There are a number of ways we can retrieve the data for this inner Repeater, two of which we'll explore shortly.</span></span> <span data-ttu-id="9c69d-144">Prozatím teď stačí vytvořit produkty v rámci `ItemTemplate``CategoryList` Repeater.</span><span class="sxs-lookup"><span data-stu-id="9c69d-144">For now, let s just create the products Repeater within the `CategoryList` Repeater s `ItemTemplate`.</span></span> <span data-ttu-id="9c69d-145">V případě, že má produkt opakovat, musí mít každý produkt v seznamu s odrážkami všechny položky seznamu, včetně názvu a ceny produktu.</span><span class="sxs-lookup"><span data-stu-id="9c69d-145">Specifically, let s have the product Repeater display each product in a bulleted list with each list item including the product s name and price.</span></span>

<span data-ttu-id="9c69d-146">Aby bylo možné vytvořit tohoto opakovače, musíme do `ItemTemplate``CategoryList` s zadat deklarativní syntax a šablony s vnitřním opakováním.</span><span class="sxs-lookup"><span data-stu-id="9c69d-146">To create this Repeater we need to manually enter the inner Repeater s declarative syntax and templates into the `CategoryList` s `ItemTemplate`.</span></span> <span data-ttu-id="9c69d-147">Do `ItemTemplate``CategoryList` Repeater přidejte následující kód:</span><span class="sxs-lookup"><span data-stu-id="9c69d-147">Add the following markup within the `CategoryList` Repeater s `ItemTemplate`:</span></span>

[!code-aspx[Main](nested-data-web-controls-cs/samples/sample2.aspx)]

## <a name="step-3-binding-the-category-specific-products-to-the-productsbycategorylist-repeater"></a><span data-ttu-id="9c69d-148">Krok 3: vytvoření vazby produktů specifických pro kategorii k ProductsByCategoryList Repeater</span><span class="sxs-lookup"><span data-stu-id="9c69d-148">Step 3: Binding the Category-Specific Products to the ProductsByCategoryList Repeater</span></span>

<span data-ttu-id="9c69d-149">Pokud v tomto okamžiku navštívíte stránku v prohlížeči, vaše obrazovka bude vypadat stejně jako na obrázku 4, protože jsme zatím navázali všechna data na Repeater.</span><span class="sxs-lookup"><span data-stu-id="9c69d-149">If you visit the page through a browser at this point, your screen will look the same as in Figure 4 because we ve yet to bind any data to the Repeater.</span></span> <span data-ttu-id="9c69d-150">K dispozici je několik způsobů, jak můžeme přizpůsobovat příslušné záznamy produktů a navazovat je na Repeater, což je ještě efektivnější než jiné.</span><span class="sxs-lookup"><span data-stu-id="9c69d-150">There are a few ways that we can grab the appropriate product records and bind them to the Repeater, some more efficient than others.</span></span> <span data-ttu-id="9c69d-151">Hlavní výzva se tady dostává zpátky o příslušné produkty zadané kategorie.</span><span class="sxs-lookup"><span data-stu-id="9c69d-151">The main challenge here is getting back the appropriate products for the specified category.</span></span>

<span data-ttu-id="9c69d-152">Data, která lze navazovat na vnitřní ovládací prvek Repeater, lze buď přistupovat deklarativně, prostřednictvím prvku ObjectDataSource v `ItemTemplate``CategoryList` Repeater s, nebo programově ze stránky s kódem na pozadí stránky ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="9c69d-152">The data to bind to the inner Repeater control can either be accessed declaratively, through an ObjectDataSource in the `CategoryList` Repeater s `ItemTemplate`, or programmatically, from the ASP.NET page s code-behind page.</span></span> <span data-ttu-id="9c69d-153">Podobně tato data mohou být svázána s vnitřním opakovačem buď deklarativně prostřednictvím vlastnosti vnitřní Repeater s `DataSourceID`, nebo prostřednictvím deklarativní syntaxe datových vazeb nebo programově odkazováním na vnitřní opakovač v obslužné rutině události `CategoryList` opakovače s `ItemDataBound`, programově nastavením jeho vlastnosti `DataSource` a voláním metody `DataBind()`.</span><span class="sxs-lookup"><span data-stu-id="9c69d-153">Similarly, this data can be bound to the inner Repeater either declaratively - through the inner Repeater s `DataSourceID` property or through declarative databinding syntax or programmatically by referencing the inner Repeater in the `CategoryList` Repeater s `ItemDataBound` event handler, programmatically setting its `DataSource` property, and calling its `DataBind()` method.</span></span> <span data-ttu-id="9c69d-154">Pojďme si prozkoumat každý z těchto přístupů.</span><span class="sxs-lookup"><span data-stu-id="9c69d-154">Let s explore each of these approaches.</span></span>

## <a name="accessing-the-data-declaratively-with-an-objectdatasource-control-and-theitemdataboundevent-handler"></a><span data-ttu-id="9c69d-155">Deklarativní přístup k datům pomocí ovládacího prvku ObjectDataSource a obslužné rutiny události`ItemDataBound`</span><span class="sxs-lookup"><span data-stu-id="9c69d-155">Accessing the Data Declaratively with an ObjectDataSource Control and the`ItemDataBound`Event Handler</span></span>

<span data-ttu-id="9c69d-156">Vzhledem k tomu, že jsme v rámci této série kurzů rozsáhle používali ObjectDataSource, je pro přístup k datům v tomto příkladu nejpřirozenější výběr prvku ObjectDataSource.</span><span class="sxs-lookup"><span data-stu-id="9c69d-156">Since we ve used the ObjectDataSource extensively throughout this tutorial series, the most natural choice for accessing data for this example is to stick with the ObjectDataSource.</span></span> <span data-ttu-id="9c69d-157">Třída `ProductsBLL` má `GetProductsByCategoryID(categoryID)` metodu, která vrací informace o těchto produktech, které patří do zadaného *`categoryID`* .</span><span class="sxs-lookup"><span data-stu-id="9c69d-157">The `ProductsBLL` class has a `GetProductsByCategoryID(categoryID)` method that returns information about those products that belong to the specified *`categoryID`*.</span></span> <span data-ttu-id="9c69d-158">Proto můžeme přidat prvek ObjectDataSource do `CategoryList` Repeater `ItemTemplate` a nakonfigurovat ho tak, aby měl přístup k datům z této metody třídy s.</span><span class="sxs-lookup"><span data-stu-id="9c69d-158">Therefore, we can add an ObjectDataSource to the `CategoryList` Repeater s `ItemTemplate` and configure it to access its data from this class s method.</span></span>

<span data-ttu-id="9c69d-159">Omlouváme se, ale neumožňuje, aby se šablony upravovaly prostřednictvím zobrazení Návrh, takže musíme přidat deklarativní syntaxi pro tento ovládací prvek ObjectDataSource ručně.</span><span class="sxs-lookup"><span data-stu-id="9c69d-159">Unfortunately, the Repeater doesn t allow its templates to be edited through the Design view so we need to add the declarative syntax for this ObjectDataSource control by hand.</span></span> <span data-ttu-id="9c69d-160">Následující syntaxe zobrazuje `CategoryList` Repeater `ItemTemplate` po přidání tohoto nového prvku ObjectDataSource (`ProductsByCategoryDataSource`):</span><span class="sxs-lookup"><span data-stu-id="9c69d-160">The following syntax shows the `CategoryList` Repeater s `ItemTemplate` after adding this new ObjectDataSource (`ProductsByCategoryDataSource`):</span></span>

[!code-aspx[Main](nested-data-web-controls-cs/samples/sample3.aspx)]

<span data-ttu-id="9c69d-161">Při použití přístupu ObjectDataSource potřebujeme nastavit vlastnost `ProductsByCategoryList` Repeater s `DataSourceID` na `ID` prvku ObjectDataSource (`ProductsByCategoryDataSource`).</span><span class="sxs-lookup"><span data-stu-id="9c69d-161">When using the ObjectDataSource approach we need to set the `ProductsByCategoryList` Repeater s `DataSourceID` property to the `ID` of the ObjectDataSource (`ProductsByCategoryDataSource`).</span></span> <span data-ttu-id="9c69d-162">Všimněte si také, že náš prvek ObjectDataSource má `<asp:Parameter>` element, který určuje hodnotu *`categoryID`* , která bude předána metodě `GetProductsByCategoryID(categoryID)`.</span><span class="sxs-lookup"><span data-stu-id="9c69d-162">Also, notice that our ObjectDataSource has an `<asp:Parameter>` element that specifies the *`categoryID`* value that will be passed into the `GetProductsByCategoryID(categoryID)` method.</span></span> <span data-ttu-id="9c69d-163">Ale jak tuto hodnotu specifikovat?</span><span class="sxs-lookup"><span data-stu-id="9c69d-163">But how do we specify this value?</span></span> <span data-ttu-id="9c69d-164">V ideálním případě je možné pouze nastavit vlastnost `DefaultValue` elementu `<asp:Parameter>` pomocí syntaxe DataBinding, například takto:</span><span class="sxs-lookup"><span data-stu-id="9c69d-164">Ideally, we d be able to just set the `DefaultValue` property of the `<asp:Parameter>` element using databinding syntax, like so:</span></span>

[!code-aspx[Main](nested-data-web-controls-cs/samples/sample4.aspx)]

<span data-ttu-id="9c69d-165">Syntaxe datové vazby bohužel je platná pouze v ovládacích prvcích, které mají událost `DataBinding`.</span><span class="sxs-lookup"><span data-stu-id="9c69d-165">Unfortunately, databinding syntax is only valid in controls that have a `DataBinding` event.</span></span> <span data-ttu-id="9c69d-166">Třída `Parameter` postrádá takovou událost, a proto je výše uvedená syntaxe neplatná a výsledkem bude chyba za běhu.</span><span class="sxs-lookup"><span data-stu-id="9c69d-166">The `Parameter` class lacks such an event and therefore the above syntax is illegal and will result in a runtime error.</span></span>

<span data-ttu-id="9c69d-167">Pro nastavení této hodnoty musíme vytvořit obslužnou rutinu události pro událost `ItemDataBound` `CategoryList` Repeater.</span><span class="sxs-lookup"><span data-stu-id="9c69d-167">To set this value, we need to create an event handler for the `CategoryList` Repeater s `ItemDataBound` event.</span></span> <span data-ttu-id="9c69d-168">Odvolání, že se událost `ItemDataBound` aktivuje jednou pro každou položku, která je vázaná na Repeater.</span><span class="sxs-lookup"><span data-stu-id="9c69d-168">Recall that the `ItemDataBound` event fires once for each item bound to the Repeater.</span></span> <span data-ttu-id="9c69d-169">Proto každé události, která je aktivována pro vnějšího opakovače, můžeme přiřadit aktuální `CategoryID` hodnotu k parametru `ProductsByCategoryDataSource` ObjectDataSource s `CategoryID`.</span><span class="sxs-lookup"><span data-stu-id="9c69d-169">Therefore, each time this event fires for the outer Repeater we can assign the current `CategoryID` value to the `ProductsByCategoryDataSource` ObjectDataSource s `CategoryID` parameter.</span></span>

<span data-ttu-id="9c69d-170">Vytvořte obslužnou rutinu události pro událost `ItemDataBound` `CategoryList` Repeater s následujícím kódem:</span><span class="sxs-lookup"><span data-stu-id="9c69d-170">Create an event handler for the `CategoryList` Repeater s `ItemDataBound` event with the following code:</span></span>

[!code-csharp[Main](nested-data-web-controls-cs/samples/sample5.cs)]

<span data-ttu-id="9c69d-171">Tato obslužná rutina události se spustí tím, že zajistí, že budeme znovu pracovat s datovou položkou, a ne s hlavičkou, zápatím nebo položkou oddělovače.</span><span class="sxs-lookup"><span data-stu-id="9c69d-171">This event handler starts by ensuring that we re dealing with a data item rather than the header, footer, or separator item.</span></span> <span data-ttu-id="9c69d-172">Dále odkazujeme na skutečnou instanci `CategoriesRow`, která se právě váže na aktuální `RepeaterItem`.</span><span class="sxs-lookup"><span data-stu-id="9c69d-172">Next, we reference the actual `CategoriesRow` instance that has just been bound to the current `RepeaterItem`.</span></span> <span data-ttu-id="9c69d-173">Nakonec odkazujeme na prvek ObjectDataSource v `ItemTemplate` a přiřadíte jeho hodnotu parametru `CategoryID` do `CategoryID` aktuální `RepeaterItem`.</span><span class="sxs-lookup"><span data-stu-id="9c69d-173">Finally, we reference the ObjectDataSource in the `ItemTemplate` and assign its `CategoryID` parameter value to the `CategoryID` of the current `RepeaterItem`.</span></span>

<span data-ttu-id="9c69d-174">V rámci této obslužné rutiny události je `ProductsByCategoryList` opakování v každém `RepeaterItem` vázáno na tyto produkty v kategorii `RepeaterItem` s.</span><span class="sxs-lookup"><span data-stu-id="9c69d-174">With this event handler, the `ProductsByCategoryList` Repeater in each `RepeaterItem` is bound to those products in the `RepeaterItem` s category.</span></span> <span data-ttu-id="9c69d-175">Obrázek 5 znázorňuje snímek obrazovky s výsledným výstupem.</span><span class="sxs-lookup"><span data-stu-id="9c69d-175">Figure 5 shows a screen shot of the resulting output.</span></span>

<span data-ttu-id="9c69d-176">[![vnějšího opakovače seznam všech kategorií; Vnitřní seznam obsahuje produkty pro danou kategorii.](nested-data-web-controls-cs/_static/image14.png)](nested-data-web-controls-cs/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="9c69d-176">[![The Outer Repeater Lists Each Category; the Inner One Lists the Products for that Category](nested-data-web-controls-cs/_static/image14.png)](nested-data-web-controls-cs/_static/image13.png)</span></span>

<span data-ttu-id="9c69d-177">**Obrázek 5**: vnější opakovač obsahuje všechny kategorie; Vnitřní seznam produktů pro danou kategorii ([kliknutím zobrazíte obrázek v plné velikosti](nested-data-web-controls-cs/_static/image15.png))</span><span class="sxs-lookup"><span data-stu-id="9c69d-177">**Figure 5**: The Outer Repeater Lists Each Category; the Inner One Lists the Products for that Category ([Click to view full-size image](nested-data-web-controls-cs/_static/image15.png))</span></span>

## <a name="accessing-the-products-by-category-data-programmatically"></a><span data-ttu-id="9c69d-178">Programový přístup k produktům podle dat kategorie</span><span class="sxs-lookup"><span data-stu-id="9c69d-178">Accessing the Products by Category Data Programmatically</span></span>

<span data-ttu-id="9c69d-179">Namísto použití prvku ObjectDataSource k načtení produktů pro aktuální kategorii můžeme vytvořit metodu v naší třídě ASP.NET stránky s kódem na pozadí (nebo ve složce `App_Code` nebo v samostatném projektu knihovny tříd), která vrací příslušnou sadu produktů při předání v `CategoryID`.</span><span class="sxs-lookup"><span data-stu-id="9c69d-179">Instead of using an ObjectDataSource to retrieve the products for the current category, we could create a method in our ASP.NET page s code-behind class (or in the `App_Code` folder or in a separate Class Library project) that returns the appropriate set of products when passed in a `CategoryID`.</span></span> <span data-ttu-id="9c69d-180">Představte si, že tato metoda byla v naší třídě ASP.NET stránky s kódem na pozadí a že byla pojmenována `GetProductsInCategory(categoryID)`.</span><span class="sxs-lookup"><span data-stu-id="9c69d-180">Imagine that we had such a method in our ASP.NET page s code-behind class and that it was named `GetProductsInCategory(categoryID)`.</span></span> <span data-ttu-id="9c69d-181">V rámci této metody jsme mohli navazovat produkty pro aktuální kategorii na vnitřní opakovač pomocí následující deklarativní syntaxe:</span><span class="sxs-lookup"><span data-stu-id="9c69d-181">With this method in place we could bind the products for the current category to the inner Repeater using the following declarative syntax:</span></span>

[!code-aspx[Main](nested-data-web-controls-cs/samples/sample6.aspx)]

<span data-ttu-id="9c69d-182">Vlastnost Repeater s `DataSource` používá syntaxi DataBinding k označení, že data pocházejí z metody `GetProductsInCategory(categoryID)`.</span><span class="sxs-lookup"><span data-stu-id="9c69d-182">The Repeater s `DataSource` property uses the databinding syntax to indicate that its data comes from the `GetProductsInCategory(categoryID)` method.</span></span> <span data-ttu-id="9c69d-183">Vzhledem k tomu, že `Eval("CategoryID")` vrátí hodnotu typu `Object`, přetypování objektu na `Integer` před předáním do metody `GetProductsInCategory(categoryID)`.</span><span class="sxs-lookup"><span data-stu-id="9c69d-183">Since `Eval("CategoryID")` returns a value of type `Object`, we cast the object to an `Integer` before passing it into the `GetProductsInCategory(categoryID)` method.</span></span> <span data-ttu-id="9c69d-184">Všimněte si, že `CategoryID`, ke kterému se přistupoval prostřednictvím syntaxe datové vazby, je `CategoryID` *vnějšího* opakovače (`CategoryList`), který je svázán s záznamy v tabulce `Categories`.</span><span class="sxs-lookup"><span data-stu-id="9c69d-184">Note that the `CategoryID` accessed here via the databinding syntax is the `CategoryID` in the *outer* Repeater (`CategoryList`), the one that s bound to the records in the `Categories` table.</span></span> <span data-ttu-id="9c69d-185">Proto víme, že `CategoryID` nemůže být `NULL` hodnota databáze, což je důvod, proč můžeme metodu `Eval` bez kontroly vrátit, aniž byste museli provádět kontrolu `DBNull`.</span><span class="sxs-lookup"><span data-stu-id="9c69d-185">Therefore, we know that `CategoryID` cannot be a database `NULL` value, which is why we can blindly cast the `Eval` method without checking if we re dealing with a `DBNull`.</span></span>

<span data-ttu-id="9c69d-186">V rámci tohoto přístupu potřebujeme vytvořit metodu `GetProductsInCategory(categoryID)` a nechat si načíst příslušnou sadu produktů, které mají poskytnutou *`categoryID`* .</span><span class="sxs-lookup"><span data-stu-id="9c69d-186">With this approach, we need to create the `GetProductsInCategory(categoryID)` method and have it retrieve the appropriate set of products given the supplied *`categoryID`*.</span></span> <span data-ttu-id="9c69d-187">Můžeme to provést pouhým vrácením `ProductsDataTable` vráceného metodou `ProductsBLL` třídy s `GetProductsByCategoryID(categoryID)`.</span><span class="sxs-lookup"><span data-stu-id="9c69d-187">We can do this by simply returning the `ProductsDataTable` returned by the `ProductsBLL` class s `GetProductsByCategoryID(categoryID)` method.</span></span> <span data-ttu-id="9c69d-188">Pro naši `NestedControls.aspx` stránku vytvoříme metodu `GetProductsInCategory(categoryID)` v třídě Code-na pozadí.</span><span class="sxs-lookup"><span data-stu-id="9c69d-188">Let s create the `GetProductsInCategory(categoryID)` method in the code-behind class for our `NestedControls.aspx` page.</span></span> <span data-ttu-id="9c69d-189">Použijte následující kód:</span><span class="sxs-lookup"><span data-stu-id="9c69d-189">Do so using the following code:</span></span>

[!code-csharp[Main](nested-data-web-controls-cs/samples/sample7.cs)]

<span data-ttu-id="9c69d-190">Tato metoda jednoduše vytvoří instanci metody `ProductsBLL` a vrátí výsledky metody `GetProductsByCategoryID(categoryID)`.</span><span class="sxs-lookup"><span data-stu-id="9c69d-190">This method simply creates an instance of the `ProductsBLL` method and returns the results of the `GetProductsByCategoryID(categoryID)` method.</span></span> <span data-ttu-id="9c69d-191">Všimněte si, že metoda musí být označena `Public` nebo `Protected`; Pokud je metoda označená jako `Private`, nebude přístupná z deklarativních značek stránky ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="9c69d-191">Note that the method must be marked `Public` or `Protected`; if the method is marked `Private`, it will not be accessible from the ASP.NET page s declarative markup.</span></span>

<span data-ttu-id="9c69d-192">Po provedení těchto změn pro použití této nové techniky si chvíli počkejte, než se stránka zobrazí v prohlížeči.</span><span class="sxs-lookup"><span data-stu-id="9c69d-192">After making these changes to use this new technique, take a moment to view the page through a browser.</span></span> <span data-ttu-id="9c69d-193">Výstup by měl být stejný jako výstup při použití přístupu k obslužné rutině události ObjectDataSource a `ItemDataBound` (Chcete-li zobrazit snímek obrazovky, přejděte zpět na obrázek 5).</span><span class="sxs-lookup"><span data-stu-id="9c69d-193">The output should be identical to the output when using the ObjectDataSource and `ItemDataBound` event handler approach (refer back to Figure 5 to see a screen shot).</span></span>

> [!NOTE]
> <span data-ttu-id="9c69d-194">Může se zdát, že busywork vytvořit metodu `GetProductsInCategory(categoryID)` ve třídě ASP.NET stránky s kódem na pozadí.</span><span class="sxs-lookup"><span data-stu-id="9c69d-194">It may seem like busywork to create the `GetProductsInCategory(categoryID)` method in the ASP.NET page s code-behind class.</span></span> <span data-ttu-id="9c69d-195">Po tom Tato metoda jednoduše vytvoří instanci třídy `ProductsBLL` a vrátí výsledky její `GetProductsByCategoryID(categoryID)` metody.</span><span class="sxs-lookup"><span data-stu-id="9c69d-195">After all, this method simply creates an instance of the `ProductsBLL` class and returns the results of its `GetProductsByCategoryID(categoryID)` method.</span></span> <span data-ttu-id="9c69d-196">Proč nestačí volat tuto metodu přímo z syntaxe datové vazby v interním Opakovaču, například: `DataSource='<%# ProductsBLL.GetProductsByCategoryID((int)(Eval("CategoryID"))) %>'`?</span><span class="sxs-lookup"><span data-stu-id="9c69d-196">Why not just call this method directly from the databinding syntax in the inner Repeater, like: `DataSource='<%# ProductsBLL.GetProductsByCategoryID((int)(Eval("CategoryID"))) %>'`?</span></span> <span data-ttu-id="9c69d-197">I když tato syntaxe nebude fungovat s naší aktuální implementací třídy `ProductsBLL` (vzhledem k tomu, že metoda `GetProductsByCategoryID(categoryID)` je metoda instance), můžete upravit `ProductsBLL`, aby zahrnovaly statickou `GetProductsByCategoryID(categoryID)` metodu nebo aby třída zahrnovala statickou `Instance()` metodu pro návrat nové instance třídy `ProductsBLL`.</span><span class="sxs-lookup"><span data-stu-id="9c69d-197">Although this syntax won't work with our current implementation of the `ProductsBLL` class (since the `GetProductsByCategoryID(categoryID)` method is an instance method), you could modify `ProductsBLL` to include a static `GetProductsByCategoryID(categoryID)` method or have the class include a static `Instance()` method to return a new instance of the `ProductsBLL` class.</span></span>

<span data-ttu-id="9c69d-198">I když by tyto úpravy vyloučily nutnost `GetProductsInCategory(categoryID)` metoda ve třídě ASP.NET Page s kódem na pozadí, metoda třídy kódu na pozadí poskytuje větší flexibilitu při práci s načtenými daty, jak uvidíme krátce.</span><span class="sxs-lookup"><span data-stu-id="9c69d-198">While such modifications would eliminate the need for the `GetProductsInCategory(categoryID)` method in the ASP.NET page s code-behind class, the code-behind class method gives us more flexibility in working with the data retrieved, as we'll see shortly.</span></span>

## <a name="retrieving-all-of-the-product-information-at-once"></a><span data-ttu-id="9c69d-199">Načítání všech informací o produktu najednou</span><span class="sxs-lookup"><span data-stu-id="9c69d-199">Retrieving All of the Product Information at Once</span></span>

<span data-ttu-id="9c69d-200">Dva zkontrolují postupy, které jsme prozkoumali, převedli jsme tyto produkty pro aktuální kategorii tím, že provedeme volání metody `ProductsBLL` třídy s `GetProductsByCategoryID(categoryID)` (první přístup byl tak, že by byl druhý prostřednictvím metody `GetProductsInCategory(categoryID)` v třídě Code-na pozadí).</span><span class="sxs-lookup"><span data-stu-id="9c69d-200">The two pervious techniques we ve examined grab those products for the current category by making a call to the `ProductsBLL` class s `GetProductsByCategoryID(categoryID)` method (the first approach did so through an ObjectDataSource, the second through the `GetProductsInCategory(categoryID)` method in the code-behind class).</span></span> <span data-ttu-id="9c69d-201">Pokaždé, když je tato metoda vyvolána, vrstva obchodní logiky zavolá do vrstvy přístupu k datům, která dotazuje databázi pomocí příkazu jazyka SQL, který vrací řádky z `Products` tabulky, jejichž `CategoryID` pole odpovídá zadanému vstupnímu parametru.</span><span class="sxs-lookup"><span data-stu-id="9c69d-201">Each time this method is invoked, the Business Logic Layer calls down to the Data Access Layer, which queries the database with a SQL statement that returns rows from the `Products` table whose `CategoryID` field matches the supplied input parameter.</span></span>

<span data-ttu-id="9c69d-202">V rámci těchto *N* kategorií v systému tento přístup sítě *n* + 1 volá do databáze databázový dotaz, aby získal všechny kategorie a potom *N* volání pro získání produktů specifických pro jednotlivé kategorie.</span><span class="sxs-lookup"><span data-stu-id="9c69d-202">Given *N* categories in the system, this approach nets *N* + 1 calls to the database one database query to get all of the categories and then *N* calls to get the products specific to each category.</span></span> <span data-ttu-id="9c69d-203">Můžeme ale načíst všechna potřebná data v jediné dvou databázích voláním jednoho volání, abyste získali všechny kategorie a další pro získání všech produktů.</span><span class="sxs-lookup"><span data-stu-id="9c69d-203">We can, however, retrieve all the needed data in just two database calls one call to get all of the categories and another to get all of the products.</span></span> <span data-ttu-id="9c69d-204">Jakmile máme všechny produkty, můžeme tyto produkty filtrovat, aby byly na tuto kategorii s vnitřním opakovačem vázány jenom produkty odpovídající aktuálnímu `CategoryID`.</span><span class="sxs-lookup"><span data-stu-id="9c69d-204">Once we have all of the products, we can filter those products so that only the products matching the current `CategoryID` are bound to that category s inner Repeater.</span></span>

<span data-ttu-id="9c69d-205">Abychom tuto funkci mohli poskytnout, musíme v naší třídě ASP.NET stránky s kódem na pozadí udělat mírněu úpravu metody `GetProductsInCategory(categoryID)`.</span><span class="sxs-lookup"><span data-stu-id="9c69d-205">To provide this functionality, we only need to make a slight modification to the `GetProductsInCategory(categoryID)` method in our ASP.NET page s code-behind class.</span></span> <span data-ttu-id="9c69d-206">Místo toho, abyste nemuseli vracet výsledky `ProductsBLL` třídy s `GetProductsByCategoryID(categoryID)`, můžeme místo toho nejdřív přistupovat ke *všem* produktům (Pokud k nim ještě nedošlo) a pak vracet jenom filtrované zobrazení produktů na základě předaných `CategoryID`.</span><span class="sxs-lookup"><span data-stu-id="9c69d-206">Rather than blindly returning the results of the `ProductsBLL` class s `GetProductsByCategoryID(categoryID)` method, we can instead first access *all* of the products (if they haven't been accessed already) and then return just the filtered view of the products based on the passed-in `CategoryID`.</span></span>

[!code-csharp[Main](nested-data-web-controls-cs/samples/sample8.cs)]

<span data-ttu-id="9c69d-207">Všimněte si přidání proměnné na úrovni stránky `allProducts`.</span><span class="sxs-lookup"><span data-stu-id="9c69d-207">Note the addition of the page-level variable, `allProducts`.</span></span> <span data-ttu-id="9c69d-208">Tím se uchovávají informace o všech produktech a vyplní se při prvním vyvolání metody `GetProductsInCategory(categoryID)`.</span><span class="sxs-lookup"><span data-stu-id="9c69d-208">This holds information about all of the products and is populated the first time the `GetProductsInCategory(categoryID)` method is invoked.</span></span> <span data-ttu-id="9c69d-209">Po zajistěte, aby byl objekt `allProducts` vytvořen a naplněn, metoda vyfiltruje výsledky DataTable, aby byly přístupné pouze ty řádky, jejichž `CategoryID` odpovídá zadanému `CategoryID`.</span><span class="sxs-lookup"><span data-stu-id="9c69d-209">After ensuring that the `allProducts` object has been created and populated, the method filters the DataTable s results such that only those rows whose `CategoryID` matches the specified `CategoryID` are accessible.</span></span> <span data-ttu-id="9c69d-210">Tento přístup snižuje počet přístupů k databázi z *N* + 1 dolů na dvě.</span><span class="sxs-lookup"><span data-stu-id="9c69d-210">This approach reduces the number of times the database is accessed from *N* + 1 down to two.</span></span>

<span data-ttu-id="9c69d-211">Toto vylepšení nezavádí žádné změny vykresleného kódu stránky ani nevrací méně záznamů než druhý přístup.</span><span class="sxs-lookup"><span data-stu-id="9c69d-211">This enhancement does not introduce any change to the rendered markup of the page, nor does it bring back fewer records than the other approach.</span></span> <span data-ttu-id="9c69d-212">Jednoduše snižuje počet volání databáze.</span><span class="sxs-lookup"><span data-stu-id="9c69d-212">It simply reduces the number of calls to the database.</span></span>

> [!NOTE]
> <span data-ttu-id="9c69d-213">Jedním z nich může být intuitivní důvod, který snižuje počet přístupů k databázím, což zvyšuje výkon.</span><span class="sxs-lookup"><span data-stu-id="9c69d-213">One might intuitively reason that reducing the number of database accesses would assuredly improve performance.</span></span> <span data-ttu-id="9c69d-214">To ale nemusí být případ.</span><span class="sxs-lookup"><span data-stu-id="9c69d-214">However, this might not be the case.</span></span> <span data-ttu-id="9c69d-215">Pokud máte velký počet produktů, jejichž `CategoryID` je `NULL`například, pak volání metody `GetProducts` vrátí počet produktů, které nejsou nikdy zobrazeny.</span><span class="sxs-lookup"><span data-stu-id="9c69d-215">If you have a large number of products whose `CategoryID` is `NULL`, for example, then the call to the `GetProducts` method returns a number of products that are never displayed.</span></span> <span data-ttu-id="9c69d-216">Kromě toho může být vrácení všech produktů wasteful, pokud znovu zobrazíte pouze podmnožinu kategorií, což může být případ, pokud jste implementovali stránkování.</span><span class="sxs-lookup"><span data-stu-id="9c69d-216">Moreover, returning all of the products can be wasteful if you re only showing a subset of the categories, which might be the case if you have implemented paging.</span></span>

<span data-ttu-id="9c69d-217">Stejně jako vždy, když přichází k analýze výkonu dvou technik, je jedinou surefireou mírou spuštění řízených testů přizpůsobených pro běžné scénáře v případě použití aplikace.</span><span class="sxs-lookup"><span data-stu-id="9c69d-217">As always, when it comes to analyzing the performance of two techniques, the only surefire measure is to run controlled tests tailored for your application s common case scenarios.</span></span>

## <a name="summary"></a><span data-ttu-id="9c69d-218">Přehled</span><span class="sxs-lookup"><span data-stu-id="9c69d-218">Summary</span></span>

<span data-ttu-id="9c69d-219">V tomto kurzu jsme viděli, jak v rámci sebe vnořovat webové ovládací prvky pro data, konkrétně si prozkoumáte, jak má vnější opakovač Zobrazit položku pro každou kategorii s vnitřním opakovačem, který obsahuje seznam produktů pro každou kategorii v seznamu s odrážkami.</span><span class="sxs-lookup"><span data-stu-id="9c69d-219">In this tutorial we saw how to nest one data Web control within another, specifically examining how to have an outer Repeater display an item for each category with an inner Repeater listing the products for each category in a bulleted list.</span></span> <span data-ttu-id="9c69d-220">Hlavní výzva při sestavování vnořeného uživatelského rozhraní je v přístupu a vázání správných dat k webovému ovládacímu prvku pro vnitřní data.</span><span class="sxs-lookup"><span data-stu-id="9c69d-220">The main challenge in building a nested user interface lies in accessing and binding the correct data to the inner data Web control.</span></span> <span data-ttu-id="9c69d-221">K dispozici je celá řada techniků, z nichž dva jsme prozkoumali v tomto kurzu.</span><span class="sxs-lookup"><span data-stu-id="9c69d-221">There are a variety of techniques available, two of which we examined in this tutorial.</span></span> <span data-ttu-id="9c69d-222">První metoda zkoumala použití prvku ObjectDataSource v ovládacím prvku webového ovládacího prvku s vnějším daty `ItemTemplate`, který byl svázán s ovládacím prvkem pro vnitřní data prostřednictvím jeho vlastnosti `DataSourceID`.</span><span class="sxs-lookup"><span data-stu-id="9c69d-222">The first approach examined used an ObjectDataSource in the outer data Web control s `ItemTemplate` that was bound to the inner data Web control through its `DataSourceID` property.</span></span> <span data-ttu-id="9c69d-223">Druhá technika získala data prostřednictvím metody ve třídě ASP.NET stránky s kódem na pozadí.</span><span class="sxs-lookup"><span data-stu-id="9c69d-223">The second technique accessed the data via a method in the ASP.NET page s code-behind class.</span></span> <span data-ttu-id="9c69d-224">Tato metoda může být svázána s vlastností webového ovládacího prvku s vnitřním daty `DataSource` prostřednictvím syntaxe datové vazby.</span><span class="sxs-lookup"><span data-stu-id="9c69d-224">This method can then be bound to the inner data Web control s `DataSource` property through databinding syntax.</span></span>

<span data-ttu-id="9c69d-225">Přestože vložené uživatelské rozhraní v tomto kurzu použilo pro opakování vnořený argument, lze tyto techniky rozšířit na jiné webové ovládací prvky dat.</span><span class="sxs-lookup"><span data-stu-id="9c69d-225">While the nested user interface examined in this tutorial used a Repeater nested within a Repeater, these techniques can be extended to the other data Web controls.</span></span> <span data-ttu-id="9c69d-226">Můžete vnořit Repeater do prvku GridView nebo GridView v rámci prvku DataList a tak dále.</span><span class="sxs-lookup"><span data-stu-id="9c69d-226">You can nest a Repeater within a GridView, or a GridView within a DataList, and so on.</span></span>

<span data-ttu-id="9c69d-227">Šťastné programování!</span><span class="sxs-lookup"><span data-stu-id="9c69d-227">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="9c69d-228">O autorovi</span><span class="sxs-lookup"><span data-stu-id="9c69d-228">About the Author</span></span>

<span data-ttu-id="9c69d-229">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), autor 7 ASP/ASP. NET Books a zakladatel of [4GuysFromRolla.com](http://www.4guysfromrolla.com), pracoval s webovými technologiemi Microsoftu od 1998.</span><span class="sxs-lookup"><span data-stu-id="9c69d-229">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="9c69d-230">Scott funguje jako nezávislý konzultant, Trainer a zapisovač.</span><span class="sxs-lookup"><span data-stu-id="9c69d-230">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="9c69d-231">Nejnovější kniha je [*Sams naučit se ASP.NET 2,0 za 24 hodin*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="9c69d-231">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="9c69d-232">Dá se získat na [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="9c69d-232">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span> <span data-ttu-id="9c69d-233">nebo prostřednictvím svého blogu, který najdete na adrese [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span><span class="sxs-lookup"><span data-stu-id="9c69d-233">or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

## <a name="special-thanks-to"></a><span data-ttu-id="9c69d-234">Zvláštní díky</span><span class="sxs-lookup"><span data-stu-id="9c69d-234">Special Thanks To</span></span>

<span data-ttu-id="9c69d-235">Tato řada kurzů byla přezkoumána mnoha užitečnými kontrolory.</span><span class="sxs-lookup"><span data-stu-id="9c69d-235">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="9c69d-236">Kontroloři vedoucích k tomuto kurzu byli Zack Novotný a Liz Shulok.</span><span class="sxs-lookup"><span data-stu-id="9c69d-236">Lead reviewers for this tutorial were Zack Jones and Liz Shulok.</span></span> <span data-ttu-id="9c69d-237">Uvažujete o přezkoumání mých nadcházejících článků na webu MSDN?</span><span class="sxs-lookup"><span data-stu-id="9c69d-237">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="9c69d-238">Pokud ano, vyřaďte mi řádek na [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="9c69d-238">If so, drop me a line at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="9c69d-239">[Předchozí](showing-multiple-records-per-row-with-the-datalist-control-cs.md)
> [Další](displaying-data-with-the-datalist-and-repeater-controls-vb.md)</span><span class="sxs-lookup"><span data-stu-id="9c69d-239">[Previous](showing-multiple-records-per-row-with-the-datalist-control-cs.md)
[Next](displaying-data-with-the-datalist-and-repeater-controls-vb.md)</span></span>
