---
uid: web-forms/overview/data-access/enhancing-the-gridview/adding-a-gridview-column-of-checkboxes-cs
title: Přidání sloupce zaškrtávacích políček do prvku GridViewC#() | Microsoft Docs
author: rick-anderson
description: V tomto kurzu se podíváme na postup přidání sloupce zaškrtávacích políček do ovládacího prvku GridView, který uživateli poskytne intuitivní způsob výběru více řádků G...
ms.author: riande
ms.date: 03/06/2007
ms.assetid: f63a9443-2db0-4f80-8246-840d3e86c2a3
msc.legacyurl: /web-forms/overview/data-access/enhancing-the-gridview/adding-a-gridview-column-of-checkboxes-cs
msc.type: authoredcontent
ms.openlocfilehash: b9d1ed50e8d88202c3286b4cd0e9ebf111dfbe21
ms.sourcegitcommit: 22fbd8863672c4ad6693b8388ad5c8e753fb41a2
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 11/28/2019
ms.locfileid: "74592484"
---
# <a name="adding-a-gridview-column-of-checkboxes-c"></a><span data-ttu-id="57bf1-103">Přidání sloupce zaškrtávacích políček do ovládacího prvku GridView (C#)</span><span class="sxs-lookup"><span data-stu-id="57bf1-103">Adding a GridView Column of Checkboxes (C#)</span></span>

<span data-ttu-id="57bf1-104">[Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="57bf1-104">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="57bf1-105">[Stáhnout ukázkovou aplikaci](https://download.microsoft.com/download/4/a/7/4a7a3b18-d80e-4014-8e53-a6a2427f0d93/ASPNET_Data_Tutorial_52_CS.exe) nebo [Stáhnout PDF](adding-a-gridview-column-of-checkboxes-cs/_static/datatutorial52cs1.pdf)</span><span class="sxs-lookup"><span data-stu-id="57bf1-105">[Download Sample App](https://download.microsoft.com/download/4/a/7/4a7a3b18-d80e-4014-8e53-a6a2427f0d93/ASPNET_Data_Tutorial_52_CS.exe) or [Download PDF](adding-a-gridview-column-of-checkboxes-cs/_static/datatutorial52cs1.pdf)</span></span>

> <span data-ttu-id="57bf1-106">V tomto kurzu se podíváme na postup přidání sloupce zaškrtávacích políček do ovládacího prvku GridView, který uživateli poskytne intuitivní způsob výběru více řádků prvku GridView.</span><span class="sxs-lookup"><span data-stu-id="57bf1-106">This tutorial looks at how to add a column of check boxes to a GridView control to provide the user with an intuitive way of selecting multiple rows of the GridView.</span></span>

## <a name="introduction"></a><span data-ttu-id="57bf1-107">Úvod</span><span class="sxs-lookup"><span data-stu-id="57bf1-107">Introduction</span></span>

<span data-ttu-id="57bf1-108">V předchozím kurzu jsme prozkoumali, jak do prvku GridView přidat sloupec přepínacích tlačítek pro účely výběru konkrétního záznamu.</span><span class="sxs-lookup"><span data-stu-id="57bf1-108">In the preceding tutorial we examined how to add a column of radio buttons to the GridView for the purpose of selecting a particular record.</span></span> <span data-ttu-id="57bf1-109">Sloupec přepínacích tlačítek je vhodné uživatelské rozhraní, když je uživatel omezen na výběr maximálně jedné položky z mřížky.</span><span class="sxs-lookup"><span data-stu-id="57bf1-109">A column of radio buttons is a suitable user interface when the user is limited to choosing at most one item from the grid.</span></span> <span data-ttu-id="57bf1-110">Občas ale můžeme chtít uživateli dovolit vybrat libovolný počet položek z mřížky.</span><span class="sxs-lookup"><span data-stu-id="57bf1-110">At times, however, we may want to allow the user to pick an arbitrary number of items from the grid.</span></span> <span data-ttu-id="57bf1-111">Webové e-mailové klienty, například obvykle zobrazují seznam zpráv se sloupcem zaškrtávacích políček.</span><span class="sxs-lookup"><span data-stu-id="57bf1-111">Web-based email clients, for example, typically display the list of messages with a column of checkboxes.</span></span> <span data-ttu-id="57bf1-112">Uživatel může vybrat libovolný počet zpráv a pak provést některé akce, například přesunutí e-mailů do jiné složky nebo jejich odstranění.</span><span class="sxs-lookup"><span data-stu-id="57bf1-112">The user can select an arbitrary number of messages and then perform some action, such as moving the emails to another folder or deleting them.</span></span>

<span data-ttu-id="57bf1-113">V tomto kurzu se dozvíte, jak přidat sloupec zaškrtávacích políček a jak určit, která zaškrtávací políčka byla kontrolována při postbacku.</span><span class="sxs-lookup"><span data-stu-id="57bf1-113">In this tutorial we will see how to add a column of checkboxes and how to determine what checkboxes were checked on postback.</span></span> <span data-ttu-id="57bf1-114">Konkrétně sestavíme příklad, který bude úzce napodobovat webové uživatelské rozhraní e-mailového klienta.</span><span class="sxs-lookup"><span data-stu-id="57bf1-114">In particular, we'll build an example that closely mimics the web-based email client user interface.</span></span> <span data-ttu-id="57bf1-115">Náš příklad obsahuje stránkované zobrazení obsahující seznam produktů v tabulce databáze `Products` a zaškrtávací políčko v každém řádku (viz obrázek 1).</span><span class="sxs-lookup"><span data-stu-id="57bf1-115">Our example will include a paged GridView listing the products in the `Products` database table with a checkbox in each row (see Figure 1).</span></span> <span data-ttu-id="57bf1-116">Tlačítko Odstranit vybrané produkty po kliknutí odstraní vybrané produkty.</span><span class="sxs-lookup"><span data-stu-id="57bf1-116">A Delete Selected Products button, when clicked, will delete those products selected.</span></span>

<span data-ttu-id="57bf1-117">[![každý řádek produktu obsahuje zaškrtávací políčko](adding-a-gridview-column-of-checkboxes-cs/_static/image1.gif)](adding-a-gridview-column-of-checkboxes-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="57bf1-117">[![Each Product Row Includes a Checkbox](adding-a-gridview-column-of-checkboxes-cs/_static/image1.gif)](adding-a-gridview-column-of-checkboxes-cs/_static/image1.png)</span></span>

<span data-ttu-id="57bf1-118">**Obrázek 1**: každý řádek produktu obsahuje zaškrtávací políčko ([kliknutím zobrazíte obrázek v plné velikosti](adding-a-gridview-column-of-checkboxes-cs/_static/image2.png)).</span><span class="sxs-lookup"><span data-stu-id="57bf1-118">**Figure 1**: Each Product Row Includes a Checkbox ([Click to view full-size image](adding-a-gridview-column-of-checkboxes-cs/_static/image2.png))</span></span>

## <a name="step-1-adding-a-paged-gridview-that-lists-product-information"></a><span data-ttu-id="57bf1-119">Krok 1: Přidání stránkovaného prvku GridView, který obsahuje informace o produktu</span><span class="sxs-lookup"><span data-stu-id="57bf1-119">Step 1: Adding a Paged GridView that Lists Product Information</span></span>

<span data-ttu-id="57bf1-120">Předtím, než se obáváme o přidání sloupce zaškrtávacích políček, se nejdříve zaměřte na výpis produktů v prvku GridView, který podporuje stránkování.</span><span class="sxs-lookup"><span data-stu-id="57bf1-120">Before we worry about adding a column of checkboxes, let s first focus on listing the products in a GridView that supports paging.</span></span> <span data-ttu-id="57bf1-121">Začněte otevřením stránky `CheckBoxField.aspx` ve složce `EnhancedGridView` a přetažením prvku GridView z panelu nástrojů do návrháře, nastavením jeho `ID` na `Products`.</span><span class="sxs-lookup"><span data-stu-id="57bf1-121">Start by opening the `CheckBoxField.aspx` page in the `EnhancedGridView` folder and drag a GridView from the Toolbox onto the Designer, setting its `ID` to `Products`.</span></span> <span data-ttu-id="57bf1-122">Dále můžete zvolit svázání prvku GridView s novým prvkem ObjectDataSource s názvem `ProductsDataSource`.</span><span class="sxs-lookup"><span data-stu-id="57bf1-122">Next, choose to bind the GridView to a new ObjectDataSource named `ProductsDataSource`.</span></span> <span data-ttu-id="57bf1-123">Nakonfigurujte prvek ObjectDataSource tak, aby používal třídu `ProductsBLL`, zavoláním metody `GetProducts()`, která vrátí data.</span><span class="sxs-lookup"><span data-stu-id="57bf1-123">Configure the ObjectDataSource to use the `ProductsBLL` class, calling the `GetProducts()` method to return the data.</span></span> <span data-ttu-id="57bf1-124">Vzhledem k tomu, že tento prvek GridView bude jen pro čtení, nastavte rozevírací seznamy na kartách aktualizace, vložení a odstranění na (žádné).</span><span class="sxs-lookup"><span data-stu-id="57bf1-124">Since this GridView will be read-only, set the drop-down lists in the UPDATE, INSERT, and DELETE tabs to (None) .</span></span>

<span data-ttu-id="57bf1-125">[![vytvořit nový prvek ObjectDataSource s názvem ProductsDataSource](adding-a-gridview-column-of-checkboxes-cs/_static/image2.gif)](adding-a-gridview-column-of-checkboxes-cs/_static/image3.png)</span><span class="sxs-lookup"><span data-stu-id="57bf1-125">[![Create a New ObjectDataSource Named ProductsDataSource](adding-a-gridview-column-of-checkboxes-cs/_static/image2.gif)](adding-a-gridview-column-of-checkboxes-cs/_static/image3.png)</span></span>

<span data-ttu-id="57bf1-126">**Obrázek 2**: vytvoření nového prvku ObjectDataSource s názvem `ProductsDataSource` ([kliknutím zobrazíte obrázek v plné velikosti](adding-a-gridview-column-of-checkboxes-cs/_static/image4.png))</span><span class="sxs-lookup"><span data-stu-id="57bf1-126">**Figure 2**: Create a New ObjectDataSource Named `ProductsDataSource` ([Click to view full-size image](adding-a-gridview-column-of-checkboxes-cs/_static/image4.png))</span></span>

<span data-ttu-id="57bf1-127">[![nakonfigurovat prvek ObjectDataSource pro načtení dat pomocí metody GetProducts ()](adding-a-gridview-column-of-checkboxes-cs/_static/image3.gif)](adding-a-gridview-column-of-checkboxes-cs/_static/image5.png)</span><span class="sxs-lookup"><span data-stu-id="57bf1-127">[![Configure the ObjectDataSource to Retrieve Data Using the GetProducts() Method](adding-a-gridview-column-of-checkboxes-cs/_static/image3.gif)](adding-a-gridview-column-of-checkboxes-cs/_static/image5.png)</span></span>

<span data-ttu-id="57bf1-128">**Obrázek 3**: Konfigurace prvku ObjectDataSource pro načtení dat pomocí metody `GetProducts()` ([kliknutím zobrazíte obrázek v plné velikosti](adding-a-gridview-column-of-checkboxes-cs/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="57bf1-128">**Figure 3**: Configure the ObjectDataSource to Retrieve Data Using the `GetProducts()` Method ([Click to view full-size image](adding-a-gridview-column-of-checkboxes-cs/_static/image6.png))</span></span>

<span data-ttu-id="57bf1-129">[![nastavení rozevíracích seznamů na kartách aktualizace, vložení a odstranění na (žádné)](adding-a-gridview-column-of-checkboxes-cs/_static/image4.gif)](adding-a-gridview-column-of-checkboxes-cs/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="57bf1-129">[![Set the Drop-Down Lists in the UPDATE, INSERT, and DELETE Tabs to (None)](adding-a-gridview-column-of-checkboxes-cs/_static/image4.gif)](adding-a-gridview-column-of-checkboxes-cs/_static/image7.png)</span></span>

<span data-ttu-id="57bf1-130">**Obrázek 4**: nastavení rozevíracích seznamů na kartách aktualizace, vložení a odstranění na (žádné) ([kliknutím zobrazíte obrázek v plné velikosti).](adding-a-gridview-column-of-checkboxes-cs/_static/image8.png)</span><span class="sxs-lookup"><span data-stu-id="57bf1-130">**Figure 4**: Set the Drop-Down Lists in the UPDATE, INSERT, and DELETE Tabs to (None) ([Click to view full-size image](adding-a-gridview-column-of-checkboxes-cs/_static/image8.png))</span></span>

<span data-ttu-id="57bf1-131">Po dokončení Průvodce konfigurací zdroje dat vytvoří Visual Studio pro datová pole související s produktem automaticky ovládací prvky pro vytváření vázaných dat a CheckBoxColumn.</span><span class="sxs-lookup"><span data-stu-id="57bf1-131">After completing the Configure Data Source wizard, Visual Studio will automatically create BoundColumns and a CheckBoxColumn for the product-related data fields.</span></span> <span data-ttu-id="57bf1-132">Stejně jako v předchozím kurzu odeberte všechny kromě `ProductName`, `CategoryName`a `UnitPrice` BoundFields a změňte `HeaderText` vlastnosti na produkt, kategorii a cenu.</span><span class="sxs-lookup"><span data-stu-id="57bf1-132">Like we did in the previous tutorial, remove all but the `ProductName`, `CategoryName`, and `UnitPrice` BoundFields, and change the `HeaderText` properties to Product, Category, and Price.</span></span> <span data-ttu-id="57bf1-133">Nakonfigurujte `UnitPrice` vlastnost BoundField, aby se jeho hodnota formátovala jako měna.</span><span class="sxs-lookup"><span data-stu-id="57bf1-133">Configure the `UnitPrice` BoundField so that its value is formatted as a currency.</span></span> <span data-ttu-id="57bf1-134">Také nakonfigurujte prvek GridView tak, aby podporoval stránkování zaškrtnutím políčka Povolit stránkování z inteligentní značky.</span><span class="sxs-lookup"><span data-stu-id="57bf1-134">Also configure the GridView to support paging by checking the Enable Paging checkbox from the smart tag.</span></span>

<span data-ttu-id="57bf1-135">Umožňuje také přidat uživatelské rozhraní pro odstranění vybraných produktů.</span><span class="sxs-lookup"><span data-stu-id="57bf1-135">Let s also add the user interface for deleting the selected products.</span></span> <span data-ttu-id="57bf1-136">Přidejte webové ovládací prvky tlačítko pod prvek GridView, nastavením jeho `ID` na `DeleteSelectedProducts` a jeho vlastnost `Text` k odstranění vybraných produktů.</span><span class="sxs-lookup"><span data-stu-id="57bf1-136">Add a Button Web control beneath the GridView, setting its `ID` to `DeleteSelectedProducts` and its `Text` property to Delete Selected Products.</span></span> <span data-ttu-id="57bf1-137">Místo toho, abyste z databáze skutečně odstranili produkty, se v tomto příkladu zobrazí jen zpráva s informacemi o tom, které produkty byly odstraněny.</span><span class="sxs-lookup"><span data-stu-id="57bf1-137">Rather than actually deleting products from the database, for this example we'll just display a message stating the products that would have been deleted.</span></span> <span data-ttu-id="57bf1-138">Chcete-li to přizpůsobit, přidejte ovládací prvek popisek webu pod tlačítko.</span><span class="sxs-lookup"><span data-stu-id="57bf1-138">To accommodate this, add a Label Web control beneath the Button.</span></span> <span data-ttu-id="57bf1-139">Nastavte jeho ID na `DeleteResults`, vymažte jeho vlastnost `Text` a nastavte jeho vlastnosti `Visible` a `EnableViewState` na `false`.</span><span class="sxs-lookup"><span data-stu-id="57bf1-139">Set its ID to `DeleteResults`, clear out its `Text` property, and set its `Visible` and `EnableViewState` properties to `false`.</span></span>

<span data-ttu-id="57bf1-140">Po provedení těchto změn by deklarativní označení GridView, ObjectDataSource, Button a Label s popisky měly vypadat podobně jako následující:</span><span class="sxs-lookup"><span data-stu-id="57bf1-140">After making these changes, the GridView, ObjectDataSource, Button, and Label s declarative markup should similar to the following:</span></span>

[!code-aspx[Main](adding-a-gridview-column-of-checkboxes-cs/samples/sample1.aspx)]

<span data-ttu-id="57bf1-141">Chvíli si zobrazte stránku v prohlížeči (viz obrázek 5).</span><span class="sxs-lookup"><span data-stu-id="57bf1-141">Take a moment to view the page in a browser (see Figure 5).</span></span> <span data-ttu-id="57bf1-142">V tomto okamžiku byste měli vidět název, kategorii a cenu prvních deseti produktů.</span><span class="sxs-lookup"><span data-stu-id="57bf1-142">At this point you should see the name, category, and price of the first ten products.</span></span>

<span data-ttu-id="57bf1-143">[![je uveden název, kategorie a cena za prvních deset produktů.](adding-a-gridview-column-of-checkboxes-cs/_static/image5.gif)](adding-a-gridview-column-of-checkboxes-cs/_static/image9.png)</span><span class="sxs-lookup"><span data-stu-id="57bf1-143">[![The Name, Category, and Price of the First Ten Products are Listed](adding-a-gridview-column-of-checkboxes-cs/_static/image5.gif)](adding-a-gridview-column-of-checkboxes-cs/_static/image9.png)</span></span>

<span data-ttu-id="57bf1-144">**Obrázek 5**: v seznamu je uveden název, kategorie a cena prvních deseti produktů ([kliknutím zobrazíte obrázek v plné velikosti](adding-a-gridview-column-of-checkboxes-cs/_static/image10.png)).</span><span class="sxs-lookup"><span data-stu-id="57bf1-144">**Figure 5**: The Name, Category, and Price of the First Ten Products are Listed ([Click to view full-size image](adding-a-gridview-column-of-checkboxes-cs/_static/image10.png))</span></span>

## <a name="step-2-adding-a-column-of-checkboxes"></a><span data-ttu-id="57bf1-145">Krok 2: Přidání sloupce zaškrtávacích políček</span><span class="sxs-lookup"><span data-stu-id="57bf1-145">Step 2: Adding a Column of Checkboxes</span></span>

<span data-ttu-id="57bf1-146">Vzhledem k tomu, že ASP.NET 2,0 obsahuje třídě CheckBoxField podporována, může se stát, že se dá použít k přidání sloupce zaškrtávacích políček do prvku GridView.</span><span class="sxs-lookup"><span data-stu-id="57bf1-146">Since ASP.NET 2.0 includes a CheckBoxField, one might think that it could be used to add a column of checkboxes to a GridView.</span></span> <span data-ttu-id="57bf1-147">Bohužel, to znamená, že třídě CheckBoxField podporována je navržen pro práci s logickým datovým polem.</span><span class="sxs-lookup"><span data-stu-id="57bf1-147">Unfortunately, that is not the case, as the CheckBoxField is designed to work with a Boolean data field.</span></span> <span data-ttu-id="57bf1-148">To znamená, že aby bylo možné použít třídě CheckBoxField podporována, je nutné zadat podkladové datové pole, jehož hodnota je kontrolována, aby bylo zjištěno, zda je zaškrtnuté políčko vykresleno.</span><span class="sxs-lookup"><span data-stu-id="57bf1-148">That is, in order to use the CheckBoxField we must specify the underlying data field whose value is consulted to determine whether the rendered checkbox is checked.</span></span> <span data-ttu-id="57bf1-149">Třídě CheckBoxField podporována nemůžeme použít pro pouhé zahrnutí sloupce nezaškrtnutých políček.</span><span class="sxs-lookup"><span data-stu-id="57bf1-149">We cannot use the CheckBoxField to just include a column of unchecked checkboxes.</span></span>

<span data-ttu-id="57bf1-150">Místo toho je nutné přidat TemplateField a přidat webový ovládací prvek CheckBox do jeho `ItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="57bf1-150">Instead, we must add a TemplateField and add a CheckBox Web control to its `ItemTemplate`.</span></span> <span data-ttu-id="57bf1-151">Pokračujte a přidejte TemplateField do `Products` GridView a nastavte ho jako první (úplně vlevo) pole.</span><span class="sxs-lookup"><span data-stu-id="57bf1-151">Go ahead and add a TemplateField to the `Products` GridView and make it the first (far-left) field.</span></span> <span data-ttu-id="57bf1-152">Z inteligentní značky GridView s klikněte na odkaz Upravit šablony a přetáhněte webový ovládací prvek CheckBox ze sady nástrojů do `ItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="57bf1-152">From the GridView s smart tag, click on the Edit Templates link and then drag a CheckBox Web control from the Toolbox into the `ItemTemplate`.</span></span> <span data-ttu-id="57bf1-153">Nastavte tuto vlastnost `ID` vlastností na `ProductSelector`.</span><span class="sxs-lookup"><span data-stu-id="57bf1-153">Set this CheckBox s `ID` property to `ProductSelector`.</span></span>

<span data-ttu-id="57bf1-154">[![přidat webový ovládací prvek CheckBox s názvem ProductSelector do vlastnosti TemplateField s ItemTemplate](adding-a-gridview-column-of-checkboxes-cs/_static/image6.gif)](adding-a-gridview-column-of-checkboxes-cs/_static/image11.png)</span><span class="sxs-lookup"><span data-stu-id="57bf1-154">[![Add a CheckBox Web Control Named ProductSelector to the TemplateField s ItemTemplate](adding-a-gridview-column-of-checkboxes-cs/_static/image6.gif)](adding-a-gridview-column-of-checkboxes-cs/_static/image11.png)</span></span>

<span data-ttu-id="57bf1-155">**Obrázek 6**: Přidejte webový ovládací prvek CheckBox s názvem `ProductSelector` do `ItemTemplate` TemplateField s ([kliknutím zobrazíte obrázek v plné velikosti).](adding-a-gridview-column-of-checkboxes-cs/_static/image12.png)</span><span class="sxs-lookup"><span data-stu-id="57bf1-155">**Figure 6**: Add a CheckBox Web Control Named `ProductSelector` to the TemplateField s `ItemTemplate` ([Click to view full-size image](adding-a-gridview-column-of-checkboxes-cs/_static/image12.png))</span></span>

<span data-ttu-id="57bf1-156">Po přidání webového ovládacího prvku TemplateField a CheckBox teď každý řádek obsahuje zaškrtávací políčko.</span><span class="sxs-lookup"><span data-stu-id="57bf1-156">With the TemplateField and CheckBox Web control added, each row now includes a checkbox.</span></span> <span data-ttu-id="57bf1-157">Obrázek 7 ukazuje tuto stránku při zobrazení v prohlížeči po přidání pole TemplateField a CheckBox.</span><span class="sxs-lookup"><span data-stu-id="57bf1-157">Figure 7 shows this page, when viewed through a browser, after the TemplateField and CheckBox have been added.</span></span>

<span data-ttu-id="57bf1-158">[![každý produktový řádek teď obsahuje zaškrtávací políčko.](adding-a-gridview-column-of-checkboxes-cs/_static/image7.gif)](adding-a-gridview-column-of-checkboxes-cs/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="57bf1-158">[![Each Product Row Now Includes a Checkbox](adding-a-gridview-column-of-checkboxes-cs/_static/image7.gif)](adding-a-gridview-column-of-checkboxes-cs/_static/image13.png)</span></span>

<span data-ttu-id="57bf1-159">**Obrázek 7**: každý produktový řádek teď obsahuje zaškrtávací políčko ([kliknutím zobrazíte obrázek v plné velikosti](adding-a-gridview-column-of-checkboxes-cs/_static/image14.png)).</span><span class="sxs-lookup"><span data-stu-id="57bf1-159">**Figure 7**: Each Product Row Now Includes a Checkbox ([Click to view full-size image](adding-a-gridview-column-of-checkboxes-cs/_static/image14.png))</span></span>

## <a name="step-3-determining-what-checkboxes-were-checked-on-postback"></a><span data-ttu-id="57bf1-160">Krok 3: určení, která zaškrtávací políčka byla kontrolována při postbacku</span><span class="sxs-lookup"><span data-stu-id="57bf1-160">Step 3: Determining What Checkboxes Were Checked On Postback</span></span>

<span data-ttu-id="57bf1-161">V tuto chvíli máme sloupec se zaškrtávacími políčky, ale neexistuje žádný způsob, jak určit, která zaškrtávací políčka byla zkontrolována při zpětném odeslání.</span><span class="sxs-lookup"><span data-stu-id="57bf1-161">At this point we have a column of checkboxes but no way to determine what checkboxes were checked on postback.</span></span> <span data-ttu-id="57bf1-162">Když se klikne na tlačítko Odstranit vybrané produkty, potřebujeme, abyste věděli, jaké zaškrtávací políčko bylo zkontrolováno, aby bylo možné tyto produkty odstranit.</span><span class="sxs-lookup"><span data-stu-id="57bf1-162">When the Delete Selected Products button is clicked, though, we need to know what checkboxes were checked in order to delete those products.</span></span>

<span data-ttu-id="57bf1-163">Vlastnost GridView s [`Rows`](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.rows.aspx) poskytuje přístup k datovým řádkům v prvku GridView.</span><span class="sxs-lookup"><span data-stu-id="57bf1-163">The GridView s [`Rows` property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.rows.aspx) provides access to the data rows in the GridView.</span></span> <span data-ttu-id="57bf1-164">Můžeme iterovat prostřednictvím těchto řádků, programově získat přístup k ovládacímu prvku CheckBox a potom pomocí jeho vlastnosti `Checked` zjistit, zda bylo políčko zaškrtnuto.</span><span class="sxs-lookup"><span data-stu-id="57bf1-164">We can iterate through these rows, programmatically access the CheckBox control, and then consult its `Checked` property to determine whether the CheckBox has been selected.</span></span>

<span data-ttu-id="57bf1-165">Vytvořte obslužnou rutinu události pro webové ovládací prvky tlačítko `DeleteSelectedProducts` `Click` událost a přidejte následující kód:</span><span class="sxs-lookup"><span data-stu-id="57bf1-165">Create an event handler for the `DeleteSelectedProducts` Button Web control s `Click` event and add the following code:</span></span>

[!code-csharp[Main](adding-a-gridview-column-of-checkboxes-cs/samples/sample2.cs)]

<span data-ttu-id="57bf1-166">Vlastnost `Rows` vrací kolekci instancí `GridViewRow`, které strukturu datové řádky GridView s.</span><span class="sxs-lookup"><span data-stu-id="57bf1-166">The `Rows` property returns a collection of `GridViewRow` instances that makeup the GridView s data rows.</span></span> <span data-ttu-id="57bf1-167">Zde `foreach` cyklus vyčíslí tuto kolekci.</span><span class="sxs-lookup"><span data-stu-id="57bf1-167">The `foreach` loop here enumerates this collection.</span></span> <span data-ttu-id="57bf1-168">Pro každý objekt `GridViewRow` je zaškrtávací políčko řádky s programově dostupné pomocí `row.FindControl("controlID")`.</span><span class="sxs-lookup"><span data-stu-id="57bf1-168">For each `GridViewRow` object, the row s CheckBox is programmatically accessed using `row.FindControl("controlID")`.</span></span> <span data-ttu-id="57bf1-169">Pokud je zaškrtávací políčko zaškrtnuto, bude z kolekce `DataKeys` načtena odpovídající hodnota `ProductID`.</span><span class="sxs-lookup"><span data-stu-id="57bf1-169">If the CheckBox is checked, the row s corresponding `ProductID` value is retrieved from the `DataKeys` collection.</span></span> <span data-ttu-id="57bf1-170">V tomto cvičení jednoduše zobrazíme informativní zprávu v popisku `DeleteResults`, i když v pracovní aplikaci zavoláme metodu `DeleteProduct(productID)` `ProductsBLL` třídy s.</span><span class="sxs-lookup"><span data-stu-id="57bf1-170">In this exercise, we simply display an informative message in the `DeleteResults` Label, although in a working application we d instead make a call to the `ProductsBLL` class s `DeleteProduct(productID)` method.</span></span>

<span data-ttu-id="57bf1-171">Po přidání této obslužné rutiny události se kliknutím na tlačítko Odstranit vybrané produkty teď zobrazí `ProductID` s vybraných produktů.</span><span class="sxs-lookup"><span data-stu-id="57bf1-171">With the addition of this event handler, clicking the Delete Selected Products button now displays the `ProductID` s of the selected products.</span></span>

<span data-ttu-id="57bf1-172">[![, když se klikne na tlačítko Odstranit vybrané produkty, zobrazí se vybrané produkty ProductID.](adding-a-gridview-column-of-checkboxes-cs/_static/image8.gif)](adding-a-gridview-column-of-checkboxes-cs/_static/image15.png)</span><span class="sxs-lookup"><span data-stu-id="57bf1-172">[![When the Delete Selected Products Button is Clicked the Selected Products ProductIDs are Listed](adding-a-gridview-column-of-checkboxes-cs/_static/image8.gif)](adding-a-gridview-column-of-checkboxes-cs/_static/image15.png)</span></span>

<span data-ttu-id="57bf1-173">**Obrázek 8**: když se na tlačítko Odstranit vybrané produkty klikne na vybrané produkty `ProductID` s, zobrazí se seznam ([kliknutím zobrazíte obrázek v plné velikosti).](adding-a-gridview-column-of-checkboxes-cs/_static/image16.png)</span><span class="sxs-lookup"><span data-stu-id="57bf1-173">**Figure 8**: When the Delete Selected Products Button is Clicked the Selected Products `ProductID` s are Listed ([Click to view full-size image](adding-a-gridview-column-of-checkboxes-cs/_static/image16.png))</span></span>

## <a name="step-4-adding-check-all-and-uncheck-all-buttons"></a><span data-ttu-id="57bf1-174">Krok 4: přidání všech tlačítek a zrušení kontroly všech tlačítek</span><span class="sxs-lookup"><span data-stu-id="57bf1-174">Step 4: Adding Check All and Uncheck All Buttons</span></span>

<span data-ttu-id="57bf1-175">Pokud chce uživatel odstranit všechny produkty na aktuální stránce, musí zaškrtnout každé deset zaškrtávacích políček.</span><span class="sxs-lookup"><span data-stu-id="57bf1-175">If a user wants to delete all products on the current page, they must check each of the ten checkboxes.</span></span> <span data-ttu-id="57bf1-176">Tento proces můžeme přispět tak, že přidáte tlačítko pro kontrolu všech, které po kliknutí vybere všechna zaškrtávací políčka v mřížce.</span><span class="sxs-lookup"><span data-stu-id="57bf1-176">We can help expedite this process by adding a Check All button that, when clicked, selects all of the checkboxes in the grid.</span></span> <span data-ttu-id="57bf1-177">Tlačítko zrušit kontrolu všech by bylo stejně užitečné.</span><span class="sxs-lookup"><span data-stu-id="57bf1-177">An Uncheck All button would be equally helpful.</span></span>

<span data-ttu-id="57bf1-178">Přidejte dvě webové ovládací prvky tlačítka na stránku a umístěte je nad prvek GridView.</span><span class="sxs-lookup"><span data-stu-id="57bf1-178">Add two Button Web controls to the page, placing them above the GridView.</span></span> <span data-ttu-id="57bf1-179">Nastavte první `ID` s pro `CheckAll` a jeho vlastnost `Text` pro kontrolu všech; nastavte druhý `ID` s `UncheckAll` a jeho vlastnost `Text` na zrušit kontrolu všech.</span><span class="sxs-lookup"><span data-stu-id="57bf1-179">Set the first one s `ID` to `CheckAll` and its `Text` property to Check All ; set the second one s `ID` to `UncheckAll` and its `Text` property to Uncheck All .</span></span>

[!code-aspx[Main](adding-a-gridview-column-of-checkboxes-cs/samples/sample3.aspx)]

<span data-ttu-id="57bf1-180">Dále vytvořte metodu v třídě Code-on s názvem `ToggleCheckState(checkState)`, která při vyvolání vytvoří výčet `Products` kolekce `Rows` GridView. a nastaví každou vlastnost CheckBox s `Checked` na hodnotu předaného parametru *checkState* .</span><span class="sxs-lookup"><span data-stu-id="57bf1-180">Next, create a method in the code-behind class named `ToggleCheckState(checkState)` that, when invoked, enumerates the `Products` GridView s `Rows` collection and sets each CheckBox s `Checked` property to the value of the passed in *checkState* parameter.</span></span>

[!code-csharp[Main](adding-a-gridview-column-of-checkboxes-cs/samples/sample4.cs)]

<span data-ttu-id="57bf1-181">Dále vytvořte obslužné rutiny událostí `Click` pro tlačítka `CheckAll` a `UncheckAll`.</span><span class="sxs-lookup"><span data-stu-id="57bf1-181">Next, create `Click` event handlers for the `CheckAll` and `UncheckAll` buttons.</span></span> <span data-ttu-id="57bf1-182">V obslužné rutině události `CheckAll` s, jednoduše zavolejte `ToggleCheckState(true)`; v `UncheckAll`volejte `ToggleCheckState(false)`.</span><span class="sxs-lookup"><span data-stu-id="57bf1-182">In `CheckAll` s event handler, simply call `ToggleCheckState(true)`; in `UncheckAll`, call `ToggleCheckState(false)`.</span></span>

[!code-csharp[Main](adding-a-gridview-column-of-checkboxes-cs/samples/sample5.cs)]

<span data-ttu-id="57bf1-183">V tomto kódu kliknutím na tlačítko zkontrolovat vše způsobí postback a zkontroluje všechna zaškrtávací políčka v prvku GridView.</span><span class="sxs-lookup"><span data-stu-id="57bf1-183">With this code, clicking the Check All button causes a postback and checks all of the checkboxes in the GridView.</span></span> <span data-ttu-id="57bf1-184">Podobně klikněte na zrušit zaškrtnutí všech políček zrušit výběr.</span><span class="sxs-lookup"><span data-stu-id="57bf1-184">Likewise, clicking Uncheck All unselects all checkboxes.</span></span> <span data-ttu-id="57bf1-185">Obrázek 9 zobrazí obrazovku po zaškrtnutí tlačítka pro kontrolu všech.</span><span class="sxs-lookup"><span data-stu-id="57bf1-185">Figure 9 shows the screen after the Check All button has been checked.</span></span>

<span data-ttu-id="57bf1-186">[![kliknutí na tlačítko pro kontrolu všech výběrová zaškrtávací políčka](adding-a-gridview-column-of-checkboxes-cs/_static/image9.gif)](adding-a-gridview-column-of-checkboxes-cs/_static/image17.png)</span><span class="sxs-lookup"><span data-stu-id="57bf1-186">[![Clicking the Check All Button Selects All Checkboxes](adding-a-gridview-column-of-checkboxes-cs/_static/image9.gif)](adding-a-gridview-column-of-checkboxes-cs/_static/image17.png)</span></span>

<span data-ttu-id="57bf1-187">**Obrázek 9**: kliknutím na tlačítko pro kontrolu všech vyberete zaškrtávací políčka ([kliknutím zobrazíte obrázek v plné velikosti](adding-a-gridview-column-of-checkboxes-cs/_static/image18.png)).</span><span class="sxs-lookup"><span data-stu-id="57bf1-187">**Figure 9**: Clicking the Check All Button Selects All Checkboxes ([Click to view full-size image](adding-a-gridview-column-of-checkboxes-cs/_static/image18.png))</span></span>

> [!NOTE]
> <span data-ttu-id="57bf1-188">Při zobrazování sloupce zaškrtávacích políček je jedním z přístupů k výběru nebo odvolbě všech zaškrtávacích políček zaškrtávací políčko v řádku záhlaví.</span><span class="sxs-lookup"><span data-stu-id="57bf1-188">When displaying a column of checkboxes, one approach for selecting or unselecting all of the checkboxes is through a checkbox in the header row.</span></span> <span data-ttu-id="57bf1-189">Aktuální kontrolu a zrušit kontrolu všech implementací navíc vyžaduje postback.</span><span class="sxs-lookup"><span data-stu-id="57bf1-189">Moreover, the current Check All / Uncheck All implementation requires a postback.</span></span> <span data-ttu-id="57bf1-190">Zaškrtávací políčka lze zaškrtnout nebo zrušit bez zaškrtnutí, ale výhradně prostřednictvím skriptu na straně klienta, čímž zajistíte snappier uživatelské prostředí.</span><span class="sxs-lookup"><span data-stu-id="57bf1-190">The checkboxes can be checked or unchecked, however, entirely through client-side script, thereby providing a snappier user experience.</span></span> <span data-ttu-id="57bf1-191">Chcete-li se podívat na zaškrtávací políčko pro kontrolu všech a zrušit zaškrtnutí všech podrobností, společně s diskusí o používání technik na straně klienta, zaškrtněte políčko kontrolovat [všechna políčka v prvku GridView pomocí skriptu na straně klienta a zaškrtnutím políčka zaškrtnout vše](http://aspnet.4guysfromrolla.com/articles/053106-1.aspx).</span><span class="sxs-lookup"><span data-stu-id="57bf1-191">To explore using a header row checkbox for Check All and Uncheck All in detail, along with a discussion on using client-side techniques, check out [Checking All CheckBoxes in a GridView Using Client-Side Script and a Check All CheckBox](http://aspnet.4guysfromrolla.com/articles/053106-1.aspx).</span></span>

## <a name="summary"></a><span data-ttu-id="57bf1-192">Přehled</span><span class="sxs-lookup"><span data-stu-id="57bf1-192">Summary</span></span>

<span data-ttu-id="57bf1-193">V případech, kdy potřebujete umožnit uživatelům zvolit libovolný počet řádků z prvku GridView, než budete pokračovat, přidání sloupce zaškrtávacích políček je jedna možnost.</span><span class="sxs-lookup"><span data-stu-id="57bf1-193">In cases where you need to let users choose an arbitrary number of rows from a GridView before proceeding, adding a column of checkboxes is one option.</span></span> <span data-ttu-id="57bf1-194">Jak jsme viděli v tomto kurzu, včetně sloupce zaškrtávacích políček v prvku GridView, zahrnuje přidání pole TemplateField s webovým ovládacím prvkem CheckBox.</span><span class="sxs-lookup"><span data-stu-id="57bf1-194">As we saw in this tutorial, including a column of checkboxes in the GridView entails adding a TemplateField with a CheckBox Web control.</span></span> <span data-ttu-id="57bf1-195">Pomocí webového ovládacího prvku (proti vložení značek přímo do šablony, jako jsme to dělali v předchozím kurzu) ASP.NET automaticky pamatuje, jaké zaškrtávací políčko byly a nebyly zkontrolovány v rámci zpětného odeslání.</span><span class="sxs-lookup"><span data-stu-id="57bf1-195">By using a Web control (versus injecting markup directly into the template, as we did in the previous tutorial) ASP.NET automatically remembers what CheckBoxes were and were not checked across postback.</span></span> <span data-ttu-id="57bf1-196">K určení, zda je dané zaškrtávací políčko zaškrtnuto, nebo ke změně stavu zaškrtnutí, můžeme také programově přistupovat k zaškrtávacím políčkům v kódu.</span><span class="sxs-lookup"><span data-stu-id="57bf1-196">We can also programmatically access the CheckBoxes in code to determine whether a given CheckBox is checked, or to change the checked state.</span></span>

<span data-ttu-id="57bf1-197">Tento kurz a poslední z nich se prohlédlo přidáním sloupce selektor řádku do prvku GridView.</span><span class="sxs-lookup"><span data-stu-id="57bf1-197">This tutorial and the last one looked at adding a row selector column to the GridView.</span></span> <span data-ttu-id="57bf1-198">V našem dalším kurzu budeme posuzovat, jak, v rámci práce, můžeme do prvku GridView přidat možnosti vkládání.</span><span class="sxs-lookup"><span data-stu-id="57bf1-198">In our next tutorial we'll examine how, with a bit of work, we can add inserting capabilities to the GridView.</span></span>

<span data-ttu-id="57bf1-199">Šťastné programování!</span><span class="sxs-lookup"><span data-stu-id="57bf1-199">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="57bf1-200">O autorovi</span><span class="sxs-lookup"><span data-stu-id="57bf1-200">About the Author</span></span>

<span data-ttu-id="57bf1-201">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), autor 7 ASP/ASP. NET Books a zakladatel of [4GuysFromRolla.com](http://www.4guysfromrolla.com), pracoval s webovými technologiemi Microsoftu od 1998.</span><span class="sxs-lookup"><span data-stu-id="57bf1-201">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="57bf1-202">Scott funguje jako nezávislý konzultant, Trainer a zapisovač.</span><span class="sxs-lookup"><span data-stu-id="57bf1-202">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="57bf1-203">Nejnovější kniha je [*Sams naučit se ASP.NET 2,0 za 24 hodin*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="57bf1-203">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="57bf1-204">Dá se získat na [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="57bf1-204">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span> <span data-ttu-id="57bf1-205">nebo prostřednictvím svého blogu, který najdete na adrese [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span><span class="sxs-lookup"><span data-stu-id="57bf1-205">or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="57bf1-206">[Předchozí](adding-a-gridview-column-of-radio-buttons-cs.md)
> [Další](inserting-a-new-record-from-the-gridview-s-footer-cs.md)</span><span class="sxs-lookup"><span data-stu-id="57bf1-206">[Previous](adding-a-gridview-column-of-radio-buttons-cs.md)
[Next](inserting-a-new-record-from-the-gridview-s-footer-cs.md)</span></span>
