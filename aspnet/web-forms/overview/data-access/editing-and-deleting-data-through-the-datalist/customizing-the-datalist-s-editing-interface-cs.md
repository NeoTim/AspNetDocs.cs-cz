---
uid: web-forms/overview/data-access/editing-and-deleting-data-through-the-datalist/customizing-the-datalist-s-editing-interface-cs
title: Přizpůsobení rozhraní pro úpravy prvku DataList (C#) | Microsoft Docs
author: rick-anderson
description: V tomto kurzu vytvoříme bohatší rozhraní pro úpravy ovládacího prvku DataList, který obsahuje ovládací prvky DropDownList a CheckBox.
ms.author: riande
ms.date: 10/30/2006
ms.assetid: a5d13067-ddfb-4c36-8209-0f69fd40e45c
msc.legacyurl: /web-forms/overview/data-access/editing-and-deleting-data-through-the-datalist/customizing-the-datalist-s-editing-interface-cs
msc.type: authoredcontent
ms.openlocfilehash: 81f5a7f6737f544f577447f263dbd37dbc8279d9
ms.sourcegitcommit: 22fbd8863672c4ad6693b8388ad5c8e753fb41a2
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 11/28/2019
ms.locfileid: "74623854"
---
# <a name="customizing-the-datalists-editing-interface-c"></a><span data-ttu-id="61373-103">Přizpůsobení rozhraní pro úpravy prvku DataList (C#)</span><span class="sxs-lookup"><span data-stu-id="61373-103">Customizing the DataList's Editing Interface (C#)</span></span>

<span data-ttu-id="61373-104">[Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="61373-104">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="61373-105">[Stáhnout ukázkovou aplikaci](https://download.microsoft.com/download/9/c/1/9c1d03ee-29ba-4d58-aa1a-f201dcc822ea/ASPNET_Data_Tutorial_40_CS.exe) nebo [Stáhnout PDF](customizing-the-datalist-s-editing-interface-cs/_static/datatutorial40cs1.pdf)</span><span class="sxs-lookup"><span data-stu-id="61373-105">[Download Sample App](https://download.microsoft.com/download/9/c/1/9c1d03ee-29ba-4d58-aa1a-f201dcc822ea/ASPNET_Data_Tutorial_40_CS.exe) or [Download PDF](customizing-the-datalist-s-editing-interface-cs/_static/datatutorial40cs1.pdf)</span></span>

> <span data-ttu-id="61373-106">V tomto kurzu vytvoříme bohatší rozhraní pro úpravy ovládacího prvku DataList, který obsahuje ovládací prvky DropDownList a CheckBox.</span><span class="sxs-lookup"><span data-stu-id="61373-106">In this tutorial we will create a richer editing interface for the DataList, one that includes DropDownLists and a CheckBox.</span></span>

## <a name="introduction"></a><span data-ttu-id="61373-107">Úvod</span><span class="sxs-lookup"><span data-stu-id="61373-107">Introduction</span></span>

<span data-ttu-id="61373-108">Značky a webové ovládací prvky v prvku DataList s `EditItemTemplate` definují své upravitelné rozhraní.</span><span class="sxs-lookup"><span data-stu-id="61373-108">The markup and Web controls in the DataList s `EditItemTemplate` define its editable interface.</span></span> <span data-ttu-id="61373-109">Ve všech upravitelných příkladech DataList, které jsme doposud prozkoumali, bylo možné upravit rozhraní, které se skládá z webových ovládacích prvků TextBox.</span><span class="sxs-lookup"><span data-stu-id="61373-109">In all of the editable DataList examples we ve examined thus far, the editable interface has been composed of TextBox Web controls.</span></span> <span data-ttu-id="61373-110">V [předchozím kurzu](adding-validation-controls-to-the-datalist-s-editing-interface-cs.md) jsme vylepšili uživatelské prostředí pro úpravu času přidáním ověřovacích ovládacích prvků.</span><span class="sxs-lookup"><span data-stu-id="61373-110">In the [preceding tutorial](adding-validation-controls-to-the-datalist-s-editing-interface-cs.md) we improved the edit-time user experience by adding validation controls.</span></span>

<span data-ttu-id="61373-111">`EditItemTemplate` lze dále rozšířit tak, aby zahrnovala webové ovládací prvky jiné než textové pole, například DropDownList, RadioButtonLists, calendars a tak dále.</span><span class="sxs-lookup"><span data-stu-id="61373-111">The `EditItemTemplate` can be further expanded to include Web controls other than the TextBox, such as DropDownLists, RadioButtonLists, Calendars, and so on.</span></span> <span data-ttu-id="61373-112">Stejně jako u textových polí lze při přizpůsobení rozhraní pro úpravy zahrnout další webové ovládací prvky pomocí následujících kroků:</span><span class="sxs-lookup"><span data-stu-id="61373-112">As with TextBoxes, when customizing the editing interface to include other Web controls, employ the following steps:</span></span>

1. <span data-ttu-id="61373-113">Přidejte webový ovládací prvek do `EditItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="61373-113">Add the Web control to the `EditItemTemplate`.</span></span>
2. <span data-ttu-id="61373-114">K přiřazení odpovídající hodnoty datového pole k příslušné vlastnosti použijte syntaxi DataBinding.</span><span class="sxs-lookup"><span data-stu-id="61373-114">Use databinding syntax to assign the corresponding data field value to the appropriate property.</span></span>
3. <span data-ttu-id="61373-115">V obslužné rutině události `UpdateCommand` programově přistupuje k hodnotě webového ovládacího prvku a předají se do příslušné metody knihoven BLL.</span><span class="sxs-lookup"><span data-stu-id="61373-115">In the `UpdateCommand` event handler, programmatically access the Web control value and pass it into the appropriate BLL method.</span></span>

<span data-ttu-id="61373-116">V tomto kurzu vytvoříme bohatší rozhraní pro úpravy ovládacího prvku DataList, který obsahuje ovládací prvky DropDownList a CheckBox.</span><span class="sxs-lookup"><span data-stu-id="61373-116">In this tutorial we will create a richer editing interface for the DataList, one that includes DropDownLists and a CheckBox.</span></span> <span data-ttu-id="61373-117">Konkrétně vytvoříme prvek DataList, který zobrazí seznam informací o produktech a povoluje aktualizaci názvu produktu, dodavatele, kategorie a zastaveného stavu (viz obrázek 1).</span><span class="sxs-lookup"><span data-stu-id="61373-117">In particular, we'll create a DataList that lists product information and permits the product s name, supplier, category, and discontinued status to be updated (see Figure 1).</span></span>

<span data-ttu-id="61373-118">[![rozhraní pro úpravy obsahuje textové pole, dva DropDownList a CheckBox.](customizing-the-datalist-s-editing-interface-cs/_static/image2.png)](customizing-the-datalist-s-editing-interface-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="61373-118">[![The Editing Interface Includes a TextBox, Two DropDownLists, and a CheckBox](customizing-the-datalist-s-editing-interface-cs/_static/image2.png)](customizing-the-datalist-s-editing-interface-cs/_static/image1.png)</span></span>

<span data-ttu-id="61373-119">**Obrázek 1**: rozhraní pro úpravy obsahuje textové pole, dva DropDownList a CheckBox ([kliknutím zobrazíte obrázek v plné velikosti).](customizing-the-datalist-s-editing-interface-cs/_static/image3.png)</span><span class="sxs-lookup"><span data-stu-id="61373-119">**Figure 1**: The Editing Interface Includes a TextBox, Two DropDownLists, and a CheckBox ([Click to view full-size image](customizing-the-datalist-s-editing-interface-cs/_static/image3.png))</span></span>

## <a name="step-1-displaying-product-information"></a><span data-ttu-id="61373-120">Krok 1: zobrazení informací o produktu</span><span class="sxs-lookup"><span data-stu-id="61373-120">Step 1: Displaying Product Information</span></span>

<span data-ttu-id="61373-121">Než budeme moct vytvořit upravitelné rozhraní DataList s, musíme nejdřív vytvořit rozhraní jen pro čtení.</span><span class="sxs-lookup"><span data-stu-id="61373-121">Before we can create the DataList s editable interface, we first need to build the read-only interface.</span></span> <span data-ttu-id="61373-122">Začněte tím, že otevřete `CustomizedUI.aspx` stránku ze složky `EditDeleteDataList` a z návrháře přidáte prvek DataList na stránku a nastavíte jeho vlastnost `ID` na `Products`.</span><span class="sxs-lookup"><span data-stu-id="61373-122">Start by opening the `CustomizedUI.aspx` page from the `EditDeleteDataList` folder and, from the Designer, add a DataList to the page, setting its `ID` property to `Products`.</span></span> <span data-ttu-id="61373-123">Z inteligentní značky DataList s vytvořte nový prvek ObjectDataSource.</span><span class="sxs-lookup"><span data-stu-id="61373-123">From the DataList s smart tag, create a new ObjectDataSource.</span></span> <span data-ttu-id="61373-124">Pojmenujte tuto novou `ProductsDataSource` ObjectDataSource a nakonfigurujte ji tak, aby načetla data z metody `GetProducts` `ProductsBLL` třídy s.</span><span class="sxs-lookup"><span data-stu-id="61373-124">Name this new ObjectDataSource `ProductsDataSource` and configure it to retrieve data from the `ProductsBLL` class s `GetProducts` method.</span></span> <span data-ttu-id="61373-125">Stejně jako u předchozích upravitelných kurzů DataList aktualizujeme upravené informace o produktech přímo do vrstvy obchodní logiky.</span><span class="sxs-lookup"><span data-stu-id="61373-125">As with the previous editable DataList tutorials, we'll update the edited product s information by going directly to the Business Logic Layer.</span></span> <span data-ttu-id="61373-126">Proto nastavte rozevírací seznamy na kartách aktualizace, vložení a odstranění na (žádné).</span><span class="sxs-lookup"><span data-stu-id="61373-126">Accordingly, set the drop-down lists in the UPDATE, INSERT, and DELETE tabs to (None).</span></span>

<span data-ttu-id="61373-127">[![nastavení rozevíracích seznamů pro aktualizaci, vložení a odstranění karet (žádné)](customizing-the-datalist-s-editing-interface-cs/_static/image5.png)](customizing-the-datalist-s-editing-interface-cs/_static/image4.png)</span><span class="sxs-lookup"><span data-stu-id="61373-127">[![Set the UPDATE, INSERT, and DELETE Tabs Drop-Down Lists to (None)](customizing-the-datalist-s-editing-interface-cs/_static/image5.png)](customizing-the-datalist-s-editing-interface-cs/_static/image4.png)</span></span>

<span data-ttu-id="61373-128">**Obrázek 2**: nastavení rozevíracích seznamů pro aktualizaci, vložení a odstranění karet na (žádné) ([kliknutím zobrazíte obrázek v plné velikosti](customizing-the-datalist-s-editing-interface-cs/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="61373-128">**Figure 2**: Set the UPDATE, INSERT, and DELETE Tabs Drop-Down Lists to (None) ([Click to view full-size image](customizing-the-datalist-s-editing-interface-cs/_static/image6.png))</span></span>

<span data-ttu-id="61373-129">Po nakonfigurování prvku ObjectDataSource vytvoří Visual Studio výchozí `ItemTemplate` pro prvek DataList, který obsahuje název a hodnotu pro každé vrácené datové pole.</span><span class="sxs-lookup"><span data-stu-id="61373-129">After configuring the ObjectDataSource, Visual Studio will create a default `ItemTemplate` for the DataList that lists the name and value for each of the data fields returned.</span></span> <span data-ttu-id="61373-130">Upravte `ItemTemplate` tak, aby šablona vypisuje název produktu v prvku `<h4>` spolu s názvem kategorie, názvem dodavatele, cenou a ukončeným stavem.</span><span class="sxs-lookup"><span data-stu-id="61373-130">Modify the `ItemTemplate` so that the template lists the product name in an `<h4>` element along with the category name, supplier name, price, and discontinued status.</span></span> <span data-ttu-id="61373-131">Kromě toho přidejte tlačítko Upravit a ujistěte se, že je jeho vlastnost `CommandName` nastavena na hodnotu upravit.</span><span class="sxs-lookup"><span data-stu-id="61373-131">Moreover, add an Edit button, making sure that its `CommandName` property is set to Edit.</span></span> <span data-ttu-id="61373-132">Následující deklarativní označení pro moji `ItemTemplate`:</span><span class="sxs-lookup"><span data-stu-id="61373-132">The declarative markup for my `ItemTemplate` follows:</span></span>

[!code-aspx[Main](customizing-the-datalist-s-editing-interface-cs/samples/sample1.aspx)]

<span data-ttu-id="61373-133">Výše uvedený kód obsahuje informace o produktu pomocí &lt;H4&gt; nadpis pro název produktu a `<table>` se čtyřmi sloupci u zbývajících polí.</span><span class="sxs-lookup"><span data-stu-id="61373-133">The above markup lays out the product information using an &lt;h4&gt; heading for the product s name and a four-column `<table>` for the remaining fields.</span></span> <span data-ttu-id="61373-134">Třídy `ProductPropertyLabel` a `ProductPropertyValue` CSS definované v `Styles.css`byly popsány v předchozích kurzech.</span><span class="sxs-lookup"><span data-stu-id="61373-134">The `ProductPropertyLabel` and `ProductPropertyValue` CSS classes, defined in `Styles.css`, have been discussed in previous tutorials.</span></span> <span data-ttu-id="61373-135">Obrázek 3 ukazuje náš průběh při prohlížení v prohlížeči.</span><span class="sxs-lookup"><span data-stu-id="61373-135">Figure 3 shows our progress when viewed through a browser.</span></span>

<span data-ttu-id="61373-136">[![název, dodavatel, kategorie, zastavený stav a zobrazí se cena každého produktu.](customizing-the-datalist-s-editing-interface-cs/_static/image8.png)](customizing-the-datalist-s-editing-interface-cs/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="61373-136">[![The Name, Supplier, Category, Discontinued Status, and Price of Each Product is Displayed](customizing-the-datalist-s-editing-interface-cs/_static/image8.png)](customizing-the-datalist-s-editing-interface-cs/_static/image7.png)</span></span>

<span data-ttu-id="61373-137">**Obrázek 3**: zobrazí se název, dodavatel, kategorie, zastavený stav a cena každého produktu ([kliknutím zobrazíte obrázek v plné velikosti).](customizing-the-datalist-s-editing-interface-cs/_static/image9.png)</span><span class="sxs-lookup"><span data-stu-id="61373-137">**Figure 3**: The Name, Supplier, Category, Discontinued Status, and Price of Each Product is Displayed ([Click to view full-size image](customizing-the-datalist-s-editing-interface-cs/_static/image9.png))</span></span>

## <a name="step-2-adding-the-web-controls-to-the-editing-interface"></a><span data-ttu-id="61373-138">Krok 2: Přidání webových ovládacích prvků do rozhraní pro úpravy</span><span class="sxs-lookup"><span data-stu-id="61373-138">Step 2: Adding the Web Controls to the Editing Interface</span></span>

<span data-ttu-id="61373-139">Prvním krokem při sestavování přizpůsobeného rozhraní pro úpravu prvku DataList je přidat do `EditItemTemplate`potřebné webové ovládací prvky.</span><span class="sxs-lookup"><span data-stu-id="61373-139">The first step in building the customized DataList editing interface is to add the needed Web controls to the `EditItemTemplate`.</span></span> <span data-ttu-id="61373-140">Konkrétně potřebujeme pro kategorii, jinou pro dodavatele a zaškrtávací políčko pro ukončený stav.</span><span class="sxs-lookup"><span data-stu-id="61373-140">In particular, we need a DropDownList for the category, another for the supplier, and a CheckBox for the discontinued state.</span></span> <span data-ttu-id="61373-141">Protože cena za produkt není v tomto příkladu upravitelná, můžeme ji dál zobrazit pomocí webového ovládacího prvku popisek.</span><span class="sxs-lookup"><span data-stu-id="61373-141">Since the product s price is not editable in this example, we can continue displaying it using a Label Web control.</span></span>

<span data-ttu-id="61373-142">Chcete-li přizpůsobit rozhraní pro úpravy, klikněte na odkaz Upravit šablony z inteligentní značky DataList s a v rozevíracím seznamu vyberte možnost `EditItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="61373-142">To customize the editing interface, click on the Edit Templates link from the DataList s smart tag and choose the `EditItemTemplate` option from the drop-down list.</span></span> <span data-ttu-id="61373-143">Přidejte do `EditItemTemplate` objekt DropDownList a nastavte jeho `ID` na `Categories`.</span><span class="sxs-lookup"><span data-stu-id="61373-143">Add a DropDownList to the `EditItemTemplate` and set its `ID` to `Categories`.</span></span>

<span data-ttu-id="61373-144">[![přidat DropDownList pro kategorie](customizing-the-datalist-s-editing-interface-cs/_static/image11.png)](customizing-the-datalist-s-editing-interface-cs/_static/image10.png)</span><span class="sxs-lookup"><span data-stu-id="61373-144">[![Add a DropDownList for the Categories](customizing-the-datalist-s-editing-interface-cs/_static/image11.png)](customizing-the-datalist-s-editing-interface-cs/_static/image10.png)</span></span>

<span data-ttu-id="61373-145">**Obrázek 4**: Přidání ovládacího prvkem DropDownList pro kategorie ([kliknutím zobrazíte obrázek v plné velikosti](customizing-the-datalist-s-editing-interface-cs/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="61373-145">**Figure 4**: Add a DropDownList for the Categories ([Click to view full-size image](customizing-the-datalist-s-editing-interface-cs/_static/image12.png))</span></span>

<span data-ttu-id="61373-146">Potom z inteligentní značky DropDownList s vyberte možnost zvolit zdroj dat a vytvořte nový prvek ObjectDataSource s názvem `CategoriesDataSource`.</span><span class="sxs-lookup"><span data-stu-id="61373-146">Next, from the DropDownList s smart tag, select the Choose Data Source option and create a new ObjectDataSource named `CategoriesDataSource`.</span></span> <span data-ttu-id="61373-147">Nakonfigurujte tuto ObjectDataSource tak, aby používala metodu `CategoriesBLL` třídy s `GetCategories()` (viz obrázek 5).</span><span class="sxs-lookup"><span data-stu-id="61373-147">Configure this ObjectDataSource to use the `CategoriesBLL` class s `GetCategories()` method (see Figure 5).</span></span> <span data-ttu-id="61373-148">Dále Průvodce konfigurací zdroje dat DropDownList s vyzve k zadání datových polí, která se mají použít pro každou `Text` `ListItem` s a vlastnosti `Value`.</span><span class="sxs-lookup"><span data-stu-id="61373-148">Next, the DropDownList s Data Source Configuration Wizard prompts for the data fields to use for each `ListItem` s `Text` and `Value` properties.</span></span> <span data-ttu-id="61373-149">Zobrazit pole `CategoryName` dat a použít `CategoryID` jako hodnotu, jak je znázorněno na obrázku 6.</span><span class="sxs-lookup"><span data-stu-id="61373-149">Have the DropDownList display the `CategoryName` data field and use the `CategoryID` as the value, as shown in Figure 6.</span></span>

<span data-ttu-id="61373-150">[![vytvořit nový prvek ObjectDataSource s názvem CategoriesDataSource](customizing-the-datalist-s-editing-interface-cs/_static/image14.png)](customizing-the-datalist-s-editing-interface-cs/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="61373-150">[![Create a New ObjectDataSource Named CategoriesDataSource](customizing-the-datalist-s-editing-interface-cs/_static/image14.png)](customizing-the-datalist-s-editing-interface-cs/_static/image13.png)</span></span>

<span data-ttu-id="61373-151">**Obrázek 5**: vytvoření nového prvku ObjectDataSource s názvem `CategoriesDataSource` ([kliknutím zobrazíte obrázek v plné velikosti](customizing-the-datalist-s-editing-interface-cs/_static/image15.png))</span><span class="sxs-lookup"><span data-stu-id="61373-151">**Figure 5**: Create a New ObjectDataSource Named `CategoriesDataSource` ([Click to view full-size image](customizing-the-datalist-s-editing-interface-cs/_static/image15.png))</span></span>

<span data-ttu-id="61373-152">[![nakonfigurovat pole zobrazení a hodnoty ovládacího prvků DropDownList](customizing-the-datalist-s-editing-interface-cs/_static/image17.png)](customizing-the-datalist-s-editing-interface-cs/_static/image16.png)</span><span class="sxs-lookup"><span data-stu-id="61373-152">[![Configure the DropDownList s Display and Value Fields](customizing-the-datalist-s-editing-interface-cs/_static/image17.png)](customizing-the-datalist-s-editing-interface-cs/_static/image16.png)</span></span>

<span data-ttu-id="61373-153">**Obrázek 6**: Konfigurace polí zobrazení a hodnoty ovládacího prvků DropDownList ([kliknutím zobrazíte obrázek v plné velikosti](customizing-the-datalist-s-editing-interface-cs/_static/image18.png))</span><span class="sxs-lookup"><span data-stu-id="61373-153">**Figure 6**: Configure the DropDownList s Display and Value Fields ([Click to view full-size image](customizing-the-datalist-s-editing-interface-cs/_static/image18.png))</span></span>

<span data-ttu-id="61373-154">Zopakováním této série kroků vytvořte pro dodavatele DropDownList.</span><span class="sxs-lookup"><span data-stu-id="61373-154">Repeat this series of steps to create a DropDownList for the suppliers.</span></span> <span data-ttu-id="61373-155">Nastavte `ID` pro tento DropDownList pro `Suppliers` a pojmenujte jeho ObjectDataSource `SuppliersDataSource`.</span><span class="sxs-lookup"><span data-stu-id="61373-155">Set the `ID` for this DropDownList to `Suppliers` and name its ObjectDataSource `SuppliersDataSource`.</span></span>

<span data-ttu-id="61373-156">Po přidání dvou ovládacích prvků DropDownList přidejte zaškrtávací políčko pro stav ukončeno a textové pole pro název produktu.</span><span class="sxs-lookup"><span data-stu-id="61373-156">After adding the two DropDownLists, add a CheckBox for the discontinued state and a TextBox for the product s name.</span></span> <span data-ttu-id="61373-157">Nastavte `ID` pro zaškrtávací políčko a textové pole tak, aby `Discontinued` a `ProductName`, v uvedeném pořadí.</span><span class="sxs-lookup"><span data-stu-id="61373-157">Set the `ID` s for the CheckBox and TextBox to `Discontinued` and `ProductName`, respectively.</span></span> <span data-ttu-id="61373-158">Přidejte RequiredFieldValidator a ujistěte se, že uživatel zadá hodnotu pro název produktu.</span><span class="sxs-lookup"><span data-stu-id="61373-158">Add a RequiredFieldValidator to ensure that the user provides a value for the product s name.</span></span>

<span data-ttu-id="61373-159">Nakonec přidejte tlačítka aktualizovat a zrušit.</span><span class="sxs-lookup"><span data-stu-id="61373-159">Lastly, add the Update and Cancel buttons.</span></span> <span data-ttu-id="61373-160">Pamatujte, že u těchto dvou tlačítek je potřeba, aby se jejich `CommandName` vlastnosti nastavily na aktualizovat a zrušit v uvedeném pořadí.</span><span class="sxs-lookup"><span data-stu-id="61373-160">Remember that for these two buttons it is imperative that their `CommandName` properties are set to Update and Cancel, respectively.</span></span>

<span data-ttu-id="61373-161">Klidně rozložte rozhraní pro úpravy, které chcete.</span><span class="sxs-lookup"><span data-stu-id="61373-161">Feel free to lay out the editing interface however you like.</span></span> <span data-ttu-id="61373-162">Beru na to, že se má použít stejné rozložení `<table>` se čtyřmi sloupci z rozhraní jen pro čtení, protože následující deklarativní syntaxe a snímek obrazovky ilustrují:</span><span class="sxs-lookup"><span data-stu-id="61373-162">I ve opted to use the same four-column `<table>` layout from the read-only interface, as the following declarative syntax and screen shot illustrates:</span></span>

[!code-aspx[Main](customizing-the-datalist-s-editing-interface-cs/samples/sample2.aspx)]

<span data-ttu-id="61373-163">[![rozhraní pro úpravy je určeno jako rozhraní jen pro čtení](customizing-the-datalist-s-editing-interface-cs/_static/image20.png)](customizing-the-datalist-s-editing-interface-cs/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="61373-163">[![The Editing Interface is Laid Out like the Read-Only Interface](customizing-the-datalist-s-editing-interface-cs/_static/image20.png)](customizing-the-datalist-s-editing-interface-cs/_static/image19.png)</span></span>

<span data-ttu-id="61373-164">**Obrázek 7**: rozhraní pro úpravy je určeno jako rozhraní jen pro čtení ([kliknutím zobrazíte obrázek v plné velikosti).](customizing-the-datalist-s-editing-interface-cs/_static/image21.png)</span><span class="sxs-lookup"><span data-stu-id="61373-164">**Figure 7**: The Editing Interface is Laid Out like the Read-Only Interface ([Click to view full-size image](customizing-the-datalist-s-editing-interface-cs/_static/image21.png))</span></span>

## <a name="step-3-creating-the-editcommand-and-cancelcommand-event-handlers"></a><span data-ttu-id="61373-165">Krok 3: Vytvoření obslužných rutin událostí EditCommand a CancelCommand</span><span class="sxs-lookup"><span data-stu-id="61373-165">Step 3: Creating the EditCommand and CancelCommand Event Handlers</span></span>

<span data-ttu-id="61373-166">V současné době není k dispozici žádná syntaxe datové vazby v `EditItemTemplate` (s výjimkou `UnitPriceLabel`, která byla zkopírována přes doslovného `ItemTemplate`).</span><span class="sxs-lookup"><span data-stu-id="61373-166">Currently, there is no databinding syntax in the `EditItemTemplate` (except for the `UnitPriceLabel`, which was copied over verbatim from the `ItemTemplate`).</span></span> <span data-ttu-id="61373-167">V tuto chvíli přidáme syntaxi datové vazby, ale nejdříve si vytvoříme obslužné rutiny událostí pro `EditCommand` a `CancelCommand` události DataList.</span><span class="sxs-lookup"><span data-stu-id="61373-167">We'll add the databinding syntax momentarily, but first let s create the event handlers for the DataList s `EditCommand` and `CancelCommand` events.</span></span> <span data-ttu-id="61373-168">Odvolání, že zodpovědnost obslužné rutiny události `EditCommand` je vykreslení rozhraní pro úpravy pro položku DataList, jejíž tlačítko Upravit bylo kliknuto, zatímco úloha `CancelCommand` s má vrátit prvek DataList do stavu před úpravou.</span><span class="sxs-lookup"><span data-stu-id="61373-168">Recall that the responsibility of the `EditCommand` event handler is to render the editing interface for the DataList item whose Edit button was clicked, whereas the `CancelCommand` s job is to return the DataList to its pre-editing state.</span></span>

<span data-ttu-id="61373-169">Vytvořte tyto dvě obslužné rutiny událostí a použijte následující kód:</span><span class="sxs-lookup"><span data-stu-id="61373-169">Create these two event handlers and have them use the following code:</span></span>

[!code-csharp[Main](customizing-the-datalist-s-editing-interface-cs/samples/sample3.cs)]

<span data-ttu-id="61373-170">Pomocí těchto dvou obslužných rutin událostí můžete kliknutím na tlačítko Upravit zobrazit rozhraní pro úpravy a kliknutím na tlačítko Storno vrátíte upravenou položku do režimu jen pro čtení.</span><span class="sxs-lookup"><span data-stu-id="61373-170">With these two event handlers in place, clicking the Edit button displays the editing interface and clicking the Cancel button returns the edited item to its read-only mode.</span></span> <span data-ttu-id="61373-171">Obrázek 8 ukazuje ovládací prvek DataList po kliknutí na tlačítko pro úpravy pro Antoní Gumbo.</span><span class="sxs-lookup"><span data-stu-id="61373-171">Figure 8 shows the DataList after the Edit button has been clicked for Chef Anton s Gumbo Mix.</span></span> <span data-ttu-id="61373-172">Vzhledem k tomu, že jsme ještě do rozhraní pro úpravy přidali jakoukoliv syntaxi datových vazeb, je `ProductName` textové pole prázdné, zaškrtávací políčko `Discontinued` nezaškrtnuto a první položky vybrané z `Categories` a `Suppliers` DropDownList.</span><span class="sxs-lookup"><span data-stu-id="61373-172">Since we ve yet to add any databinding syntax to the editing interface, the `ProductName` TextBox is blank, the `Discontinued` CheckBox unchecked, and the first items selected from the `Categories` and `Suppliers` DropDownLists.</span></span>

<span data-ttu-id="61373-173">[![kliknutí na tlačítko Upravit zobrazí rozhraní pro úpravy.](customizing-the-datalist-s-editing-interface-cs/_static/image23.png)](customizing-the-datalist-s-editing-interface-cs/_static/image22.png)</span><span class="sxs-lookup"><span data-stu-id="61373-173">[![Clicking the Edit Button Displays the Editing Interface](customizing-the-datalist-s-editing-interface-cs/_static/image23.png)](customizing-the-datalist-s-editing-interface-cs/_static/image22.png)</span></span>

<span data-ttu-id="61373-174">**Obrázek 8**: kliknutím na tlačítko Upravit zobrazíte rozhraní pro úpravy (Kliknutím zobrazíte[obrázek v plné velikosti).](customizing-the-datalist-s-editing-interface-cs/_static/image24.png)</span><span class="sxs-lookup"><span data-stu-id="61373-174">**Figure 8**: Clicking the Edit Button Displays the Editing Interface ([Click to view full-size image](customizing-the-datalist-s-editing-interface-cs/_static/image24.png))</span></span>

## <a name="step-4-adding-the-databinding-syntax-to-the-editing-interface"></a><span data-ttu-id="61373-175">Krok 4: Přidání syntaxe datové vazby do rozhraní pro úpravy</span><span class="sxs-lookup"><span data-stu-id="61373-175">Step 4: Adding the DataBinding Syntax to the Editing Interface</span></span>

<span data-ttu-id="61373-176">Aby rozhraní pro úpravy zobrazovalo aktuální hodnoty produktů, musíme k přiřazení hodnot datových polí k odpovídajícím hodnotám webového ovládacího prvku použít syntaxi DataBinding.</span><span class="sxs-lookup"><span data-stu-id="61373-176">To have the editing interface display the current product s values, we need to use databinding syntax to assign the data field values to the appropriate Web control values.</span></span> <span data-ttu-id="61373-177">Syntaxi datové vazby lze použít prostřednictvím návrháře tak, že kliknete na obrazovku upravit šablony a vyberete odkaz Upravit datové vazby z inteligentních značek webového ovládacího prvku.</span><span class="sxs-lookup"><span data-stu-id="61373-177">The databinding syntax can be applied through the Designer by going to the Edit Templates screen and selecting the Edit DataBindings link from the Web controls smart tags.</span></span> <span data-ttu-id="61373-178">Alternativně lze syntaxi datové vazby přidat přímo k deklarativnímu označení.</span><span class="sxs-lookup"><span data-stu-id="61373-178">Alternatively, the databinding syntax can be added directly to the declarative markup.</span></span>

<span data-ttu-id="61373-179">Přiřaďte hodnotu datového pole `ProductName` pro vlastnost `ProductName` TextBox s `Text`, hodnoty `CategoryID` a `SupplierID` datových polí pro `Categories` a `Suppliers` vlastnosti DropDownList `SelectedValue` a hodnotu pole `Discontinued` dat pro vlastnost `Discontinued` CheckBox s `Checked`.</span><span class="sxs-lookup"><span data-stu-id="61373-179">Assign the `ProductName` data field value to the `ProductName` TextBox s `Text` property, the `CategoryID` and `SupplierID` data field values to the `Categories` and `Suppliers` DropDownLists `SelectedValue` properties, and the `Discontinued` data field value to the `Discontinued` CheckBox s `Checked` property.</span></span> <span data-ttu-id="61373-180">Po provedení těchto změn, buď prostřednictvím návrháře, nebo přímo prostřednictvím deklarativního označení, znovu přejděte na stránku pomocí prohlížeče a klikněte na tlačítko Upravit pro Anton Blend Gumbo.</span><span class="sxs-lookup"><span data-stu-id="61373-180">After making these changes, either through the Designer or directly through the declarative markup, revisit the page through a browser and click the Edit button for Chef Anton s Gumbo Mix.</span></span> <span data-ttu-id="61373-181">Jak ukazuje obrázek 9, syntaxe datové vazby přidala aktuální hodnoty do textového pole, DropDownList a CheckBox.</span><span class="sxs-lookup"><span data-stu-id="61373-181">As Figure 9 shows, the databinding syntax has added the current values into the TextBox, DropDownLists, and CheckBox.</span></span>

<span data-ttu-id="61373-182">[![kliknutí na tlačítko Upravit zobrazí rozhraní pro úpravy.](customizing-the-datalist-s-editing-interface-cs/_static/image26.png)](customizing-the-datalist-s-editing-interface-cs/_static/image25.png)</span><span class="sxs-lookup"><span data-stu-id="61373-182">[![Clicking the Edit Button Displays the Editing Interface](customizing-the-datalist-s-editing-interface-cs/_static/image26.png)](customizing-the-datalist-s-editing-interface-cs/_static/image25.png)</span></span>

<span data-ttu-id="61373-183">**Obrázek 9**: kliknutím na tlačítko Upravit zobrazíte rozhraní pro úpravy (Kliknutím zobrazíte[obrázek v plné velikosti).](customizing-the-datalist-s-editing-interface-cs/_static/image27.png)</span><span class="sxs-lookup"><span data-stu-id="61373-183">**Figure 9**: Clicking the Edit Button Displays the Editing Interface ([Click to view full-size image](customizing-the-datalist-s-editing-interface-cs/_static/image27.png))</span></span>

## <a name="step-5-saving-the-user-s-changes-in-the-updatecommand-event-handler"></a><span data-ttu-id="61373-184">Krok 5: uložení změn uživatele v obslužné rutině události UpdateCommand</span><span class="sxs-lookup"><span data-stu-id="61373-184">Step 5: Saving the User s Changes in the UpdateCommand Event Handler</span></span>

<span data-ttu-id="61373-185">Když uživatel upraví produkt a klikne na tlačítko Aktualizovat, dojde k postbacku a událost DataList `UpdateCommand` je aktivována.</span><span class="sxs-lookup"><span data-stu-id="61373-185">When the user edits a product and clicks the Update button, a postback occurs and the DataList s `UpdateCommand` event fires.</span></span> <span data-ttu-id="61373-186">V obslužné rutině události musíme načíst hodnoty z webových ovládacích prvků v `EditItemTemplate` a rozhraní s knihoven BLL pro aktualizaci produktu v databázi.</span><span class="sxs-lookup"><span data-stu-id="61373-186">In the event handler, we need to read the values from the Web controls in the `EditItemTemplate` and interface with the BLL to update the product in the database.</span></span> <span data-ttu-id="61373-187">Jak jsme viděli v předchozích kurzech, `ProductID` aktualizovaného produktu je přístupný prostřednictvím kolekce `DataKeys`.</span><span class="sxs-lookup"><span data-stu-id="61373-187">As we ve seen in previous tutorials, the `ProductID` of the updated product is accessible through the `DataKeys` collection.</span></span> <span data-ttu-id="61373-188">Uživatelem zadaná pole jsou k dispozici programově odkazující na webové ovládací prvky pomocí `FindControl("controlID")`, jak ukazuje následující kód:</span><span class="sxs-lookup"><span data-stu-id="61373-188">The user-entered fields are accessed by programmatically referencing the Web controls using `FindControl("controlID")`, as the following code shows:</span></span>

[!code-csharp[Main](customizing-the-datalist-s-editing-interface-cs/samples/sample4.cs)]

<span data-ttu-id="61373-189">Kód začíná projednáním vlastnosti `Page.IsValid`, aby bylo zajištěno, že všechny ovládací prvky ověřování na stránce jsou platné.</span><span class="sxs-lookup"><span data-stu-id="61373-189">The code starts out by consulting the `Page.IsValid` property to ensure that all the validation controls on the page are valid.</span></span> <span data-ttu-id="61373-190">Pokud je `Page.IsValid` `True`, upraví se hodnota `ProductID` upravených produktů z kolekce `DataKeys` a na `EditItemTemplate` jsou odkazovány prostřednictvím ovládacího prvku webové ovládací prvky pro zadávání dat.</span><span class="sxs-lookup"><span data-stu-id="61373-190">If `Page.IsValid` is `True`, the edited product s `ProductID` value is read from the `DataKeys` collection and the data entry Web controls in the `EditItemTemplate` are programmatically referenced.</span></span> <span data-ttu-id="61373-191">Dále jsou hodnoty z těchto webových ovládacích prvků čteny do proměnných, které jsou následně předány příslušnému přetížení `UpdateProduct`.</span><span class="sxs-lookup"><span data-stu-id="61373-191">Next, the values from these Web controls are read into variables that are then passed into the appropriate `UpdateProduct` overload.</span></span> <span data-ttu-id="61373-192">Po aktualizaci dat je prvek DataList vrácen do svého stavu před úpravou.</span><span class="sxs-lookup"><span data-stu-id="61373-192">After updating the data, the DataList is returned to its pre-editing state.</span></span>

> [!NOTE]
> <span data-ttu-id="61373-193">Jsem vynechal logiku zpracování výjimek přidanou v kurzu [zpracování výjimek knihoven BLL a dal](handling-bll-and-dal-level-exceptions-cs.md) , aby byl kód a tento příklad zaměřen.</span><span class="sxs-lookup"><span data-stu-id="61373-193">I ve omitted the exception handling logic added in the [Handling BLL- and DAL-Level Exceptions](handling-bll-and-dal-level-exceptions-cs.md) tutorial in order to keep the code and this example focused.</span></span> <span data-ttu-id="61373-194">Jako cvičení přidejte tuto funkci po dokončení tohoto kurzu.</span><span class="sxs-lookup"><span data-stu-id="61373-194">As an exercise, add this functionality after completing this tutorial.</span></span>

## <a name="step-6-handling-null-categoryid-and-supplierid-values"></a><span data-ttu-id="61373-195">Krok 6: zpracování hodnot KódKategorie a KódDodavatele s hodnotou NULL</span><span class="sxs-lookup"><span data-stu-id="61373-195">Step 6: Handling NULL CategoryID and SupplierID Values</span></span>

<span data-ttu-id="61373-196">Databáze Northwind umožňuje `NULL` hodnoty pro sloupce `Products` tabulky `CategoryID` a `SupplierID`.</span><span class="sxs-lookup"><span data-stu-id="61373-196">The Northwind database allows for `NULL` values for the `Products` table s `CategoryID` and `SupplierID` columns.</span></span> <span data-ttu-id="61373-197">Naše rozhraní pro úpravy ale nesplňuje aktuálně `NULL` hodnoty.</span><span class="sxs-lookup"><span data-stu-id="61373-197">However, our editing interface doesn t currently accommodate `NULL` values.</span></span> <span data-ttu-id="61373-198">Pokud se pokusíte upravit produkt, který má `NULL` hodnotu pro `CategoryID` nebo `SupplierID` sloupce, obdržíme `ArgumentOutOfRangeException` s chybovou zprávou podobnou: *Categories má SelectedValue, která je neplatná, protože neexistuje v seznamu položek.*</span><span class="sxs-lookup"><span data-stu-id="61373-198">If we attempt to edit a product that has a `NULL` value for either its `CategoryID` or `SupplierID` columns, we'll get an `ArgumentOutOfRangeException` with an error message similar to: *'Categories' has a SelectedValue which is invalid because it does not exist in the list of items.*</span></span> <span data-ttu-id="61373-199">V současné době neexistuje způsob, jak změnit kategorii produktů nebo dodavatelů z ne`NULL`é hodnoty na `NULL` jedna.</span><span class="sxs-lookup"><span data-stu-id="61373-199">Also, there s currently no way to change a product s category or supplier value from a non-`NULL` value to a `NULL` one.</span></span>

<span data-ttu-id="61373-200">Aby bylo možné podporovat `NULL` hodnoty pro DropDownList kategorie a dodavatele, musíme přidat další `ListItem`.</span><span class="sxs-lookup"><span data-stu-id="61373-200">To support `NULL` values for the category and supplier DropDownLists, we need to add an additional `ListItem`.</span></span> <span data-ttu-id="61373-201">Jsem se rozhodl použít (žádný) jako hodnotu `Text` pro tento `ListItem`, ale pokud chcete, můžete ho změnit na něco jiného (například prázdný řetězec).</span><span class="sxs-lookup"><span data-stu-id="61373-201">I ve chosen to use (None) as the `Text` value for this `ListItem`, but you can change it to something else (such as an empty string) if you d like.</span></span> <span data-ttu-id="61373-202">Nakonec nezapomeňte nastavit `AppendDataBoundItems` DropDownList na `True`; Pokud se k tomu zapomenete, kategorie a dodavatelé navázané na DropDownList přepíšou staticky přidávané `ListItem`.</span><span class="sxs-lookup"><span data-stu-id="61373-202">Finally, remember to set the DropDownLists `AppendDataBoundItems` to `True`; if you forget to do so, the categories and suppliers bound to the DropDownList will overwrite the statically-added `ListItem`.</span></span>

<span data-ttu-id="61373-203">Po provedení těchto změn by značky DropDownList v `EditItemTemplate` DataList měly vypadat podobně jako následující:</span><span class="sxs-lookup"><span data-stu-id="61373-203">After making these changes, the DropDownLists markup in the DataList s `EditItemTemplate` should look similar to the following:</span></span>

[!code-aspx[Main](customizing-the-datalist-s-editing-interface-cs/samples/sample5.aspx)]

> [!NOTE]
> <span data-ttu-id="61373-204">Statické `ListItem` s lze přidat k ovládacím prvkům DropDownList prostřednictvím návrháře nebo přímo prostřednictvím deklarativní syntaxe.</span><span class="sxs-lookup"><span data-stu-id="61373-204">Static `ListItem` s can be added to a DropDownList through the Designer or directly through the declarative syntax.</span></span> <span data-ttu-id="61373-205">Když přidáváte položku DropDownList představující `NULL`ovou hodnotu databáze, nezapomeňte přidat `ListItem` prostřednictvím deklarativní syntaxe.</span><span class="sxs-lookup"><span data-stu-id="61373-205">When adding a DropDownList item to represent a database `NULL` value, be sure to add the `ListItem` through the declarative syntax.</span></span> <span data-ttu-id="61373-206">Použijete-li Editor kolekce `ListItem` v návrháři, vygenerovaná deklarativní syntaxe vynechá nastavení `Value` zcela v případě, že je přiřazen prázdný řetězec, čímž se vytvoří deklarativní označení jako: `<asp:ListItem>(None)</asp:ListItem>`.</span><span class="sxs-lookup"><span data-stu-id="61373-206">If you use the `ListItem` Collection Editor in the Designer, the generated declarative syntax will omit the `Value` setting altogether when assigned a blank string, creating declarative markup like: `<asp:ListItem>(None)</asp:ListItem>`.</span></span> <span data-ttu-id="61373-207">I když to může vypadat neškodně, chybějící `Value` způsobí, že vlastnost DropDownList použije hodnotu vlastnosti `Text` na svém místě.</span><span class="sxs-lookup"><span data-stu-id="61373-207">While this may look harmless, the missing `Value` causes the DropDownList to use the `Text` property value in its place.</span></span> <span data-ttu-id="61373-208">To znamená, že pokud je vybrána tato `NULL` `ListItem`, bude pokus o přiřazení hodnoty (None) k poli data produktu (`CategoryID` nebo `SupplierID`v tomto kurzu), což bude mít za následek výjimku.</span><span class="sxs-lookup"><span data-stu-id="61373-208">That means that if this `NULL` `ListItem` is selected, the value (None) will be attempted to be assigned to the product data field (`CategoryID` or `SupplierID`, in this tutorial), which will result in an exception.</span></span> <span data-ttu-id="61373-209">Když je explicitně nastavená možnost `Value=""`, do pole data produktu se přiřadí hodnota `NULL`, když se vybere `NULL` `ListItem`.</span><span class="sxs-lookup"><span data-stu-id="61373-209">By explicitly setting `Value=""`, a `NULL` value will be assigned to the product data field when the `NULL` `ListItem` is selected.</span></span>

<span data-ttu-id="61373-210">Chvilku si můžete prohlédnout v prohlížeči.</span><span class="sxs-lookup"><span data-stu-id="61373-210">Take a moment to view our progress through a browser.</span></span> <span data-ttu-id="61373-211">Při úpravách produktu si všimněte, že `Categories` a `Suppliers` DropDownList mají obě možnost (žádná) na začátku ovládacího prvkem DropDownList.</span><span class="sxs-lookup"><span data-stu-id="61373-211">When editing a product, note that the `Categories` and `Suppliers` DropDownLists both have a (None) option at the start of the DropDownList.</span></span>

<span data-ttu-id="61373-212">[![kategorie a DropDownList pro dodavatele obsahují možnost (žádná).](customizing-the-datalist-s-editing-interface-cs/_static/image29.png)](customizing-the-datalist-s-editing-interface-cs/_static/image28.png)</span><span class="sxs-lookup"><span data-stu-id="61373-212">[![The Categories and Suppliers DropDownLists include a (None) Option](customizing-the-datalist-s-editing-interface-cs/_static/image29.png)](customizing-the-datalist-s-editing-interface-cs/_static/image28.png)</span></span>

<span data-ttu-id="61373-213">**Obrázek 10**: ovládací `Categories` a `Suppliers` DropDownList obsahují možnost (žádná) ([kliknutím zobrazíte obrázek v plné velikosti).](customizing-the-datalist-s-editing-interface-cs/_static/image30.png)</span><span class="sxs-lookup"><span data-stu-id="61373-213">**Figure 10**: The `Categories` and `Suppliers` DropDownLists include a (None) Option ([Click to view full-size image](customizing-the-datalist-s-editing-interface-cs/_static/image30.png))</span></span>

<span data-ttu-id="61373-214">Abychom mohli uložit možnost (žádné) jako hodnotu `NULL` databáze, musíme se vrátit k obslužné rutině události `UpdateCommand`.</span><span class="sxs-lookup"><span data-stu-id="61373-214">To save the (None) option as a database `NULL` value, we need to return to the `UpdateCommand` event handler.</span></span> <span data-ttu-id="61373-215">Změňte proměnné `categoryIDValue` a `supplierIDValue` na celá čísla s možnou hodnotou null a přiřaďte je jiné hodnotě než `Nothing` pouze v případě, že `SelectedValue` DropDownList s není prázdný řetězec:</span><span class="sxs-lookup"><span data-stu-id="61373-215">Change the `categoryIDValue` and `supplierIDValue` variables to be nullable integers and assign them a value other than `Nothing` only if the DropDownList s `SelectedValue` is not an empty string:</span></span>

[!code-csharp[Main](customizing-the-datalist-s-editing-interface-cs/samples/sample6.cs)]

<span data-ttu-id="61373-216">Tato změna způsobí, že hodnota `Nothing` bude předána metodě `UpdateProduct` knihoven BLL, pokud uživatel v některém z rozevíracích seznamů vybral možnost (žádné), která odpovídá hodnotě `NULL` databáze.</span><span class="sxs-lookup"><span data-stu-id="61373-216">With this change, a value of `Nothing` will be passed into the `UpdateProduct` BLL method if the user selected the (None) option from either of the drop-down lists, which corresponds to a `NULL` database value.</span></span>

## <a name="summary"></a><span data-ttu-id="61373-217">Přehled</span><span class="sxs-lookup"><span data-stu-id="61373-217">Summary</span></span>

<span data-ttu-id="61373-218">V tomto kurzu jsme viděli, jak vytvořit komplexnější rozhraní pro úpravy DataList, které zahrnulo tři různé vstupní webové ovládací prvky, jako je textové pole, dva DropDownList a zaškrtávací políčko společně s ovládacími prvky ověřování.</span><span class="sxs-lookup"><span data-stu-id="61373-218">In this tutorial we saw how to create a more complex DataList editing interface that included three different input Web controls a TextBox, two DropDownLists, and a CheckBox along with validation controls.</span></span> <span data-ttu-id="61373-219">Při sestavování rozhraní pro úpravy jsou tyto kroky stejné bez ohledu na používané webové ovládací prvky: Začněte přidáním webových ovládacích prvků do `EditItemTemplate`DataList s. pomocí syntaxe DataBinding přiřaďte odpovídající hodnoty datových polí odpovídajícím vlastnostem webového ovládacího prvku. a v obslužné rutině události `UpdateCommand` programově přistupují k webovým ovládacím prvkům a jejich příslušným vlastnostem, které předají jejich hodnoty do knihoven BLL.</span><span class="sxs-lookup"><span data-stu-id="61373-219">When building the editing interface, the steps are the same regardless of the Web controls being used: start by adding the Web controls to the DataList s `EditItemTemplate`; use databinding syntax to assign the corresponding data field values with the appropriate Web control properties; and, in the `UpdateCommand` event handler, programmatically access the Web controls and their appropriate properties, passing their values into the BLL.</span></span>

<span data-ttu-id="61373-220">Při vytváření rozhraní pro úpravy, bez ohledu na to, zda se skládají z pouze textových polí nebo kolekce různých webových ovládacích prvků, nezapomeňte správně zpracovat hodnoty `NULL` databáze.</span><span class="sxs-lookup"><span data-stu-id="61373-220">When creating an editing interface, whether it s composed of just TextBoxes or a collection of different Web controls, be sure to correctly handle database `NULL` values.</span></span> <span data-ttu-id="61373-221">Při monitorování účtů pro `NULL`, je nutné, abyste v rozhraní pro úpravy nezobrazili pouze správně hodnotu `NULL`, ale také nabízíme způsob označení hodnoty jako `NULL`.</span><span class="sxs-lookup"><span data-stu-id="61373-221">When accounting for `NULL` s, it is imperative that you not only correctly display an existing `NULL` value in the editing interface, but also that you offer a means for marking a value as `NULL`.</span></span> <span data-ttu-id="61373-222">Pro DropDownList v datalistech to obvykle znamená přidání statického `ListItem`, jehož vlastnost `Value` je explicitně nastavena na prázdný řetězec (`Value=""`), a přidání bitového kódu do `UpdateCommand` obslužné rutiny události pro určení, zda byl vybrán `NULL``ListItem` nebo nikoli.</span><span class="sxs-lookup"><span data-stu-id="61373-222">For DropDownLists in DataLists, that typically means adding a static `ListItem` whose `Value` property is explicitly set to an empty string (`Value=""`), and adding a bit of code to the `UpdateCommand` event handler to determine whether or not the `NULL``ListItem` was selected.</span></span>

<span data-ttu-id="61373-223">Šťastné programování!</span><span class="sxs-lookup"><span data-stu-id="61373-223">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="61373-224">O autorovi</span><span class="sxs-lookup"><span data-stu-id="61373-224">About the Author</span></span>

<span data-ttu-id="61373-225">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), autor 7 ASP/ASP. NET Books a zakladatel of [4GuysFromRolla.com](http://www.4guysfromrolla.com), pracoval s webovými technologiemi Microsoftu od 1998.</span><span class="sxs-lookup"><span data-stu-id="61373-225">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="61373-226">Scott funguje jako nezávislý konzultant, Trainer a zapisovač.</span><span class="sxs-lookup"><span data-stu-id="61373-226">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="61373-227">Nejnovější kniha je [*Sams naučit se ASP.NET 2,0 za 24 hodin*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="61373-227">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="61373-228">Dá se získat na [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="61373-228">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span> <span data-ttu-id="61373-229">nebo prostřednictvím svého blogu, který najdete na adrese [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span><span class="sxs-lookup"><span data-stu-id="61373-229">or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

## <a name="special-thanks-to"></a><span data-ttu-id="61373-230">Zvláštní díky</span><span class="sxs-lookup"><span data-stu-id="61373-230">Special Thanks To</span></span>

<span data-ttu-id="61373-231">Tato řada kurzů byla přezkoumána mnoha užitečnými kontrolory.</span><span class="sxs-lookup"><span data-stu-id="61373-231">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="61373-232">Kontroloři vedoucích k tomuto kurzu byli Dennis Patterson, David Suru a Randy Schmidt.</span><span class="sxs-lookup"><span data-stu-id="61373-232">Lead reviewers for this tutorial were Dennis Patterson, David Suru, and Randy Schmidt.</span></span> <span data-ttu-id="61373-233">Uvažujete o přezkoumání mých nadcházejících článků na webu MSDN?</span><span class="sxs-lookup"><span data-stu-id="61373-233">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="61373-234">Pokud ano, vyřaďte mi řádek na [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="61373-234">If so, drop me a line at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="61373-235">[Předchozí](adding-validation-controls-to-the-datalist-s-editing-interface-cs.md)
> [Další](an-overview-of-editing-and-deleting-data-in-the-datalist-vb.md)</span><span class="sxs-lookup"><span data-stu-id="61373-235">[Previous](adding-validation-controls-to-the-datalist-s-editing-interface-cs.md)
[Next](an-overview-of-editing-and-deleting-data-in-the-datalist-vb.md)</span></span>
