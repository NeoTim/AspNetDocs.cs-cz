---
uid: web-forms/overview/data-access/filtering-scenarios-with-the-datalist-and-repeater/master-detail-filtering-with-a-dropdownlist-datalist-vb
title: Filtrování seznamu a podrobností s ovládacím prvkem DropDownList (VB) | Microsoft Docs
author: rick-anderson
description: V tomto kurzu se zobrazuje, jak zobrazit hlavní a podrobné sestavy na jedné webové stránce pomocí DropDownList k zobrazení záznamů "Master" a prvku DataList pro displ...
ms.author: riande
ms.date: 07/18/2007
ms.assetid: ad0f1014-1eff-465f-bdc6-93058de00e44
msc.legacyurl: /web-forms/overview/data-access/filtering-scenarios-with-the-datalist-and-repeater/master-detail-filtering-with-a-dropdownlist-datalist-vb
msc.type: authoredcontent
ms.openlocfilehash: 537f8e76bc0cbfa759a014b63ae5f68b5d3ca64d
ms.sourcegitcommit: 22fbd8863672c4ad6693b8388ad5c8e753fb41a2
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 11/28/2019
ms.locfileid: "74629883"
---
# <a name="masterdetail-filtering-with-a-dropdownlist-vb"></a><span data-ttu-id="2020d-103">Filtrování hlavních záznamů / podrobností ovládacím prvkem DropDownList (VB)</span><span class="sxs-lookup"><span data-stu-id="2020d-103">Master/Detail Filtering With a DropDownList (VB)</span></span>

<span data-ttu-id="2020d-104">[Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="2020d-104">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="2020d-105">[Stáhnout ukázkovou aplikaci](https://download.microsoft.com/download/9/c/1/9c1d03ee-29ba-4d58-aa1a-f201dcc822ea/ASPNET_Data_Tutorial_33_VB.exe) nebo [Stáhnout PDF](master-detail-filtering-with-a-dropdownlist-datalist-vb/_static/datatutorial33vb1.pdf)</span><span class="sxs-lookup"><span data-stu-id="2020d-105">[Download Sample App](https://download.microsoft.com/download/9/c/1/9c1d03ee-29ba-4d58-aa1a-f201dcc822ea/ASPNET_Data_Tutorial_33_VB.exe) or [Download PDF](master-detail-filtering-with-a-dropdownlist-datalist-vb/_static/datatutorial33vb1.pdf)</span></span>

> <span data-ttu-id="2020d-106">V tomto kurzu se zobrazuje, jak zobrazit hlavní a podrobné sestavy na jedné webové stránce pomocí DropDownList pro zobrazení "hlavních" záznamů a prvku DataList pro zobrazení podrobností.</span><span class="sxs-lookup"><span data-stu-id="2020d-106">In this tutorial we see how to display master/detail reports in a single web page using DropDownLists to display the "master" records and a DataList to display the "details".</span></span>

## <a name="introduction"></a><span data-ttu-id="2020d-107">Úvod</span><span class="sxs-lookup"><span data-stu-id="2020d-107">Introduction</span></span>

<span data-ttu-id="2020d-108">Sestava hlavní/podrobnosti, kterou jsme nejprve vytvořili pomocí prvku GridView v předchozím [filtru hlavního/podrobného filtrování s](../masterdetail/master-detail-filtering-with-a-dropdownlist-vb.md) kurzem DropDownList, začíná zobrazením některé sady "hlavních" záznamů.</span><span class="sxs-lookup"><span data-stu-id="2020d-108">The master/detail report, which we first created using a GridView in the earlier [Master/Detail Filtering With a DropDownList](../masterdetail/master-detail-filtering-with-a-dropdownlist-vb.md) tutorial, begins by showing some set of "master" records.</span></span> <span data-ttu-id="2020d-109">Uživatel pak může přejít k podrobnostem jednoho ze vzorových záznamů, takže zobrazí podrobnosti o tomto hlavním záznamu.</span><span class="sxs-lookup"><span data-stu-id="2020d-109">The user can then drill down into one of the master records, thereby viewing that master record's "details."</span></span> <span data-ttu-id="2020d-110">Hlavní a podrobné sestavy jsou ideální volbou pro vizualizaci vztahů 1: n a pro zobrazení podrobných informací z zvláště "nejrůznějších" tabulek (ty, které mají velké množství sloupců).</span><span class="sxs-lookup"><span data-stu-id="2020d-110">Master/detail reports are an ideal choice for visualizing one-to-many relationships and for displaying detailed information from particularly "wide" tables (ones that have a lot of columns).</span></span> <span data-ttu-id="2020d-111">Prozkoumali jsme, jak implementovat hlavní a podrobné sestavy pomocí ovládacích prvků GridView a DetailsView v předchozích kurzech.</span><span class="sxs-lookup"><span data-stu-id="2020d-111">We've explored how to implement master/detail reports using the GridView and DetailsView controls in previous tutorials.</span></span> <span data-ttu-id="2020d-112">V tomto kurzu a dalších dvou prověříme tyto koncepty, ale místo toho se zaměřte na použití ovládacího prvku DataList a Repeater.</span><span class="sxs-lookup"><span data-stu-id="2020d-112">In this tutorial and the next two, we'll reexamine these concepts, but focus on using DataList and Repeater controls instead.</span></span>

<span data-ttu-id="2020d-113">V tomto kurzu se podíváme na použití ovládacího prvku DropDownList k tomu, aby obsahovalo "hlavní" záznamy a záznamy podrobností zobrazených v prvku DataList.</span><span class="sxs-lookup"><span data-stu-id="2020d-113">In this tutorial, we'll look at using a DropDownList to contain the "master" records, with the "details" records displayed in a DataList.</span></span>

## <a name="step-1-adding-the-masterdetail-tutorial-web-pages"></a><span data-ttu-id="2020d-114">Krok 1: Přidání webových stránek kurzu hlavního/podrobného kurzu</span><span class="sxs-lookup"><span data-stu-id="2020d-114">Step 1: Adding the Master/Detail Tutorial Web Pages</span></span>

<span data-ttu-id="2020d-115">Než začnete s tímto kurzem, nejdřív se podíváme na přidání složky a ASP.NET stránek, které budeme potřebovat pro tento kurz, a dalších dvou operací se sestavou hlavních a podrobných sestav pomocí ovládacích prvků DataList a Repeater.</span><span class="sxs-lookup"><span data-stu-id="2020d-115">Before we start this tutorial, let's first take a moment to add the folder and ASP.NET pages we'll need for this tutorial and the next two dealing with master/detail reports using the DataList and Repeater controls.</span></span> <span data-ttu-id="2020d-116">Začněte vytvořením nové složky v projektu s názvem `DataListRepeaterFiltering`.</span><span class="sxs-lookup"><span data-stu-id="2020d-116">Start by creating a new folder in the project named `DataListRepeaterFiltering`.</span></span> <span data-ttu-id="2020d-117">V dalším kroku přidejte do této složky následující pět ASP.NET stránek a všechny je nakonfigurované tak, aby používaly stránku předlohy `Site.master`:</span><span class="sxs-lookup"><span data-stu-id="2020d-117">Next, add the following five ASP.NET pages to this folder, having all of them configured to use the master page `Site.master`:</span></span>

- `Default.aspx`
- `FilterByDropDownList.aspx`
- `CategoryListMaster.aspx`
- `ProductsForCategoryDetails.aspx`
- `CategoriesAndProducts.aspx`

![Vytvořte složku DataListRepeaterFiltering a přidejte stránky ASP.NET kurzu.](master-detail-filtering-with-a-dropdownlist-datalist-vb/_static/image1.png)

<span data-ttu-id="2020d-119">**Obrázek 1**: vytvoření složky pro `DataListRepeaterFiltering` a přidání ASP.NETových stránek kurzu</span><span class="sxs-lookup"><span data-stu-id="2020d-119">**Figure 1**: Create a `DataListRepeaterFiltering` Folder and Add the Tutorial ASP.NET Pages</span></span>

<span data-ttu-id="2020d-120">Potom otevřete stránku `Default.aspx` a přetáhněte uživatelský ovládací prvek `SectionLevelTutorialListing.ascx` ze složky `UserControls` na návrhovou plochu.</span><span class="sxs-lookup"><span data-stu-id="2020d-120">Next, open the `Default.aspx` page and drag the `SectionLevelTutorialListing.ascx` User Control from the `UserControls` folder onto the Design surface.</span></span> <span data-ttu-id="2020d-121">Tento uživatelský ovládací prvek, který jsme vytvořili v kurzu [hlavní stránky a navigace na webu](../introduction/master-pages-and-site-navigation-vb.md) , vytvoří výčet mapy lokality a zobrazí kurzy z aktuální části v seznamu s odrážkami.</span><span class="sxs-lookup"><span data-stu-id="2020d-121">This User Control, which we created in the [Master Pages and Site Navigation](../introduction/master-pages-and-site-navigation-vb.md) tutorial, enumerates the site map and displays the tutorials from the current section in a bulleted list.</span></span>

<span data-ttu-id="2020d-122">[![přidat uživatelský ovládací prvek SectionLevelTutorialListing. ascx do default. aspx](master-detail-filtering-with-a-dropdownlist-datalist-vb/_static/image3.png)](master-detail-filtering-with-a-dropdownlist-datalist-vb/_static/image2.png)</span><span class="sxs-lookup"><span data-stu-id="2020d-122">[![Add the SectionLevelTutorialListing.ascx User Control to Default.aspx](master-detail-filtering-with-a-dropdownlist-datalist-vb/_static/image3.png)](master-detail-filtering-with-a-dropdownlist-datalist-vb/_static/image2.png)</span></span>

<span data-ttu-id="2020d-123">**Obrázek 2**: Přidání uživatelského ovládacího prvku `SectionLevelTutorialListing.ascx` do `Default.aspx` ([kliknutím zobrazíte obrázek v plné velikosti](master-detail-filtering-with-a-dropdownlist-datalist-vb/_static/image4.png))</span><span class="sxs-lookup"><span data-stu-id="2020d-123">**Figure 2**: Add the `SectionLevelTutorialListing.ascx` User Control to `Default.aspx` ([Click to view full-size image](master-detail-filtering-with-a-dropdownlist-datalist-vb/_static/image4.png))</span></span>

<span data-ttu-id="2020d-124">Aby se v seznamu s odrážkami zobrazovaly hlavní a podrobné kurzy, vytvoříme je, abychom je mohli přidat k mapě webu.</span><span class="sxs-lookup"><span data-stu-id="2020d-124">In order to have the bulleted list display the master/detail tutorials we'll be creating, we need to add them to the site map.</span></span> <span data-ttu-id="2020d-125">Otevřete soubor `Web.sitemap` a přidejte následující kód za "zobrazení dat pomocí značek DataList a Repeater" značky uzlu mapy webu:</span><span class="sxs-lookup"><span data-stu-id="2020d-125">Open the `Web.sitemap` file and add the following markup after the "Displaying Data with the DataList and Repeater" site map node markup:</span></span>

[!code-xml[Main](master-detail-filtering-with-a-dropdownlist-datalist-vb/samples/sample1.xml)]

![Aktualizovat mapu webu tak, aby obsahovala nové stránky ASP.NET](master-detail-filtering-with-a-dropdownlist-datalist-vb/_static/image5.png)

<span data-ttu-id="2020d-127">**Obrázek 3**: aktualizace mapy webu tak, aby obsahovala nové stránky ASP.NET</span><span class="sxs-lookup"><span data-stu-id="2020d-127">**Figure 3**: Update the Site Map to Include the New ASP.NET Pages</span></span>

## <a name="step-2-displaying-the-categories-in-a-dropdownlist"></a><span data-ttu-id="2020d-128">Krok 2: zobrazení kategorií v DropDownList</span><span class="sxs-lookup"><span data-stu-id="2020d-128">Step 2: Displaying the Categories in a DropDownList</span></span>

<span data-ttu-id="2020d-129">V naší sestavě Master/Detail se zobrazí seznam kategorií v DropDownList a na stránce v prvku DataList se zobrazí níže zobrazené produkty vybrané položky seznamu.</span><span class="sxs-lookup"><span data-stu-id="2020d-129">Our master/detail report will list the categories in a DropDownList, with the selected list item's products displayed further down in the page in a DataList.</span></span> <span data-ttu-id="2020d-130">První úkol je před námi a pak má mít kategorie zobrazené v DropDownList.</span><span class="sxs-lookup"><span data-stu-id="2020d-130">The first task ahead of us, then, is to have the categories displayed in a DropDownList.</span></span> <span data-ttu-id="2020d-131">Začněte otevřením stránky `FilterByDropDownList.aspx` ve složce `DataListRepeaterFiltering` a přetažením ovládacího prvku DropDownList z panelu nástrojů do návrháře stránky.</span><span class="sxs-lookup"><span data-stu-id="2020d-131">Start by opening the `FilterByDropDownList.aspx` page in the `DataListRepeaterFiltering` folder and drag a DropDownList from the Toolbox onto the page's designer.</span></span> <span data-ttu-id="2020d-132">Dále nastavte vlastnost `ID` ovládacího prvku DropDownList na hodnotu `Categories`.</span><span class="sxs-lookup"><span data-stu-id="2020d-132">Next, set the DropDownList's `ID` property to `Categories`.</span></span> <span data-ttu-id="2020d-133">Klikněte na odkaz zvolit zdroj dat z inteligentní značky DropDownList a vytvořte nový prvek ObjectDataSource s názvem `CategoriesDataSource`.</span><span class="sxs-lookup"><span data-stu-id="2020d-133">Click on the Choose Data Source link from the DropDownList's smart tag and create a new ObjectDataSource named `CategoriesDataSource`.</span></span>

<span data-ttu-id="2020d-134">[![přidat nový prvek ObjectDataSource s názvem CategoriesDataSource](master-detail-filtering-with-a-dropdownlist-datalist-vb/_static/image7.png)](master-detail-filtering-with-a-dropdownlist-datalist-vb/_static/image6.png)</span><span class="sxs-lookup"><span data-stu-id="2020d-134">[![Add a New ObjectDataSource Named CategoriesDataSource](master-detail-filtering-with-a-dropdownlist-datalist-vb/_static/image7.png)](master-detail-filtering-with-a-dropdownlist-datalist-vb/_static/image6.png)</span></span>

<span data-ttu-id="2020d-135">**Obrázek 4**: Přidání nového prvku ObjectDataSource s názvem `CategoriesDataSource` ([kliknutím zobrazíte obrázek v plné velikosti](master-detail-filtering-with-a-dropdownlist-datalist-vb/_static/image8.png))</span><span class="sxs-lookup"><span data-stu-id="2020d-135">**Figure 4**: Add a New ObjectDataSource Named `CategoriesDataSource` ([Click to view full-size image](master-detail-filtering-with-a-dropdownlist-datalist-vb/_static/image8.png))</span></span>

<span data-ttu-id="2020d-136">Nakonfigurujte nový prvek ObjectDataSource tak, že vyvolá metodu `GetCategories()` `CategoriesBLL` třídy.</span><span class="sxs-lookup"><span data-stu-id="2020d-136">Configure the new ObjectDataSource such that it invokes the `CategoriesBLL` class's `GetCategories()` method.</span></span> <span data-ttu-id="2020d-137">Po nakonfigurování prvku ObjectDataSource je stále potřeba určit, jaké pole zdroje dat by se mělo zobrazit v DropDownList a který má být přidružen jako hodnota pro každou položku seznamu.</span><span class="sxs-lookup"><span data-stu-id="2020d-137">After configuring the ObjectDataSource we still need to specify what data source field should be displayed in the DropDownList and which one should be associated as the value for each list item.</span></span> <span data-ttu-id="2020d-138">Má pole `CategoryName` jako hodnotu zobrazení a `CategoryID` jako hodnotu pro každou položku seznamu.</span><span class="sxs-lookup"><span data-stu-id="2020d-138">Have the `CategoryName` field as the display and `CategoryID` as the value for each list item.</span></span>

<span data-ttu-id="2020d-139">[![mají DropDownList zobrazit pole CategoryName a jako hodnotu použít CategoryID.](master-detail-filtering-with-a-dropdownlist-datalist-vb/_static/image10.png)](master-detail-filtering-with-a-dropdownlist-datalist-vb/_static/image9.png)</span><span class="sxs-lookup"><span data-stu-id="2020d-139">[![Have the DropDownList Display the CategoryName Field and Use CategoryID as the Value](master-detail-filtering-with-a-dropdownlist-datalist-vb/_static/image10.png)](master-detail-filtering-with-a-dropdownlist-datalist-vb/_static/image9.png)</span></span>

<span data-ttu-id="2020d-140">**Obrázek 5**: DropDownList zobrazí pole `CategoryName` a jako hodnotu použije `CategoryID` ([kliknutím zobrazíte obrázek v plné velikosti).](master-detail-filtering-with-a-dropdownlist-datalist-vb/_static/image11.png)</span><span class="sxs-lookup"><span data-stu-id="2020d-140">**Figure 5**: Have the DropDownList Display the `CategoryName` Field and Use `CategoryID` as the Value ([Click to view full-size image](master-detail-filtering-with-a-dropdownlist-datalist-vb/_static/image11.png))</span></span>

<span data-ttu-id="2020d-141">V tuto chvíli máme ovládací prvek DropDownList, který je naplněný záznamy z `Categories` tabulky (vše bylo dokončeno přibližně po dobu šesti sekund).</span><span class="sxs-lookup"><span data-stu-id="2020d-141">At this point we have a DropDownList control that's populated with the records from the `Categories` table (all accomplished in about six seconds).</span></span> <span data-ttu-id="2020d-142">Obrázek 6 znázorňuje náš průběh, pokud je zobrazený v prohlížeči.</span><span class="sxs-lookup"><span data-stu-id="2020d-142">Figure 6 shows our progress thus far when viewed through a browser.</span></span>

<span data-ttu-id="2020d-143">[![rozevíracího seznamu pro aktuální kategorie](master-detail-filtering-with-a-dropdownlist-datalist-vb/_static/image13.png)](master-detail-filtering-with-a-dropdownlist-datalist-vb/_static/image12.png)</span><span class="sxs-lookup"><span data-stu-id="2020d-143">[![A Drop-Down Lists the Current Categories](master-detail-filtering-with-a-dropdownlist-datalist-vb/_static/image13.png)](master-detail-filtering-with-a-dropdownlist-datalist-vb/_static/image12.png)</span></span>

<span data-ttu-id="2020d-144">**Obrázek 6**: rozevírací seznam pro aktuální kategorie ([kliknutím zobrazíte obrázek v plné velikosti](master-detail-filtering-with-a-dropdownlist-datalist-vb/_static/image14.png))</span><span class="sxs-lookup"><span data-stu-id="2020d-144">**Figure 6**: A Drop-Down Lists the Current Categories ([Click to view full-size image](master-detail-filtering-with-a-dropdownlist-datalist-vb/_static/image14.png))</span></span>

## <a name="step-2-adding-the-products-datalist"></a><span data-ttu-id="2020d-145">Krok 2: Přidání prvku DataList pro produkty</span><span class="sxs-lookup"><span data-stu-id="2020d-145">Step 2: Adding the Products DataList</span></span>

<span data-ttu-id="2020d-146">Posledním krokem v naší sestavě Master/Detail je seznam produktů přidružených k vybrané kategorii.</span><span class="sxs-lookup"><span data-stu-id="2020d-146">The last step in our master/detail report is to list the products associated with the selected category.</span></span> <span data-ttu-id="2020d-147">K tomu je nutné přidat prvek DataList na stránku a vytvořit nový prvek ObjectDataSource s názvem `ProductsByCategoryDataSource`.</span><span class="sxs-lookup"><span data-stu-id="2020d-147">To accomplish this, add a DataList to the page and create a new ObjectDataSource named `ProductsByCategoryDataSource`.</span></span> <span data-ttu-id="2020d-148">Mít ovládací prvek `ProductsByCategoryDataSource` načíst jeho data z metody `GetProductsByCategoryID(categoryID)` `ProductsBLL` třídy.</span><span class="sxs-lookup"><span data-stu-id="2020d-148">Have the `ProductsByCategoryDataSource` control retrieve its data from the `ProductsBLL` class's `GetProductsByCategoryID(categoryID)` method.</span></span> <span data-ttu-id="2020d-149">Vzhledem k tomu, že tato sestava hlavní/podrobnosti je jen pro čtení, vyberte možnost (žádná) na kartách vložení, aktualizace a odstranění.</span><span class="sxs-lookup"><span data-stu-id="2020d-149">Since this master/detail report is read-only, choose the (None) option in the INSERT, UPDATE, and DELETE tabs.</span></span>

<span data-ttu-id="2020d-150">[![vybrat metodu GetProductsByCategoryID (KódKategorie)](master-detail-filtering-with-a-dropdownlist-datalist-vb/_static/image16.png)](master-detail-filtering-with-a-dropdownlist-datalist-vb/_static/image15.png)</span><span class="sxs-lookup"><span data-stu-id="2020d-150">[![Select the GetProductsByCategoryID(categoryID) Method](master-detail-filtering-with-a-dropdownlist-datalist-vb/_static/image16.png)](master-detail-filtering-with-a-dropdownlist-datalist-vb/_static/image15.png)</span></span>

<span data-ttu-id="2020d-151">**Obrázek 7**: vyberte metodu `GetProductsByCategoryID(categoryID)` ([kliknutím zobrazíte obrázek v plné velikosti](master-detail-filtering-with-a-dropdownlist-datalist-vb/_static/image17.png)).</span><span class="sxs-lookup"><span data-stu-id="2020d-151">**Figure 7**: Select the `GetProductsByCategoryID(categoryID)` Method ([Click to view full-size image](master-detail-filtering-with-a-dropdownlist-datalist-vb/_static/image17.png))</span></span>

<span data-ttu-id="2020d-152">Po kliknutí na tlačítko Další Průvodce ObjectDataSource vyzve pro zdroj hodnoty pro *`categoryID`* parametr metody `GetProductsByCategoryID(categoryID)`.</span><span class="sxs-lookup"><span data-stu-id="2020d-152">After clicking Next, the ObjectDataSource wizard prompts us for the source of the value for the `GetProductsByCategoryID(categoryID)` method's *`categoryID`* parameter.</span></span> <span data-ttu-id="2020d-153">Chcete-li použít hodnotu vybrané `categories` položku DropDownList, nastavte zdroj parametru jako ovládací prvek a vlastnosti ControlID k `Categories`.</span><span class="sxs-lookup"><span data-stu-id="2020d-153">To use the value of the selected `categories` DropDownList item set the Parameter source to Control and the ControlID to `Categories`.</span></span>

<span data-ttu-id="2020d-154">[![nastavit parametr categoryID na hodnotu kategorie DropDownList](master-detail-filtering-with-a-dropdownlist-datalist-vb/_static/image19.png)](master-detail-filtering-with-a-dropdownlist-datalist-vb/_static/image18.png)</span><span class="sxs-lookup"><span data-stu-id="2020d-154">[![Set the categoryID Parameter to the Value of the Categories DropDownList](master-detail-filtering-with-a-dropdownlist-datalist-vb/_static/image19.png)](master-detail-filtering-with-a-dropdownlist-datalist-vb/_static/image18.png)</span></span>

<span data-ttu-id="2020d-155">**Obrázek 8**: nastavte parametr *`categoryID`* na hodnotu `Categories` DropDownList ([kliknutím zobrazíte obrázek v plné velikosti).](master-detail-filtering-with-a-dropdownlist-datalist-vb/_static/image20.png)</span><span class="sxs-lookup"><span data-stu-id="2020d-155">**Figure 8**: Set the *`categoryID`* Parameter to the Value of the `Categories` DropDownList ([Click to view full-size image](master-detail-filtering-with-a-dropdownlist-datalist-vb/_static/image20.png))</span></span>

<span data-ttu-id="2020d-156">Po dokončení Průvodce konfigurací zdroje dat bude Visual Studio automaticky generovat `ItemTemplate` pro prvek DataList, který zobrazuje název a hodnotu jednotlivých datových polí.</span><span class="sxs-lookup"><span data-stu-id="2020d-156">Upon completing the Configure Data Source wizard, Visual Studio will automatically generate an `ItemTemplate` for the DataList that displays the name and value of each data field.</span></span> <span data-ttu-id="2020d-157">Vylepšete prvek DataList, aby místo toho používal `ItemTemplate`, který zobrazuje pouze název produktu, kategorii, dodavatel, množství na jednotku a cenu spolu s `SeparatorTemplate`, který vkládá `<hr>` prvek mezi jednotlivými položkami.</span><span class="sxs-lookup"><span data-stu-id="2020d-157">Let's enhance the DataList to instead use an `ItemTemplate` that displays just the product's name, category, supplier, quantity per unit, and price along with a `SeparatorTemplate` that injects an `<hr>` element between each item.</span></span> <span data-ttu-id="2020d-158">Nyní používám `ItemTemplate` z příkladu v [zobrazení dat pomocí kurzu ovládací prvky DataList a Repeater](../displaying-data-with-the-datalist-and-repeater/displaying-data-with-the-datalist-and-repeater-controls-vb.md) , ale můžete použít jakýkoli kód šablony, který vyhledáte na základě vizuálního odvolání.</span><span class="sxs-lookup"><span data-stu-id="2020d-158">I'm going to use the `ItemTemplate` from an example in the [Displaying Data with the DataList and Repeater Controls](../displaying-data-with-the-datalist-and-repeater/displaying-data-with-the-datalist-and-repeater-controls-vb.md) tutorial, but feel free to use whatever template markup you find most visually appealing.</span></span>

<span data-ttu-id="2020d-159">Po provedení těchto změn by váš prvek DataList a jeho značky ObjectDataSource měly vypadat podobně jako následující:</span><span class="sxs-lookup"><span data-stu-id="2020d-159">After making these changes, your DataList and its ObjectDataSource's markup should look similar to the following:</span></span>

[!code-aspx[Main](master-detail-filtering-with-a-dropdownlist-datalist-vb/samples/sample2.aspx)]

<span data-ttu-id="2020d-160">Chvíli si Projděte náš pokrok v prohlížeči.</span><span class="sxs-lookup"><span data-stu-id="2020d-160">Take a moment to check out our progress in a browser.</span></span> <span data-ttu-id="2020d-161">Při první návštěvě stránky se zobrazí tyto produkty patřící do vybrané kategorie (nápoje) (jak je znázorněno na obrázku 9), ale změna ovládacího prvkem DropDownList neaktualizuje data.</span><span class="sxs-lookup"><span data-stu-id="2020d-161">When first visiting the page, those products belonging to the selected category (Beverages) are displayed (as shown in Figure 9), but changing the DropDownList doesn't update the data.</span></span> <span data-ttu-id="2020d-162">Důvodem je, že k aktualizaci prvku DataList musí dojít k postbacku.</span><span class="sxs-lookup"><span data-stu-id="2020d-162">This is because a postback must occur for the DataList to update.</span></span> <span data-ttu-id="2020d-163">Chcete-li to dosáhnout, můžeme buď nastavit vlastnost `AutoPostBack` ovládacího prvku DropDownList na `true` nebo přidat webové ovládací prvky tlačítka na stránku.</span><span class="sxs-lookup"><span data-stu-id="2020d-163">To accomplish this we can either set the DropDownList's `AutoPostBack` property to `true` or add a Button Web control to the page.</span></span> <span data-ttu-id="2020d-164">V tomto kurzu se mi rozhodlo nastavit vlastnost `AutoPostBack` ovládacího prvku DropDownList na hodnotu `true`.</span><span class="sxs-lookup"><span data-stu-id="2020d-164">For this tutorial, I've opted to set the DropDownList's `AutoPostBack` property to `true`.</span></span>

<span data-ttu-id="2020d-165">Obrázky 9 a 10 ilustrují sestavu hlavní/podrobnosti v akci.</span><span class="sxs-lookup"><span data-stu-id="2020d-165">Figures 9 and 10 illustrate the master/detail report in action.</span></span>

<span data-ttu-id="2020d-166">[![při první návštěvě stránky se zobrazí nápojové produkty.](master-detail-filtering-with-a-dropdownlist-datalist-vb/_static/image22.png)](master-detail-filtering-with-a-dropdownlist-datalist-vb/_static/image21.png)</span><span class="sxs-lookup"><span data-stu-id="2020d-166">[![When First Visiting the Page, the Beverage Products are Displayed](master-detail-filtering-with-a-dropdownlist-datalist-vb/_static/image22.png)](master-detail-filtering-with-a-dropdownlist-datalist-vb/_static/image21.png)</span></span>

<span data-ttu-id="2020d-167">**Obrázek 9**: když poprvé navštívíte stránku, zobrazí se nápojové produkty ([kliknutím zobrazíte obrázek v plné velikosti](master-detail-filtering-with-a-dropdownlist-datalist-vb/_static/image23.png)).</span><span class="sxs-lookup"><span data-stu-id="2020d-167">**Figure 9**: When First Visiting the Page, the Beverage Products are Displayed ([Click to view full-size image](master-detail-filtering-with-a-dropdownlist-datalist-vb/_static/image23.png))</span></span>

<span data-ttu-id="2020d-168">[![výběru nového produktu (vytváře) automaticky vyvolá PostBack, aktualizuje se DataList.](master-detail-filtering-with-a-dropdownlist-datalist-vb/_static/image25.png)](master-detail-filtering-with-a-dropdownlist-datalist-vb/_static/image24.png)</span><span class="sxs-lookup"><span data-stu-id="2020d-168">[![Selecting a New Product (Produce) Automatically Causes a PostBack, Updating the DataList](master-detail-filtering-with-a-dropdownlist-datalist-vb/_static/image25.png)](master-detail-filtering-with-a-dropdownlist-datalist-vb/_static/image24.png)</span></span>

<span data-ttu-id="2020d-169">**Obrázek 10**: výběr nového produktu (vytvořeného) automaticky způsobí postback, aktualizaci prvku DataList ([kliknutím zobrazíte obrázek v plné velikosti](master-detail-filtering-with-a-dropdownlist-datalist-vb/_static/image26.png)).</span><span class="sxs-lookup"><span data-stu-id="2020d-169">**Figure 10**: Selecting a New Product (Produce) Automatically Causes a PostBack, Updating the DataList ([Click to view full-size image](master-detail-filtering-with-a-dropdownlist-datalist-vb/_static/image26.png))</span></span>

## <a name="adding-a----choose-a-category----list-item"></a><span data-ttu-id="2020d-170">Přidání položky seznamu "--zvolit kategorii"</span><span class="sxs-lookup"><span data-stu-id="2020d-170">Adding a "-- Choose a Category --" List Item</span></span>

<span data-ttu-id="2020d-171">Při první návštěvě `FilterByDropDownList.aspx` stránky je ve výchozím nastavení vybrána položka první položka seznamu (nápoje) kategorie, která zobrazuje nápoje v prvku DataList.</span><span class="sxs-lookup"><span data-stu-id="2020d-171">When first visiting the `FilterByDropDownList.aspx` page the categories DropDownList's first list item (Beverages) is selected by default, showing the beverage products in the DataList.</span></span> <span data-ttu-id="2020d-172">V rámci *filtrování hlavní/podrobnosti pomocí kurzu DropDownList* jsme přidali možnost "--zvolit kategorii" na ovládacím prvkem DropDownList, která byla vybrána ve výchozím nastavení, a pokud je vybrána, zobrazí se *všechny* produkty v databázi.</span><span class="sxs-lookup"><span data-stu-id="2020d-172">In the *Master/Detail Filtering With a DropDownList* tutorial we added a "-- Choose a Category --" option to the DropDownList that was selected by default and, when selected, displayed *all* of the products in the database.</span></span> <span data-ttu-id="2020d-173">Takový přístup je spravovatelný při výpisu produktů v prvku GridView, protože každý produktový řádek zabral malou plochu obrazovky.</span><span class="sxs-lookup"><span data-stu-id="2020d-173">Such an approach was manageable when listing the products in a GridView, as each product row took up a small amount of screen real estate.</span></span> <span data-ttu-id="2020d-174">U prvku DataList ale všechny informace o produktu spotřebovávají mnohem větší blok obrazovky.</span><span class="sxs-lookup"><span data-stu-id="2020d-174">With the DataList, however, each product's information consumes a much larger chunk of the screen.</span></span> <span data-ttu-id="2020d-175">Pojďme stále přidat možnost--zvolit kategorii a vybrat ji ve výchozím nastavení, ale místo toho, aby zobrazovala všechny produkty, je možné ji nakonfigurovat tak, aby se zobrazily žádné produkty.</span><span class="sxs-lookup"><span data-stu-id="2020d-175">Let's still add a "-- Choose a Category --" option and have it selected by default, but instead of having it show all products when selected, let's configure it so that it shows no products.</span></span>

<span data-ttu-id="2020d-176">Chcete-li přidat novou položku seznamu do ovládacího prvků DropDownList, přejděte na okno Vlastnosti a klikněte na tlačítko se třemi tečkami ve vlastnosti `Items`.</span><span class="sxs-lookup"><span data-stu-id="2020d-176">To add a new list item to the DropDownList, go to the Properties window and click on the ellipses in the `Items` property.</span></span> <span data-ttu-id="2020d-177">Přidejte novou položku seznamu s `Text` "--zvolit kategorii--" a `Value` `0`.</span><span class="sxs-lookup"><span data-stu-id="2020d-177">Add a new list item with the `Text` "-- Choose a Category --" and the `Value` `0`.</span></span>

![Přidat](master-detail-filtering-with-a-dropdownlist-datalist-vb/_static/image27.png)

<span data-ttu-id="2020d-179">**Obrázek 11**: Přidání položky seznamu "--zvolit kategorii"</span><span class="sxs-lookup"><span data-stu-id="2020d-179">**Figure 11**: Add a "-- Choose a Category --" List Item</span></span>

<span data-ttu-id="2020d-180">Alternativně můžete přidat položku seznamu přidáním následujícího kódu do ovládacího prvkem DropDownList:</span><span class="sxs-lookup"><span data-stu-id="2020d-180">Alternatively, you can add the list item by adding the following markup to the DropDownList:</span></span>

[!code-aspx[Main](master-detail-filtering-with-a-dropdownlist-datalist-vb/samples/sample3.aspx)]

<span data-ttu-id="2020d-181">Kromě toho je potřeba nastavit `AppendDataBoundItems` ovládacího prvku DropDownList na `true`, protože pokud je nastaven na `false` (výchozí), pokud jsou kategorie svázány s ovládacím prvkem DropDownList z prvku ObjectDataSource, budou přepsány jakékoli ručně přidané položky seznamu.</span><span class="sxs-lookup"><span data-stu-id="2020d-181">Additionally, we need to set the DropDownList control's `AppendDataBoundItems` to `true` because if it's set to `false` (the default), when the categories are bound to the DropDownList from the ObjectDataSource they'll overwrite any manually-added list items.</span></span>

![Nastavte vlastnost AppendDataBoundItems na hodnotu true.](master-detail-filtering-with-a-dropdownlist-datalist-vb/_static/image28.png)

<span data-ttu-id="2020d-183">**Obrázek 12**: nastavte vlastnost `AppendDataBoundItems` na hodnotu true.</span><span class="sxs-lookup"><span data-stu-id="2020d-183">**Figure 12**: Set the `AppendDataBoundItems` Property to True</span></span>

<span data-ttu-id="2020d-184">Důvodem je, že `0` hodnoty pro "--zvolit kategorii –" položka seznamu je, protože v systému nejsou žádné kategorie s hodnotou `0`, a proto nebudou vráceny žádné záznamy produktů, pokud je vybrána položka seznamu "--zvolit kategorii".</span><span class="sxs-lookup"><span data-stu-id="2020d-184">The reason we chose the value `0` for the "-- Choose a Category --" list item is because there are no categories in the system with a value of `0`, hence no product records will be returned when the "-- Choose a Category --" list item is selected.</span></span> <span data-ttu-id="2020d-185">Potvrďte to tak, že chvíli navštívíte stránku prostřednictvím prohlížeče.</span><span class="sxs-lookup"><span data-stu-id="2020d-185">To confirm this, take a moment to visit the page through a browser.</span></span> <span data-ttu-id="2020d-186">Jak ukazuje obrázek 13, při počátečním zobrazení stránky se vybere položka seznamu "--zvolit kategorii--" a nezobrazí se žádné produkty.</span><span class="sxs-lookup"><span data-stu-id="2020d-186">As Figure 13 shows, when initially viewing the page the "-- Choose a Category --" list item is selected and no products are displayed.</span></span>

<span data-ttu-id="2020d-187">[![, když](master-detail-filtering-with-a-dropdownlist-datalist-vb/_static/image30.png)](master-detail-filtering-with-a-dropdownlist-datalist-vb/_static/image29.png)</span><span class="sxs-lookup"><span data-stu-id="2020d-187">[![When the](master-detail-filtering-with-a-dropdownlist-datalist-vb/_static/image30.png)](master-detail-filtering-with-a-dropdownlist-datalist-vb/_static/image29.png)</span></span>

<span data-ttu-id="2020d-188">**Obrázek 13**: když je vybraná položka seznamu "--zvolit kategorii--", nezobrazí se žádné produkty ([kliknutím zobrazíte obrázek v plné velikosti).](master-detail-filtering-with-a-dropdownlist-datalist-vb/_static/image31.png)</span><span class="sxs-lookup"><span data-stu-id="2020d-188">**Figure 13**: When the "-- Choose a Category --" List Item is Selected, No Products are Displayed ([Click to view full-size image](master-detail-filtering-with-a-dropdownlist-datalist-vb/_static/image31.png))</span></span>

<span data-ttu-id="2020d-189">Pokud místo toho chcete zobrazit *všechny* produkty v případě, že je vybrána možnost--zvolit kategorii--, použijte místo toho hodnotu `-1`.</span><span class="sxs-lookup"><span data-stu-id="2020d-189">If you'd rather display *all* of the products when the "-- Choose a Category --" option is selected, use a value of `-1` instead.</span></span> <span data-ttu-id="2020d-190">Čtečka bystří tento postup vrátí zpět v rámci *filtrování hlavního/podrobného filtru pomocí kurzu DropDownList* . Aktualizovali jsme `GetProductsByCategoryID(categoryID)` metodu `ProductsBLL` třídy, takže pokud byla předána hodnota *`categoryID`* `-1`, všechny záznamy produktů byly vráceny.</span><span class="sxs-lookup"><span data-stu-id="2020d-190">The astute reader will recall that back in the *Master/Detail Filtering With a DropDownList* tutorial we updated the `ProductsBLL` class's `GetProductsByCategoryID(categoryID)` method so that if a *`categoryID`* value of `-1` was passed in, all product records were returned.</span></span>

## <a name="summary"></a><span data-ttu-id="2020d-191">Přehled</span><span class="sxs-lookup"><span data-stu-id="2020d-191">Summary</span></span>

<span data-ttu-id="2020d-192">Při zobrazení hierarchicky souvisejících dat často pomáhá prezentovat data pomocí hlavních a podrobných sestav, od kterých může uživatel začít perusing data z horní části hierarchie a přejít k podrobnostem.</span><span class="sxs-lookup"><span data-stu-id="2020d-192">When displaying hierarchically-related data, it often helps to present the data using master/detail reports, from which the user can start perusing the data from the top of the hierarchy and drill down into details.</span></span> <span data-ttu-id="2020d-193">V tomto kurzu jsme prozkoumali vytvoření jednoduché sestavy hlavní/podrobnosti zobrazující produkty vybrané kategorie.</span><span class="sxs-lookup"><span data-stu-id="2020d-193">In this tutorial we examined building a simple master/detail report showing a selected category's products.</span></span> <span data-ttu-id="2020d-194">To bylo provedeno pomocí ovládacího prvku DropDownList pro seznam kategorií a DataList pro produkty patřící do vybrané kategorie.</span><span class="sxs-lookup"><span data-stu-id="2020d-194">This was accomplished by using a DropDownList for the list of categories and a DataList for the products belonging to the selected category.</span></span>

<span data-ttu-id="2020d-195">V dalším kurzu se podíváme na oddělení hlavních a podrobných záznamů na dvou stránkách.</span><span class="sxs-lookup"><span data-stu-id="2020d-195">In the next tutorial we'll look at separating the master and details records across two pages.</span></span> <span data-ttu-id="2020d-196">Na první stránce se zobrazí seznam "Master" záznamů s odkazem na zobrazení podrobností.</span><span class="sxs-lookup"><span data-stu-id="2020d-196">In the first page, a list of "master" records will be displayed, with a link to view the details.</span></span> <span data-ttu-id="2020d-197">Kliknutím na odkaz zobrazíte uživatele na druhou stránku, kde se zobrazí podrobnosti vybraného hlavního záznamu.</span><span class="sxs-lookup"><span data-stu-id="2020d-197">Clicking on the link will whisk the user to the second page, which will display the details for the selected master record.</span></span>

<span data-ttu-id="2020d-198">Šťastné programování!</span><span class="sxs-lookup"><span data-stu-id="2020d-198">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="2020d-199">O autorovi</span><span class="sxs-lookup"><span data-stu-id="2020d-199">About the Author</span></span>

<span data-ttu-id="2020d-200">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), autor 7 ASP/ASP. NET Books a zakladatel of [4GuysFromRolla.com](http://www.4guysfromrolla.com), pracoval s webovými technologiemi Microsoftu od 1998.</span><span class="sxs-lookup"><span data-stu-id="2020d-200">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="2020d-201">Scott funguje jako nezávislý konzultant, Trainer a zapisovač.</span><span class="sxs-lookup"><span data-stu-id="2020d-201">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="2020d-202">Nejnovější kniha je [*Sams naučit se ASP.NET 2,0 za 24 hodin*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="2020d-202">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="2020d-203">Dá se získat na [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="2020d-203">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span> <span data-ttu-id="2020d-204">nebo prostřednictvím svého blogu, který najdete na adrese [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span><span class="sxs-lookup"><span data-stu-id="2020d-204">or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

## <a name="special-thanks-to"></a><span data-ttu-id="2020d-205">Zvláštní díky...</span><span class="sxs-lookup"><span data-stu-id="2020d-205">Special Thanks To…</span></span>

<span data-ttu-id="2020d-206">Tato řada kurzů byla přezkoumána mnoha užitečnými kontrolory.</span><span class="sxs-lookup"><span data-stu-id="2020d-206">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="2020d-207">Kontrolor pro tento kurz byl Randy Schmidt.</span><span class="sxs-lookup"><span data-stu-id="2020d-207">Lead reviewer for this tutorial was Randy Schmidt.</span></span> <span data-ttu-id="2020d-208">Uvažujete o přezkoumání mých nadcházejících článků na webu MSDN?</span><span class="sxs-lookup"><span data-stu-id="2020d-208">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="2020d-209">Pokud ano, vyřaďte mi řádek na [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="2020d-209">If so, drop me a line at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="2020d-210">[Předchozí](master-detail-using-a-bulleted-list-of-master-records-with-a-details-datalist-cs.md)
> [Další](master-detail-filtering-acess-two-pages-datalist-vb.md)</span><span class="sxs-lookup"><span data-stu-id="2020d-210">[Previous](master-detail-using-a-bulleted-list-of-master-records-with-a-details-datalist-cs.md)
[Next](master-detail-filtering-acess-two-pages-datalist-vb.md)</span></span>
