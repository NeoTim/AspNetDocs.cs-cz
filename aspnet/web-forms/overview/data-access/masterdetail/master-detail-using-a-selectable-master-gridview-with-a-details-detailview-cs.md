---
uid: web-forms/overview/data-access/masterdetail/master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs
title: Hlavní a podrobnosti pomocí selektivního hlavního prvku GridView s podrobnostmi prvku detailview (C#) | Microsoft Docs
author: rick-anderson
description: V tomto kurzu bude mít prvek GridView, jehož řádky obsahují název a cenu každého produktu spolu s tlačítkem vybrat. Klikněte na tlačítko vybrat pro particu...
ms.author: riande
ms.date: 03/31/2010
ms.assetid: 0f982827-f8f9-420d-b36b-57b23f5aa519
msc.legacyurl: /web-forms/overview/data-access/masterdetail/master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs
msc.type: authoredcontent
ms.openlocfilehash: 04c427341f063729bd23b416a96f5acb20702792
ms.sourcegitcommit: 22fbd8863672c4ad6693b8388ad5c8e753fb41a2
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 11/28/2019
ms.locfileid: "74632490"
---
# <a name="masterdetail-using-a-selectable-master-gridview-with-a-details-detailview-c"></a><span data-ttu-id="5afff-104">Zobrazení hlavních záznamů / podrobností výběrem hlavního záznamu prvkem GridView s podrobnostmi v prvku DetailView (C#)</span><span class="sxs-lookup"><span data-stu-id="5afff-104">Master/Detail Using a Selectable Master GridView with a Details DetailView (C#)</span></span>

<span data-ttu-id="5afff-105">[Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="5afff-105">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="5afff-106">[Stáhnout ukázkovou aplikaci](https://download.microsoft.com/download/4/6/3/463cf87c-4724-4cbc-b7b5-3f866f43ba50/ASPNET_Data_Tutorial_10_CS.exe) nebo [Stáhnout PDF](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/datatutorial10cs1.pdf)</span><span class="sxs-lookup"><span data-stu-id="5afff-106">[Download Sample App](https://download.microsoft.com/download/4/6/3/463cf87c-4724-4cbc-b7b5-3f866f43ba50/ASPNET_Data_Tutorial_10_CS.exe) or [Download PDF](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/datatutorial10cs1.pdf)</span></span>

> <span data-ttu-id="5afff-107">V tomto kurzu bude mít prvek GridView, jehož řádky obsahují název a cenu každého produktu spolu s tlačítkem vybrat.</span><span class="sxs-lookup"><span data-stu-id="5afff-107">This tutorial will have a GridView whose rows include the name and price of each product along with a Select button.</span></span> <span data-ttu-id="5afff-108">Kliknutí na tlačítko pro výběr konkrétního produktu způsobí, že se jeho úplné podrobnosti zobrazí v ovládacím prvku DetailsView na stejné stránce.</span><span class="sxs-lookup"><span data-stu-id="5afff-108">Clicking the Select button for a particular product will cause its full details to be displayed in a DetailsView control on the same page.</span></span>

## <a name="introduction"></a><span data-ttu-id="5afff-109">Úvod</span><span class="sxs-lookup"><span data-stu-id="5afff-109">Introduction</span></span>

<span data-ttu-id="5afff-110">V [předchozím kurzu](master-detail-filtering-across-two-pages-cs.md) jsme viděli, jak vytvořit sestavu hlavní a podrobnosti pomocí dvou webových stránek: "hlavní" Webová stránka, ze které jsme zobrazili seznam dodavatelů. a na webové stránce Podrobnosti, která je uvedená v seznamu produktů poskytovaných vybraným dodavatelem.</span><span class="sxs-lookup"><span data-stu-id="5afff-110">In the [previous tutorial](master-detail-filtering-across-two-pages-cs.md) we saw how to create a master/detail report using two web pages: a "master" web page, from which we displayed the list of suppliers; and a "details" web page that listed those products provided by the selected supplier.</span></span> <span data-ttu-id="5afff-111">Tento formát sestavy stránky může být zúžený na jednu stránku.</span><span class="sxs-lookup"><span data-stu-id="5afff-111">This two page report format can be condensed into one page.</span></span> <span data-ttu-id="5afff-112">V tomto kurzu bude mít prvek GridView, jehož řádky obsahují název a cenu každého produktu spolu s tlačítkem vybrat.</span><span class="sxs-lookup"><span data-stu-id="5afff-112">This tutorial will have a GridView whose rows include the name and price of each product along with a Select button.</span></span> <span data-ttu-id="5afff-113">Kliknutí na tlačítko pro výběr konkrétního produktu způsobí, že se jeho úplné podrobnosti zobrazí v ovládacím prvku DetailsView na stejné stránce.</span><span class="sxs-lookup"><span data-stu-id="5afff-113">Clicking the Select button for a particular product will cause its full details to be displayed in a DetailsView control on the same page.</span></span>

<span data-ttu-id="5afff-114">[![kliknutí na tlačítko vybrat zobrazí podrobnosti o produktu.](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image2.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="5afff-114">[![Clicking the Select Button Displays the Product's Details](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image2.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image1.png)</span></span>

<span data-ttu-id="5afff-115">**Obrázek 1**: kliknutím na tlačítko vybrat zobrazíte podrobnosti o produktu ([kliknutím zobrazíte obrázek v plné velikosti).](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image3.png)</span><span class="sxs-lookup"><span data-stu-id="5afff-115">**Figure 1**: Clicking the Select Button Displays the Product's Details ([Click to view full-size image](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image3.png))</span></span>

## <a name="step-1-creating-a-selectable-gridview"></a><span data-ttu-id="5afff-116">Krok 1: vytvoření selektivního prvku GridView</span><span class="sxs-lookup"><span data-stu-id="5afff-116">Step 1: Creating a Selectable GridView</span></span>

<span data-ttu-id="5afff-117">Nahlaste se v sestavě Master/Detail na dvou stránkách, kterou každý hlavní záznam obsahuje, a když se na něj klikne, pošle se uživateli na stránku podrobností, která přesměruje na hodnotu `SupplierID` řádku v řetězci dotazu.</span><span class="sxs-lookup"><span data-stu-id="5afff-117">Recall that in the two-page master/detail report that each master record included a hyperlink that, when clicked, sent the user to the details page passing the clicked row's `SupplierID` value in the querystring.</span></span> <span data-ttu-id="5afff-118">Takový hypertextový odkaz byl přidán do každého řádku GridView pomocí HyperLinkField.</span><span class="sxs-lookup"><span data-stu-id="5afff-118">Such a hyperlink was added to each GridView row using a HyperLinkField.</span></span> <span data-ttu-id="5afff-119">V případě sestavy hlavní stránka/podrobnosti pro jednu stránku budeme potřebovat tlačítko pro každý řádek GridView, který po kliknutí zobrazí podrobnosti.</span><span class="sxs-lookup"><span data-stu-id="5afff-119">For the single page master/details report, we will need a Button for each GridView row that, when clicked, shows the details.</span></span> <span data-ttu-id="5afff-120">Ovládací prvek GridView lze nakonfigurovat tak, aby zahrnoval tlačítko pro výběr pro každý řádek, který způsobí postback, a označí tento řádek jako [SelectedRow](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.selectedrow.aspx)prvku GridView.</span><span class="sxs-lookup"><span data-stu-id="5afff-120">The GridView control can be configured to include a Select button for each row that causes a postback and marks that row as the GridView's [SelectedRow](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.selectedrow.aspx).</span></span>

<span data-ttu-id="5afff-121">Začněte přidáním ovládacího prvku GridView na stránku `DetailsBySelecting.aspx` ve složce `Filtering` a nastavte jeho vlastnost `ID` na `ProductsGrid`.</span><span class="sxs-lookup"><span data-stu-id="5afff-121">Start by adding a GridView control to the `DetailsBySelecting.aspx` page in the `Filtering` folder, setting its `ID` property to `ProductsGrid`.</span></span> <span data-ttu-id="5afff-122">Dále přidejte nový prvek ObjectDataSource pojmenovaný `AllProductsDataSource`, který vyvolá metodu `GetProducts()` `ProductsBLL` třídy.</span><span class="sxs-lookup"><span data-stu-id="5afff-122">Next, add a new ObjectDataSource named `AllProductsDataSource` that invokes the `ProductsBLL` class's `GetProducts()` method.</span></span>

<span data-ttu-id="5afff-123">[![vytvořit prvek ObjectDataSource s názvem AllProductsDataSource](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image5.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image4.png)</span><span class="sxs-lookup"><span data-stu-id="5afff-123">[![Create an ObjectDataSource Named AllProductsDataSource](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image5.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image4.png)</span></span>

<span data-ttu-id="5afff-124">**Obrázek 2**: Vytvoření prvku ObjectDataSource s názvem `AllProductsDataSource` ([kliknutím zobrazíte obrázek v plné velikosti](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="5afff-124">**Figure 2**: Create an ObjectDataSource Named `AllProductsDataSource` ([Click to view full-size image](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image6.png))</span></span>

<span data-ttu-id="5afff-125">[![použít třídu ProductsBLL](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image8.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="5afff-125">[![Use the ProductsBLL Class](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image8.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image7.png)</span></span>

<span data-ttu-id="5afff-126">**Obrázek 3**: použijte třídu `ProductsBLL` ([kliknutím zobrazíte obrázek v plné velikosti](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image9.png)).</span><span class="sxs-lookup"><span data-stu-id="5afff-126">**Figure 3**: Use the `ProductsBLL` Class ([Click to view full-size image](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image9.png))</span></span>

<span data-ttu-id="5afff-127">[![nakonfigurovat prvek ObjectDataSource pro vyvolání metody GetProducts ()](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image11.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image10.png)</span><span class="sxs-lookup"><span data-stu-id="5afff-127">[![Configure the ObjectDataSource to Invoke the GetProducts() Method](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image11.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image10.png)</span></span>

<span data-ttu-id="5afff-128">**Obrázek 4**: Konfigurace prvku ObjectDataSource pro vyvolání metody `GetProducts()` ([kliknutím zobrazíte obrázek v plné velikosti](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="5afff-128">**Figure 4**: Configure the ObjectDataSource to Invoke the `GetProducts()` Method ([Click to view full-size image](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image12.png))</span></span>

<span data-ttu-id="5afff-129">Upravte pole prvku GridView odebráním všech prvků kromě `ProductName` a `UnitPrice` BoundFields.</span><span class="sxs-lookup"><span data-stu-id="5afff-129">Edit the GridView's fields removing all but the `ProductName` and `UnitPrice` BoundFields.</span></span> <span data-ttu-id="5afff-130">Také si klidně Přizpůsobte tyto BoundFields podle potřeby, jako je například formátování `UnitPrice` vlastnost BoundField jako měny a změna vlastností `HeaderText` BoundFields.</span><span class="sxs-lookup"><span data-stu-id="5afff-130">Also, feel free to customize these BoundFields as needed, such as formatting the `UnitPrice` BoundField as a currency and changing the `HeaderText` properties of the BoundFields.</span></span> <span data-ttu-id="5afff-131">Tyto kroky lze provést graficky kliknutím na odkaz Upravit sloupce z inteligentní značky prvku GridView nebo ruční konfigurací deklarativní syntaxe.</span><span class="sxs-lookup"><span data-stu-id="5afff-131">These steps can be accomplished graphically, by clicking the Edit Columns link from the GridView's smart tag, or by manually configuring the declarative syntax.</span></span>

<span data-ttu-id="5afff-132">[![odebrat všechny kromě BoundFields NázevVýrobku a UnitPrice](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image14.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="5afff-132">[![Remove All But the ProductName and UnitPrice BoundFields](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image14.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image13.png)</span></span>

<span data-ttu-id="5afff-133">**Obrázek 5**: Odeberte všechny kromě `ProductName` a `UnitPrice` BoundFields ([kliknutím zobrazíte obrázek v plné velikosti](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image15.png)).</span><span class="sxs-lookup"><span data-stu-id="5afff-133">**Figure 5**: Remove All But the `ProductName` and `UnitPrice` BoundFields ([Click to view full-size image](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image15.png))</span></span>

<span data-ttu-id="5afff-134">Konečné označení prvku GridView je:</span><span class="sxs-lookup"><span data-stu-id="5afff-134">The final markup for the GridView is:</span></span>

[!code-aspx[Main](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/samples/sample1.aspx)]

<span data-ttu-id="5afff-135">Dále je nutné označit prvek GridView jako volitelný, čímž přidáte tlačítko pro výběr na každý řádek.</span><span class="sxs-lookup"><span data-stu-id="5afff-135">Next, we need to mark the GridView as selectable, which will add a Select button to each row.</span></span> <span data-ttu-id="5afff-136">K tomuto účelu stačí zaškrtnout políčko Povolit výběr v inteligentní značce prvku GridView.</span><span class="sxs-lookup"><span data-stu-id="5afff-136">To accomplish this, simply check the Enable Selection checkbox in the GridView's smart tag.</span></span>

<span data-ttu-id="5afff-137">[![nastavit, že se mají vybrat řádky prvku GridView](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image17.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image16.png)</span><span class="sxs-lookup"><span data-stu-id="5afff-137">[![Make the GridView's Rows Selectable](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image17.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image16.png)</span></span>

<span data-ttu-id="5afff-138">**Obrázek 6**: umožňuje vybrat řádky prvku GridView ([kliknutím zobrazíte obrázek v plné velikosti](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image18.png)).</span><span class="sxs-lookup"><span data-stu-id="5afff-138">**Figure 6**: Make the GridView's Rows Selectable ([Click to view full-size image](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image18.png))</span></span>

<span data-ttu-id="5afff-139">Zaškrtnutím možnosti povolit výběr přidáte CommandField do prvku GridView `ProductsGrid` s vlastností `ShowSelectButton` nastavenou na hodnotu true.</span><span class="sxs-lookup"><span data-stu-id="5afff-139">Checking the Enabling Selection option adds a CommandField to the `ProductsGrid` GridView with its `ShowSelectButton` property set to True.</span></span> <span data-ttu-id="5afff-140">Výsledkem je tlačítko výběru pro každý řádek prvku GridView, jak ukazuje obrázek 6.</span><span class="sxs-lookup"><span data-stu-id="5afff-140">This results in a Select button for each row of the GridView, as Figure 6 illustrates.</span></span> <span data-ttu-id="5afff-141">Ve výchozím nastavení jsou tlačítka pro výběr vykreslena jako LinkButtons, ale místo toho můžete použít tlačítka nebo ImageButtons prostřednictvím vlastnosti `ButtonType` CommandField.</span><span class="sxs-lookup"><span data-stu-id="5afff-141">By default, the Select buttons are rendered as LinkButtons, but you can use Buttons or ImageButtons instead through the CommandField's `ButtonType` property.</span></span>

[!code-aspx[Main](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/samples/sample2.aspx)]

<span data-ttu-id="5afff-142">Když je kliknutí na tlačítko výběru řádku GridView (odeslání) kliknuto a vlastnost `SelectedRow` prvku GridView je aktualizována.</span><span class="sxs-lookup"><span data-stu-id="5afff-142">When a GridView row's Select button is clicked a postback ensues and the GridView's `SelectedRow` property is updated.</span></span> <span data-ttu-id="5afff-143">Kromě vlastnosti `SelectedRow` poskytuje prvek GridView vlastnosti [SelectedIndex](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.selectedindex%28VS.80%29.aspx), [SelectedValue](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.selectedvalue%28VS.80%29.aspx)a [SelectedDataKey](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.selecteddatakey%28VS.80%29.aspx) .</span><span class="sxs-lookup"><span data-stu-id="5afff-143">In addition to the `SelectedRow` property, the GridView provides the [SelectedIndex](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.selectedindex%28VS.80%29.aspx), [SelectedValue](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.selectedvalue%28VS.80%29.aspx), and [SelectedDataKey](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.selecteddatakey%28VS.80%29.aspx) properties.</span></span> <span data-ttu-id="5afff-144">Vlastnost `SelectedIndex` vrací index vybraného řádku, zatímco vlastnosti `SelectedValue` a `SelectedDataKey` vrací hodnoty založené na [vlastnosti DataKeyNames](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.datakeynames%28VS.80%29.aspx)prvku GridView.</span><span class="sxs-lookup"><span data-stu-id="5afff-144">The `SelectedIndex` property returns the index of the selected row, whereas the `SelectedValue` and `SelectedDataKey` properties return values based upon the GridView's [DataKeyNames property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.datakeynames%28VS.80%29.aspx).</span></span>

<span data-ttu-id="5afff-145">Vlastnost `DataKeyNames` slouží k asociaci jedné nebo více hodnot datových polí s každým řádkem a často se používá k atributu jedinečně identifikující informace z podkladových dat s každým řádkem GridView.</span><span class="sxs-lookup"><span data-stu-id="5afff-145">The `DataKeyNames` property is used to associate one or more data field values with each row and is commonly used to attribute uniquely identifying information from the underlying data with each GridView row.</span></span> <span data-ttu-id="5afff-146">Vlastnost `SelectedValue` vrací hodnotu prvního `DataKeyNames` datového pole pro vybraný řádek, kde hodnota vlastnosti `SelectedDataKey` vrátí objekt `DataKey` vybraného řádku, který obsahuje všechny hodnoty pro zadaná klíčová pole dat pro daný řádek.</span><span class="sxs-lookup"><span data-stu-id="5afff-146">The `SelectedValue` property returns the value of the first `DataKeyNames` data field for the selected row where as the `SelectedDataKey` property returns the selected row's `DataKey` object, which contains all of the values for the specified data key fields for that row.</span></span>

<span data-ttu-id="5afff-147">Vlastnost `DataKeyNames` je automaticky nastavena na jednoznačně identifikující datová pole, když svážete zdroj dat s GridView, DetailsView nebo FormView prostřednictvím návrháře.</span><span class="sxs-lookup"><span data-stu-id="5afff-147">The `DataKeyNames` property is automatically set to the uniquely-identifying data field(s) when you bind a data source to a GridView, DetailsView, or FormView through the Designer.</span></span> <span data-ttu-id="5afff-148">I když se tato vlastnost automaticky nastavila pro nás v předchozích kurzech, vypracovaly příklady bez zadané vlastnosti `DataKeyNames`.</span><span class="sxs-lookup"><span data-stu-id="5afff-148">While this property has been set for us automatically in the preceding tutorials, the examples would have worked without the `DataKeyNames` property specified.</span></span> <span data-ttu-id="5afff-149">Pro sadu GridView v tomto kurzu a také pro budoucí kurzy, ve kterých budeme zkoumat vkládání, aktualizaci a odstraňování, musí být správně nastavena vlastnost `DataKeyNames`.</span><span class="sxs-lookup"><span data-stu-id="5afff-149">However, for the selectable GridView in this tutorial, as well as for future tutorials in which we'll be examining inserting, updating, and deleting, the `DataKeyNames` property must be set properly.</span></span> <span data-ttu-id="5afff-150">Chvíli zajistěte, aby vlastnost `DataKeyNames` prvku GridView byla nastavena na hodnotu `ProductID`.</span><span class="sxs-lookup"><span data-stu-id="5afff-150">Take a moment to ensure that your GridView's `DataKeyNames` property is set to `ProductID`.</span></span>

<span data-ttu-id="5afff-151">Pojďme si projít náš pokrok v prohlížeči.</span><span class="sxs-lookup"><span data-stu-id="5afff-151">Let's view our progress thus far through a browser.</span></span> <span data-ttu-id="5afff-152">Všimněte si, že v prvku GridView je uveden název a cena všech produktů společně s přepínačem select LinkButton.</span><span class="sxs-lookup"><span data-stu-id="5afff-152">Note that the GridView lists the name and price for all of the products along with a Select LinkButton.</span></span> <span data-ttu-id="5afff-153">Kliknutím na tlačítko Vybrat dojde k zpětnému odeslání.</span><span class="sxs-lookup"><span data-stu-id="5afff-153">Clicking the Select button causes a postback.</span></span> <span data-ttu-id="5afff-154">V kroku 2 se dozvíte, jak mít prvek DetailsView reagovat na tento postback zobrazením podrobností pro vybraný produkt.</span><span class="sxs-lookup"><span data-stu-id="5afff-154">In Step 2 we'll see how to have a DetailsView respond to this postback by displaying the details for the selected product.</span></span>

<span data-ttu-id="5afff-155">[![každý produktový řádek obsahuje příkaz SELECT LinkButton](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image20.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="5afff-155">[![Each Product Row Contains a Select LinkButton](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image20.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image19.png)</span></span>

<span data-ttu-id="5afff-156">**Obrázek 7**: každý produktový řádek obsahuje příkaz SELECT LinkButton ([kliknutím zobrazíte obrázek v plné velikosti).](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image21.png)</span><span class="sxs-lookup"><span data-stu-id="5afff-156">**Figure 7**: Each Product Row Contains a Select LinkButton ([Click to view full-size image](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image21.png))</span></span>

### <a name="highlighting-the-selected-row"></a><span data-ttu-id="5afff-157">Zvýraznění vybraného řádku</span><span class="sxs-lookup"><span data-stu-id="5afff-157">Highlighting the Selected Row</span></span>

<span data-ttu-id="5afff-158">`ProductsGrid` GridView má vlastnost `SelectedRowStyle`, která se dá použít k diktování vizuálního stylu pro vybraný řádek.</span><span class="sxs-lookup"><span data-stu-id="5afff-158">The `ProductsGrid` GridView has a `SelectedRowStyle` property that can be used to dictate the visual style for the selected row.</span></span> <span data-ttu-id="5afff-159">Používá se správně, což může zlepšit uživatelské prostředí pomocí přehlednějšího zobrazení, který řádek prvku GridView je aktuálně vybrán.</span><span class="sxs-lookup"><span data-stu-id="5afff-159">Used properly, this can improve the user's experience by more clearly showing which row of the GridView is currently selected.</span></span> <span data-ttu-id="5afff-160">Pro tento kurz nechte vybraný řádek zvýrazněný žlutým pozadím.</span><span class="sxs-lookup"><span data-stu-id="5afff-160">For this tutorial, let's have the selected row be highlighted with a yellow background.</span></span>

<span data-ttu-id="5afff-161">Stejně jako u našich předchozích kurzů se snažíme, aby se nastavení související s estetickým způsobem definovala jako třídy CSS.</span><span class="sxs-lookup"><span data-stu-id="5afff-161">As with our earlier tutorials, let's strive to keep the aesthetic-related settings defined as CSS classes.</span></span> <span data-ttu-id="5afff-162">Proto vytvořte novou třídu CSS v `Styles.css` s názvem `SelectedRowStyle`.</span><span class="sxs-lookup"><span data-stu-id="5afff-162">Therefore, create a new CSS class in `Styles.css` named `SelectedRowStyle`.</span></span>

[!code-css[Main](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/samples/sample3.css)]

<span data-ttu-id="5afff-163">Chcete-li tuto třídu šablony stylů CSS použít pro vlastnost `SelectedRowStyle` *všech* prvků GridView v naší sérii kurzů, upravte `GridView.skin` Skin v motivu `DataWebControls` tak, aby zahrnoval `SelectedRowStyle` nastavení, jak je znázorněno níže:</span><span class="sxs-lookup"><span data-stu-id="5afff-163">To apply this CSS class to the `SelectedRowStyle` property of *all* GridViews in our tutorial series, edit the `GridView.skin` Skin in the `DataWebControls` Theme to include the `SelectedRowStyle` settings as shown below:</span></span>

[!code-aspx[Main](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/samples/sample4.aspx)]

<span data-ttu-id="5afff-164">S tímto sčítáním je teď vybraný řádek GridView zvýrazněný žlutou barvou pozadí.</span><span class="sxs-lookup"><span data-stu-id="5afff-164">With this addition, the selected GridView row is now highlighted with a yellow background color.</span></span>

<span data-ttu-id="5afff-165">[![přizpůsobit vzhled vybraného řádku pomocí vlastnosti SelectedRowStyle prvku GridView.](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image23.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image22.png)</span><span class="sxs-lookup"><span data-stu-id="5afff-165">[![Customize the Selected Row's Appearance Using the GridView's SelectedRowStyle Property](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image23.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image22.png)</span></span>

<span data-ttu-id="5afff-166">**Obrázek 8**: přizpůsobení vzhledu vybraného řádku pomocí vlastnosti `SelectedRowStyle` prvku GridView ([kliknutím zobrazíte obrázek v plné velikosti](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image24.png))</span><span class="sxs-lookup"><span data-stu-id="5afff-166">**Figure 8**: Customize the Selected Row's Appearance Using the GridView's `SelectedRowStyle` Property ([Click to view full-size image](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image24.png))</span></span>

## <a name="step-2-displaying-the-selected-products-details-in-a-detailsview"></a><span data-ttu-id="5afff-167">Krok 2: zobrazení podrobností vybraného produktu v ovládacím prvku DetailsView</span><span class="sxs-lookup"><span data-stu-id="5afff-167">Step 2: Displaying the Selected Product's Details in a DetailsView</span></span>

<span data-ttu-id="5afff-168">Když je dokončeno `ProductsGrid` GridView, vše zůstává pro přidání prvku DetailsView, který zobrazuje informace o vybraném produktu.</span><span class="sxs-lookup"><span data-stu-id="5afff-168">With the `ProductsGrid` GridView complete, all that remains is to add a DetailsView that displays information about the particular product selected.</span></span> <span data-ttu-id="5afff-169">Do prvku GridView přidejte ovládací prvek DetailsView a vytvořte nový prvek ObjectDataSource s názvem `ProductDetailsDataSource`.</span><span class="sxs-lookup"><span data-stu-id="5afff-169">Add a DetailsView control above the GridView and create a new ObjectDataSource named `ProductDetailsDataSource`.</span></span> <span data-ttu-id="5afff-170">Vzhledem k tomu, že chceme, aby tento prvek DetailsView zobrazoval konkrétní informace o vybraném produktu, nakonfigurujte `ProductDetailsDataSource` pro použití `GetProductByProductID(productID)` metody `ProductsBLL` třídy.</span><span class="sxs-lookup"><span data-stu-id="5afff-170">Since we want this DetailsView to display particular information about the selected product, configure the `ProductDetailsDataSource` to use the `ProductsBLL` class's `GetProductByProductID(productID)` method.</span></span>

<span data-ttu-id="5afff-171">[![vyvolat metodu GetProductByProductID (productID) třídy ProductsBLL](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image26.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image25.png)</span><span class="sxs-lookup"><span data-stu-id="5afff-171">[![Invoke the ProductsBLL Class's GetProductByProductID(productID) Method](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image26.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image25.png)</span></span>

<span data-ttu-id="5afff-172">**Obrázek 9**: vyvolání metody `GetProductByProductID(productID)` `ProductsBLL` třídy ([kliknutím zobrazíte obrázek v plné velikosti](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image27.png))</span><span class="sxs-lookup"><span data-stu-id="5afff-172">**Figure 9**: Invoke the `ProductsBLL` Class's `GetProductByProductID(productID)` Method ([Click to view full-size image](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image27.png))</span></span>

<span data-ttu-id="5afff-173">Hodnota parametru *`productID`* získaná z vlastnosti `SelectedValue` ovládacího prvku GridView.</span><span class="sxs-lookup"><span data-stu-id="5afff-173">Have the *`productID`* parameter's value obtained from the GridView control's `SelectedValue` property.</span></span> <span data-ttu-id="5afff-174">Jak bylo popsáno dříve, vlastnost `SelectedValue` prvku GridView vrátí první hodnotu datového klíče pro vybraný řádek.</span><span class="sxs-lookup"><span data-stu-id="5afff-174">As we discussed earlier, the GridView's `SelectedValue` property returns the first data key value for the selected row.</span></span> <span data-ttu-id="5afff-175">Proto je nutné, aby vlastnost `DataKeyNames` prvku GridView byla nastavena na hodnotu `ProductID`, aby byla hodnota `ProductID` vybraného řádku vrácena `SelectedValue`.</span><span class="sxs-lookup"><span data-stu-id="5afff-175">Therefore, it's imperative that the GridView's `DataKeyNames` property is set to `ProductID`, so that the selected row's `ProductID` value is returned by `SelectedValue`.</span></span>

<span data-ttu-id="5afff-176">[![nastavte parametr productID na vlastnost SelectedValue prvku GridView.](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image29.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image28.png)</span><span class="sxs-lookup"><span data-stu-id="5afff-176">[![Set the productID Parameter to the GridView's SelectedValue Property](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image29.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image28.png)</span></span>

<span data-ttu-id="5afff-177">**Obrázek 10**: nastavte parametr *`productID`* na vlastnost prvku GridView `SelectedValue` ([kliknutím zobrazíte obrázek v plné velikosti).](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image30.png)</span><span class="sxs-lookup"><span data-stu-id="5afff-177">**Figure 10**: Set the *`productID`* Parameter to the GridView's `SelectedValue` Property ([Click to view full-size image](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image30.png))</span></span>

<span data-ttu-id="5afff-178">Po správném nakonfigurování ovládacího prvku `productDetailsDataSource` ObjectDataSource a jeho svázání s ovládacím prvkem DetailsView je tento kurz dokončený.</span><span class="sxs-lookup"><span data-stu-id="5afff-178">Once the `productDetailsDataSource` ObjectDataSource has been configured correctly and bound to the DetailsView, this tutorial is complete!</span></span> <span data-ttu-id="5afff-179">Při prvním navštívení stránky není vybrán žádný řádek, takže vlastnost `SelectedValue` prvku GridView vrátí `null`.</span><span class="sxs-lookup"><span data-stu-id="5afff-179">When the page is first visited no row is selected, so the GridView's `SelectedValue` property returns `null`.</span></span> <span data-ttu-id="5afff-180">Vzhledem k tomu, že neexistují žádné produkty s hodnotou `NULL` `ProductID`, nejsou vráceny žádné záznamy pomocí metody `GetProductByProductID(productID)`, což znamená, že prvek DetailsView není zobrazen (viz obrázek 11).</span><span class="sxs-lookup"><span data-stu-id="5afff-180">Since there are no products with a `NULL` `ProductID` value, no records are returned by the `GetProductByProductID(productID)` method, meaning that the DetailsView isn't displayed (see Figure 11).</span></span> <span data-ttu-id="5afff-181">Po kliknutí na tlačítko pro výběr řádku prvku GridView dojde k postbacku a ovládací prvek DetailsView se aktualizuje.</span><span class="sxs-lookup"><span data-stu-id="5afff-181">Upon clicking a GridView row's Select button, a postback ensues and the DetailsView is refreshed.</span></span> <span data-ttu-id="5afff-182">Tentokrát `SelectedValue` vlastnost prvku GridView vrátí `ProductID` vybraného řádku, vrátí metoda `GetProductByProductID(productID)` `ProductsDataTable` informace o tomto konkrétním produktu a prvek DetailsView zobrazí tyto podrobnosti (viz obrázek 12).</span><span class="sxs-lookup"><span data-stu-id="5afff-182">This time the GridView's `SelectedValue` property returns the `ProductID` of the selected row, the `GetProductByProductID(productID)` method returns a `ProductsDataTable` with information about that particular product, and the DetailsView shows these details (see Figure 12).</span></span>

<span data-ttu-id="5afff-183">[![při prvním navštívení se zobrazí pouze prvek GridView.](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image32.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image31.png)</span><span class="sxs-lookup"><span data-stu-id="5afff-183">[![When First Visited, Only the GridView is Displayed](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image32.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image31.png)</span></span>

<span data-ttu-id="5afff-184">**Obrázek 11**: při prvním navštívení se zobrazí pouze prvek GridView ([kliknutím zobrazíte obrázek v plné velikosti).](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image33.png)</span><span class="sxs-lookup"><span data-stu-id="5afff-184">**Figure 11**: When First Visited, Only the GridView is Displayed ([Click to view full-size image](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image33.png))</span></span>

<span data-ttu-id="5afff-185">[![při výběru řádku se zobrazí podrobnosti o produktu.](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image35.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image34.png)</span><span class="sxs-lookup"><span data-stu-id="5afff-185">[![Upon Selecting a Row, the Product's Details are Displayed](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image35.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image34.png)</span></span>

<span data-ttu-id="5afff-186">**Obrázek 12**: po výběru řádku se zobrazí podrobnosti o produktu ([kliknutím zobrazíte obrázek v plné velikosti](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image36.png)).</span><span class="sxs-lookup"><span data-stu-id="5afff-186">**Figure 12**: Upon Selecting a Row, the Product's Details are Displayed ([Click to view full-size image](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image36.png))</span></span>

## <a name="summary"></a><span data-ttu-id="5afff-187">Přehled</span><span class="sxs-lookup"><span data-stu-id="5afff-187">Summary</span></span>

<span data-ttu-id="5afff-188">V tomto a předchozích třech kurzech jsme viděli řadu postupů pro zobrazení hlavních a podrobných sestav.</span><span class="sxs-lookup"><span data-stu-id="5afff-188">In this and the preceding three tutorials we've seen a number of techniques for displaying master/detail reports.</span></span> <span data-ttu-id="5afff-189">V tomto kurzu jsme prozkoumali použití selektivního prvku GridView pro vytvoření hlavních záznamů a prvku DetailsView k zobrazení podrobností o vybraném hlavním záznamu na stejné stránce.</span><span class="sxs-lookup"><span data-stu-id="5afff-189">In this tutorial we examined using a selectable GridView to house the master records and a DetailsView to display details about the selected master record on the same page.</span></span> <span data-ttu-id="5afff-190">V předchozích kurzech jsme se podívali na postup zobrazení sestav hlavních a podrobností pomocí ovládacích prvků DropDownList a zobrazení hlavních záznamů na jedné webové stránce a podrobností záznamů na jiném.</span><span class="sxs-lookup"><span data-stu-id="5afff-190">In the earlier tutorials we looked at how to display master/details reports using DropDownLists and displaying master records on one web page and detail records on another.</span></span>

<span data-ttu-id="5afff-191">V tomto kurzu se uzavírá naše zkoumání hlavních a podrobných sestav.</span><span class="sxs-lookup"><span data-stu-id="5afff-191">This tutorial concludes our examination of master/detail reports.</span></span> <span data-ttu-id="5afff-192">Počínaje dalším kurzem zahájíme náš průzkum přizpůsobeného formátování pomocí prvku GridView, DetailsView a FormView.</span><span class="sxs-lookup"><span data-stu-id="5afff-192">Starting with the next tutorial we'll begin our exploration of customized formatting with the GridView, DetailsView, and FormView.</span></span> <span data-ttu-id="5afff-193">Ukážeme, jak přizpůsobit vzhled těchto ovládacích prvků na základě dat, která jsou s nimi svázána, jak shrnout data v zápatí prvku GridView a jak použít šablony k získání větší úrovně kontroly nad rozložením.</span><span class="sxs-lookup"><span data-stu-id="5afff-193">We'll see how to customize the appearance of these controls based on the data bound to them, how to summarize data in the GridView's footer, and how to use templates to obtain a greater degree of control over the layout.</span></span>

<span data-ttu-id="5afff-194">Šťastné programování!</span><span class="sxs-lookup"><span data-stu-id="5afff-194">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="5afff-195">O autorovi</span><span class="sxs-lookup"><span data-stu-id="5afff-195">About the Author</span></span>

<span data-ttu-id="5afff-196">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), autor 7 ASP/ASP. NET Books a zakladatel of [4GuysFromRolla.com](http://www.4guysfromrolla.com), pracoval s webovými technologiemi Microsoftu od 1998.</span><span class="sxs-lookup"><span data-stu-id="5afff-196">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="5afff-197">Scott funguje jako nezávislý konzultant, Trainer a zapisovač.</span><span class="sxs-lookup"><span data-stu-id="5afff-197">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="5afff-198">Nejnovější kniha je [*Sams naučit se ASP.NET 2,0 za 24 hodin*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="5afff-198">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="5afff-199">Dá se získat na [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="5afff-199">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span> <span data-ttu-id="5afff-200">nebo prostřednictvím svého blogu, který najdete na adrese [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span><span class="sxs-lookup"><span data-stu-id="5afff-200">or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

## <a name="special-thanks-to"></a><span data-ttu-id="5afff-201">Zvláštní díky</span><span class="sxs-lookup"><span data-stu-id="5afff-201">Special Thanks To</span></span>

<span data-ttu-id="5afff-202">Tato řada kurzů byla přezkoumána mnoha užitečnými kontrolory.</span><span class="sxs-lookup"><span data-stu-id="5afff-202">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="5afff-203">Kontrolor pro tento kurz byl Hilton Giesenow.</span><span class="sxs-lookup"><span data-stu-id="5afff-203">Lead reviewer for this tutorial was Hilton Giesenow.</span></span> <span data-ttu-id="5afff-204">Uvažujete o přezkoumání mých nadcházejících článků na webu MSDN?</span><span class="sxs-lookup"><span data-stu-id="5afff-204">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="5afff-205">Pokud ano, vyřaďte mi řádek na [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="5afff-205">If so, drop me a line at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="5afff-206">[Předchozí](master-detail-filtering-across-two-pages-cs.md)
> [Další](master-detail-filtering-with-a-dropdownlist-vb.md)</span><span class="sxs-lookup"><span data-stu-id="5afff-206">[Previous](master-detail-filtering-across-two-pages-cs.md)
[Next](master-detail-filtering-with-a-dropdownlist-vb.md)</span></span>
