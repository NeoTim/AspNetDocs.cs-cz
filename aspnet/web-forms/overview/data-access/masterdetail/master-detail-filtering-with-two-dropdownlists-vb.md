---
uid: web-forms/overview/data-access/masterdetail/master-detail-filtering-with-two-dropdownlists-vb
title: Filtrování seznamu a podrobností se dvěma DropDownList (VB) | Microsoft Docs
author: rick-anderson
description: Tento kurz rozbalí vztah hlavní/podrobnosti a přidá třetí vrstvu pomocí dvou ovládacích prvků DropDownList pro výběr požadované nadřazené položky a Recor...
ms.author: riande
ms.date: 03/31/2010
ms.assetid: 11ae4f64-01ba-4823-95f4-a2fe1f84f7d7
msc.legacyurl: /web-forms/overview/data-access/masterdetail/master-detail-filtering-with-two-dropdownlists-vb
msc.type: authoredcontent
ms.openlocfilehash: 166d6a7664a326361dc2a3f115eddb988cd39d20
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 03/06/2020
ms.locfileid: "78528495"
---
# <a name="masterdetail-filtering-with-two-dropdownlists-vb"></a><span data-ttu-id="69715-103">Filtrování hlavních záznamů / podrobností dvou ovládacích prvků DropDownList (VB)</span><span class="sxs-lookup"><span data-stu-id="69715-103">Master/Detail Filtering With Two DropDownLists (VB)</span></span>

<span data-ttu-id="69715-104">[Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="69715-104">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="69715-105">[Stáhnout ukázkovou aplikaci](https://download.microsoft.com/download/5/d/7/5d7571fc-d0b7-4798-ad4a-c976c02363ce/ASPNET_Data_Tutorial_8_VB.exe) nebo [Stáhnout PDF](master-detail-filtering-with-two-dropdownlists-vb/_static/datatutorial08vb1.pdf)</span><span class="sxs-lookup"><span data-stu-id="69715-105">[Download Sample App](https://download.microsoft.com/download/5/d/7/5d7571fc-d0b7-4798-ad4a-c976c02363ce/ASPNET_Data_Tutorial_8_VB.exe) or [Download PDF](master-detail-filtering-with-two-dropdownlists-vb/_static/datatutorial08vb1.pdf)</span></span>

> <span data-ttu-id="69715-106">Tento kurz rozšiřuje hlavní a podrobný vztah a přidá třetí vrstvu pomocí dvou ovládacích prvků DropDownList k výběru požadovaných nadřazených záznamů a.</span><span class="sxs-lookup"><span data-stu-id="69715-106">This tutorial expands the master/detail relationship to add a third layer, using two DropDownList controls to select the desired parent and grandparent records.</span></span>

## <a name="introduction"></a><span data-ttu-id="69715-107">Úvod</span><span class="sxs-lookup"><span data-stu-id="69715-107">Introduction</span></span>

<span data-ttu-id="69715-108">V [předchozím kurzu](master-detail-filtering-with-a-dropdownlist-vb.md) jsme prozkoumali, jak zobrazit jednoduchou sestavu hlavní/podrobnosti pomocí jednoho prvku DropDownList naplněný pomocí kategorií a prvku GridView zobrazujícího tyto produkty, které patří do vybrané kategorie.</span><span class="sxs-lookup"><span data-stu-id="69715-108">In the [previous tutorial](master-detail-filtering-with-a-dropdownlist-vb.md) we examined how to display a simple master/details report using a single DropDownList populated with the categories and a GridView showing those products that belong to the selected category.</span></span> <span data-ttu-id="69715-109">Tento model sestavy funguje dobře při zobrazení záznamů, které mají relaci 1:1, a lze ji snadno rozšířit tak, aby fungovala v případě scénářů, které zahrnují více vztahů 1: n.</span><span class="sxs-lookup"><span data-stu-id="69715-109">This report pattern works well when displaying records that have a one-to-many relationship and can easily be extended to work for scenarios that include multiple one-to-many relationships.</span></span> <span data-ttu-id="69715-110">Například systém záznamu objednávky by měl mít tabulky, které odpovídají zákazníkům, objednávkám a položkám řádků objednávky.</span><span class="sxs-lookup"><span data-stu-id="69715-110">For example, an order entry system would have tables that correspond to customers, orders, and order line items.</span></span> <span data-ttu-id="69715-111">Daný zákazník může mít více objednávek s jednotlivými objednávkami, které se skládají z několika položek.</span><span class="sxs-lookup"><span data-stu-id="69715-111">A given customer may have multiple orders with each order consisting of multiple items.</span></span> <span data-ttu-id="69715-112">Taková data mohou být prezentována uživateli se dvěma DropDownList a GridView.</span><span class="sxs-lookup"><span data-stu-id="69715-112">Such data can be presented to the user with two DropDownLists and a GridView.</span></span> <span data-ttu-id="69715-113">První ovládací prvek DropDownList by měl položku seznamu pro každého zákazníka v databázi s obsahem druhé položky, který se nachází v objednávkách vybraných zákazníkem.</span><span class="sxs-lookup"><span data-stu-id="69715-113">The first DropDownList would have a list item for each customer in the database with the second one's contents being the orders placed by the selected customer.</span></span> <span data-ttu-id="69715-114">Prvek GridView bude vypisovat položky řádku z vybraného pořadí.</span><span class="sxs-lookup"><span data-stu-id="69715-114">A GridView would list the line items from the selected order.</span></span>

<span data-ttu-id="69715-115">I když databáze Northwind obsahuje informace o podrobnostech o zákaznících/objednávkách nebo objednávkách v tabulkách `Customers`, `Orders`a `Order Details`, nejsou tyto tabulky zachyceny v naší architektuře.</span><span class="sxs-lookup"><span data-stu-id="69715-115">While the Northwind database include the canonical customer/order/order details information in its `Customers`, `Orders`, and `Order Details` tables, these tables aren't captured in our architecture.</span></span> <span data-ttu-id="69715-116">Přesto můžeme i nadále ilustrovat použití dvou závislých ovládacích prvků DropDownList.</span><span class="sxs-lookup"><span data-stu-id="69715-116">Nonetheless, we can still illustrate using two dependent DropDownLists.</span></span> <span data-ttu-id="69715-117">První DropDownList zobrazí seznam kategorií a druhých produktů, které patří do vybrané kategorie.</span><span class="sxs-lookup"><span data-stu-id="69715-117">The first DropDownList will list the categories and the second the products belonging to the selected category.</span></span> <span data-ttu-id="69715-118">Prvek DetailsView pak zobrazí podrobnosti o vybraném produktu.</span><span class="sxs-lookup"><span data-stu-id="69715-118">A DetailsView will then list the details of the selected product.</span></span>

## <a name="step-1-creating-and-populating-the-categories-dropdownlist"></a><span data-ttu-id="69715-119">Krok 1: vytvoření a naplnění kategorie DropDownList</span><span class="sxs-lookup"><span data-stu-id="69715-119">Step 1: Creating and Populating the Categories DropDownList</span></span>

<span data-ttu-id="69715-120">Naším prvním cílem je přidat DropDownList, který obsahuje seznam kategorií.</span><span class="sxs-lookup"><span data-stu-id="69715-120">Our first goal is to add the DropDownList that lists the categories.</span></span> <span data-ttu-id="69715-121">Tyto kroky byly podrobně prověřeny v předchozím kurzu, ale jsou zde shrnuty pro úplnost.</span><span class="sxs-lookup"><span data-stu-id="69715-121">These steps were examined in detail in the preceding tutorial, but are summarized here for completeness.</span></span>

<span data-ttu-id="69715-122">Otevřete stránku `MasterDetailsDetails.aspx` ve složce `Filtering`, přidejte na ni objekt DropDownList, nastavte jeho vlastnost `ID` na `Categories`a potom klikněte na odkaz konfigurace zdroje dat v jeho inteligentní značce.</span><span class="sxs-lookup"><span data-stu-id="69715-122">Open the `MasterDetailsDetails.aspx` page in the `Filtering` folder, add a DropDownList to the page, set its `ID` property to `Categories`, and then click the Configure Data Source link in its smart tag.</span></span> <span data-ttu-id="69715-123">V Průvodci konfigurací zdroje dat vyberte možnost Přidat nový zdroj dat.</span><span class="sxs-lookup"><span data-stu-id="69715-123">From the Data Source Configuration Wizard choose to add a new data source.</span></span>

<span data-ttu-id="69715-124">[![přidat nový zdroj dat pro DropDownList](master-detail-filtering-with-two-dropdownlists-vb/_static/image2.png)](master-detail-filtering-with-two-dropdownlists-vb/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="69715-124">[![Add a New Data Source for the DropDownList](master-detail-filtering-with-two-dropdownlists-vb/_static/image2.png)](master-detail-filtering-with-two-dropdownlists-vb/_static/image1.png)</span></span>

<span data-ttu-id="69715-125">**Obrázek 1**: Přidání nového zdroje dat pro DropDownList ([kliknutím zobrazíte obrázek v plné velikosti](master-detail-filtering-with-two-dropdownlists-vb/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="69715-125">**Figure 1**: Add a New Data Source for the DropDownList ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-vb/_static/image3.png))</span></span>

<span data-ttu-id="69715-126">Nový zdroj dat by měl být přirozeně prvkem ObjectDataSource.</span><span class="sxs-lookup"><span data-stu-id="69715-126">The new data source should, naturally, be an ObjectDataSource.</span></span> <span data-ttu-id="69715-127">Pojmenujte tuto novou `CategoriesDataSource` ObjectDataSource a vyvolejte metodu `GetCategories()` `CategoriesBLL` objektu.</span><span class="sxs-lookup"><span data-stu-id="69715-127">Name this new ObjectDataSource `CategoriesDataSource` and have it invoke the `CategoriesBLL` object's `GetCategories()` method.</span></span>

<span data-ttu-id="69715-128">[![zvolit použití třídy CategoriesBLL](master-detail-filtering-with-two-dropdownlists-vb/_static/image5.png)](master-detail-filtering-with-two-dropdownlists-vb/_static/image4.png)</span><span class="sxs-lookup"><span data-stu-id="69715-128">[![Choose to Use the CategoriesBLL Class](master-detail-filtering-with-two-dropdownlists-vb/_static/image5.png)](master-detail-filtering-with-two-dropdownlists-vb/_static/image4.png)</span></span>

<span data-ttu-id="69715-129">**Obrázek 2**: vyberte, pokud chcete použít třídu `CategoriesBLL` ([kliknutím zobrazíte obrázek v plné velikosti).](master-detail-filtering-with-two-dropdownlists-vb/_static/image6.png)</span><span class="sxs-lookup"><span data-stu-id="69715-129">**Figure 2**: Choose to Use the `CategoriesBLL` Class ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-vb/_static/image6.png))</span></span>

<span data-ttu-id="69715-130">[![nakonfigurovat prvek ObjectDataSource pro použití metody GetCategories ()](master-detail-filtering-with-two-dropdownlists-vb/_static/image8.png)](master-detail-filtering-with-two-dropdownlists-vb/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="69715-130">[![Configure the ObjectDataSource to Use the GetCategories() Method](master-detail-filtering-with-two-dropdownlists-vb/_static/image8.png)](master-detail-filtering-with-two-dropdownlists-vb/_static/image7.png)</span></span>

<span data-ttu-id="69715-131">**Obrázek 3**: Konfigurace prvku ObjectDataSource pro použití metody `GetCategories()` ([kliknutím zobrazíte obrázek v plné velikosti](master-detail-filtering-with-two-dropdownlists-vb/_static/image9.png))</span><span class="sxs-lookup"><span data-stu-id="69715-131">**Figure 3**: Configure the ObjectDataSource to Use the `GetCategories()` Method ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-vb/_static/image9.png))</span></span>

<span data-ttu-id="69715-132">Po nakonfigurování prvku ObjectDataSource je stále potřeba určit, které pole zdroje dat by se mělo zobrazit v `Categories` DropDownList a které z nich má být nakonfigurováno jako hodnota pro položku seznamu.</span><span class="sxs-lookup"><span data-stu-id="69715-132">After configuring the ObjectDataSource we still need to specify which data source field should be displayed in the `Categories` DropDownList and which one should be configured as the value for the list item.</span></span> <span data-ttu-id="69715-133">Nastavte pole `CategoryName` jako hodnotu zobrazení a `CategoryID` jako hodnotu pro každou položku seznamu.</span><span class="sxs-lookup"><span data-stu-id="69715-133">Set the `CategoryName` field as the display and `CategoryID` as the value for each list item.</span></span>

<span data-ttu-id="69715-134">[![mají DropDownList zobrazit pole CategoryName a jako hodnotu použít CategoryID.](master-detail-filtering-with-two-dropdownlists-vb/_static/image11.png)](master-detail-filtering-with-two-dropdownlists-vb/_static/image10.png)</span><span class="sxs-lookup"><span data-stu-id="69715-134">[![Have the DropDownList Display the CategoryName Field and Use CategoryID as the Value](master-detail-filtering-with-two-dropdownlists-vb/_static/image11.png)](master-detail-filtering-with-two-dropdownlists-vb/_static/image10.png)</span></span>

<span data-ttu-id="69715-135">**Obrázek 4**: zobrazení pole `CategoryName` a použití `CategoryID` jako hodnoty ([kliknutím zobrazíte obrázek v plné velikosti](master-detail-filtering-with-two-dropdownlists-vb/_static/image12.png)).</span><span class="sxs-lookup"><span data-stu-id="69715-135">**Figure 4**: Have the DropDownList Display the `CategoryName` Field and Use `CategoryID` as the Value ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-vb/_static/image12.png))</span></span>

<span data-ttu-id="69715-136">V tuto chvíli máme ovládací prvek DropDownList (`Categories`), který je naplněný záznamy z tabulky `Categories`.</span><span class="sxs-lookup"><span data-stu-id="69715-136">At this point we have a DropDownList control (`Categories`) that's populated with the records from the `Categories` table.</span></span> <span data-ttu-id="69715-137">Když uživatel zvolí z DropDownList novou kategorii, chceme, aby se provedl postback, aby se aktualizovala vlastnost DropDownList produktu, kterou vytvoříme v kroku 2.</span><span class="sxs-lookup"><span data-stu-id="69715-137">When the user chooses a new category from the DropDownList we'll want a postback to occur in order to refresh the product DropDownList that we're going to create in Step 2.</span></span> <span data-ttu-id="69715-138">Proto zaškrtněte možnost Povolit AutoPostBack z inteligentní značky `categories` DropDownList.</span><span class="sxs-lookup"><span data-stu-id="69715-138">Therefore, check the Enable AutoPostBack option from the `categories` DropDownList's smart tag.</span></span>

<span data-ttu-id="69715-139">[![povolit AutoPostBack pro kategorie DropDownList](master-detail-filtering-with-two-dropdownlists-vb/_static/image14.png)](master-detail-filtering-with-two-dropdownlists-vb/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="69715-139">[![Enable AutoPostBack for the Categories DropDownList](master-detail-filtering-with-two-dropdownlists-vb/_static/image14.png)](master-detail-filtering-with-two-dropdownlists-vb/_static/image13.png)</span></span>

<span data-ttu-id="69715-140">**Obrázek 5**: povolení automatického zpětného odeslání pro `Categories` DropDownList ([kliknutím zobrazíte obrázek v plné velikosti](master-detail-filtering-with-two-dropdownlists-vb/_static/image15.png))</span><span class="sxs-lookup"><span data-stu-id="69715-140">**Figure 5**: Enable AutoPostBack for the `Categories` DropDownList ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-vb/_static/image15.png))</span></span>

## <a name="step-2-displaying-the-selected-categorys-products-in-a-second-dropdownlist"></a><span data-ttu-id="69715-141">Krok 2: zobrazení produktů vybrané kategorie v druhém DropDownList</span><span class="sxs-lookup"><span data-stu-id="69715-141">Step 2: Displaying the Selected Category's Products in a Second DropDownList</span></span>

<span data-ttu-id="69715-142">Po dokončení `Categories` DropDownList je dalším krokem zobrazení DropDownList produktů patřících do vybrané kategorie.</span><span class="sxs-lookup"><span data-stu-id="69715-142">With the `Categories` DropDownList completed, our next step is to display a DropDownList of products belonging to the selected category.</span></span> <span data-ttu-id="69715-143">Chcete-li to provést, přidejte do stránky s názvem `ProductsByCategory`další DropDownList.</span><span class="sxs-lookup"><span data-stu-id="69715-143">To accomplish this, add another DropDownList to the page named `ProductsByCategory`.</span></span> <span data-ttu-id="69715-144">Stejně jako u `Categories` DropDownList vytvořte nový prvek ObjectDataSource pro `ProductsByCategory` DropDownList s názvem `ProductsByCategoryDataSource`.</span><span class="sxs-lookup"><span data-stu-id="69715-144">As with the `Categories` DropDownList, create a new ObjectDataSource for the `ProductsByCategory` DropDownList named `ProductsByCategoryDataSource`.</span></span>

<span data-ttu-id="69715-145">[![přidat nový zdroj dat pro ProductsByCategory DropDownList](master-detail-filtering-with-two-dropdownlists-vb/_static/image17.png)](master-detail-filtering-with-two-dropdownlists-vb/_static/image16.png)</span><span class="sxs-lookup"><span data-stu-id="69715-145">[![Add a New Data Source for the ProductsByCategory DropDownList](master-detail-filtering-with-two-dropdownlists-vb/_static/image17.png)](master-detail-filtering-with-two-dropdownlists-vb/_static/image16.png)</span></span>

<span data-ttu-id="69715-146">**Obrázek 6**: Přidání nového zdroje dat pro `ProductsByCategory` DropDownList ([kliknutím zobrazíte obrázek v plné velikosti](master-detail-filtering-with-two-dropdownlists-vb/_static/image18.png))</span><span class="sxs-lookup"><span data-stu-id="69715-146">**Figure 6**: Add a New Data Source for the `ProductsByCategory` DropDownList ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-vb/_static/image18.png))</span></span>

<span data-ttu-id="69715-147">[![vytvořit nový prvek ObjectDataSource s názvem ProductsByCategoryDataSource](master-detail-filtering-with-two-dropdownlists-vb/_static/image20.png)](master-detail-filtering-with-two-dropdownlists-vb/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="69715-147">[![Create a New ObjectDataSource Named ProductsByCategoryDataSource](master-detail-filtering-with-two-dropdownlists-vb/_static/image20.png)](master-detail-filtering-with-two-dropdownlists-vb/_static/image19.png)</span></span>

<span data-ttu-id="69715-148">**Obrázek 7**: vytvoření nového prvku ObjectDataSource s názvem `ProductsByCategoryDataSource` ([kliknutím zobrazíte obrázek v plné velikosti](master-detail-filtering-with-two-dropdownlists-vb/_static/image21.png))</span><span class="sxs-lookup"><span data-stu-id="69715-148">**Figure 7**: Create a New ObjectDataSource Named `ProductsByCategoryDataSource` ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-vb/_static/image21.png))</span></span>

<span data-ttu-id="69715-149">Vzhledem k tomu, že `ProductsByCategory` DropDownList potřebuje zobrazit pouze takové produkty patřící do vybrané kategorie, musí prvek ObjectDataSource vyvolat metodu `GetProductsByCategoryID(categoryID)` z objektu `ProductsBLL`.</span><span class="sxs-lookup"><span data-stu-id="69715-149">Since the `ProductsByCategory` DropDownList needs to display just those products belonging to the selected category, have the ObjectDataSource invoke the `GetProductsByCategoryID(categoryID)` method from the `ProductsBLL` object.</span></span>

<span data-ttu-id="69715-150">[![zvolit použití třídy ProductsBLL](master-detail-filtering-with-two-dropdownlists-vb/_static/image23.png)](master-detail-filtering-with-two-dropdownlists-vb/_static/image22.png)</span><span class="sxs-lookup"><span data-stu-id="69715-150">[![Choose to Use the ProductsBLL Class](master-detail-filtering-with-two-dropdownlists-vb/_static/image23.png)](master-detail-filtering-with-two-dropdownlists-vb/_static/image22.png)</span></span>

<span data-ttu-id="69715-151">**Obrázek 8**: Volba použití třídy `ProductsBLL` ([kliknutím zobrazíte obrázek v plné velikosti](master-detail-filtering-with-two-dropdownlists-vb/_static/image24.png))</span><span class="sxs-lookup"><span data-stu-id="69715-151">**Figure 8**: Choose to Use the `ProductsBLL` Class ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-vb/_static/image24.png))</span></span>

<span data-ttu-id="69715-152">[![nakonfigurovat prvek ObjectDataSource na použití metody GetProductsByCategoryID (KódKategorie)](master-detail-filtering-with-two-dropdownlists-vb/_static/image26.png)](master-detail-filtering-with-two-dropdownlists-vb/_static/image25.png)</span><span class="sxs-lookup"><span data-stu-id="69715-152">[![Configure the ObjectDataSource to Use the GetProductsByCategoryID(categoryID) Method](master-detail-filtering-with-two-dropdownlists-vb/_static/image26.png)](master-detail-filtering-with-two-dropdownlists-vb/_static/image25.png)</span></span>

<span data-ttu-id="69715-153">**Obrázek 9**: Konfigurace prvku ObjectDataSource pro použití metody `GetProductsByCategoryID(categoryID)` ([kliknutím zobrazíte obrázek v plné velikosti](master-detail-filtering-with-two-dropdownlists-vb/_static/image27.png))</span><span class="sxs-lookup"><span data-stu-id="69715-153">**Figure 9**: Configure the ObjectDataSource to Use the `GetProductsByCategoryID(categoryID)` Method ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-vb/_static/image27.png))</span></span>

<span data-ttu-id="69715-154">V posledním kroku průvodce musíme zadat hodnotu parametru *`categoryID`* .</span><span class="sxs-lookup"><span data-stu-id="69715-154">In the final step of the wizard we need to specify the value of the *`categoryID`* parameter.</span></span> <span data-ttu-id="69715-155">Přiřaďte tento parametr vybrané položce z `Categories` DropDownList.</span><span class="sxs-lookup"><span data-stu-id="69715-155">Assign this parameter to the selected item from the `Categories` DropDownList.</span></span>

<span data-ttu-id="69715-156">[![načíst hodnotu parametru KódKategorie z kategorií DropDownList](master-detail-filtering-with-two-dropdownlists-vb/_static/image29.png)](master-detail-filtering-with-two-dropdownlists-vb/_static/image28.png)</span><span class="sxs-lookup"><span data-stu-id="69715-156">[![Pull the categoryID Parameter Value from the Categories DropDownList](master-detail-filtering-with-two-dropdownlists-vb/_static/image29.png)](master-detail-filtering-with-two-dropdownlists-vb/_static/image28.png)</span></span>

<span data-ttu-id="69715-157">**Obrázek 10**: vyžádání hodnoty parametru *`categoryID`* z `Categories` DropDownList ([kliknutím zobrazíte obrázek v plné velikosti](master-detail-filtering-with-two-dropdownlists-vb/_static/image30.png))</span><span class="sxs-lookup"><span data-stu-id="69715-157">**Figure 10**: Pull the *`categoryID`* Parameter Value from the `Categories` DropDownList ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-vb/_static/image30.png))</span></span>

<span data-ttu-id="69715-158">Po nakonfigurovaném prvku ObjectDataSource je vše ponecháno pro určení, která pole zdroje dat jsou použita pro zobrazení a hodnotu položek ovládacího prvku DropDownList.</span><span class="sxs-lookup"><span data-stu-id="69715-158">With the ObjectDataSource configured, all that remains is to specify what data source fields are used for the display and value of the DropDownList's items.</span></span> <span data-ttu-id="69715-159">Zobrazte pole `ProductName` a jako hodnotu použijte pole `ProductID`.</span><span class="sxs-lookup"><span data-stu-id="69715-159">Display the `ProductName` field and use the `ProductID` field as the value.</span></span>

<span data-ttu-id="69715-160">[![zadejte pole zdroje dat, která se použijí pro vlastnosti text a hodnota ovládacího prvku ListItems.](master-detail-filtering-with-two-dropdownlists-vb/_static/image32.png)](master-detail-filtering-with-two-dropdownlists-vb/_static/image31.png)</span><span class="sxs-lookup"><span data-stu-id="69715-160">[![Specify the Data Source Fields Used for the DropDownList's ListItems' Text and Value Properties](master-detail-filtering-with-two-dropdownlists-vb/_static/image32.png)](master-detail-filtering-with-two-dropdownlists-vb/_static/image31.png)</span></span>

<span data-ttu-id="69715-161">**Obrázek 11**: Určete pole zdroje dat, která se používají pro vlastnosti `ListItem` s a `Value` ovládacího prvku pro `Text` ([kliknutím zobrazíte obrázek v plné velikosti](master-detail-filtering-with-two-dropdownlists-vb/_static/image33.png)).</span><span class="sxs-lookup"><span data-stu-id="69715-161">**Figure 11**: Specify the Data Source Fields Used for the DropDownList's `ListItem` s' `Text` and `Value` Properties ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-vb/_static/image33.png))</span></span>

<span data-ttu-id="69715-162">Pomocí ovládacího prvku ObjectDataSource a `ProductsByCategory` DropDownList nakonfigurovaného na naší stránce se zobrazí dvě DropDownList: první zobrazí seznam všech kategorií, zatímco druhá bude obsahovat tyto produkty patřící do vybrané kategorie.</span><span class="sxs-lookup"><span data-stu-id="69715-162">With the ObjectDataSource and `ProductsByCategory` DropDownList configured our page will display two DropDownLists: the first will list all of the categories while the second will list those products belonging to the selected category.</span></span> <span data-ttu-id="69715-163">Když uživatel vybere novou kategorii z prvního DropDownList, postback se následovat a druhý objekt DropDownList se znovu sváže a zobrazí se tyto produkty, které patří do nově vybrané kategorie.</span><span class="sxs-lookup"><span data-stu-id="69715-163">When the user selects a new category from the first DropDownList, a postback will ensue and the second DropDownList will be rebound, showing those products that belong to the newly selected category.</span></span> <span data-ttu-id="69715-164">Obrázky 12 a 13 ukazují `MasterDetailsDetails.aspx` v akci při prohlížení v prohlížeči.</span><span class="sxs-lookup"><span data-stu-id="69715-164">Figures 12 and 13 show `MasterDetailsDetails.aspx` in action when viewed through a browser.</span></span>

<span data-ttu-id="69715-165">[![při první návštěvě stránky se vybere kategorie nápoje.](master-detail-filtering-with-two-dropdownlists-vb/_static/image35.png)](master-detail-filtering-with-two-dropdownlists-vb/_static/image34.png)</span><span class="sxs-lookup"><span data-stu-id="69715-165">[![When First Visiting the Page, the Beverages Category is Selected](master-detail-filtering-with-two-dropdownlists-vb/_static/image35.png)](master-detail-filtering-with-two-dropdownlists-vb/_static/image34.png)</span></span>

<span data-ttu-id="69715-166">**Obrázek 12**: když poprvé navštívíte stránku, vybere se kategorie nápoje ([kliknutím zobrazíte obrázek v plné velikosti).](master-detail-filtering-with-two-dropdownlists-vb/_static/image36.png)</span><span class="sxs-lookup"><span data-stu-id="69715-166">**Figure 12**: When First Visiting the Page, the Beverages Category is Selected ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-vb/_static/image36.png))</span></span>

<span data-ttu-id="69715-167">[![výběru jiné kategorie zobrazí produkty nové kategorie.](master-detail-filtering-with-two-dropdownlists-vb/_static/image38.png)](master-detail-filtering-with-two-dropdownlists-vb/_static/image37.png)</span><span class="sxs-lookup"><span data-stu-id="69715-167">[![Choosing a Different Category Displays the New Category's Products](master-detail-filtering-with-two-dropdownlists-vb/_static/image38.png)](master-detail-filtering-with-two-dropdownlists-vb/_static/image37.png)</span></span>

<span data-ttu-id="69715-168">**Obrázek 13**: volba jiné kategorie zobrazuje produkty nové kategorie ([kliknutím zobrazíte obrázek v plné velikosti).](master-detail-filtering-with-two-dropdownlists-vb/_static/image39.png)</span><span class="sxs-lookup"><span data-stu-id="69715-168">**Figure 13**: Choosing a Different Category Displays the New Category's Products ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-vb/_static/image39.png))</span></span>

<span data-ttu-id="69715-169">V současné době `productsByCategory` DropDownList při změně *nezpůsobí* postback.</span><span class="sxs-lookup"><span data-stu-id="69715-169">Currently the `productsByCategory` DropDownList, when changed, does *not* cause a postback.</span></span> <span data-ttu-id="69715-170">Budeme ale chtít, aby po přidání ovládacího prvku DetailsView k zobrazení podrobností vybraného produktu (krok 3) bylo provedeno zpětné odeslání.</span><span class="sxs-lookup"><span data-stu-id="69715-170">However, we will want a postback to occur once we add a DetailsView to display the selected product's details (Step 3).</span></span> <span data-ttu-id="69715-171">Proto zaškrtněte políčko Povolit automatické odeslání z inteligentní značky `productsByCategory` DropDownList.</span><span class="sxs-lookup"><span data-stu-id="69715-171">Therefore, check the Enable AutoPostBack checkbox from the `productsByCategory` DropDownList's smart tag.</span></span>

<span data-ttu-id="69715-172">[![povolit funkci automatického odeslání pro productsByCategory DropDownList](master-detail-filtering-with-two-dropdownlists-vb/_static/image41.png)](master-detail-filtering-with-two-dropdownlists-vb/_static/image40.png)</span><span class="sxs-lookup"><span data-stu-id="69715-172">[![Enable the AutoPostBack Feature for the productsByCategory DropDownList](master-detail-filtering-with-two-dropdownlists-vb/_static/image41.png)](master-detail-filtering-with-two-dropdownlists-vb/_static/image40.png)</span></span>

<span data-ttu-id="69715-173">**Obrázek 14**: povolení funkce AutoPostBack pro `productsByCategory` DropDownList ([kliknutím zobrazíte obrázek v plné velikosti](master-detail-filtering-with-two-dropdownlists-vb/_static/image42.png))</span><span class="sxs-lookup"><span data-stu-id="69715-173">**Figure 14**: Enable the AutoPostBack Feature for the `productsByCategory` DropDownList ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-vb/_static/image42.png))</span></span>

## <a name="step-3-using-a-detailsview-to-display-details-for-the-selected-product"></a><span data-ttu-id="69715-174">Krok 3: použití ovládacího prvku DetailsView k zobrazení podrobností pro vybraný produkt</span><span class="sxs-lookup"><span data-stu-id="69715-174">Step 3: Using a DetailsView to Display Details for the Selected Product</span></span>

<span data-ttu-id="69715-175">Posledním krokem je zobrazit podrobnosti o vybraném produktu v ovládacím prvku DetailsView.</span><span class="sxs-lookup"><span data-stu-id="69715-175">The final step is to display the details for the selected product in a DetailsView.</span></span> <span data-ttu-id="69715-176">Chcete-li to provést, přidejte prvek DetailsView na stránku, nastavte jeho vlastnost `ID` na `ProductDetails`a vytvořte pro něj nový prvek ObjectDataSource.</span><span class="sxs-lookup"><span data-stu-id="69715-176">To accomplish this, add a DetailsView to the page, set its `ID` property to `ProductDetails`, and create a new ObjectDataSource for it.</span></span> <span data-ttu-id="69715-177">Nakonfigurujte tento prvek ObjectDataSource tak, aby načetl data z metody `GetProductByProductID(productID)` `ProductsBLL` třídy pomocí vybrané hodnoty `ProductsByCategory` DropDownList pro hodnotu parametru *`productID`* .</span><span class="sxs-lookup"><span data-stu-id="69715-177">Configure this ObjectDataSource to pull its data from the `ProductsBLL` class's `GetProductByProductID(productID)` method using the selected value of the `ProductsByCategory` DropDownList for the value of the *`productID`* parameter.</span></span>

<span data-ttu-id="69715-178">[![zvolit použití třídy ProductsBLL](master-detail-filtering-with-two-dropdownlists-vb/_static/image44.png)](master-detail-filtering-with-two-dropdownlists-vb/_static/image43.png)</span><span class="sxs-lookup"><span data-stu-id="69715-178">[![Choose to Use the ProductsBLL Class](master-detail-filtering-with-two-dropdownlists-vb/_static/image44.png)](master-detail-filtering-with-two-dropdownlists-vb/_static/image43.png)</span></span>

<span data-ttu-id="69715-179">**Obrázek 15**: vyberte, pokud chcete použít třídu `ProductsBLL` ([kliknutím zobrazíte obrázek v plné velikosti).](master-detail-filtering-with-two-dropdownlists-vb/_static/image45.png)</span><span class="sxs-lookup"><span data-stu-id="69715-179">**Figure 15**: Choose to Use the `ProductsBLL` Class ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-vb/_static/image45.png))</span></span>

<span data-ttu-id="69715-180">[![nakonfigurovat prvek ObjectDataSource na použití metody GetProductByProductID (productID)](master-detail-filtering-with-two-dropdownlists-vb/_static/image47.png)](master-detail-filtering-with-two-dropdownlists-vb/_static/image46.png)</span><span class="sxs-lookup"><span data-stu-id="69715-180">[![Configure the ObjectDataSource to Use the GetProductByProductID(productID) Method](master-detail-filtering-with-two-dropdownlists-vb/_static/image47.png)](master-detail-filtering-with-two-dropdownlists-vb/_static/image46.png)</span></span>

<span data-ttu-id="69715-181">**Obrázek 16**: Konfigurace prvku ObjectDataSource pro použití metody `GetProductByProductID(productID)` ([kliknutím zobrazíte obrázek v plné velikosti](master-detail-filtering-with-two-dropdownlists-vb/_static/image48.png))</span><span class="sxs-lookup"><span data-stu-id="69715-181">**Figure 16**: Configure the ObjectDataSource to Use the `GetProductByProductID(productID)` Method ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-vb/_static/image48.png))</span></span>

<span data-ttu-id="69715-182">[![načíst hodnotu parametru productID z ProductsByCategory DropDownList](master-detail-filtering-with-two-dropdownlists-vb/_static/image50.png)](master-detail-filtering-with-two-dropdownlists-vb/_static/image49.png)</span><span class="sxs-lookup"><span data-stu-id="69715-182">[![Pull the productID Parameter Value from the ProductsByCategory DropDownList](master-detail-filtering-with-two-dropdownlists-vb/_static/image50.png)](master-detail-filtering-with-two-dropdownlists-vb/_static/image49.png)</span></span>

<span data-ttu-id="69715-183">**Obrázek 17**: vyžádání hodnoty parametru *`productID`* z `ProductsByCategory` DropDownList ([kliknutím zobrazíte obrázek v plné velikosti](master-detail-filtering-with-two-dropdownlists-vb/_static/image51.png))</span><span class="sxs-lookup"><span data-stu-id="69715-183">**Figure 17**: Pull the *`productID`* Parameter Value from the `ProductsByCategory` DropDownList ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-vb/_static/image51.png))</span></span>

<span data-ttu-id="69715-184">Můžete zvolit zobrazení libovolného z dostupných polí v ovládacím prvku `ProductDetails` DetailsView.</span><span class="sxs-lookup"><span data-stu-id="69715-184">You can choose to display any of the available fields in the `ProductDetails` DetailsView.</span></span> <span data-ttu-id="69715-185">Rozhodli jste se odebrat pole `ProductID`, `SupplierID`a `CategoryID` a změnit jejich pořadí a formátování zbývajících polí.</span><span class="sxs-lookup"><span data-stu-id="69715-185">I've opted to remove the `ProductID`, `SupplierID`, and `CategoryID` fields and reordered and formatted the remaining fields.</span></span> <span data-ttu-id="69715-186">Kromě toho jsem vymazal vlastnosti `Height` a `Width` ovládacího prvku DetailsView, což umožňuje, aby se ovládací prvek DetailsView rozšířil na šířku potřebnou k tomu, aby se co nejlépe zobrazovala data, místo omezení na zadanou velikost.</span><span class="sxs-lookup"><span data-stu-id="69715-186">In addition, I cleared out the DetailsView's `Height` and `Width` properties, allowing the DetailsView to expand to the width needed to best display its data rather than having it constrained to a specified size.</span></span> <span data-ttu-id="69715-187">Zobrazí se úplné označení níže:</span><span class="sxs-lookup"><span data-stu-id="69715-187">The full markup appears below:</span></span>

[!code-aspx[Main](master-detail-filtering-with-two-dropdownlists-vb/samples/sample1.aspx)]

<span data-ttu-id="69715-188">Chvíli si vyzkoušíte `MasterDetailsDetails.aspx` stránku v prohlížeči.</span><span class="sxs-lookup"><span data-stu-id="69715-188">Take a moment to try out the `MasterDetailsDetails.aspx` page in a browser.</span></span> <span data-ttu-id="69715-189">Na první pohled se může zdát, že vše funguje podle potřeby, ale je to drobný problém.</span><span class="sxs-lookup"><span data-stu-id="69715-189">At first glance it may appear that everything is working as desired, but there's a subtle problem.</span></span> <span data-ttu-id="69715-190">Když zvolíte novou kategorii, `ProductsByCategory` DropDownList se aktualizuje tak, aby obsahovala tyto produkty pro vybranou kategorii, ale v `ProductDetails` DetailsView pokračovala možnost Zobrazit předchozí informace o produktu.</span><span class="sxs-lookup"><span data-stu-id="69715-190">When you choose a new category the `ProductsByCategory` DropDownList is updated to include those products for the selected category, but the `ProductDetails` DetailsView continued to show the previous product information.</span></span> <span data-ttu-id="69715-191">Prvek DetailsView je aktualizován při výběru jiného produktu pro vybranou kategorii.</span><span class="sxs-lookup"><span data-stu-id="69715-191">The DetailsView is updated when choosing a different product for the selected category.</span></span> <span data-ttu-id="69715-192">Pokud se navíc důkladně otestujete, zjistíte, že pokud průběžně vyberete nové kategorie (například zvolíte nápoje z `Categories` DropDownList, potom se Confections) každý další výběr kategorie způsobí, že se `ProductDetails` prvek DetailsView aktualizuje.</span><span class="sxs-lookup"><span data-stu-id="69715-192">Furthermore, if you test thoroughly enough, you'll find that if you continually choose new categories (such as choosing Beverages from the `Categories` DropDownList, then Condiments, then Confections) every other category selection causes the `ProductDetails` DetailsView to be refreshed.</span></span>

<span data-ttu-id="69715-193">Abychom vám pomohli tento problém konkretizovat, Podívejme se na konkrétní příklad.</span><span class="sxs-lookup"><span data-stu-id="69715-193">To help concretize this problem, let's look at a specific example.</span></span> <span data-ttu-id="69715-194">Při první návštěvě stránky vyberte kategorii nápoje a související produkty se načtou v `ProductsByCategory` DropDownList.</span><span class="sxs-lookup"><span data-stu-id="69715-194">When you first visit the page the Beverages category is selected and the related products are loaded in the `ProductsByCategory` DropDownList.</span></span> <span data-ttu-id="69715-195">Možnost Chai je vybraný produkt a jeho podrobnosti se zobrazí v prvku `ProductDetails` DetailsView, jak je znázorněno na obrázku 18.</span><span class="sxs-lookup"><span data-stu-id="69715-195">Chai is the selected product and its details are displayed in the `ProductDetails` DetailsView, as shown in Figure 18.</span></span>

<span data-ttu-id="69715-196">[![podrobnosti vybraného produktu se zobrazí v ovládacím prvku DetailsView.](master-detail-filtering-with-two-dropdownlists-vb/_static/image53.png)](master-detail-filtering-with-two-dropdownlists-vb/_static/image52.png)</span><span class="sxs-lookup"><span data-stu-id="69715-196">[![The Selected Product's Details are Displayed in a DetailsView](master-detail-filtering-with-two-dropdownlists-vb/_static/image53.png)](master-detail-filtering-with-two-dropdownlists-vb/_static/image52.png)</span></span>

<span data-ttu-id="69715-197">**Obrázek 18**: informace o vybraném produktu se zobrazí v prvku DetailsView ([kliknutím zobrazíte obrázek v plné velikosti](master-detail-filtering-with-two-dropdownlists-vb/_static/image54.png)).</span><span class="sxs-lookup"><span data-stu-id="69715-197">**Figure 18**: The Selected Product's Details are Displayed in a DetailsView ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-vb/_static/image54.png))</span></span>

<span data-ttu-id="69715-198">Změníte-li výběr kategorie z nápojů na koření, dojde k postbacku a odpovídajícím způsobem `ProductsByCategory` DropDownList. ovládací prvek DetailsView stále zobrazuje podrobnosti o Chai.</span><span class="sxs-lookup"><span data-stu-id="69715-198">If you change the category selection from Beverages to Condiments, a postback occurs and the `ProductsByCategory` DropDownList is updated accordingly, but the DetailsView still displays details for Chai.</span></span>

<span data-ttu-id="69715-199">[![se stále zobrazují podrobnosti o dříve vybraném produktu.](master-detail-filtering-with-two-dropdownlists-vb/_static/image56.png)](master-detail-filtering-with-two-dropdownlists-vb/_static/image55.png)</span><span class="sxs-lookup"><span data-stu-id="69715-199">[![The Previously Selected Product's Details are Still Displayed](master-detail-filtering-with-two-dropdownlists-vb/_static/image56.png)](master-detail-filtering-with-two-dropdownlists-vb/_static/image55.png)</span></span>

<span data-ttu-id="69715-200">**Obrázek 19**: stále se zobrazují podrobnosti o dříve vybraném produktu ([kliknutím zobrazíte obrázek v plné velikosti).](master-detail-filtering-with-two-dropdownlists-vb/_static/image57.png)</span><span class="sxs-lookup"><span data-stu-id="69715-200">**Figure 19**: The Previously Selected Product's Details are Still Displayed ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-vb/_static/image57.png))</span></span>

<span data-ttu-id="69715-201">Výběr nového produktu ze seznamu aktualizuje prvek DetailsView podle očekávání.</span><span class="sxs-lookup"><span data-stu-id="69715-201">Picking a new product from the list refreshes the DetailsView as expected.</span></span> <span data-ttu-id="69715-202">Pokud po změně produktu vyberete novou kategorii, prvek DetailsView se znovu neaktualizuje.</span><span class="sxs-lookup"><span data-stu-id="69715-202">If you pick a new category after changing the product, the DetailsView again won't refresh.</span></span> <span data-ttu-id="69715-203">Pokud se ale místo výběru nového produktu, který jste vybrali v nové kategorii, aktualizuje prvek DetailsView.</span><span class="sxs-lookup"><span data-stu-id="69715-203">However, if instead of choosing a new product you selected a new category, the DetailsView would refresh.</span></span> <span data-ttu-id="69715-204">Co na světě prochází?</span><span class="sxs-lookup"><span data-stu-id="69715-204">What in the world is going on here?</span></span>

<span data-ttu-id="69715-205">Jedná se o problém s časováním v životním cyklu stránky.</span><span class="sxs-lookup"><span data-stu-id="69715-205">The problem is a timing issue in the page's lifecycle.</span></span> <span data-ttu-id="69715-206">Pokaždé, když je vyžádána stránka, pokračuje pomocí několika kroků v průběhu jejího vykreslování.</span><span class="sxs-lookup"><span data-stu-id="69715-206">Whenever a page is requested it proceeds through a number of steps as its rendering.</span></span> <span data-ttu-id="69715-207">V jednom z těchto kroků ovládací prvky ObjectDataSource kontrolují, aby se zobrazily, zda se změnily některé `SelectParameters` hodnoty.</span><span class="sxs-lookup"><span data-stu-id="69715-207">In one of these steps the ObjectDataSource controls check to see if any of their `SelectParameters` values have changed.</span></span> <span data-ttu-id="69715-208">Pokud ano, webové ovládací prvky dat svázané s ovládacím prvkem ObjectDataSource ví, že je potřeba aktualizovat svůj displej.</span><span class="sxs-lookup"><span data-stu-id="69715-208">If so, the data Web control bound to the ObjectDataSource knows that it needs to refresh its display.</span></span> <span data-ttu-id="69715-209">Například když je vybrána nová kategorie, `ProductsByCategoryDataSource` prvek ObjectDataSource zjistí, že došlo ke změně hodnot parametrů, a `ProductsByCategory` DropDownList se znovu sváže a získá produkty pro vybranou kategorii.</span><span class="sxs-lookup"><span data-stu-id="69715-209">For example, when a new category is selected, the `ProductsByCategoryDataSource` ObjectDataSource detects that its parameter values have changed and the `ProductsByCategory` DropDownList rebinds itself, getting the products for the selected category.</span></span>

<span data-ttu-id="69715-210">Problém, který vzniká v této situaci, je, že bod v životním cyklu stránky, ke kterému se kontroluje změny, nastávají *před změnou* vazby přidružených webových ovládacích prvků dat.</span><span class="sxs-lookup"><span data-stu-id="69715-210">The problem that arises in this situation is that the point in the page lifecycle that the ObjectDataSources check for changed parameters occurs *before* the rebinding of the associated data Web controls.</span></span> <span data-ttu-id="69715-211">Proto při výběru nové kategorie `ProductsByCategoryDataSource` prvek ObjectDataSource zjistí změnu hodnoty jeho parametru.</span><span class="sxs-lookup"><span data-stu-id="69715-211">Therefore, when selecting a new category the `ProductsByCategoryDataSource` ObjectDataSource detects a change in its parameter's value.</span></span> <span data-ttu-id="69715-212">Prvek ObjectDataSource, který je použit ovládacím prvkem `ProductDetails` DetailsView, však tyto změny neprojeví, protože je ještě převázána `ProductsByCategory` DropDownList.</span><span class="sxs-lookup"><span data-stu-id="69715-212">The ObjectDataSource used by the `ProductDetails` DetailsView, however, doesn't note any such changes because the `ProductsByCategory` DropDownList has yet to be rebound.</span></span> <span data-ttu-id="69715-213">Později v životním cyklu se `ProductsByCategory` DropDownList znovu váže ke svému prvku ObjectDataSource a přebírá produkty pro nově vybranou kategorii.</span><span class="sxs-lookup"><span data-stu-id="69715-213">Later in the lifecycle the `ProductsByCategory` DropDownList rebinds to its ObjectDataSource, grabbing the products for the newly selected category.</span></span> <span data-ttu-id="69715-214">I když se změní hodnota `ProductsByCategory` DropDownList, prvek ObjectDataSource prvku `ProductDetails` DetailsView již dokončil kontrolu hodnoty parametru; Proto DetailsView zobrazí předchozí výsledky.</span><span class="sxs-lookup"><span data-stu-id="69715-214">While the `ProductsByCategory` DropDownList's value has changed, the `ProductDetails` DetailsView's ObjectDataSource has already done its parameter value check; therefore, the DetailsView displays its previous results.</span></span> <span data-ttu-id="69715-215">Tato interakce je znázorněna na obrázku 20.</span><span class="sxs-lookup"><span data-stu-id="69715-215">This interaction is depicted in Figure 20.</span></span>

<span data-ttu-id="69715-216">[![změny hodnoty DropDownList ovládacího prvku ProductsByCategory poté, co ovládací prvek ObjectDataSource prvku ProductDetails DetailsView vrátí změny](master-detail-filtering-with-two-dropdownlists-vb/_static/image59.png)](master-detail-filtering-with-two-dropdownlists-vb/_static/image58.png)</span><span class="sxs-lookup"><span data-stu-id="69715-216">[![The ProductsByCategory DropDownList Value Changes After the ProductDetails DetailsView's ObjectDataSource Checks for Changes](master-detail-filtering-with-two-dropdownlists-vb/_static/image59.png)](master-detail-filtering-with-two-dropdownlists-vb/_static/image58.png)</span></span>

<span data-ttu-id="69715-217">**Obrázek 20**: hodnota `ProductsByCategory` DropDownList se mění po kontrole změn v ovládacím prvku `ProductDetails` DetailsView ([kliknutím zobrazíte obrázek v plné velikosti).](master-detail-filtering-with-two-dropdownlists-vb/_static/image60.png)</span><span class="sxs-lookup"><span data-stu-id="69715-217">**Figure 20**: The `ProductsByCategory` DropDownList Value Changes After the `ProductDetails` DetailsView's ObjectDataSource Checks for Changes ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-vb/_static/image60.png))</span></span>

<span data-ttu-id="69715-218">Chcete-li tento problém napravit, je nutné explicitně znovu svázat prvek `ProductDetails` DetailsView poté, co byla vytvořena vazba `ProductsByCategory` DropDownList.</span><span class="sxs-lookup"><span data-stu-id="69715-218">To remedy this we need to explicitly rebind the `ProductDetails` DetailsView after the `ProductsByCategory` DropDownList has been bound.</span></span> <span data-ttu-id="69715-219">To můžeme provést voláním metody `DataBind()` `ProductDetails` DetailsView, když se aktivuje událost `DataBound` `ProductsByCategory` DropDownList.</span><span class="sxs-lookup"><span data-stu-id="69715-219">We can accomplish this by calling the `ProductDetails` DetailsView's `DataBind()` method when the `ProductsByCategory` DropDownList's `DataBound` event fires.</span></span> <span data-ttu-id="69715-220">Přidejte následující kód obslužné rutiny události do třídy kódu na pozadí `MasterDetailsDetails.aspx` stránky (viz téma "[programové nastavení hodnot parametru ObjectDataSource](../basic-reporting/programmatically-setting-the-objectdatasource-s-parameter-values-cs.md)" pro diskuzi o tom, jak přidat obslužnou rutinu události):</span><span class="sxs-lookup"><span data-stu-id="69715-220">Add the following event handler code to the `MasterDetailsDetails.aspx` page's code-behind class (refer to the "[Programmatically Setting the ObjectDataSource's Parameter Values](../basic-reporting/programmatically-setting-the-objectdatasource-s-parameter-values-cs.md)" for a discussion on how to add an event handler):</span></span>

[!code-vb[Main](master-detail-filtering-with-two-dropdownlists-vb/samples/sample2.vb)]

<span data-ttu-id="69715-221">Po přidání tohoto explicitního volání metody `DataBind()` prvku `ProductDetails` DetailsView se v kurzu pracuje podle očekávání.</span><span class="sxs-lookup"><span data-stu-id="69715-221">After this explicit call to the `ProductDetails` DetailsView's `DataBind()` method has been added, the tutorial works as expected.</span></span> <span data-ttu-id="69715-222">Obrázek 21 ukazuje, jak tato změna prostala vyřešená předchozí problém.</span><span class="sxs-lookup"><span data-stu-id="69715-222">Figure 21 highlights how this changed remedied our earlier problem.</span></span>

<span data-ttu-id="69715-223">[![prvku DetailsView ProductDetails se explicitně aktualizuje, když se aktivuje událost DataBound ovládacího prvku ProductsByCategory.](master-detail-filtering-with-two-dropdownlists-vb/_static/image62.png)](master-detail-filtering-with-two-dropdownlists-vb/_static/image61.png)</span><span class="sxs-lookup"><span data-stu-id="69715-223">[![The ProductDetails DetailsView is Explicitly Refreshed When the ProductsByCategory DropDownList's DataBound Event Fires](master-detail-filtering-with-two-dropdownlists-vb/_static/image62.png)](master-detail-filtering-with-two-dropdownlists-vb/_static/image61.png)</span></span>

<span data-ttu-id="69715-224">**Obrázek 21**: `ProductDetails` DetailsView se explicitně aktualizuje, když se aktivuje událost `DataBound` `ProductsByCategory` DropDownList ([kliknutím zobrazíte obrázek v plné velikosti](master-detail-filtering-with-two-dropdownlists-vb/_static/image63.png)).</span><span class="sxs-lookup"><span data-stu-id="69715-224">**Figure 21**: The `ProductDetails` DetailsView is Explicitly Refreshed When the `ProductsByCategory` DropDownList's `DataBound` Event Fires ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-vb/_static/image63.png))</span></span>

## <a name="summary"></a><span data-ttu-id="69715-225">Souhrn</span><span class="sxs-lookup"><span data-stu-id="69715-225">Summary</span></span>

<span data-ttu-id="69715-226">DropDownList slouží jako ideální prvek uživatelského rozhraní pro sestavy hlavních a podrobností, kde existuje vztah 1:1 mezi hlavními a podrobnými záznamy.</span><span class="sxs-lookup"><span data-stu-id="69715-226">The DropDownList serves as an ideal user interface element for master/detail reports where there is a one-to-many relationship between the master and detail records.</span></span> <span data-ttu-id="69715-227">V předchozím kurzu jsme viděli, jak použít jeden objekt DropDownList k filtrování produktů zobrazených ve vybrané kategorii.</span><span class="sxs-lookup"><span data-stu-id="69715-227">In the preceding tutorial we saw how to use a single DropDownList to filter the products displayed by the selected category.</span></span> <span data-ttu-id="69715-228">V tomto kurzu jsme nahradili prvku GridView v produktech pomocí ovládacího prvku DropDownList a použili prvek DetailsView k zobrazení podrobností o vybraném produktu.</span><span class="sxs-lookup"><span data-stu-id="69715-228">In this tutorial we replaced the GridView of products with a DropDownList, and used a DetailsView to display the details of the selected product.</span></span> <span data-ttu-id="69715-229">Koncepty popsané v tomto kurzu lze snadno rozšířit na datové modely zahrnující více relací 1:1, jako jsou například zákazníci, objednávky a položky objednávek.</span><span class="sxs-lookup"><span data-stu-id="69715-229">The concepts discussed in this tutorial can easily be extended to data models involving multiple one-to-many relationships, such as customers, orders, and order items.</span></span> <span data-ttu-id="69715-230">Obecně platí, že vždy můžete přidat DropDownList pro každou entitu "jedna" v relaci 1: n.</span><span class="sxs-lookup"><span data-stu-id="69715-230">In general, you can always add a DropDownList for each of the "one" entities in the one-to-many relationships.</span></span>

<span data-ttu-id="69715-231">Šťastné programování!</span><span class="sxs-lookup"><span data-stu-id="69715-231">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="69715-232">O autorovi</span><span class="sxs-lookup"><span data-stu-id="69715-232">About the Author</span></span>

<span data-ttu-id="69715-233">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), autor 7 ASP/ASP. NET Books a zakladatel of [4GuysFromRolla.com](http://www.4guysfromrolla.com), pracoval s webovými technologiemi Microsoftu od 1998.</span><span class="sxs-lookup"><span data-stu-id="69715-233">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="69715-234">Scott funguje jako nezávislý konzultant, Trainer a zapisovač.</span><span class="sxs-lookup"><span data-stu-id="69715-234">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="69715-235">Nejnovější kniha je [*Sams naučit se ASP.NET 2,0 za 24 hodin*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="69715-235">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="69715-236">Dá se získat na [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="69715-236">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span> <span data-ttu-id="69715-237">nebo prostřednictvím svého blogu, který najdete na adrese [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span><span class="sxs-lookup"><span data-stu-id="69715-237">or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

## <a name="special-thanks-to"></a><span data-ttu-id="69715-238">Zvláštní díky</span><span class="sxs-lookup"><span data-stu-id="69715-238">Special Thanks To</span></span>

<span data-ttu-id="69715-239">Tato řada kurzů byla přezkoumána mnoha užitečnými kontrolory.</span><span class="sxs-lookup"><span data-stu-id="69715-239">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="69715-240">Kontrolor pro tento kurz byl Hilton Giesenow.</span><span class="sxs-lookup"><span data-stu-id="69715-240">Lead reviewer for this tutorial was Hilton Giesenow.</span></span> <span data-ttu-id="69715-241">Uvažujete o přezkoumání mých nadcházejících článků na webu MSDN?</span><span class="sxs-lookup"><span data-stu-id="69715-241">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="69715-242">Pokud ano, vyřaďte mi řádek na [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="69715-242">If so, drop me a line at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="69715-243">[Předchozí](master-detail-filtering-with-a-dropdownlist-vb.md)
> [Další](master-detail-filtering-across-two-pages-vb.md)</span><span class="sxs-lookup"><span data-stu-id="69715-243">[Previous](master-detail-filtering-with-a-dropdownlist-vb.md)
[Next](master-detail-filtering-across-two-pages-vb.md)</span></span>
