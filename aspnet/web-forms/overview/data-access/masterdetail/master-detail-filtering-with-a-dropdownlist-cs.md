---
uid: web-forms/overview/data-access/masterdetail/master-detail-filtering-with-a-dropdownlist-cs
title: Ovládacím prvkem DropDownList (C#) filtrování záznamů Master/Detail | Dokumentace Microsoftu
author: rick-anderson
description: V tomto kurzu uvidíme, jak zobrazit hlavní záznamy v ovládací prvek DropDownList a podrobnosti vybrané položky seznamu v GridView.
ms.author: riande
ms.date: 03/31/2010
ms.assetid: 53e659cc-eefb-40c1-a1dc-559481c99443
msc.legacyurl: /web-forms/overview/data-access/masterdetail/master-detail-filtering-with-a-dropdownlist-cs
msc.type: authoredcontent
ms.openlocfilehash: 8edc18968625036964c0120b83f8ebb149dbf87a
ms.sourcegitcommit: 0f1119340e4464720cfd16d0ff15764746ea1fea
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 04/17/2019
ms.locfileid: "59393428"
---
# <a name="masterdetail-filtering-with-a-dropdownlist-c"></a><span data-ttu-id="9c98d-103">Filtrování hlavních záznamů / podrobností ovládacím prvkem DropDownList (C#)</span><span class="sxs-lookup"><span data-stu-id="9c98d-103">Master/Detail Filtering With a DropDownList (C#)</span></span>

<span data-ttu-id="9c98d-104">podle [Scott Meisnerová](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="9c98d-104">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="9c98d-105">[Stáhněte si ukázkovou aplikaci](http://download.microsoft.com/download/4/6/3/463cf87c-4724-4cbc-b7b5-3f866f43ba50/ASPNET_Data_Tutorial_7_CS.exe) nebo [stahovat PDF](master-detail-filtering-with-a-dropdownlist-cs/_static/datatutorial07cs1.pdf)</span><span class="sxs-lookup"><span data-stu-id="9c98d-105">[Download Sample App](http://download.microsoft.com/download/4/6/3/463cf87c-4724-4cbc-b7b5-3f866f43ba50/ASPNET_Data_Tutorial_7_CS.exe) or [Download PDF](master-detail-filtering-with-a-dropdownlist-cs/_static/datatutorial07cs1.pdf)</span></span>

> <span data-ttu-id="9c98d-106">V tomto kurzu uvidíme, jak zobrazit hlavní záznamy v ovládací prvek DropDownList a podrobnosti vybrané položky seznamu v GridView.</span><span class="sxs-lookup"><span data-stu-id="9c98d-106">In this tutorial we'll see how to display the master records in a DropDownList control and the details of the selected list item in a GridView.</span></span>


## <a name="introduction"></a><span data-ttu-id="9c98d-107">Úvod</span><span class="sxs-lookup"><span data-stu-id="9c98d-107">Introduction</span></span>

<span data-ttu-id="9c98d-108">Společný typ sestavy, je *sestavy záznamů master/detail*, ve které sestavy začíná tím, že zobrazuje některé sady záznamů "hlavní".</span><span class="sxs-lookup"><span data-stu-id="9c98d-108">A common type of report is the *master/detail report*, in which the report begins by showing some set of "master" records.</span></span> <span data-ttu-id="9c98d-109">Uživatel pak přejít ke jeden z hlavních záznamů, a tím zobrazení hlavního záznamu "podrobností."</span><span class="sxs-lookup"><span data-stu-id="9c98d-109">The user can then drill down into one of the master records, thereby viewing that master record's "details."</span></span> <span data-ttu-id="9c98d-110">Záznamů master/detail sestavy jsou ideální volbou pro vizualizaci vztahů jednoho k několika, jako je například sestavu zobrazující všechny kategorie a pak umožní uživateli vybrat určitou kategorii a zobrazit jeho související produkty.</span><span class="sxs-lookup"><span data-stu-id="9c98d-110">Master/detail reports are an ideal choice for visualizing one-to-many relationships, such as a report showing all of the categories and then allowing a user to select a particular category and display its associated products.</span></span> <span data-ttu-id="9c98d-111">Kromě toho záznamů master/detail zprávy jsou užitečné pro zobrazení podrobných informací z zejména "širokých" tabulek (těch, které mají velký počet sloupců).</span><span class="sxs-lookup"><span data-stu-id="9c98d-111">Additionally, master/detail reports are useful for displaying detailed information from particularly "wide" tables (ones that have a lot of columns).</span></span> <span data-ttu-id="9c98d-112">Například "hlavní" úroveň záznamů master/detail sestav může zobrazovat jenom název a jednotku cena produktu produktů v databázi a procházení k podrobnostem konkrétního produktu by zobrazil pole Další produkt (kategorie, Dodavatel, množství na jednotku, a tak dále).</span><span class="sxs-lookup"><span data-stu-id="9c98d-112">For example, the "master" level of a master/detail report might show just the product name and unit price of the products in the database, and drilling down into a particular product would show the additional product fields (category, supplier, quantity per unit, and so on).</span></span>

<span data-ttu-id="9c98d-113">Existuje mnoho způsobů, kterými je možné implementovat záznamů master/detail sestavy.</span><span class="sxs-lookup"><span data-stu-id="9c98d-113">There are many ways with which a master/detail report can be implemented.</span></span> <span data-ttu-id="9c98d-114">Toto a následující tři kurzy podíváme na širokou škálu hlavních záznamů/podrobností sestav.</span><span class="sxs-lookup"><span data-stu-id="9c98d-114">Over this and the next three tutorials we'll look at a variety of master/detail reports.</span></span> <span data-ttu-id="9c98d-115">V tomto kurzu uvidíme, jak zobrazit záznamy v hlavní [ovládací prvek DropDownList](https://msdn.microsoft.com/library/dtx91y0z.aspx) a podrobnosti o vybrané položky seznamu v GridView.</span><span class="sxs-lookup"><span data-stu-id="9c98d-115">In this tutorial we'll see how to display the master records in a [DropDownList control](https://msdn.microsoft.com/library/dtx91y0z.aspx) and the details of the selected list item in a GridView.</span></span> <span data-ttu-id="9c98d-116">Zejména sestavy záznamů master/detail v tomto kurzu, zobrazí se seznam kategorií a informace o produktu.</span><span class="sxs-lookup"><span data-stu-id="9c98d-116">In particular, this tutorial's master/detail report will list category and product information.</span></span>

## <a name="step-1-displaying-the-categories-in-a-dropdownlist"></a><span data-ttu-id="9c98d-117">Krok 1: Zobrazení kategorií v DropDownList</span><span class="sxs-lookup"><span data-stu-id="9c98d-117">Step 1: Displaying the Categories in a DropDownList</span></span>

<span data-ttu-id="9c98d-118">Naší sestavy záznamů master/detail zobrazí seznam kategorií v DropDownList, s produkty položku vybraného seznamu zobrazí další dolů na stránce v GridView.</span><span class="sxs-lookup"><span data-stu-id="9c98d-118">Our master/detail report will list the categories in a DropDownList, with the selected list item's products displayed further down in the page in a GridView.</span></span> <span data-ttu-id="9c98d-119">První úkol náskok před nám, pak je kategorie zobrazuje v DropDownList.</span><span class="sxs-lookup"><span data-stu-id="9c98d-119">The first task ahead of us, then, is to have the categories displayed in a DropDownList.</span></span> <span data-ttu-id="9c98d-120">Otevřít `FilterByDropDownList.aspx` stránku `Filtering` složky, přetáhněte z panelu nástrojů do návrháře na stránce DropDownList a nastavte jeho `ID` vlastnost `Categories`.</span><span class="sxs-lookup"><span data-stu-id="9c98d-120">Open the `FilterByDropDownList.aspx` page in the `Filtering` folder, drag on a DropDownList from the Toolbox onto the page's designer, and set its `ID` property to `Categories`.</span></span> <span data-ttu-id="9c98d-121">Pak klikněte na odkaz zvolit zdroj dat z inteligentních značek DropDownList.</span><span class="sxs-lookup"><span data-stu-id="9c98d-121">Next, click on the Choose Data Source link from the DropDownList's smart tag.</span></span> <span data-ttu-id="9c98d-122">Zobrazí se Průvodce konfigurací zdroje dat.</span><span class="sxs-lookup"><span data-stu-id="9c98d-122">This will display the Data Source Configuration wizard.</span></span>


<span data-ttu-id="9c98d-123">[![Zadejte zdroj dat DropDownList](master-detail-filtering-with-a-dropdownlist-cs/_static/image2.png)](master-detail-filtering-with-a-dropdownlist-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="9c98d-123">[![Specify the DropDownList's Data Source](master-detail-filtering-with-a-dropdownlist-cs/_static/image2.png)](master-detail-filtering-with-a-dropdownlist-cs/_static/image1.png)</span></span>

<span data-ttu-id="9c98d-124">**Obrázek 1**: Zadejte zdroj dat DropDownList ([kliknutím ji zobrazíte obrázek v plné velikosti](master-detail-filtering-with-a-dropdownlist-cs/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="9c98d-124">**Figure 1**: Specify the DropDownList's Data Source ([Click to view full-size image](master-detail-filtering-with-a-dropdownlist-cs/_static/image3.png))</span></span>


<span data-ttu-id="9c98d-125">Vybrat přidání nového prvku ObjectDataSource s názvem `CategoriesDataSource` , která vyvolává `CategoriesBLL` třídy `GetCategories()` metody.</span><span class="sxs-lookup"><span data-stu-id="9c98d-125">Choose to add a new ObjectDataSource named `CategoriesDataSource` that invokes the `CategoriesBLL` class's `GetCategories()` method.</span></span>


<span data-ttu-id="9c98d-126">[![Přidat nový prvek ObjectDataSource s názvem CategoriesDataSource](master-detail-filtering-with-a-dropdownlist-cs/_static/image5.png)](master-detail-filtering-with-a-dropdownlist-cs/_static/image4.png)</span><span class="sxs-lookup"><span data-stu-id="9c98d-126">[![Add a New ObjectDataSource Named CategoriesDataSource](master-detail-filtering-with-a-dropdownlist-cs/_static/image5.png)](master-detail-filtering-with-a-dropdownlist-cs/_static/image4.png)</span></span>

<span data-ttu-id="9c98d-127">**Obrázek 2**: Přidat nový prvek ObjectDataSource s názvem `CategoriesDataSource` ([kliknutím ji zobrazíte obrázek v plné velikosti](master-detail-filtering-with-a-dropdownlist-cs/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="9c98d-127">**Figure 2**: Add a New ObjectDataSource Named `CategoriesDataSource` ([Click to view full-size image](master-detail-filtering-with-a-dropdownlist-cs/_static/image6.png))</span></span>


<span data-ttu-id="9c98d-128">[![Zvolte možnost použití třídy CategoriesBLL](master-detail-filtering-with-a-dropdownlist-cs/_static/image8.png)](master-detail-filtering-with-a-dropdownlist-cs/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="9c98d-128">[![Choose to Use the CategoriesBLL Class](master-detail-filtering-with-a-dropdownlist-cs/_static/image8.png)](master-detail-filtering-with-a-dropdownlist-cs/_static/image7.png)</span></span>

<span data-ttu-id="9c98d-129">**Obrázek 3**: Zvolte pro použití `CategoriesBLL` třídy ([kliknutím ji zobrazíte obrázek v plné velikosti](master-detail-filtering-with-a-dropdownlist-cs/_static/image9.png))</span><span class="sxs-lookup"><span data-stu-id="9c98d-129">**Figure 3**: Choose to Use the `CategoriesBLL` Class ([Click to view full-size image](master-detail-filtering-with-a-dropdownlist-cs/_static/image9.png))</span></span>


<span data-ttu-id="9c98d-130">[![Konfigurace ObjectDataSource GetCategories() metody](master-detail-filtering-with-a-dropdownlist-cs/_static/image11.png)](master-detail-filtering-with-a-dropdownlist-cs/_static/image10.png)</span><span class="sxs-lookup"><span data-stu-id="9c98d-130">[![Configure the ObjectDataSource to Use the GetCategories() Method](master-detail-filtering-with-a-dropdownlist-cs/_static/image11.png)](master-detail-filtering-with-a-dropdownlist-cs/_static/image10.png)</span></span>

<span data-ttu-id="9c98d-131">**Obrázek 4**: Konfigurace ObjectDataSource k použití `GetCategories()` – metoda ([kliknutím ji zobrazíte obrázek v plné velikosti](master-detail-filtering-with-a-dropdownlist-cs/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="9c98d-131">**Figure 4**: Configure the ObjectDataSource to Use the `GetCategories()` Method ([Click to view full-size image](master-detail-filtering-with-a-dropdownlist-cs/_static/image12.png))</span></span>


<span data-ttu-id="9c98d-132">Po dokončení konfigurace prvek ObjectDataSource, musíme určit, jaké pole zdroje dat mají být zobrazeny v DropDownList a které jedna by měla být přiřazen jako hodnota pro položku seznamu.</span><span class="sxs-lookup"><span data-stu-id="9c98d-132">After configuring the ObjectDataSource we still need to specify what data source field should be displayed in DropDownList and which one should be associated as the value for the list item.</span></span> <span data-ttu-id="9c98d-133">Máte `CategoryName` pole jako zobrazení a `CategoryID` jako hodnotu pro každou položku seznamu.</span><span class="sxs-lookup"><span data-stu-id="9c98d-133">Have the `CategoryName` field as the display and `CategoryID` as the value for each list item.</span></span>


<span data-ttu-id="9c98d-134">[![Mít zobrazení DropDownList CategoryName pole a CategoryID použijte jako hodnotu](master-detail-filtering-with-a-dropdownlist-cs/_static/image14.png)](master-detail-filtering-with-a-dropdownlist-cs/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="9c98d-134">[![Have the DropDownList Display the CategoryName Field and Use CategoryID as the Value](master-detail-filtering-with-a-dropdownlist-cs/_static/image14.png)](master-detail-filtering-with-a-dropdownlist-cs/_static/image13.png)</span></span>

<span data-ttu-id="9c98d-135">**Obrázek 5**: Zobrazit DropDownList `CategoryName` pole a použití `CategoryID` jako hodnotu ([kliknutím ji zobrazíte obrázek v plné velikosti](master-detail-filtering-with-a-dropdownlist-cs/_static/image15.png))</span><span class="sxs-lookup"><span data-stu-id="9c98d-135">**Figure 5**: Have the DropDownList Display the `CategoryName` Field and Use `CategoryID` as the Value ([Click to view full-size image](master-detail-filtering-with-a-dropdownlist-cs/_static/image15.png))</span></span>


<span data-ttu-id="9c98d-136">V tuto chvíli máme, který je naplněn záznamy z ovládací prvek DropDownList `Categories` tabulky (vše lze provést během přibližně šest sekund).</span><span class="sxs-lookup"><span data-stu-id="9c98d-136">At this point we have a DropDownList control that's populated with the records from the `Categories` table (all accomplished in about six seconds).</span></span> <span data-ttu-id="9c98d-137">Obrázek 6 doposud zobrazuje náš postup při prohlížení prostřednictvím prohlížeče.</span><span class="sxs-lookup"><span data-stu-id="9c98d-137">Figure 6 shows our progress thus far when viewed through a browser.</span></span>


<span data-ttu-id="9c98d-138">[![Rozevírací seznam aktuálních kategorií](master-detail-filtering-with-a-dropdownlist-cs/_static/image17.png)](master-detail-filtering-with-a-dropdownlist-cs/_static/image16.png)</span><span class="sxs-lookup"><span data-stu-id="9c98d-138">[![A Drop-Down Lists the Current Categories](master-detail-filtering-with-a-dropdownlist-cs/_static/image17.png)](master-detail-filtering-with-a-dropdownlist-cs/_static/image16.png)</span></span>

<span data-ttu-id="9c98d-139">**Obrázek 6**: Rozevírací seznam aktuálních kategorií ([kliknutím ji zobrazíte obrázek v plné velikosti](master-detail-filtering-with-a-dropdownlist-cs/_static/image18.png))</span><span class="sxs-lookup"><span data-stu-id="9c98d-139">**Figure 6**: A Drop-Down Lists the Current Categories ([Click to view full-size image](master-detail-filtering-with-a-dropdownlist-cs/_static/image18.png))</span></span>


## <a name="step-2-adding-the-products-gridview"></a><span data-ttu-id="9c98d-140">Krok 2: Přidání ovládacího prvku GridView produkty</span><span class="sxs-lookup"><span data-stu-id="9c98d-140">Step 2: Adding the Products GridView</span></span>

<span data-ttu-id="9c98d-141">Tento poslední krok v naší sestavy záznamů master/detail je seznam produktů spojené s vybranou kategorii.</span><span class="sxs-lookup"><span data-stu-id="9c98d-141">That last step in our master/detail report is to list the products associated with the selected category.</span></span> <span data-ttu-id="9c98d-142">K tomu přidat na stránku GridView a vytvoření nového prvku ObjectDataSource s názvem `productsDataSource`.</span><span class="sxs-lookup"><span data-stu-id="9c98d-142">To accomplish this, add a GridView to the page and create a new ObjectDataSource named `productsDataSource`.</span></span> <span data-ttu-id="9c98d-143">Mít `productsDataSource` jatečné data z ovládacího prvku `ProductsBLL` třídy `GetProductsByCategoryID(categoryID)` metody.</span><span class="sxs-lookup"><span data-stu-id="9c98d-143">Have the `productsDataSource` control cull its data from the `ProductsBLL` class's `GetProductsByCategoryID(categoryID)` method.</span></span>


<span data-ttu-id="9c98d-144">[![Vyberte metodu GetProductsByCategoryID(categoryID)](master-detail-filtering-with-a-dropdownlist-cs/_static/image20.png)](master-detail-filtering-with-a-dropdownlist-cs/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="9c98d-144">[![Select the GetProductsByCategoryID(categoryID) Method](master-detail-filtering-with-a-dropdownlist-cs/_static/image20.png)](master-detail-filtering-with-a-dropdownlist-cs/_static/image19.png)</span></span>

<span data-ttu-id="9c98d-145">**Obrázek 7**: Vyberte `GetProductsByCategoryID(categoryID)` – metoda ([kliknutím ji zobrazíte obrázek v plné velikosti](master-detail-filtering-with-a-dropdownlist-cs/_static/image21.png))</span><span class="sxs-lookup"><span data-stu-id="9c98d-145">**Figure 7**: Select the `GetProductsByCategoryID(categoryID)` Method ([Click to view full-size image](master-detail-filtering-with-a-dropdownlist-cs/_static/image21.png))</span></span>


<span data-ttu-id="9c98d-146">Po výběru této metody, Průvodce ObjectDataSource nám vyzve k zadání hodnoty pro metody *`categoryID`* parametru.</span><span class="sxs-lookup"><span data-stu-id="9c98d-146">After choosing this method, the ObjectDataSource wizard prompts us for the value for the method's *`categoryID`* parameter.</span></span> <span data-ttu-id="9c98d-147">Chcete použít hodnotu vybraného `categories` DropDownList položka nastavena na ovládací prvek a ControlID na zdroji parametru `Categories`.</span><span class="sxs-lookup"><span data-stu-id="9c98d-147">To use the value of the selected `categories` DropDownList item set the Parameter source to Control and the ControlID to `Categories`.</span></span>


<span data-ttu-id="9c98d-148">[![Nastavit ID kategorie parametr na hodnotu DropDownList kategorie](master-detail-filtering-with-a-dropdownlist-cs/_static/image23.png)](master-detail-filtering-with-a-dropdownlist-cs/_static/image22.png)</span><span class="sxs-lookup"><span data-stu-id="9c98d-148">[![Set the categoryID Parameter to the Value of the Categories DropDownList](master-detail-filtering-with-a-dropdownlist-cs/_static/image23.png)](master-detail-filtering-with-a-dropdownlist-cs/_static/image22.png)</span></span>

<span data-ttu-id="9c98d-149">**Obrázek 8**: Nastavte *`categoryID`* parametr na hodnotu `Categories` DropDownList ([kliknutím ji zobrazíte obrázek v plné velikosti](master-detail-filtering-with-a-dropdownlist-cs/_static/image24.png))</span><span class="sxs-lookup"><span data-stu-id="9c98d-149">**Figure 8**: Set the *`categoryID`* Parameter to the Value of the `Categories` DropDownList ([Click to view full-size image](master-detail-filtering-with-a-dropdownlist-cs/_static/image24.png))</span></span>


<span data-ttu-id="9c98d-150">Podívejte se na náš postup v prohlížeči chvíli trvat.</span><span class="sxs-lookup"><span data-stu-id="9c98d-150">Take a moment to check out our progress in a browser.</span></span> <span data-ttu-id="9c98d-151">Při první návštěvě stránky, produkty patří do vybrané kategorie (nápoje) se zobrazí (jak je znázorněno na obrázku 9), ale změna DropDownList neaktualizuje data.</span><span class="sxs-lookup"><span data-stu-id="9c98d-151">When first visiting the page, those products belong to the selected category (Beverages) are displayed (as shown in Figure 9), but changing the DropDownList doesn't update the data.</span></span> <span data-ttu-id="9c98d-152">Je to proto zpětné volání, musí dojít k prvku GridView. Chcete-li aktualizovat.</span><span class="sxs-lookup"><span data-stu-id="9c98d-152">This is because a postback must occur for the GridView to update.</span></span> <span data-ttu-id="9c98d-153">K tomu že máme k dispozici dvě možnosti (ani jeden z nich vyžaduje psaní jakéhokoli kódu):</span><span class="sxs-lookup"><span data-stu-id="9c98d-153">To accomplish this we have two options (neither of which requires writing any code):</span></span>

- <span data-ttu-id="9c98d-154">**Nastavení kategorie DropDownList**[vlastnost AutoPostBack](https://msdn.microsoft.com/library/system.web.ui.webcontrols.listcontrol.autopostback%28VS.80%29.aspx)**na hodnotu True.**</span><span class="sxs-lookup"><span data-stu-id="9c98d-154">**Set the categories DropDownList's**[AutoPostBack property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.listcontrol.autopostback%28VS.80%29.aspx)**to True.**</span></span> <span data-ttu-id="9c98d-155">(Lze provést tak, že zkontrolujete možnost povolit vlastnost AutoPostBack v inteligentních značek DropDownList.) Zpětné volání tím se aktivuje vždy, když DropDownList vybraná položka je uživatel změní.</span><span class="sxs-lookup"><span data-stu-id="9c98d-155">(You can accomplish this by checking the Enable AutoPostBack option in the DropDownList's smart tag.) This will trigger a postback whenever the DropDownList's selected item is changed by the user.</span></span> <span data-ttu-id="9c98d-156">Proto když uživatel vybere novou kategorii z DropDownList nevzniknou zpětné volání a aktualizuje prvku GridView s produkty pro nově vybranou kategorii.</span><span class="sxs-lookup"><span data-stu-id="9c98d-156">Therefore, when the user selects a new category from the DropDownList a postback will ensue and the GridView will be updated with the products for the newly selected category.</span></span> <span data-ttu-id="9c98d-157">(Toto je přístup, který jsem spotřeboval/v tomto kurzu).</span><span class="sxs-lookup"><span data-stu-id="9c98d-157">(This is the approach I've used in this tutorial.)</span></span>
- <span data-ttu-id="9c98d-158">**Přidejte ovládací prvek webového tlačítko vedle DropDownList.**</span><span class="sxs-lookup"><span data-stu-id="9c98d-158">**Add a Button Web control next to the DropDownList.**</span></span> <span data-ttu-id="9c98d-159">Nastavte jeho `Text` vlastnosti aktualizovat nebo něco podobného.</span><span class="sxs-lookup"><span data-stu-id="9c98d-159">Set its `Text` property to Refresh or something similar.</span></span> <span data-ttu-id="9c98d-160">S tímto přístupem bude uživatel muset vybrat nové kategorie a potom klikněte na tlačítko.</span><span class="sxs-lookup"><span data-stu-id="9c98d-160">With this approach, the user will need to select a new category and then click the Button.</span></span> <span data-ttu-id="9c98d-161">Kliknutím na tlačítko vyvolávají zpětné odeslání a aktualizujte GridView seznam těchto produktů vybrané kategorie.</span><span class="sxs-lookup"><span data-stu-id="9c98d-161">Clicking the Button will cause a postback and update the GridView to list those products of the selected category.</span></span>

<span data-ttu-id="9c98d-162">Obrázky 9 a 10 ukazují sestavu záznamů master/detail v akci.</span><span class="sxs-lookup"><span data-stu-id="9c98d-162">Figures 9 and 10 illustrate the master/detail report in action.</span></span>


<span data-ttu-id="9c98d-163">[![Při první návštěvě stránky, se zobrazují produkty nápoje](master-detail-filtering-with-a-dropdownlist-cs/_static/image26.png)](master-detail-filtering-with-a-dropdownlist-cs/_static/image25.png)</span><span class="sxs-lookup"><span data-stu-id="9c98d-163">[![When First Visiting the Page, the Beverage Products are Displayed](master-detail-filtering-with-a-dropdownlist-cs/_static/image26.png)](master-detail-filtering-with-a-dropdownlist-cs/_static/image25.png)</span></span>

<span data-ttu-id="9c98d-164">**Obrázek 9**: Při první návštěvě stránky, produkty nápoje zobrazují ([kliknutím ji zobrazíte obrázek v plné velikosti](master-detail-filtering-with-a-dropdownlist-cs/_static/image27.png))</span><span class="sxs-lookup"><span data-stu-id="9c98d-164">**Figure 9**: When First Visiting the Page, the Beverage Products are Displayed ([Click to view full-size image](master-detail-filtering-with-a-dropdownlist-cs/_static/image27.png))</span></span>


<span data-ttu-id="9c98d-165">[![Výběr nového produktu (produkty) automaticky vyvolá zpětné volání, aktualizace prvku GridView.](master-detail-filtering-with-a-dropdownlist-cs/_static/image29.png)](master-detail-filtering-with-a-dropdownlist-cs/_static/image28.png)</span><span class="sxs-lookup"><span data-stu-id="9c98d-165">[![Selecting a New Product (Produce) Automatically Causes a PostBack, Updating the GridView](master-detail-filtering-with-a-dropdownlist-cs/_static/image29.png)](master-detail-filtering-with-a-dropdownlist-cs/_static/image28.png)</span></span>

<span data-ttu-id="9c98d-166">**Obrázek 10**: Výběr nového produktu (produkty) automaticky vyvolá zpětné volání, aktualizace prvku GridView ([kliknutím ji zobrazíte obrázek v plné velikosti](master-detail-filtering-with-a-dropdownlist-cs/_static/image30.png))</span><span class="sxs-lookup"><span data-stu-id="9c98d-166">**Figure 10**: Selecting a New Product (Produce) Automatically Causes a PostBack, Updating the GridView ([Click to view full-size image](master-detail-filtering-with-a-dropdownlist-cs/_static/image30.png))</span></span>


## <a name="adding-a----choose-a-category----list-item"></a><span data-ttu-id="9c98d-167">Přidání položky seznamu "--zvolit některou kategorii--"</span><span class="sxs-lookup"><span data-stu-id="9c98d-167">Adding a "-- Choose a Category --" List Item</span></span>

<span data-ttu-id="9c98d-168">Při první návštěvě `FilterByDropDownList.aspx` stránce kategorie DropDownList od první položky seznamu (nápoje) je vybraný ve výchozím nastavení zobrazuje nápoje produkty v prvku GridView.</span><span class="sxs-lookup"><span data-stu-id="9c98d-168">When first visiting the `FilterByDropDownList.aspx` page the categories DropDownList's first list item (Beverages) is selected by default, showing the beverage products in the GridView.</span></span> <span data-ttu-id="9c98d-169">Ne, který zobrazuje první kategorie produktů, že může být vhodné místo toho obsahují položku DropDownList vybrali řekne něco jako "--zvolit některou kategorii--".</span><span class="sxs-lookup"><span data-stu-id="9c98d-169">Rather than showing the first category's products, we may want to instead have a DropDownList item selected that says something like, "-- Choose a Category --".</span></span>

<span data-ttu-id="9c98d-170">Chcete-li přidat novou položku seznamu do DropDownList, přejděte do okna Vlastnosti a klikněte na symbol tří teček v `Items` vlastnost.</span><span class="sxs-lookup"><span data-stu-id="9c98d-170">To add a new list item to the DropDownList, go to the Properties window and click on the ellipses in the `Items` property.</span></span> <span data-ttu-id="9c98d-171">Přidat novou položku seznamu s `Text` "--zvolit některou kategorii--" a `Value` `-1`.</span><span class="sxs-lookup"><span data-stu-id="9c98d-171">Add a new list item with the `Text` "-- Choose a Category --" and the `Value` `-1`.</span></span>


<span data-ttu-id="9c98d-172">[![Přidání--výběrem kategorie – položka seznamu](master-detail-filtering-with-a-dropdownlist-cs/_static/image32.png)](master-detail-filtering-with-a-dropdownlist-cs/_static/image31.png)</span><span class="sxs-lookup"><span data-stu-id="9c98d-172">[![Add a -- Choose a Category -- List Item](master-detail-filtering-with-a-dropdownlist-cs/_static/image32.png)](master-detail-filtering-with-a-dropdownlist-cs/_static/image31.png)</span></span>

<span data-ttu-id="9c98d-173">**Obrázek 11**: Přidání--výběrem kategorie – položka seznamu ([kliknutím ji zobrazíte obrázek v plné velikosti](master-detail-filtering-with-a-dropdownlist-cs/_static/image33.png))</span><span class="sxs-lookup"><span data-stu-id="9c98d-173">**Figure 11**: Add a -- Choose a Category -- List Item ([Click to view full-size image](master-detail-filtering-with-a-dropdownlist-cs/_static/image33.png))</span></span>


<span data-ttu-id="9c98d-174">Alternativně můžete přidat položku seznamu tak, že přidáte následující kód k DropDownList:</span><span class="sxs-lookup"><span data-stu-id="9c98d-174">Alternatively, you can add the list item by adding the following markup to the DropDownList:</span></span>

[!code-aspx[Main](master-detail-filtering-with-a-dropdownlist-cs/samples/sample1.aspx)]

<span data-ttu-id="9c98d-175">Kromě toho musíme nastavit ovládací prvek DropDownList `AppendDataBoundItems` na hodnotu True, protože při kategorií jsou svázány s DropDownList z ObjectDataSource, budete-li přepsat všechny ručně přidané položky `AppendDataBoundItems` není pravda.</span><span class="sxs-lookup"><span data-stu-id="9c98d-175">Additionally, we need to set the DropDownList control's `AppendDataBoundItems` to True because when the categories are bound to the DropDownList from the ObjectDataSource they'll overwrite any manually-added list items if `AppendDataBoundItems` isn't True.</span></span>


![Nastavte vlastnost AppendDataBoundItems na hodnotu True](master-detail-filtering-with-a-dropdownlist-cs/_static/image34.png)

<span data-ttu-id="9c98d-177">**Obrázek 12**: Nastavte `AppendDataBoundItems` vlastnost na hodnotu True</span><span class="sxs-lookup"><span data-stu-id="9c98d-177">**Figure 12**: Set the `AppendDataBoundItems` Property to True</span></span>


<span data-ttu-id="9c98d-178">Po provedení těchto změn při první návštěvě stránky je vybraná možnost "--zvolit některou kategorii--" a jsou zobrazeny žádné produkty.</span><span class="sxs-lookup"><span data-stu-id="9c98d-178">After these changes, when first visiting the page the "-- Choose a Category --" option is selected and no products are displayed.</span></span>


<span data-ttu-id="9c98d-179">[![Ve počáteční načtení stránky nejsou zobrazeny žádné produkty.](master-detail-filtering-with-a-dropdownlist-cs/_static/image36.png)](master-detail-filtering-with-a-dropdownlist-cs/_static/image35.png)</span><span class="sxs-lookup"><span data-stu-id="9c98d-179">[![On the Initial Page Load No Products are Displayed](master-detail-filtering-with-a-dropdownlist-cs/_static/image36.png)](master-detail-filtering-with-a-dropdownlist-cs/_static/image35.png)</span></span>

<span data-ttu-id="9c98d-180">**Obrázek 13**: Jsou zobrazeny na počáteční stránky načtěte žádné produkty ([kliknutím ji zobrazíte obrázek v plné velikosti](master-detail-filtering-with-a-dropdownlist-cs/_static/image37.png))</span><span class="sxs-lookup"><span data-stu-id="9c98d-180">**Figure 13**: On the Initial Page Load No Products are Displayed ([Click to view full-size image](master-detail-filtering-with-a-dropdownlist-cs/_static/image37.png))</span></span>


<span data-ttu-id="9c98d-181">Z důvodu žádné produkty jsou vzhledem k tomu, že je vybrána položka seznamu "--zvolit některou kategorii--" zobrazí, když je, protože její hodnota je `-1` a v databázi s neodpovídají žádné produkty `CategoryID` z `-1`.</span><span class="sxs-lookup"><span data-stu-id="9c98d-181">The reason no products are displayed when because the "-- Choose a Category --" list item is selected is because its value is `-1` and there are no products in the database with a `CategoryID` of `-1`.</span></span> <span data-ttu-id="9c98d-182">Pokud je to chování, které chcete, aby pak budete mít v tomto okamžiku!</span><span class="sxs-lookup"><span data-stu-id="9c98d-182">If this is the behavior you want then you're done at this point!</span></span> <span data-ttu-id="9c98d-183">Pokud však chcete zobrazit *všechny* kategorií při výběru položky seznamu "--zvolit některou kategorii--", vraťte se do `ProductsBLL` třídy a přizpůsobit `GetProductsByCategoryID(categoryID)` metodu tak, že volá `GetProducts()` – metoda Pokud předaný v *`categoryID`* parametru je menší než nula:</span><span class="sxs-lookup"><span data-stu-id="9c98d-183">If, however, you want to display *all* of the categories when the "-- Choose a Category --" list item is selected, return to the `ProductsBLL` class and customize the `GetProductsByCategoryID(categoryID)` method so that it invokes the `GetProducts()` method if the passed in *`categoryID`* parameter is less than zero:</span></span>

[!code-csharp[Main](master-detail-filtering-with-a-dropdownlist-cs/samples/sample2.cs)]

<span data-ttu-id="9c98d-184">Techniku použít zde je podobný přístup jsme slouží k zobrazení všech dodavatelů zpátky [deklarované parametry](../basic-reporting/declarative-parameters-cs.md) výukový program, i když v tomto příkladu používáme hodnotu `-1` k označení, že by měly být všechny záznamy načíst nikoli `null`.</span><span class="sxs-lookup"><span data-stu-id="9c98d-184">The technique used here is similar to the approach we used to display all suppliers back in the [Declarative Parameters](../basic-reporting/declarative-parameters-cs.md) tutorial, although for this example we're using a value of `-1` to indicate that all records should be retrieved as opposed to `null`.</span></span> <span data-ttu-id="9c98d-185">Důvodem je, že *`categoryID`* parametr `GetProductsByCategoryID(categoryID)` metoda očekává, že předáno celé číslo, že v tomto kurzu deklarované parametry jsme se předávání v řetězci vstupního parametru.</span><span class="sxs-lookup"><span data-stu-id="9c98d-185">This is because the *`categoryID`* parameter of the `GetProductsByCategoryID(categoryID)` method expects as integer value passed in, whereas in the Declarative Parameters tutorial we were passing in a string input parameter.</span></span>

<span data-ttu-id="9c98d-186">Snímek obrazovky znázorňuje obrázek 14 `FilterByDropDownList.aspx` když je vybraná možnost "--zvolit některou kategorii--".</span><span class="sxs-lookup"><span data-stu-id="9c98d-186">Figure 14 shows a screen shot of `FilterByDropDownList.aspx` when the "-- Choose a Category --" option is selected.</span></span> <span data-ttu-id="9c98d-187">Tady všech produktů, které jsou ve výchozím nastavení zobrazí a uživatele můžete zúžit zobrazení výběrem konkrétní kategorie.</span><span class="sxs-lookup"><span data-stu-id="9c98d-187">Here, all of the products are displayed by default, and the user can narrow the display by choosing a specific category.</span></span>


<span data-ttu-id="9c98d-188">[![Všechny produkty jsou teď uvedené ve výchozím nastavení](master-detail-filtering-with-a-dropdownlist-cs/_static/image39.png)](master-detail-filtering-with-a-dropdownlist-cs/_static/image38.png)</span><span class="sxs-lookup"><span data-stu-id="9c98d-188">[![All of the Products are Now Listed By Default](master-detail-filtering-with-a-dropdownlist-cs/_static/image39.png)](master-detail-filtering-with-a-dropdownlist-cs/_static/image38.png)</span></span>

<span data-ttu-id="9c98d-189">**Obrázek 14**: Všechny produkty jsou teď uvedené ve výchozím nastavení ([kliknutím ji zobrazíte obrázek v plné velikosti](master-detail-filtering-with-a-dropdownlist-cs/_static/image40.png))</span><span class="sxs-lookup"><span data-stu-id="9c98d-189">**Figure 14**: All of the Products are Now Listed By Default ([Click to view full-size image](master-detail-filtering-with-a-dropdownlist-cs/_static/image40.png))</span></span>


## <a name="summary"></a><span data-ttu-id="9c98d-190">Souhrn</span><span class="sxs-lookup"><span data-stu-id="9c98d-190">Summary</span></span>

<span data-ttu-id="9c98d-191">Při zobrazení hierarchicky související data, často pomůže prezentovat data pomocí záznamů master/detail sestavy, ze kterých uživatel mohl spustit perusing data z nejvyšší úrovni hierarchie a přejít na podrobnosti.</span><span class="sxs-lookup"><span data-stu-id="9c98d-191">When displaying hierarchically-related data, it often helps to present the data using master/detail reports, from which the user can start perusing the data from the top of the hierarchy and drill down into details.</span></span> <span data-ttu-id="9c98d-192">V tomto kurzu jsme se zaměřili na vytváření jednoduchých záznamů master/detail sestavu zobrazující vybranou kategorii produktů.</span><span class="sxs-lookup"><span data-stu-id="9c98d-192">In this tutorial we examined building a simple master/detail report showing a selected category's products.</span></span> <span data-ttu-id="9c98d-193">To se provádí pomocí DropDownList seznam kategorií a GridView pro produkty, které patří do vybrané kategorie.</span><span class="sxs-lookup"><span data-stu-id="9c98d-193">This was accomplished by using a DropDownList for the list of categories and a GridView for the products belonging to the selected category.</span></span>

<span data-ttu-id="9c98d-194">V [další kurz](master-detail-filtering-with-two-dropdownlists-cs.md) provedeme jeden krok DropDownList rozhraní kromě toho pomocí dvou DropDownLists.</span><span class="sxs-lookup"><span data-stu-id="9c98d-194">In the [next tutorial](master-detail-filtering-with-two-dropdownlists-cs.md) we'll take the DropDownList interface one step further, using two DropDownLists.</span></span>

<span data-ttu-id="9c98d-195">Všechno nejlepší programování!</span><span class="sxs-lookup"><span data-stu-id="9c98d-195">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="9c98d-196">O autorovi</span><span class="sxs-lookup"><span data-stu-id="9c98d-196">About the Author</span></span>

<span data-ttu-id="9c98d-197">[Scott Meisnerová](http://www.4guysfromrolla.com/ScottMitchell.shtml), Autor sedm ASP/ASP.NET knih a Zakladatel [4GuysFromRolla.com](http://www.4guysfromrolla.com), má práce s Microsoft webových technologiích od roku 1998.</span><span class="sxs-lookup"><span data-stu-id="9c98d-197">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="9c98d-198">Scott funguje jako nezávislý konzultant, trainer a zapisovače.</span><span class="sxs-lookup"><span data-stu-id="9c98d-198">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="9c98d-199">Jeho nejnovější knihy [ *Edice nakladatelství Sams naučit sami ASP.NET 2.0 za 24 hodin*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="9c98d-199">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="9c98d-200">Může být dosáhl v [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="9c98d-200">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span> <span data-ttu-id="9c98d-201">nebo prostřednictvím jeho blogu, který lze nalézt v [ http://ScottOnWriting.NET ](http://ScottOnWriting.NET).</span><span class="sxs-lookup"><span data-stu-id="9c98d-201">or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

> [!div class="step-by-step"]
> [<span data-ttu-id="9c98d-202">Next</span><span class="sxs-lookup"><span data-stu-id="9c98d-202">Next</span></span>](master-detail-filtering-with-two-dropdownlists-cs.md)
