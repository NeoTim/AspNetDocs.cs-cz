---
uid: web-forms/overview/data-access/introduction/master-pages-and-site-navigation-cs
title: Stránky předlohy a navigace na webuC#() | Microsoft Docs
author: rick-anderson
description: Jednou z běžných vlastností webů, které jsou uživatelsky přívětivé, je to, že mají konzistentní rozložení stránky a navigační schéma pro nejrůznější weby. V tomto kurzu se podíváme na to, jak y...
ms.author: riande
ms.date: 03/31/2010
ms.assetid: 5aee8202-a4e3-4aa9-8a95-cd5d156cea4c
msc.legacyurl: /web-forms/overview/data-access/introduction/master-pages-and-site-navigation-cs
msc.type: authoredcontent
ms.openlocfilehash: e1ddd43524a61ff2e012171eba1a8dc8efbf8f1d
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 03/06/2020
ms.locfileid: "78530840"
---
# <a name="master-pages-and-site-navigation-c"></a><span data-ttu-id="4dbb9-104">Stránky předlohy a navigace na webu (C#)</span><span class="sxs-lookup"><span data-stu-id="4dbb9-104">Master Pages and Site Navigation (C#)</span></span>

<span data-ttu-id="4dbb9-105">[Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="4dbb9-105">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="4dbb9-106">[Stáhnout ukázkovou aplikaci](https://download.microsoft.com/download/4/6/3/463cf87c-4724-4cbc-b7b5-3f866f43ba50/ASPNET_Data_Tutorial_3_CS.exe) nebo [Stáhnout PDF](master-pages-and-site-navigation-cs/_static/datatutorial03cs1.pdf)</span><span class="sxs-lookup"><span data-stu-id="4dbb9-106">[Download Sample App](https://download.microsoft.com/download/4/6/3/463cf87c-4724-4cbc-b7b5-3f866f43ba50/ASPNET_Data_Tutorial_3_CS.exe) or [Download PDF](master-pages-and-site-navigation-cs/_static/datatutorial03cs1.pdf)</span></span>

> <span data-ttu-id="4dbb9-107">Jednou z běžných vlastností webů, které jsou uživatelsky přívětivé, je to, že mají konzistentní rozložení stránky a navigační schéma pro nejrůznější weby.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-107">One common characteristic of user-friendly websites is that they have a consistent, site-wide page layout and navigation scheme.</span></span> <span data-ttu-id="4dbb9-108">V tomto kurzu se naučíte, jak vytvořit konzistentní vzhled a chování napříč všemi stránkami, které se dají snadno aktualizovat.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-108">This tutorial looks at how you can create a consistent look and feel across all pages that can easily be updated.</span></span>

## <a name="introduction"></a><span data-ttu-id="4dbb9-109">Úvod</span><span class="sxs-lookup"><span data-stu-id="4dbb9-109">Introduction</span></span>

<span data-ttu-id="4dbb9-110">Jednou z běžných vlastností webů, které jsou uživatelsky přívětivé, je to, že mají konzistentní rozložení stránky a navigační schéma pro nejrůznější weby.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-110">One common characteristic of user-friendly websites is that they have a consistent, site-wide page layout and navigation scheme.</span></span> <span data-ttu-id="4dbb9-111">ASP.NET 2,0 zavádí dvě nové funkce, které výrazně zjednodušují implementaci rozložení stránky a navigačního schématu v rámci webu: stránky předlohy a navigace na webu.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-111">ASP.NET 2.0 introduces two new features that greatly simplify implementing both a site-wide page layout and navigation scheme: master pages and site navigation.</span></span> <span data-ttu-id="4dbb9-112">Stránky předlohy umožňují vývojářům vytvořit šablonu na úrovni webu s vybranými upravitelnými oblastmi.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-112">Master pages allow for developers to create a site-wide template with designated editable regions.</span></span> <span data-ttu-id="4dbb9-113">Tato šablona se pak dá použít na stránky ASP.NET v lokalitě.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-113">This template can then be applied to ASP.NET pages in the site.</span></span> <span data-ttu-id="4dbb9-114">Takové stránky ASP.NET vyžadují pouze obsah pro zadané upravitelné oblasti stránky předlohy. všechny ostatní značky na stránce předlohy jsou stejné ve všech ASP.NET stránkách, které používají stránku předlohy.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-114">Such ASP.NET pages need only provide content for the master page's specified editable regions all other markup in the master page is identical across all ASP.NET pages that use the master page.</span></span> <span data-ttu-id="4dbb9-115">Tento model umožňuje vývojářům definovat a centralizovat rozložení stránky pro celou lokalitu, což usnadňuje vytváření konzistentního vzhledu a chování napříč všemi stránkami, které lze snadno aktualizovat.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-115">This model allows developers to define and centralize a site-wide page layout, thereby making it easier to create a consistent look and feel across all pages that can easily be updated.</span></span>

<span data-ttu-id="4dbb9-116">[Navigační systém lokality](http://aspnet.4guysfromrolla.com/articles/111605-1.aspx) poskytuje mechanismus pro vývojáře stránky, který definuje mapu webu, a rozhraní API pro tuto mapu webu, které se má programově dotazovat.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-116">The [site navigation system](http://aspnet.4guysfromrolla.com/articles/111605-1.aspx) provides both a mechanism for page developers to define a site map and an API for that site map to be programmatically queried.</span></span> <span data-ttu-id="4dbb9-117">Nové navigační webové ovládací prvky, které jsou v nabídce, ovládacím prvku TreeView a SiteMapPath, usnadňují vykreslení všech nebo částí mapy webu v rámci společného prvku uživatelského rozhraní navigace.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-117">The new navigation Web controls the Menu, TreeView, and SiteMapPath make it easy to render all or part of the site map in a common navigation user interface element.</span></span> <span data-ttu-id="4dbb9-118">Budeme používat výchozího poskytovatele navigace na webu, což znamená, že naše mapa webu bude definovaná v souboru ve formátu XML.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-118">We'll be using the default site navigation provider, meaning that our site map will be defined in an XML-formatted file.</span></span>

<span data-ttu-id="4dbb9-119">K ilustraci těchto konceptů a k lepšímu využití webu kurzů doporučujeme tuto lekci, která definuje rozložení stránky na úrovni webu, implementaci mapy webu a přidání uživatelského rozhraní pro navigaci.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-119">To illustrate these concepts and make our tutorials website more usable, let's spend this lesson defining a site-wide page layout, implementing a site map, and adding the navigation UI.</span></span> <span data-ttu-id="4dbb9-120">Na konci tohoto kurzu budeme mít k dispozici dokonalý návrh webu pro vytváření našich webových stránek kurzu.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-120">By the end of this tutorial we'll have a polished website design for building our tutorial web pages.</span></span>

<span data-ttu-id="4dbb9-121">[![konečný výsledek tohoto kurzu](master-pages-and-site-navigation-cs/_static/image2.png)](master-pages-and-site-navigation-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="4dbb9-121">[![The End Result of This Tutorial](master-pages-and-site-navigation-cs/_static/image2.png)](master-pages-and-site-navigation-cs/_static/image1.png)</span></span>

<span data-ttu-id="4dbb9-122">**Obrázek 1**: konečný výsledek tohoto kurzu ([kliknutím zobrazíte obrázek v plné velikosti](master-pages-and-site-navigation-cs/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="4dbb9-122">**Figure 1**: The End Result of This Tutorial ([Click to view full-size image](master-pages-and-site-navigation-cs/_static/image3.png))</span></span>

## <a name="step-1-creating-the-master-page"></a><span data-ttu-id="4dbb9-123">Krok 1: vytvoření hlavní stránky</span><span class="sxs-lookup"><span data-stu-id="4dbb9-123">Step 1: Creating the Master Page</span></span>

<span data-ttu-id="4dbb9-124">Prvním krokem je vytvoření stránky předlohy pro daný web.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-124">The first step is to create the master page for the site.</span></span> <span data-ttu-id="4dbb9-125">Hned teď náš web obsahuje jenom typovou datovou sadu (`Northwind.xsd`ve složce `App_Code`) třídy knihoven BLL (`ProductsBLL.cs`, `CategoriesBLL.cs`a tak dále, všechny ve složce `App_Code`), databázi (`NORTHWND.MDF`, ve složce `App_Data`), konfigurační soubor (`Web.config`) a soubor šablony stylů CSS (`Styles.css`).</span><span class="sxs-lookup"><span data-stu-id="4dbb9-125">Right now our website consists of only the Typed DataSet (`Northwind.xsd`, in the `App_Code` folder), the BLL classes (`ProductsBLL.cs`, `CategoriesBLL.cs`, and so on, all in the `App_Code` folder), the database (`NORTHWND.MDF`, in the `App_Data` folder), the configuration file (`Web.config`), and a CSS stylesheet file (`Styles.css`).</span></span> <span data-ttu-id="4dbb9-126">Tyto stránky a soubory, které demonstrují použití DAL a knihoven BLL z prvních dvou kurzů, se vyčistí, protože tyto příklady budeme v budoucích kurzech podrobněji prošetřit.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-126">I cleaned out those pages and files demonstrating using the DAL and BLL from the first two tutorials since we will be reexamining those examples in greater detail in future tutorials.</span></span>

![Soubory v našem projektu](master-pages-and-site-navigation-cs/_static/image4.png)

<span data-ttu-id="4dbb9-128">**Obrázek 2**: soubory v našem projektu</span><span class="sxs-lookup"><span data-stu-id="4dbb9-128">**Figure 2**: The Files in Our Project</span></span>

<span data-ttu-id="4dbb9-129">Chcete-li vytvořit hlavní stránku, klikněte pravým tlačítkem myši na název projektu v Průzkumník řešení a vyberte možnost Přidat novou položku.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-129">To create a master page, right-click on the project name in the Solution Explorer and choose Add New Item.</span></span> <span data-ttu-id="4dbb9-130">Pak v seznamu šablon vyberte typ hlavní stránky a pojmenujte ho `Site.master`.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-130">Then select the Master Page type from the list of templates and name it `Site.master`.</span></span>

<span data-ttu-id="4dbb9-131">[![přidání nové stránky předlohy na web](master-pages-and-site-navigation-cs/_static/image6.png)](master-pages-and-site-navigation-cs/_static/image5.png)</span><span class="sxs-lookup"><span data-stu-id="4dbb9-131">[![Add a New Master Page to the Website](master-pages-and-site-navigation-cs/_static/image6.png)](master-pages-and-site-navigation-cs/_static/image5.png)</span></span>

<span data-ttu-id="4dbb9-132">**Obrázek 3**: Přidání nové stránky předlohy na web ([kliknutím zobrazíte obrázek v plné velikosti](master-pages-and-site-navigation-cs/_static/image7.png))</span><span class="sxs-lookup"><span data-stu-id="4dbb9-132">**Figure 3**: Add a New Master Page to the Website ([Click to view full-size image](master-pages-and-site-navigation-cs/_static/image7.png))</span></span>

<span data-ttu-id="4dbb9-133">Na stránce předlohy definujte rozložení stránky na úrovni webu.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-133">Define the site-wide page layout here in the master page.</span></span> <span data-ttu-id="4dbb9-134">Můžete použít zobrazení Návrh a přidat libovolné rozložení nebo webové ovládací prvky, které potřebujete, nebo můžete ručně přidat značky v zobrazení zdroje.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-134">You can use the Design view and add whatever Layout or Web controls you need, or you can manually add the markup by hand in the Source view.</span></span> <span data-ttu-id="4dbb9-135">Na stránce předlohy používáme [kaskádové šablony stylů](http://www.w3schools.com/css/default.asp) pro umísťování a styly s nastaveními CSS definovanými v externím souboru `Style.css`.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-135">In my master page I use [cascading style sheets](http://www.w3schools.com/css/default.asp) for positioning and styles with the CSS settings defined in the external file `Style.css`.</span></span> <span data-ttu-id="4dbb9-136">I když nemůžete říct od značky níže, jsou definována pravidla šablony stylů CSS tak, aby byl obsah navigace `<div>`zcela umístěný tak, aby se zobrazil vlevo a měla pevnou šířku 200 pixelů.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-136">While you cannot tell from the markup shown below, the CSS rules are defined such that the navigation `<div>`'s content is absolutely positioned so that it appears on the left and has a fixed width of 200 pixels.</span></span>

<span data-ttu-id="4dbb9-137">Site.master</span><span class="sxs-lookup"><span data-stu-id="4dbb9-137">Site.master</span></span>

[!code-aspx[Main](master-pages-and-site-navigation-cs/samples/sample1.aspx)]

<span data-ttu-id="4dbb9-138">Stránka předlohy definuje rozložení statické stránky i oblasti, které lze upravit pomocí stránek ASP.NET, které používají stránku předlohy.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-138">A master page defines both the static page layout and the regions that can be edited by the ASP.NET pages that use the master page.</span></span> <span data-ttu-id="4dbb9-139">Tyto upravitelné oblasti obsahu jsou označeny ovládacím prvkem ContentPlaceHolder, který lze zobrazit v rámci `<div>`obsahu.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-139">These content editable regions are indicated by the ContentPlaceHolder control, which can be seen within the content `<div>`.</span></span> <span data-ttu-id="4dbb9-140">Naše stránka předlohy má jeden prvek ContentPlaceHolder (`MainContent`), ale stránka předlohy může mít více prvků ContentPlaceHolder.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-140">Our master page has a single ContentPlaceHolder (`MainContent`), but master page's may have multiple ContentPlaceHolders.</span></span>

<span data-ttu-id="4dbb9-141">Pomocí značky uvedeného výše se přepíná na zobrazení Návrh zobrazuje rozložení stránky předlohy.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-141">With the markup entered above, switching to the Design view shows the master page's layout.</span></span> <span data-ttu-id="4dbb9-142">Všechny stránky ASP.NET, které používají tuto stránku předlohy, budou mít jednotné rozložení s možností zadat značku `MainContent` oblasti.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-142">Any ASP.NET pages that use this master page will have this uniform layout, with the ability to specify the markup for the `MainContent` region.</span></span>

<span data-ttu-id="4dbb9-143">[![stránku předlohy při prohlížení v návrhovém zobrazení](master-pages-and-site-navigation-cs/_static/image9.png)](master-pages-and-site-navigation-cs/_static/image8.png)</span><span class="sxs-lookup"><span data-stu-id="4dbb9-143">[![The Master Page, When Viewed Through the Design View](master-pages-and-site-navigation-cs/_static/image9.png)](master-pages-and-site-navigation-cs/_static/image8.png)</span></span>

<span data-ttu-id="4dbb9-144">**Obrázek 4**: stránka předloha při zobrazení v návrhovém zobrazení ([kliknutím zobrazíte obrázek v plné velikosti](master-pages-and-site-navigation-cs/_static/image10.png))</span><span class="sxs-lookup"><span data-stu-id="4dbb9-144">**Figure 4**: The Master Page, When Viewed Through the Design View ([Click to view full-size image](master-pages-and-site-navigation-cs/_static/image10.png))</span></span>

## <a name="step-2-adding-a-homepage-to-the-website"></a><span data-ttu-id="4dbb9-145">Krok 2: Přidání domovské stránky na web</span><span class="sxs-lookup"><span data-stu-id="4dbb9-145">Step 2: Adding a Homepage to the Website</span></span>

<span data-ttu-id="4dbb9-146">Po definování stránky předlohy jsme připraveni přidat stránky ASP.NET pro web.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-146">With the master page defined, we're ready to add the ASP.NET pages for the website.</span></span> <span data-ttu-id="4dbb9-147">Pojďme začít přidáním `Default.aspx`, domovské stránky našeho webu.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-147">Let's start by adding `Default.aspx`, our website's homepage.</span></span> <span data-ttu-id="4dbb9-148">V Průzkumník řešení klikněte pravým tlačítkem myši na název projektu a vyberte možnost Přidat novou položku.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-148">Right-click on the project name in the Solution Explorer and choose Add New Item.</span></span> <span data-ttu-id="4dbb9-149">V seznamu šablon vyberte možnost webový formulář a pojmenujte soubor `Default.aspx`.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-149">Pick the Web Form option from the template list and name the file `Default.aspx`.</span></span> <span data-ttu-id="4dbb9-150">Také zaškrtněte políčko vybrat hlavní stránku.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-150">Also, check the "Select master page" checkbox.</span></span>

<span data-ttu-id="4dbb9-151">[![přidání nového webového formuláře zaškrtnutím políčka Vybrat stránku předlohy.](master-pages-and-site-navigation-cs/_static/image12.png)](master-pages-and-site-navigation-cs/_static/image11.png)</span><span class="sxs-lookup"><span data-stu-id="4dbb9-151">[![Add a New Web Form, Checking the Select master page Checkbox](master-pages-and-site-navigation-cs/_static/image12.png)](master-pages-and-site-navigation-cs/_static/image11.png)</span></span>

<span data-ttu-id="4dbb9-152">**Obrázek 5**: Přidání nového webového formuláře zaškrtnutím políčka vybrat hlavní stránku ([kliknutím zobrazíte obrázek v plné velikosti](master-pages-and-site-navigation-cs/_static/image13.png))</span><span class="sxs-lookup"><span data-stu-id="4dbb9-152">**Figure 5**: Add a New Web Form, Checking the Select master page Checkbox ([Click to view full-size image](master-pages-and-site-navigation-cs/_static/image13.png))</span></span>

<span data-ttu-id="4dbb9-153">Po kliknutí na tlačítko OK se zobrazí výzva k výběru stránky předlohy, kterou by tato nová stránka ASP.NET měla použít.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-153">After clicking the OK button, we're asked to choose what master page this new ASP.NET page should use.</span></span> <span data-ttu-id="4dbb9-154">I když můžete mít v projektu více stránek předlohy, máme jenom jednu.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-154">While you can have multiple master pages in your project, we have only one.</span></span>

<span data-ttu-id="4dbb9-155">[![vyberte stránku předlohy, kterou by měla tato stránka ASP.NET použít.](master-pages-and-site-navigation-cs/_static/image15.png)](master-pages-and-site-navigation-cs/_static/image14.png)</span><span class="sxs-lookup"><span data-stu-id="4dbb9-155">[![Choose the Master Page this ASP.NET Page Should Use](master-pages-and-site-navigation-cs/_static/image15.png)](master-pages-and-site-navigation-cs/_static/image14.png)</span></span>

<span data-ttu-id="4dbb9-156">**Obrázek 6**: vyberte stránku předlohy, kterou by měla stránka ASP.NET použít ([kliknutím zobrazíte obrázek v plné velikosti).](master-pages-and-site-navigation-cs/_static/image16.png)</span><span class="sxs-lookup"><span data-stu-id="4dbb9-156">**Figure 6**: Choose the Master Page this ASP.NET Page Should Use ([Click to view full-size image](master-pages-and-site-navigation-cs/_static/image16.png))</span></span>

<span data-ttu-id="4dbb9-157">Po výběru stránky předlohy budou nové stránky ASP.NET obsahovat následující značky:</span><span class="sxs-lookup"><span data-stu-id="4dbb9-157">After picking the master page, the new ASP.NET pages will contain the following markup:</span></span>

<span data-ttu-id="4dbb9-158">Default.aspx</span><span class="sxs-lookup"><span data-stu-id="4dbb9-158">Default.aspx</span></span>

[!code-aspx[Main](master-pages-and-site-navigation-cs/samples/sample2.aspx)]

<span data-ttu-id="4dbb9-159">V direktivě `@Page` existuje odkaz na použitý soubor hlavní stránky (`MasterPageFile="~/Site.master"`) a značka stránky ASP.NET obsahuje ovládací prvek obsahu pro každé ovládací prvky ContentPlaceHolder definované na stránce předlohy s `ContentPlaceHolderID` ovládacího prvku mapování obsahu ovládacího prvku na konkrétní prvek ContentPlaceHolder.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-159">In the `@Page` directive there's a reference to the master page file used (`MasterPageFile="~/Site.master"`), and the ASP.NET page's markup contains a Content control for each of the ContentPlaceHolder controls defined in the master page, with the control's `ContentPlaceHolderID` mapping the Content control to a specific ContentPlaceHolder.</span></span> <span data-ttu-id="4dbb9-160">Ovládací prvek Content (obsah) je místo, kam umístíte značku, kterou chcete zobrazit v odpovídajícím prvku ContentPlaceHolder.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-160">The Content control is where you place the markup you want to appear in the corresponding ContentPlaceHolder.</span></span> <span data-ttu-id="4dbb9-161">Nastavte atribut `Title` direktivy `@Page` na hodnotu domů a přidejte k ovládacímu prvku obsahu nějaký uvítací obsah:</span><span class="sxs-lookup"><span data-stu-id="4dbb9-161">Set the `@Page` directive's `Title` attribute to Home and add some welcoming content to the Content control:</span></span>

<span data-ttu-id="4dbb9-162">Default.aspx</span><span class="sxs-lookup"><span data-stu-id="4dbb9-162">Default.aspx</span></span>

[!code-aspx[Main](master-pages-and-site-navigation-cs/samples/sample3.aspx)]

<span data-ttu-id="4dbb9-163">Atribut `Title` v direktivě `@Page` nám umožňuje nastavit nadpis stránky ze stránky ASP.NET, i když je element `<title>` definovaný na stránce předlohy.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-163">The `Title` attribute in the `@Page` directive allows us to set the page's title from the ASP.NET page, even though the `<title>` element is defined in the master page.</span></span> <span data-ttu-id="4dbb9-164">Název můžeme také programově nastavit pomocí `Page.Title`.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-164">We can also set the title programmatically, using `Page.Title`.</span></span> <span data-ttu-id="4dbb9-165">Všimněte si také, že odkazy na šablony stylů (například `Style.css`) se automaticky aktualizují, aby fungovaly na libovolné stránce ASP.NET bez ohledu na to, jaký adresář má stránka ASP.NET ve vztahu k hlavní stránce.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-165">Also note that the master page's references to stylesheets (such as `Style.css`) are automatically updated so that they work in any ASP.NET page, regardless of what directory the ASP.NET page is in relative to the master page.</span></span>

<span data-ttu-id="4dbb9-166">Přepínáním na zobrazení Návrh uvidíme, jak bude stránka vypadat v prohlížeči.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-166">Switching to the Design view we can see how our page will look in a browser.</span></span> <span data-ttu-id="4dbb9-167">Všimněte si, že v zobrazení Návrh pro stránku ASP.NET, na kterou lze upravovat pouze upravitelné oblasti obsahu, se značkou, která je definována na stránce předlohy, je zobrazena šedě.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-167">Note that in the Design view for the ASP.NET page that only the content editable regions are editable the non-ContentPlaceHolder markup defined in the master page is grayed out.</span></span>

<span data-ttu-id="4dbb9-168">[![zobrazení Návrh stránky ASP.NET zobrazuje jak upravitelné, tak i neupravitelné oblasti](master-pages-and-site-navigation-cs/_static/image18.png)](master-pages-and-site-navigation-cs/_static/image17.png)</span><span class="sxs-lookup"><span data-stu-id="4dbb9-168">[![The Design View for the ASP.NET Page Shows Both the Editable and Non-Editable Regions](master-pages-and-site-navigation-cs/_static/image18.png)](master-pages-and-site-navigation-cs/_static/image17.png)</span></span>

<span data-ttu-id="4dbb9-169">**Obrázek 7**: zobrazení návrh stránky ASP.NET zobrazuje jak upravitelné, tak i neupravitelné oblasti ([kliknutím zobrazíte obrázek v plné velikosti).](master-pages-and-site-navigation-cs/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="4dbb9-169">**Figure 7**: The Design View for the ASP.NET Page Shows Both the Editable and Non-Editable Regions ([Click to view full-size image](master-pages-and-site-navigation-cs/_static/image19.png))</span></span>

<span data-ttu-id="4dbb9-170">Když prohlížeč `Default.aspx` stránku navštíví, modul ASP.NET automaticky sloučí obsah stránky předlohy a ASP. Obsah netto a vykreslí sloučený obsah do finálního HTML, který se pošle do prohlížeče požadujícího.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-170">When the `Default.aspx` page is visited by a browser, the ASP.NET engine automatically merges the page's master page content and the ASP.NET's content, and renders the merged content into the final HTML that is sent down to the requesting browser.</span></span> <span data-ttu-id="4dbb9-171">Při aktualizaci obsahu stránky předlohy budou všechny stránky ASP.NET, které používají tuto stránku předlohy, znovu sloučeny s novým obsahem stránky předlohy při dalším vyžádání.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-171">When the master page's content is updated, all ASP.NET pages that use this master page will have their content remerged with the new master page content the next time they are requested.</span></span> <span data-ttu-id="4dbb9-172">V krátkém případě model stránky předlohy umožňuje definovat jednu šablonu rozložení stránky (hlavní stránku), jejíž změny se projeví okamžitě napříč celou lokalitou.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-172">In short, the master page model allows for a single page layout template to be defined (the master page) whose changes are immediately reflected across the entire site.</span></span>

## <a name="adding-additional-aspnet-pages-to-the-website"></a><span data-ttu-id="4dbb9-173">Přidání dalších stránek ASP.NET na web</span><span class="sxs-lookup"><span data-stu-id="4dbb9-173">Adding Additional ASP.NET Pages to the Website</span></span>

<span data-ttu-id="4dbb9-174">Pojďme se na web pokusit přidat další zástupné procedury stránky ASP.NET, která bude nakonec uchovávat různé Ukázky sestav.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-174">Let's take a moment to add additional ASP.NET page stubs to the site that will eventually hold the various reporting demos.</span></span> <span data-ttu-id="4dbb9-175">Bude se jednat o více než 35 ukázek, takže místo vytváření všech stránek se zástupnými procedurami teď stačí vytvořit několik prvních.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-175">There will be more than 35 demos in total, so rather than creating all of the stub pages let's just create the first few.</span></span> <span data-ttu-id="4dbb9-176">Vzhledem k tomu, že bude i mnoho kategorií ukázek, pro lepší správu ukázek přidejte složku pro kategorie.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-176">Since there will also be many categories of demos, to better manage the demos add a folder for the categories.</span></span> <span data-ttu-id="4dbb9-177">Nyní přidejte následující tři složky:</span><span class="sxs-lookup"><span data-stu-id="4dbb9-177">Add the following three folders for now:</span></span>

- `BasicReporting`
- `Filtering`
- `CustomFormatting`

<span data-ttu-id="4dbb9-178">Nakonec přidejte nové soubory, jak je znázorněno na obrázku 8 v Průzkumník řešení.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-178">Finally, add new files as shown in the Solution Explorer in Figure 8.</span></span> <span data-ttu-id="4dbb9-179">Při přidávání jednotlivých souborů nezapomeňte zaškrtnout políčko vybrat hlavní stránku.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-179">When adding each file, remember to check the "Select master page" checkbox.</span></span>

![Přidejte následující soubory.](master-pages-and-site-navigation-cs/_static/image20.png)

<span data-ttu-id="4dbb9-181">**Obrázek 8**: přidání následujících souborů</span><span class="sxs-lookup"><span data-stu-id="4dbb9-181">**Figure 8**: Add the Following Files</span></span>

## <a name="step-2-creating-a-site-map"></a><span data-ttu-id="4dbb9-182">Krok 2: vytvoření mapy webu</span><span class="sxs-lookup"><span data-stu-id="4dbb9-182">Step 2: Creating a Site Map</span></span>

<span data-ttu-id="4dbb9-183">Jedním z výzev ke správě webu složeného z více než několik stránek je poskytnutí jednoduchého způsobu, jak návštěvníci procházet lokalitou.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-183">One of the challenges of managing a website composed of more than a handful of pages is providing a straightforward way for visitors to navigate through the site.</span></span> <span data-ttu-id="4dbb9-184">Aby bylo možné začít, musí být definována navigační struktura lokality.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-184">To begin with, the site's navigational structure must be defined.</span></span> <span data-ttu-id="4dbb9-185">Dále musí být tato struktura přeložena do prvků uživatelského rozhraní naviguje, jako jsou nabídky nebo popisy cesty.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-185">Next, this structure must be translated into navigable user interface elements, such as menus or breadcrumbs.</span></span> <span data-ttu-id="4dbb9-186">A konečně, tento celý proces musí být udržován a aktualizován, protože nové stránky jsou přidány do lokality a stávající odebrané.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-186">Finally, this whole process needs to be maintained and updated as new pages are added to the site and existing ones removed.</span></span> <span data-ttu-id="4dbb9-187">Před ASP.NET 2,0 byly vývojáři vlastní pro vytváření navigačních struktur webu, jejich údržbu a jejich překlad na prvky uživatelského rozhraní naviguje.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-187">Prior to ASP.NET 2.0, developers were on their own for creating the site's navigational structure, maintaining it, and translating it into navigable user interface elements.</span></span> <span data-ttu-id="4dbb9-188">S ASP.NET 2,0 ale vývojáři můžou využít velmi flexibilní integrovaný systém navigace v lokalitě.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-188">With ASP.NET 2.0, however, developers can utilize the very flexible built in site navigation system.</span></span>

<span data-ttu-id="4dbb9-189">Navigační systém lokality ASP.NET 2,0 poskytuje vývojářům způsob, jak definovat mapu lokality a k nim pak přistupovat prostřednictvím programového rozhraní API.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-189">The ASP.NET 2.0 site navigation system provides a means for a developer to define a site map and to then access this information through a programmatic API.</span></span> <span data-ttu-id="4dbb9-190">ASP.NET je dodáván se zprostředkovatelem mapy webu, který očekává, že data mapy webu budou uložena v souboru XML naformátovaném určitým způsobem.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-190">ASP.NET ships with a site map provider that expects site map data to be stored in an XML file formatted in a particular way.</span></span> <span data-ttu-id="4dbb9-191">Ale vzhledem k tomu, že je navigační systém lokality založený na [modelu poskytovatele](http://aspnet.4guysfromrolla.com/articles/101905-1.aspx) , může být prodloužen na podporu alternativních způsobů serializace informací o mapě webu.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-191">But, since the site navigation system is built on the [provider model](http://aspnet.4guysfromrolla.com/articles/101905-1.aspx) it can be extended to support alternative ways for serializing the site map information.</span></span> <span data-ttu-id="4dbb9-192">Jan Prosise, [poskytovatel mapy webu SQL, kterého jste čekali](https://msdn.microsoft.com/msdnmag/issues/06/02/WickedCode/default.aspx) , ukazuje, jak vytvořit poskytovatele mapy webu, který ukládá mapu lokality do databáze SQL Server; Další možností je vytvořit [poskytovatele mapy webu na základě struktury systému souborů](http://aspnet.4guysfromrolla.com/articles/020106-1.aspx).</span><span class="sxs-lookup"><span data-stu-id="4dbb9-192">Jeff Prosise's article, [The SQL Site Map Provider You've Been Waiting For](https://msdn.microsoft.com/msdnmag/issues/06/02/WickedCode/default.aspx) shows how to create a site map provider that stores the site map in a SQL Server database; another option is to create [a site map provider based on the file system structure](http://aspnet.4guysfromrolla.com/articles/020106-1.aspx).</span></span>

<span data-ttu-id="4dbb9-193">Pro tento kurz ale budeme používat výchozího poskytovatele mapy webu, který je dodáván s ASP.NET 2,0.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-193">For this tutorial, however, let's use the default site map provider that ships with ASP.NET 2.0.</span></span> <span data-ttu-id="4dbb9-194">Chcete-li vytvořit mapu webu, stačí kliknout pravým tlačítkem myši na název projektu v Průzkumník řešení, zvolit Přidat novou položku a zvolit možnost mapa webu.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-194">To create the site map, simply right-click on the project name in the Solution Explorer, choose Add New Item, and choose the Site Map option.</span></span> <span data-ttu-id="4dbb9-195">Název ponechte `Web.sitemap` a klikněte na tlačítko Přidat.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-195">Leave the name as `Web.sitemap` and click the Add button.</span></span>

<span data-ttu-id="4dbb9-196">[![přidat mapu webu do projektu](master-pages-and-site-navigation-cs/_static/image22.png)](master-pages-and-site-navigation-cs/_static/image21.png)</span><span class="sxs-lookup"><span data-stu-id="4dbb9-196">[![Add a Site Map to Your Project](master-pages-and-site-navigation-cs/_static/image22.png)](master-pages-and-site-navigation-cs/_static/image21.png)</span></span>

<span data-ttu-id="4dbb9-197">**Obrázek 9**: Přidání mapy webu do projektu ([kliknutím zobrazíte obrázek v plné velikosti](master-pages-and-site-navigation-cs/_static/image23.png))</span><span class="sxs-lookup"><span data-stu-id="4dbb9-197">**Figure 9**: Add a Site Map to Your Project ([Click to view full-size image](master-pages-and-site-navigation-cs/_static/image23.png))</span></span>

<span data-ttu-id="4dbb9-198">Soubor mapy webu je soubor XML.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-198">The site map file is an XML file.</span></span> <span data-ttu-id="4dbb9-199">Všimněte si, že Visual Studio poskytuje IntelliSense pro strukturu mapy webu.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-199">Note that Visual Studio provides IntelliSense for the site map structure.</span></span> <span data-ttu-id="4dbb9-200">Soubor mapy webu musí mít uzel `<siteMap>` jako svůj kořenový uzel, který musí obsahovat přesně jeden `<siteMapNode>` podřízený element.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-200">The site map file must have the `<siteMap>` node as its root node, which must contain precisely one `<siteMapNode>` child element.</span></span> <span data-ttu-id="4dbb9-201">Tento první `<siteMapNode>` prvek může obsahovat libovolný počet podřízených `<siteMapNode>` prvků.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-201">That first `<siteMapNode>` element can then contain an arbitrary number of descendent `<siteMapNode>` elements.</span></span>

<span data-ttu-id="4dbb9-202">Definujte mapu webu pro napodobení struktury systému souborů.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-202">Define the site map to mimic the file system structure.</span></span> <span data-ttu-id="4dbb9-203">To znamená, že přidáte `<siteMapNode>` element pro každou ze tří složek a podřízené `<siteMapNode>` prvky pro každou ASP.NET stránku v těchto složkách, například:</span><span class="sxs-lookup"><span data-stu-id="4dbb9-203">That is, add a `<siteMapNode>` element for each of the three folders, and child `<siteMapNode>` elements for each of the ASP.NET pages in those folders, like so:</span></span>

<span data-ttu-id="4dbb9-204">Web.sitemap</span><span class="sxs-lookup"><span data-stu-id="4dbb9-204">Web.sitemap</span></span>

[!code-xml[Main](master-pages-and-site-navigation-cs/samples/sample4.xml)]

<span data-ttu-id="4dbb9-205">Mapa webu definuje navigační strukturu webu, což je hierarchie, která popisuje různé části webu.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-205">The site map defines the website's navigational structure, which is a hierarchy that describes the various sections of the site.</span></span> <span data-ttu-id="4dbb9-206">Každý prvek `<siteMapNode>` v `Web.sitemap` představuje oddíl v navigační struktuře webu.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-206">Each `<siteMapNode>` element in `Web.sitemap` represents a section in the site's navigational structure.</span></span>

<span data-ttu-id="4dbb9-207">[![mapa webu představuje hierarchickou navigační strukturu.](master-pages-and-site-navigation-cs/_static/image25.png)](master-pages-and-site-navigation-cs/_static/image24.png)</span><span class="sxs-lookup"><span data-stu-id="4dbb9-207">[![The Site Map Represents a Hierarchical Navigational Structure](master-pages-and-site-navigation-cs/_static/image25.png)](master-pages-and-site-navigation-cs/_static/image24.png)</span></span>

<span data-ttu-id="4dbb9-208">**Obrázek 10**: Mapa webu představuje hierarchickou navigační strukturu ([kliknutím zobrazíte obrázek v plné velikosti).](master-pages-and-site-navigation-cs/_static/image26.png)</span><span class="sxs-lookup"><span data-stu-id="4dbb9-208">**Figure 10**: The Site Map Represents a Hierarchical Navigational Structure ([Click to view full-size image](master-pages-and-site-navigation-cs/_static/image26.png))</span></span>

<span data-ttu-id="4dbb9-209">ASP.NET zpřístupňuje strukturu mapy webu prostřednictvím [třídy SiteMap](https://msdn.microsoft.com/library/system.web.sitemap.aspx).NET Framework.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-209">ASP.NET exposes the site map's structure through the .NET Framework's [SiteMap class](https://msdn.microsoft.com/library/system.web.sitemap.aspx).</span></span> <span data-ttu-id="4dbb9-210">Tato třída má vlastnost `CurrentNode`, která vrací informace o oddílu, na který uživatel aktuálně navštěvuje; vlastnost `RootNode` vrátí kořen mapy webu (Domovská stránka, v mapě webu).</span><span class="sxs-lookup"><span data-stu-id="4dbb9-210">This class has a `CurrentNode` property, which returns information about the section the user is currently visiting; the `RootNode` property returns the root of the site map (Home, in our site map).</span></span> <span data-ttu-id="4dbb9-211">Vlastnosti `CurrentNode` i `RootNode` vrací instance [SiteMapNode](https://msdn.microsoft.com/library/system.web.sitemapnode.aspx) , které mají vlastnosti jako `ParentNode`, `ChildNodes`, `NextSibling`, `PreviousSibling`a tak dále, které umožňují vás provedl hierarchie lokality.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-211">Both the `CurrentNode` and `RootNode` properties return [SiteMapNode](https://msdn.microsoft.com/library/system.web.sitemapnode.aspx) instances, which have properties like `ParentNode`, `ChildNodes`, `NextSibling`, `PreviousSibling`, and so on, that allow for the site map hierarchy to be walked.</span></span>

## <a name="step-3-displaying-a-menu-based-on-the-site-map"></a><span data-ttu-id="4dbb9-212">Krok 3: zobrazení nabídky na základě mapy webu</span><span class="sxs-lookup"><span data-stu-id="4dbb9-212">Step 3: Displaying a Menu Based on the Site Map</span></span>

<span data-ttu-id="4dbb9-213">Přístup k datům v ASP.NET 2,0 lze provést programově, například v ASP.NET 1. x nebo deklarativně prostřednictvím nových [ovládacích prvků zdroje dat](https://msdn.microsoft.com/library/ms227679.aspx).</span><span class="sxs-lookup"><span data-stu-id="4dbb9-213">Accessing data in ASP.NET 2.0 can be accomplished programmatically, like in ASP.NET 1.x, or declaratively, through the new [data source controls](https://msdn.microsoft.com/library/ms227679.aspx).</span></span> <span data-ttu-id="4dbb9-214">Existuje několik vestavěných ovládacích prvků zdroje dat, jako je například ovládací prvek SqlDataSource, pro přístup k datům relační databáze, ovládací prvek ObjectDataSource, pro přístup k datům z tříd a dalších.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-214">There are several built-in data source controls such as the SqlDataSource control, for accessing relational database data, the ObjectDataSource control, for accessing data from classes, and others.</span></span> <span data-ttu-id="4dbb9-215">Můžete dokonce vytvořit vlastní [ovládací prvky zdroje dat](https://msdn.microsoft.com/asp.net/reference/data/default.aspx?pull=/library/dnvs05/html/DataSourceCon1.asp).</span><span class="sxs-lookup"><span data-stu-id="4dbb9-215">You can even create your own [custom data source controls](https://msdn.microsoft.com/asp.net/reference/data/default.aspx?pull=/library/dnvs05/html/DataSourceCon1.asp).</span></span>

<span data-ttu-id="4dbb9-216">Ovládací prvky zdroje dat slouží jako proxy mezi stránkou ASP.NET a podkladovými daty.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-216">The data source controls serve as a proxy between your ASP.NET page and the underlying data.</span></span> <span data-ttu-id="4dbb9-217">Aby bylo možné zobrazit načtená data ovládacího prvku zdroje dat, obvykle přidáme na stránku další webový ovládací prvek a navážeme ho k ovládacímu prvku zdroje dat.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-217">In order to display a data source control's retrieved data, we'll typically add another Web control to the page and bind it to the data source control.</span></span> <span data-ttu-id="4dbb9-218">Chcete-li vytvořit vazby webového ovládacího prvku k ovládacímu prvku zdroje dat, jednoduše nastavte vlastnost `DataSourceID` webového ovládacího prvku na hodnotu vlastnosti `ID` ovládacího prvku zdroje dat.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-218">To bind a Web control to a data source control, simply set the Web control's `DataSourceID` property to the value of the data source control's `ID` property.</span></span>

<span data-ttu-id="4dbb9-219">Aby bylo možné pomoci při práci s daty mapy webu, zahrnuje ASP.NET ovládací prvek SiteMapDataSource, který nám umožňuje navazovat webové ovládací prvky na mapě webu našeho webu.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-219">To aid in working with the site map's data, ASP.NET includes the SiteMapDataSource control, which allows us to bind a Web control against our website's site map.</span></span> <span data-ttu-id="4dbb9-220">Dva webové ovládací prvky: strom a nabídka se běžně používají k poskytnutí uživatelského rozhraní navigace.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-220">Two Web controls the TreeView and Menu are commonly used to provide a navigation user interface.</span></span> <span data-ttu-id="4dbb9-221">Chcete-li vytvořit datovou mapu webu k jednomu z těchto dvou ovládacích prvků, stačí přidat prvek SiteMapDataSource na stránku spolu s ovládacím prvkem TreeView nebo menu, jehož vlastnost `DataSourceID` je nastavena odpovídajícím způsobem.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-221">To bind the site map data to one of these two controls, simply add a SiteMapDataSource to the page along with a TreeView or Menu control whose `DataSourceID` property is set accordingly.</span></span> <span data-ttu-id="4dbb9-222">Například můžeme přidat ovládací prvek nabídky na stránku předlohy pomocí následujícího kódu:</span><span class="sxs-lookup"><span data-stu-id="4dbb9-222">For example, we could add a Menu control to the master page using the following markup:</span></span>

[!code-aspx[Main](master-pages-and-site-navigation-cs/samples/sample5.aspx)]

<span data-ttu-id="4dbb9-223">Pro jemnější úroveň kontroly nad vygenerovaným kódem HTML můžeme ovládací prvek SiteMapDataSource navazovat na ovládací prvek Repeater, například:</span><span class="sxs-lookup"><span data-stu-id="4dbb9-223">For a finer degree of control over the emitted HTML, we can bind the SiteMapDataSource control to the Repeater control, like so:</span></span>

[!code-aspx[Main](master-pages-and-site-navigation-cs/samples/sample6.aspx)]

<span data-ttu-id="4dbb9-224">Ovládací prvek SiteMapDataSource vrátí hierarchii mapy webu po jedné úrovni, počínaje uzlem mapy kořenové lokality (Domovská stránka, na naší mapě webu), pak na další úroveň (základní generování sestav, filtrování sestav a přizpůsobení formátování) atd.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-224">The SiteMapDataSource control returns the site map hierarchy one level at a time, starting with the root site map node (Home, in our site map), then the next level (Basic Reporting, Filtering Reports, and Customized Formatting), and so on.</span></span> <span data-ttu-id="4dbb9-225">Při vázání prvku SiteMapDataSource na Repeater vytvoří výčet první vrácené úrovně a vytvoří instanci `ItemTemplate` pro každou instanci `SiteMapNode` v této první úrovni.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-225">When binding the SiteMapDataSource to a Repeater, it enumerates the first level returned and instantiates the `ItemTemplate` for each `SiteMapNode` instance in that first level.</span></span> <span data-ttu-id="4dbb9-226">Aby bylo možné získat přístup k určité vlastnosti `SiteMapNode`, můžeme použít `Eval(propertyName)`, což je způsob, jak `SiteMapNode`získáme vlastnosti `Url` a `Title` pro ovládací prvek hypertextového odkazu.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-226">To access a particular property of the `SiteMapNode`, we can use `Eval(propertyName)`, which is how we get each `SiteMapNode`'s `Url` and `Title` properties for the HyperLink control.</span></span>

<span data-ttu-id="4dbb9-227">Výše uvedený příklad opakovače vykreslí následující značky:</span><span class="sxs-lookup"><span data-stu-id="4dbb9-227">The Repeater example above will render the following markup:</span></span>

[!code-html[Main](master-pages-and-site-navigation-cs/samples/sample7.html)]

<span data-ttu-id="4dbb9-228">Tyto uzly mapy webu (základní sestavy, filtrování sestav a vlastní formátování) obsahují *druhou* úroveň vykreslování mapy webu, nikoli první.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-228">These site map nodes (Basic Reporting, Filtering Reports, and Customized Formatting) comprise the *second* level of the site map being rendered, not the first.</span></span> <span data-ttu-id="4dbb9-229">Důvodem je, že vlastnost `ShowStartingNode` prvku SiteMapDataSource je nastavena na hodnotu false, což způsobuje, že SiteMapDataSource obchází uzel mapy kořenové lokality a místo toho začíná vrácením druhé úrovně v hierarchii mapy webu.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-229">This is because the SiteMapDataSource's `ShowStartingNode` property is set to False, causing the SiteMapDataSource to bypass the root site map node and instead begin by returning the second level in the site map hierarchy.</span></span>

<span data-ttu-id="4dbb9-230">Pokud chcete zobrazit podřízené objekty pro základní vytváření sestav, filtrovat sestavy a přizpůsobené formátování `SiteMapNode` s, můžeme do `ItemTemplate`počátečního opakovače přidat dalšího opakovače.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-230">To display the children for the Basic Reporting, Filtering Reports, and Customized Formatting `SiteMapNode` s, we can add another Repeater to the initial Repeater's `ItemTemplate`.</span></span> <span data-ttu-id="4dbb9-231">Toto druhé opakování bude vázáno na vlastnost `ChildNodes` instance `SiteMapNode`, například takto:</span><span class="sxs-lookup"><span data-stu-id="4dbb9-231">This second Repeater will be bound to the `SiteMapNode` instance's `ChildNodes` property, like so:</span></span>

[!code-aspx[Main](master-pages-and-site-navigation-cs/samples/sample8.aspx)]

<span data-ttu-id="4dbb9-232">Výsledkem těchto dvou Repeat je následující kód (některé značky byly odebrány pro zkrácení):</span><span class="sxs-lookup"><span data-stu-id="4dbb9-232">These two Repeaters result in the following markup (some markup has been removed for brevity):</span></span>

[!code-html[Main](master-pages-and-site-navigation-cs/samples/sample9.html)]

<span data-ttu-id="4dbb9-233">Používání stylů CSS, které jste vybrali v knize [Rachel Andrew](http://www.rachelandrew.co.uk/) [css Anthology: 101 základních tipů, triky &amp; hackatony](https://www.amazon.com/gp/product/0957921888/qid=1137565739/sr=8-1/ref=pd_bbs_1/103-0562306-3386214?n=507846&amp;s=books&amp;v=glance), jsou styly `<ul>` a `<li>`, tak aby kód vytvořil následující vizuální výstup:</span><span class="sxs-lookup"><span data-stu-id="4dbb9-233">Using CSS styles chosen from [Rachel Andrew](http://www.rachelandrew.co.uk/)'s book [The CSS Anthology: 101 Essential Tips, Tricks, &amp; Hacks](https://www.amazon.com/gp/product/0957921888/qid=1137565739/sr=8-1/ref=pd_bbs_1/103-0562306-3386214?n=507846&amp;s=books&amp;v=glance), the `<ul>` and `<li>` elements are styled such that the markup produces the following visual output:</span></span>

![Nabídka složená ze dvou Repeat a některých šablon stylů CSS](master-pages-and-site-navigation-cs/_static/image27.png)

<span data-ttu-id="4dbb9-235">**Obrázek 11**: nabídka složená ze dvou Repeat a některých šablon stylů CSS</span><span class="sxs-lookup"><span data-stu-id="4dbb9-235">**Figure 11**: A Menu Composed from Two Repeaters and Some CSS</span></span>

<span data-ttu-id="4dbb9-236">Tato nabídka je na stránce Předloha a je svázána s mapou webu definovanou v `Web.sitemap`, což znamená, že všechny změny mapy lokality se projeví přímo na všech stránkách, které používají stránku předlohy `Site.master`.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-236">This menu is in the master page and bound to the site map defined in `Web.sitemap`, meaning that any change to the site map will be immediately reflected on all pages that use the `Site.master` master page.</span></span>

## <a name="disabling-viewstate"></a><span data-ttu-id="4dbb9-237">Zakázání vlastnosti ViewState</span><span class="sxs-lookup"><span data-stu-id="4dbb9-237">Disabling ViewState</span></span>

<span data-ttu-id="4dbb9-238">Všechny ovládací prvky ASP.NET mohou volitelně uchovávat jejich stav do [stavu zobrazení](https://msdn.microsoft.com/msdnmag/issues/03/02/CuttingEdge/), který je serializován jako skryté pole formuláře ve vykresleném HTML.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-238">All ASP.NET controls can optionally persist their state to the [view state](https://msdn.microsoft.com/msdnmag/issues/03/02/CuttingEdge/), which is serialized as a hidden form field in the rendered HTML.</span></span> <span data-ttu-id="4dbb9-239">Ovládací prvky používají zobrazení stav, aby si zapamatovali jejich programově změněné stavy napříč zpětnými vazbami, jako jsou například data vázaná k datovému ovládacímu prvku webového ovládacího prvku.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-239">View state is used by controls to remember their programmatically-changed state across postbacks, such as the data bound to a data Web control.</span></span> <span data-ttu-id="4dbb9-240">Přestože stav zobrazení povoluje, aby informace byly zapamatovatelné napříč zpětnými odesláními, zvyšuje velikost značek, které musí být odeslány klientovi a můžou vést k závažným dispozici determinističtějšíům stránek, pokud není úzce monitorováno.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-240">While view state permits information to be remembered across postbacks, it increases the size of the markup that must be sent to the client and can lead to severe page bloat if not closely monitored.</span></span> <span data-ttu-id="4dbb9-241">Data webové ovládací prvky, zejména ovládací prvek GridView, jsou zejména USTR pro přidání desítek dalších kilobajtů kódu na stránku.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-241">Data Web controls especially the GridView are particularly notorious for adding dozens of extra kilobytes of markup to a page.</span></span> <span data-ttu-id="4dbb9-242">I když takový nárůst může být zanedbatelný pro uživatele se širokopásmovým přístupem nebo intranetem, může stav zobrazení prodloužit dobu odezvy pro uživatele telefonického připojení.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-242">While such an increase may be negligible for broadband or intranet users, view state can add several seconds to the round trip for dial-up users.</span></span>

<span data-ttu-id="4dbb9-243">Chcete-li zobrazit dopad stavu zobrazení, přejděte na stránku v prohlížeči a potom zobrazte zdroj odeslaný webovou stránkou (v Internet Exploreru přejděte do nabídky Zobrazit a zvolte možnost zdroj).</span><span class="sxs-lookup"><span data-stu-id="4dbb9-243">To see the impact of view state, visit a page in a browser and then view the source sent by the web page (in Internet Explorer, go to the View menu and choose the Source option).</span></span> <span data-ttu-id="4dbb9-244">Můžete také zapnout [trasování stránky](https://msdn.microsoft.com/library/sfbfw58f.aspx) a zobrazit tak přidělení stavu zobrazení používaného jednotlivými ovládacími prvky na stránce.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-244">You can also turn on [page tracing](https://msdn.microsoft.com/library/sfbfw58f.aspx) to see the view state allocation used by each of the controls on the page.</span></span> <span data-ttu-id="4dbb9-245">Informace o stavu zobrazení jsou serializovány ve skrytém poli formuláře s názvem `__VIEWSTATE`, umístěné v `<div>` elementu hned za otevírací `<form>` značku.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-245">The view state information is serialized in a hidden form field named `__VIEWSTATE`, located in a `<div>` element immediately after the opening `<form>` tag.</span></span> <span data-ttu-id="4dbb9-246">Stav zobrazení je trvalý pouze v případě, že je použit webový formulář; Pokud stránka ASP.NET neobsahuje `<form runat="server">` ve své deklarativní syntaxi, nebude ve vykresleném kódu `__VIEWSTATE` skryté pole formuláře.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-246">View state is only persisted when there is a Web Form being used; if your ASP.NET page does not include a `<form runat="server">` in its declarative syntax there won't be a `__VIEWSTATE` hidden form field in the rendered markup.</span></span>

<span data-ttu-id="4dbb9-247">Pole formuláře `__VIEWSTATE` vygenerované stránkou předlohy přidá zhruba 1 800 bajtů do vygenerovaného kódu stránky.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-247">The `__VIEWSTATE` form field generated by the master page adds roughly 1,800 bytes to the page's generated markup.</span></span> <span data-ttu-id="4dbb9-248">Tato dodatečná dispozici determinističtější je způsobena hlavně ovládacím prvkem Repeater, protože obsah ovládacího prvku SiteMapDataSource je trvalý pro zobrazení stavu.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-248">This extra bloat is due primarily to the Repeater control, as the contents of the SiteMapDataSource control are persisted to view state.</span></span> <span data-ttu-id="4dbb9-249">I když se navíc 1 800 bajtů nemusí zdát, že při použití prvku GridView s mnoha poli a záznamy se může stát, že se stav zobrazení snadno Swell faktorem 10 nebo více.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-249">While an extra 1,800 bytes may not seem like much to get excited about, when using a GridView with many fields and records, the view state can easily swell by a factor of 10 or more.</span></span>

<span data-ttu-id="4dbb9-250">Stav zobrazení lze zakázat na úrovni stránky nebo ovládacího prvku nastavením vlastnosti `EnableViewState` na `false`, čímž se zmenší velikost vykresleného kódu.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-250">View state can be disabled at the page or control level by setting the `EnableViewState` property to `false`, thereby reducing the size of the rendered markup.</span></span> <span data-ttu-id="4dbb9-251">Vzhledem k tomu, že stav zobrazení webového ovládacího prvku data přechovává data vázaná na webový ovládací prvek dat napříč zpětnými vazbami, při zakázání stavu zobrazení webového ovládacího prvku data musí být data svázána s každým a každým zpětným voláním.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-251">Since the view state for a data Web control persists the data bound to the data Web control across postbacks, when disabling the view state for a data Web control the data must be bound on each and every postback.</span></span> <span data-ttu-id="4dbb9-252">V ASP.NET verze 1. x Tato zodpovědnost se snížila na plece vývojáře stránky; pomocí ASP.NET 2,0 však webové ovládací prvky pro data budou v případě potřeby znovu navazovat vazby na jejich ovládací prvek zdroje dat.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-252">In ASP.NET version 1.x this responsibility fell on the shoulders of the page developer; with ASP.NET 2.0, however, the data Web controls will rebind to their data source control on each postback if needed.</span></span>

<span data-ttu-id="4dbb9-253">Chcete-li snížit stav zobrazení stránky, nastavte vlastnost `EnableViewState` ovládacího prvku Repeater na hodnotu `false`.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-253">To reduce the page's view state let's set the Repeater control's `EnableViewState` property to `false`.</span></span> <span data-ttu-id="4dbb9-254">To lze provést prostřednictvím okno Vlastnosti v Návrháři nebo deklarativně v zobrazení zdroje.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-254">This can be done through the Properties window in the Designer or declaratively in the Source view.</span></span> <span data-ttu-id="4dbb9-255">Po provedení této změny by deklarativní označení Repeater mělo vypadat takto:</span><span class="sxs-lookup"><span data-stu-id="4dbb9-255">After making this change the Repeater's declarative markup should look like:</span></span>

[!code-aspx[Main](master-pages-and-site-navigation-cs/samples/sample10.aspx)]

<span data-ttu-id="4dbb9-256">Po této změně se velikost stavového zobrazení stránky zmenší na pouhých 52 bajtů, což je 97% úspory ve velikosti zobrazení.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-256">After this change, the page's rendered view state size has shrunk to a mere 52 bytes, a 97% savings in view state size!</span></span> <span data-ttu-id="4dbb9-257">V kurzech v celé této sérii zakážeme stav zobrazení webových ovládacích prvků dat ve výchozím nastavení, aby se snížila velikost vykresleného kódu.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-257">In the tutorials throughout this series we'll disable the view state of the data Web controls by default in order to reduce the size of the rendered markup.</span></span> <span data-ttu-id="4dbb9-258">Ve většině příkladů se vlastnost `EnableViewState` nastaví na `false` a hotovo, takže bez zmínky.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-258">In the majority of the examples the `EnableViewState` property will be set to `false` and done so without mention.</span></span> <span data-ttu-id="4dbb9-259">Jediný časový stav zobrazení bude popsán v tématu scénáře, kde musí být povoleno, aby webové ovládací prvky dat poskytovaly očekávané funkce.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-259">The only time view state will be discussed is in scenarios where it must be enabled in order for the data Web control to provide its expected functionality.</span></span>

## <a name="step-4-adding-breadcrumb-navigation"></a><span data-ttu-id="4dbb9-260">Krok 4: Přidání navigace s popisem cesty</span><span class="sxs-lookup"><span data-stu-id="4dbb9-260">Step 4: Adding Breadcrumb Navigation</span></span>

<span data-ttu-id="4dbb9-261">Chcete-li dokončit stránku předlohy, přidejte na každou stránku element uživatelského rozhraní navigace s popisem cesty.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-261">To complete the master page, let's add a breadcrumb navigation UI element to each page.</span></span> <span data-ttu-id="4dbb9-262">Navigace s popisem cesty rychle zobrazuje uživatele aktuální pozice v rámci hierarchie lokality.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-262">The breadcrumb quickly shows users their current position within the site hierarchy.</span></span> <span data-ttu-id="4dbb9-263">Přidání cesty k navigaci v ASP.NET 2,0 je snadné přidat na stránku ovládací prvek SiteMapPath; není potřeba žádný kód.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-263">Adding a breadcrumb in ASP.NET 2.0 is easy just add a SiteMapPath control to the page; no code is needed.</span></span>

<span data-ttu-id="4dbb9-264">Pro náš web přidejte tento ovládací prvek do záhlaví `<div>`:</span><span class="sxs-lookup"><span data-stu-id="4dbb9-264">For our site, add this control to the header `<div>`:</span></span>

[!code-aspx[Main](master-pages-and-site-navigation-cs/samples/sample11.aspx)]

<span data-ttu-id="4dbb9-265">Popis cesty znázorňuje aktuální stránku, na kterou se uživatel navštíví v hierarchii mapy webu, a také "předchůdce uzlu mapy lokality", a to až do kořene (domů) v mapě webu.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-265">The breadcrumb shows the current page the user is visiting in the site map hierarchy as well as that site map node's "ancestors," all the way up to the root (Home, in our site map).</span></span>

![Navigace s popisem cesty zobrazuje aktuální stránku a její předchůdce v hierarchii mapy webu.](master-pages-and-site-navigation-cs/_static/image28.png)

<span data-ttu-id="4dbb9-267">**Obrázek 12**: navigace s popisem cesty zobrazuje aktuální stránku a její předchůdce v hierarchii mapy webu.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-267">**Figure 12**: The Breadcrumb Displays the Current Page and its Ancestors in the Site Map Hierarchy</span></span>

## <a name="step-5-adding-the-default-page-for-each-section"></a><span data-ttu-id="4dbb9-268">Krok 5: přidání výchozí stránky pro každý oddíl</span><span class="sxs-lookup"><span data-stu-id="4dbb9-268">Step 5: Adding the Default Page for Each Section</span></span>

<span data-ttu-id="4dbb9-269">Kurzy na naší webu jsou rozdělené do různých kategorií základní vytváření sestav, filtrování, vlastní formátování atd. pomocí složky pro každou kategorii a odpovídajících kurzů jako ASP.NET stránky v této složce.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-269">The tutorials in our site are broken down into different categories Basic Reporting, Filtering, Custom Formatting, and so on with a folder for each category and the corresponding tutorials as ASP.NET pages within that folder.</span></span> <span data-ttu-id="4dbb9-270">Kromě toho každá složka obsahuje `Default.aspx` stránku.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-270">Additionally, each folder contains a `Default.aspx` page.</span></span> <span data-ttu-id="4dbb9-271">Pro tuto výchozí stránku zobrazíme všechny kurzy pro aktuální oddíl.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-271">For this default page, let's display all of the tutorials for the current section.</span></span> <span data-ttu-id="4dbb9-272">To znamená, že pro `Default.aspx` ve složce `BasicReporting` máme odkazy na `SimpleDisplay.aspx`, `DeclarativeParams.aspx`a `ProgrammaticParams.aspx`.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-272">That is, for the `Default.aspx` in the `BasicReporting` folder we'd have links to `SimpleDisplay.aspx`, `DeclarativeParams.aspx`, and `ProgrammaticParams.aspx`.</span></span> <span data-ttu-id="4dbb9-273">Zde je opět možné použít třídu `SiteMap` a datově datovou stránku k zobrazení těchto informací na základě mapy webu definované v `Web.sitemap`.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-273">Here, again, we can use the `SiteMap` class and a data Web control to display this information based upon the site map defined in `Web.sitemap`.</span></span>

<span data-ttu-id="4dbb9-274">Pojďme znovu zobrazit neuspořádaný seznam s opakováním, ale tentokrát zobrazíme nadpis a popis kurzů.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-274">Let's display an unordered list using a Repeater again, but this time we'll display the title and description of the tutorials.</span></span> <span data-ttu-id="4dbb9-275">Vzhledem k tomu, že značky a kód, které mají být provedeny, bude nutné opakovat pro každou stránku `Default.aspx`, můžeme tuto logiku uživatelského rozhraní zapouzdřit do [uživatelského ovládacího prvku](https://msdn.microsoft.com/library/y6wb1a0e.aspx).</span><span class="sxs-lookup"><span data-stu-id="4dbb9-275">Since the markup and code to accomplish this will need to be repeated for each `Default.aspx` page, we can encapsulate this UI logic in a [User Control](https://msdn.microsoft.com/library/y6wb1a0e.aspx).</span></span> <span data-ttu-id="4dbb9-276">Vytvořte složku na webu s názvem `UserControls` a přidejte do ní novou položku typu Webový uživatelský ovládací prvek s názvem `SectionLevelTutorialListing.ascx`a přidejte následující kód:</span><span class="sxs-lookup"><span data-stu-id="4dbb9-276">Create a folder in the website called `UserControls` and add to that a new item of type Web User Control named `SectionLevelTutorialListing.ascx`, and add the following markup:</span></span>

<span data-ttu-id="4dbb9-277">[![přidat nový webový uživatelský ovládací prvek do složky UserControls](master-pages-and-site-navigation-cs/_static/image30.png)](master-pages-and-site-navigation-cs/_static/image29.png)</span><span class="sxs-lookup"><span data-stu-id="4dbb9-277">[![Add a New Web User Control to the UserControls Folder](master-pages-and-site-navigation-cs/_static/image30.png)](master-pages-and-site-navigation-cs/_static/image29.png)</span></span>

<span data-ttu-id="4dbb9-278">**Obrázek 13**: Přidání nového webového uživatelského ovládacího prvku do složky `UserControls` ([kliknutím zobrazíte obrázek v plné velikosti](master-pages-and-site-navigation-cs/_static/image31.png))</span><span class="sxs-lookup"><span data-stu-id="4dbb9-278">**Figure 13**: Add a New Web User Control to the `UserControls` Folder ([Click to view full-size image](master-pages-and-site-navigation-cs/_static/image31.png))</span></span>

<span data-ttu-id="4dbb9-279">SectionLevelTutorialListing.ascx</span><span class="sxs-lookup"><span data-stu-id="4dbb9-279">SectionLevelTutorialListing.ascx</span></span>

[!code-aspx[Main](master-pages-and-site-navigation-cs/samples/sample12.aspx)]

<span data-ttu-id="4dbb9-280">SectionLevelTutorialListing.ascx.cs</span><span class="sxs-lookup"><span data-stu-id="4dbb9-280">SectionLevelTutorialListing.ascx.cs</span></span>

[!code-csharp[Main](master-pages-and-site-navigation-cs/samples/sample13.cs)]

<span data-ttu-id="4dbb9-281">V předchozím příkladu opakovače jsme data `SiteMap` do tohoto opakovače deklarativně naváže. Uživatelský ovládací prvek `SectionLevelTutorialListing` ale to provede programově.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-281">In the previous Repeater example we bound the `SiteMap` data to the Repeater declaratively; the `SectionLevelTutorialListing` User Control, however, does so programmatically.</span></span> <span data-ttu-id="4dbb9-282">V obslužné rutině události `Page_Load` je provedena kontrola, která zajistí, že se tato stránka s adresou URL mapuje na uzel v mapě webu.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-282">In the `Page_Load` event handler, a check is made to ensure that this page s URL maps to a node in the site map.</span></span> <span data-ttu-id="4dbb9-283">Pokud se tento uživatelský ovládací prvek používá na stránce, která nemá odpovídající položku `<siteMapNode>`, `SiteMap.CurrentNode` vrátí `null` a nebudou vázána žádná data na Repeater.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-283">If this User Control is used in a page that does not have a corresponding `<siteMapNode>` entry, `SiteMap.CurrentNode` will return `null` and no data will be bound to the Repeater.</span></span> <span data-ttu-id="4dbb9-284">Za předpokladu, že máme `CurrentNode`, navážeme svoji `ChildNodes` kolekci na Repeater.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-284">Assuming we have a `CurrentNode`, we bind its `ChildNodes` collection to the Repeater.</span></span> <span data-ttu-id="4dbb9-285">Vzhledem k tomu, že je naše mapa webu nastavená tak, aby byla stránka `Default.aspx` v každé části nadřazeným uzlem všech kurzů v rámci této části, bude tento kód zobrazovat odkazy a popisy všech kurzů v sekcích, jak je znázorněno na následujícím snímku obrazovky.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-285">Since our site map is set up such that the `Default.aspx` page in each section is the parent node of all of the tutorials within that section, this code will display links to and descriptions of all of the section's tutorials, as shown in the screen shot below.</span></span>

<span data-ttu-id="4dbb9-286">Po vytvoření tohoto opakovače otevřete `Default.aspx` stránky v každé složce, přejdete do zobrazení Návrh a jednoduše přetáhněte uživatelský ovládací prvek z Průzkumník řešení na návrhovou plochu, kde se má seznam kurzů zobrazit.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-286">Once this Repeater has been created, open the `Default.aspx` pages in each of the folders, go to the Design view, and simply drag the User Control from the Solution Explorer onto the Design surface where you want the tutorial list to appear.</span></span>

<span data-ttu-id="4dbb9-287">[![uživatelský ovládací prvek byl přidán do default. aspx.](master-pages-and-site-navigation-cs/_static/image33.png)](master-pages-and-site-navigation-cs/_static/image32.png)</span><span class="sxs-lookup"><span data-stu-id="4dbb9-287">[![The User Control has Been Added to Default.aspx](master-pages-and-site-navigation-cs/_static/image33.png)](master-pages-and-site-navigation-cs/_static/image32.png)</span></span>

<span data-ttu-id="4dbb9-288">**Obrázek 14**: uživatelský ovládací prvek byl přidán do `Default.aspx` ([kliknutím zobrazíte obrázek v plné velikosti).](master-pages-and-site-navigation-cs/_static/image34.png)</span><span class="sxs-lookup"><span data-stu-id="4dbb9-288">**Figure 14**: The User Control has Been Added to `Default.aspx` ([Click to view full-size image](master-pages-and-site-navigation-cs/_static/image34.png))</span></span>

<span data-ttu-id="4dbb9-289">[![jsou uvedeny základní kurzy vytváření sestav.](master-pages-and-site-navigation-cs/_static/image36.png)](master-pages-and-site-navigation-cs/_static/image35.png)</span><span class="sxs-lookup"><span data-stu-id="4dbb9-289">[![The Basic Reporting Tutorials are Listed](master-pages-and-site-navigation-cs/_static/image36.png)](master-pages-and-site-navigation-cs/_static/image35.png)</span></span>

<span data-ttu-id="4dbb9-290">**Obrázek 15**: uvádíme základní kurzy vytváření sestav ([kliknutím zobrazíte obrázek v plné velikosti).](master-pages-and-site-navigation-cs/_static/image37.png)</span><span class="sxs-lookup"><span data-stu-id="4dbb9-290">**Figure 15**: The Basic Reporting Tutorials are Listed ([Click to view full-size image](master-pages-and-site-navigation-cs/_static/image37.png))</span></span>

## <a name="summary"></a><span data-ttu-id="4dbb9-291">Souhrn</span><span class="sxs-lookup"><span data-stu-id="4dbb9-291">Summary</span></span>

<span data-ttu-id="4dbb9-292">Po definování mapy webu a dokončení stránky předlohy teď máme konzistentní rozložení stránky a navigační schéma pro naše kurzy související s daty.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-292">With the site map defined and the master page complete, we now have a consistent page layout and navigation scheme for our data-related tutorials.</span></span> <span data-ttu-id="4dbb9-293">Bez ohledu na to, kolik stránek do naší lokality přidáváme, aktualizujeme rozložení stránky nebo informace navigace na webu je rychlý a jednoduchý proces, protože tyto informace jsou centralizované.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-293">Regardless of how many pages we add to our site, updating the site-wide page layout or site navigation information is a quick and simple process due to this information being centralized.</span></span> <span data-ttu-id="4dbb9-294">Konkrétně jsou informace o rozložení stránky definovány na stránce předlohy `Site.master` a mapě webu v `Web.sitemap`.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-294">Specifically, the page layout information is defined in the master page `Site.master` and the site map in `Web.sitemap`.</span></span> <span data-ttu-id="4dbb9-295">Nemuseli jsme psát *žádný* kód pro dosažení tohoto rozložení stránky a navigační mechanismus pro celou lokalitu a zachováváme kompletní podporu návrháře WYSIWYG v aplikaci Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-295">We didn't need to write *any* code to achieve this site-wide page layout and navigation mechanism, and we retain full WYSIWYG designer support in Visual Studio.</span></span>

<span data-ttu-id="4dbb9-296">Po dokončení vrstvy přístupu k datům a vrstvy obchodní logiky a vytvoření konzistentního rozložení stránky a definování navigace na webu jsme připraveni začít zkoumat běžné vzory generování sestav.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-296">Having completed the Data Access Layer and Business Logic Layer and having a consistent page layout and site navigation defined, we're ready to begin exploring common reporting patterns.</span></span> <span data-ttu-id="4dbb9-297">V [následujících](../basic-reporting/displaying-data-with-the-objectdatasource-cs.md) třech kurzech se podíváme na základní úlohy vytváření sestav zobrazující data získaná z knihoven BLL v ovládacích prvcích GridView, DetailsView a FormView.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-297">In the [next](../basic-reporting/displaying-data-with-the-objectdatasource-cs.md) three tutorials we'll look at basic reporting tasks displaying data retrieved from the BLL in the GridView, DetailsView, and FormView controls.</span></span>

<span data-ttu-id="4dbb9-298">Šťastné programování!</span><span class="sxs-lookup"><span data-stu-id="4dbb9-298">Happy Programming!</span></span>

## <a name="further-reading"></a><span data-ttu-id="4dbb9-299">Další čtení</span><span class="sxs-lookup"><span data-stu-id="4dbb9-299">Further Reading</span></span>

<span data-ttu-id="4dbb9-300">Další informace o tématech popsaných v tomto kurzu najdete v následujících zdrojích informací:</span><span class="sxs-lookup"><span data-stu-id="4dbb9-300">For more information on the topics discussed in this tutorial, refer to the following resources:</span></span>

- [<span data-ttu-id="4dbb9-301">ASP.NET hlavní stránky – přehled</span><span class="sxs-lookup"><span data-stu-id="4dbb9-301">ASP.NET Master Pages Overview</span></span>](https://msdn.microsoft.com/library/wtxbf3hh.aspx)
- [<span data-ttu-id="4dbb9-302">Stránky předlohy v ASP.NET 2,0</span><span class="sxs-lookup"><span data-stu-id="4dbb9-302">Master Pages in ASP.NET 2.0</span></span>](http://odetocode.com/Articles/419.aspx)
- [<span data-ttu-id="4dbb9-303">Šablony návrhu ASP.NET 2,0</span><span class="sxs-lookup"><span data-stu-id="4dbb9-303">ASP.NET 2.0 Design Templates</span></span>](https://msdn.microsoft.com/asp.net/reference/design/templates/default.aspx)
- [<span data-ttu-id="4dbb9-304">Přehled navigace na webu ASP.NET</span><span class="sxs-lookup"><span data-stu-id="4dbb9-304">ASP.NET Site Navigation Overview</span></span>](https://msdn.microsoft.com/library/e468hxky.aspx)
- [<span data-ttu-id="4dbb9-305">Prověřování navigace na webu ASP.NET 2.0</span><span class="sxs-lookup"><span data-stu-id="4dbb9-305">Examining ASP.NET 2.0's Site Navigation</span></span>](http://aspnet.4guysfromrolla.com/articles/111605-1.aspx)
- [<span data-ttu-id="4dbb9-306">Navigační funkce lokality ASP.NET 2,0</span><span class="sxs-lookup"><span data-stu-id="4dbb9-306">ASP.NET 2.0 Site Navigation Features</span></span>](https://weblogs.asp.net/scottgu/archive/2005/11/20/431019.aspx)
- [<span data-ttu-id="4dbb9-307">Principy stavu zobrazení ASP.NET</span><span class="sxs-lookup"><span data-stu-id="4dbb9-307">Understanding ASP.NET View State</span></span>](https://msdn.microsoft.com/library/default.asp?url=/library/dnaspp/html/viewstate.asp)
- [<span data-ttu-id="4dbb9-308">Postupy: povolení trasování pro stránku ASP.NET</span><span class="sxs-lookup"><span data-stu-id="4dbb9-308">How to: Enable Tracing for an ASP.NET Page</span></span>](https://msdn.microsoft.com/library/94c55d08%28VS.80%29.aspx)
- [<span data-ttu-id="4dbb9-309">Uživatelské ovládací prvky ASP.NET</span><span class="sxs-lookup"><span data-stu-id="4dbb9-309">ASP.NET User Controls</span></span>](https://msdn.microsoft.com/library/y6wb1a0e.aspx)

## <a name="about-the-author"></a><span data-ttu-id="4dbb9-310">O autorovi</span><span class="sxs-lookup"><span data-stu-id="4dbb9-310">About the Author</span></span>

<span data-ttu-id="4dbb9-311">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), autor 7 ASP/ASP. NET Books a zakladatel of [4GuysFromRolla.com](http://www.4guysfromrolla.com), pracoval s webovými technologiemi Microsoftu od 1998.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-311">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="4dbb9-312">Scott funguje jako nezávislý konzultant, Trainer a zapisovač.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-312">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="4dbb9-313">Nejnovější kniha je [*Sams naučit se ASP.NET 2,0 za 24 hodin*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="4dbb9-313">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="4dbb9-314">Dá se získat na [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="4dbb9-314">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span> <span data-ttu-id="4dbb9-315">nebo prostřednictvím svého blogu, který najdete na adrese [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span><span class="sxs-lookup"><span data-stu-id="4dbb9-315">or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

## <a name="special-thanks-to"></a><span data-ttu-id="4dbb9-316">Zvláštní díky</span><span class="sxs-lookup"><span data-stu-id="4dbb9-316">Special Thanks To</span></span>

<span data-ttu-id="4dbb9-317">Tato řada kurzů byla přezkoumána mnoha užitečnými kontrolory.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-317">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="4dbb9-318">Kontroloři vedoucích k tomuto kurzu byli Liz Shulok, Dennis Patterson a Hilton Giesenow.</span><span class="sxs-lookup"><span data-stu-id="4dbb9-318">Lead reviewers for this tutorial were Liz Shulok, Dennis Patterson, and Hilton Giesenow.</span></span> <span data-ttu-id="4dbb9-319">Uvažujete o přezkoumání mých nadcházejících článků na webu MSDN?</span><span class="sxs-lookup"><span data-stu-id="4dbb9-319">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="4dbb9-320">Pokud ano, vyřaďte mi řádek na [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="4dbb9-320">If so, drop me a line at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="4dbb9-321">[Předchozí](creating-a-business-logic-layer-cs.md)
> [Další](creating-a-data-access-layer-vb.md)</span><span class="sxs-lookup"><span data-stu-id="4dbb9-321">[Previous](creating-a-business-logic-layer-cs.md)
[Next](creating-a-data-access-layer-vb.md)</span></span>
