---
uid: web-forms/overview/data-access/editing-inserting-and-deleting-data/adding-validation-controls-to-the-editing-and-inserting-interfaces-cs
title: Přidání validačních ovládacích prvků pro úpravy a vložení rozhraní (C#) | Dokumentace Microsoftu
author: rick-anderson
description: V tomto kurzu uvidíme, jak snadné je přidání validačních ovládacích prvků do EditItemTemplate a šablona InsertItemTemplate dat webový ovládací prvek, poskytovat...
ms.author: riande
ms.date: 07/17/2006
ms.assetid: 2086cb1a-ab78-49ae-9c0b-03891c69776a
msc.legacyurl: /web-forms/overview/data-access/editing-inserting-and-deleting-data/adding-validation-controls-to-the-editing-and-inserting-interfaces-cs
msc.type: authoredcontent
ms.openlocfilehash: 157a71c7b8a7b5e8e34c08957d0520dfb8da8db9
ms.sourcegitcommit: 0f1119340e4464720cfd16d0ff15764746ea1fea
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 04/09/2019
ms.locfileid: "59391257"
---
# <a name="adding-validation-controls-to-the-editing-and-inserting-interfaces-c"></a><span data-ttu-id="17b01-103">Přidání validačních ovládacích prvků do rozhraní pro úpravy a vložení (C#)</span><span class="sxs-lookup"><span data-stu-id="17b01-103">Adding Validation Controls to the Editing and Inserting Interfaces (C#)</span></span>

<span data-ttu-id="17b01-104">podle [Scott Meisnerová](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="17b01-104">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="17b01-105">[Stáhněte si ukázkovou aplikaci](http://download.microsoft.com/download/9/c/1/9c1d03ee-29ba-4d58-aa1a-f201dcc822ea/ASPNET_Data_Tutorial_19_CS.exe) nebo [stahovat PDF](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/datatutorial19cs1.pdf)</span><span class="sxs-lookup"><span data-stu-id="17b01-105">[Download Sample App](http://download.microsoft.com/download/9/c/1/9c1d03ee-29ba-4d58-aa1a-f201dcc822ea/ASPNET_Data_Tutorial_19_CS.exe) or [Download PDF](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/datatutorial19cs1.pdf)</span></span>

> <span data-ttu-id="17b01-106">V tomto kurzu uvidíme, jak snadné je přidání validačních ovládacích prvků do EditItemTemplate a šablona InsertItemTemplate dat webový ovládací prvek, a poskytuje tak více spolehlivá uživatelské rozhraní.</span><span class="sxs-lookup"><span data-stu-id="17b01-106">In this tutorial we'll see how easy it is to add validation controls to the EditItemTemplate and InsertItemTemplate of a data Web control, to provide a more foolproof user interface.</span></span>


## <a name="introduction"></a><span data-ttu-id="17b01-107">Úvod</span><span class="sxs-lookup"><span data-stu-id="17b01-107">Introduction</span></span>

<span data-ttu-id="17b01-108">Ovládací prvky GridView a DetailsView v příkladech jste Prozkoumali jsme v posledních tří kurzů mají všechny se skládá z BoundFields a CheckBoxFields (typy polí automaticky přidá sada Visual Studio při vytváření vazby ke zdroji dat GridView nebo prvku DetailsView. řízení prostřednictvím inteligentních značek).</span><span class="sxs-lookup"><span data-stu-id="17b01-108">The GridView and DetailsView controls in the examples we've explored over the past three tutorials have all been composed of BoundFields and CheckBoxFields (the field types automatically added by Visual Studio when binding a GridView or DetailsView to a data source control through the smart tag).</span></span> <span data-ttu-id="17b01-109">Při úpravě řádku v prvku GridView nebo prvku DetailsView. Tyto BoundFields, které nejsou jen pro čtení se převedou do textových polí, ze kterého může koncový uživatel upravit existující data.</span><span class="sxs-lookup"><span data-stu-id="17b01-109">When editing a row in a GridView or DetailsView, those BoundFields that are not read-only are converted into textboxes, from which the end user can modify the existing data.</span></span> <span data-ttu-id="17b01-110">Podobně při vložení nového záznamu do ovládacího prvku DetailsView. Tyto BoundFields jehož `InsertVisible` je nastavena na `true` (výchozí) jsou vykresleny jako prázdná textová pole, do kterého může uživatel zadat hodnoty polí nového záznamu.</span><span class="sxs-lookup"><span data-stu-id="17b01-110">Similarly, when inserting a new record into a DetailsView control, those BoundFields whose `InsertVisible` property is set to `true` (the default) are rendered as empty textboxes, into which the user can provide the new record's field values.</span></span> <span data-ttu-id="17b01-111">Obdobně CheckBoxFields, které jsou zakázány v rozhraní standardní, jen pro čtení, se převedou na povoleno zaškrtávací políčka v úpravy a vložení rozhraní.</span><span class="sxs-lookup"><span data-stu-id="17b01-111">Likewise, CheckBoxFields, which are disabled in the standard, read-only interface, are converted into enabled checkboxes in the editing and inserting interfaces.</span></span>

<span data-ttu-id="17b01-112">Výchozí úpravy a vložení pro vlastnost BoundField a třídě CheckBoxField rozhraní mohou být užitečné, nemá rozhraní jakýkoli druh ověření.</span><span class="sxs-lookup"><span data-stu-id="17b01-112">While the default editing and inserting interfaces for the BoundField and CheckBoxField can be helpful, the interface lacks any sort of validation.</span></span> <span data-ttu-id="17b01-113">Pokud uživatel provede chybu položka dat – například vynechání `ProductName` pole nebo zadáte neplatnou hodnotu pro `UnitsInStock` (například -50) bude výjimka vyvolána v rámci hlubin architekturu aplikace.</span><span class="sxs-lookup"><span data-stu-id="17b01-113">If a user makes a data entry mistake - such as omitting the `ProductName` field or entering an invalid value for `UnitsInStock` (such as -50) an exception will be raised from within the depths of the application architecture.</span></span> <span data-ttu-id="17b01-114">Když tuto výjimku můžete elegantně zpracovat jak je ukázáno v [předchozí kurz o službě](handling-bll-and-dal-level-exceptions-in-an-asp-net-page-cs.md), v ideálním případě by validačních ovládacích prvků, chcete-li zabránit uživateli v zadávání těchto neplatná data v zahrnout úpravy nebo vložení uživatelského rozhraní první místo.</span><span class="sxs-lookup"><span data-stu-id="17b01-114">While this exception can be gracefully handled as demonstrated in the [previous tutorial](handling-bll-and-dal-level-exceptions-in-an-asp-net-page-cs.md), ideally the editing or inserting user interface would include validation controls to prevent a user from entering such invalid data in the first place.</span></span>

<span data-ttu-id="17b01-115">Aby bylo možné zajistit přizpůsobený úpravy nebo vložení rozhraní, musíme Vlastnost BoundField nebo třídě CheckBoxField nahraďte TemplateField.</span><span class="sxs-lookup"><span data-stu-id="17b01-115">In order to provide a customized editing or inserting interface, we need to replace the BoundField or CheckBoxField with a TemplateField.</span></span> <span data-ttu-id="17b01-116">Vlastností TemplateField, které byly tématu diskuze v [použití vlastností TemplateField v ovládacím prvku GridView](../custom-formatting/using-templatefields-in-the-gridview-control-cs.md) a [použití vlastností TemplateField v ovládacím prvku DetailsView](../custom-formatting/using-templatefields-in-the-detailsview-control-cs.md) kurzy, se může skládat z více definování šablony oddělení rozhraní pro stavy odlišný řádek.</span><span class="sxs-lookup"><span data-stu-id="17b01-116">TemplateFields, which were the topic of discussion in the [Using TemplateFields in the GridView Control](../custom-formatting/using-templatefields-in-the-gridview-control-cs.md) and [Using TemplateFields in the DetailsView Control](../custom-formatting/using-templatefields-in-the-detailsview-control-cs.md) tutorials, can consist of multiple templates defining separate interfaces for different row states.</span></span> <span data-ttu-id="17b01-117">Pole TemplateField `ItemTemplate` se používá k při vykreslování pole jen pro čtení nebo řádky v ovládacích prvcích DetailsView nebo ovládacího prvku GridView, že `EditItemTemplate` a `InsertItemTemplate` označení rozhraní pro úpravy a vložení režimy, v uvedeném pořadí.</span><span class="sxs-lookup"><span data-stu-id="17b01-117">The TemplateField's `ItemTemplate` is used to when rendering read-only fields or rows in the DetailsView or GridView controls, whereas the `EditItemTemplate` and `InsertItemTemplate` indicate the interfaces to use for the editing and inserting modes, respectively.</span></span>

<span data-ttu-id="17b01-118">V tomto kurzu uvidíme, jak snadné je přidání validačních ovládacích prvků pole TemplateField `EditItemTemplate` a `InsertItemTemplate` poskytnout více spolehlivá uživatelské rozhraní.</span><span class="sxs-lookup"><span data-stu-id="17b01-118">In this tutorial we'll see how easy it is to add validation controls to the TemplateField's `EditItemTemplate` and `InsertItemTemplate` to provide a more foolproof user interface.</span></span> <span data-ttu-id="17b01-119">Konkrétně tohoto kurzu trvá vytvořený v příkladu [zkoumání události spojené s vložení, aktualizace a odstranění](examining-the-events-associated-with-inserting-updating-and-deleting-cs.md) kurzu a argumentech úpravy a vložení rozhraní zahrnout příslušné ověření.</span><span class="sxs-lookup"><span data-stu-id="17b01-119">Specifically, this tutorial takes the example created in the [Examining the Events Associated with Inserting, Updating, and Deleting](examining-the-events-associated-with-inserting-updating-and-deleting-cs.md) tutorial and augments the editing and inserting interfaces to include appropriate validation.</span></span>

## <a name="step-1-replicating-the-example-fromexamining-the-events-associated-with-inserting-updating-and-deletingexamining-the-events-associated-with-inserting-updating-and-deleting-csmd"></a><span data-ttu-id="17b01-120">Krok 1: Příklad z replikace[zkoumání událostí spojených s vložením, aktualizace a odstranění](examining-the-events-associated-with-inserting-updating-and-deleting-cs.md)</span><span class="sxs-lookup"><span data-stu-id="17b01-120">Step 1: Replicating the Example from[Examining the Events Associated with Inserting, Updating, and Deleting](examining-the-events-associated-with-inserting-updating-and-deleting-cs.md)</span></span>

<span data-ttu-id="17b01-121">V [zkoumání události spojené s vložení, aktualizace a odstranění](examining-the-events-associated-with-inserting-updating-and-deleting-cs.md) kurzu jsme vytvořili stránku, která uvedené názvy a ceny produktů v upravitelné prvku GridView.</span><span class="sxs-lookup"><span data-stu-id="17b01-121">In the [Examining the Events Associated with Inserting, Updating, and Deleting](examining-the-events-associated-with-inserting-updating-and-deleting-cs.md) tutorial we created a page that listed the names and prices of the products in an editable GridView.</span></span> <span data-ttu-id="17b01-122">Kromě toho na stránce zahrnuté DetailsView jehož `DefaultMode` nastavenou na `Insert`, a tím vždy vykreslení v režimu vkládání.</span><span class="sxs-lookup"><span data-stu-id="17b01-122">Additionally, the page included a DetailsView whose `DefaultMode` property was set to `Insert`, thereby always rendering in insert mode.</span></span> <span data-ttu-id="17b01-123">Z tohoto prvku DetailsView. může uživatel zadat název a cena nového produktu, klikněte na tlačítko Vložit a přidat ho do systému (viz obrázek 1).</span><span class="sxs-lookup"><span data-stu-id="17b01-123">From this DetailsView, the user could enter the name and price for a new product, click Insert, and have it added to the system (see Figure 1).</span></span>


[![T<span data-ttu-id="17b01-124">má předchozí příklad umožňuje uživatelům přidávat nové produkty a upravit existující]</span><span class="sxs-lookup"><span data-stu-id="17b01-124">he Previous Example Allows Users to Add New Products and Edit Existing Ones]</span></span>(adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image2.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image1.png)

<span data-ttu-id="17b01-125">**Obrázek 1**: Předchozí příklad umožňuje uživatelům přidávat nové produkty a upravit existující ([kliknutím ji zobrazíte obrázek v plné velikosti](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="17b01-125">**Figure 1**: The Previous Example Allows Users to Add New Products and Edit Existing Ones ([Click to view full-size image](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image3.png))</span></span>


<span data-ttu-id="17b01-126">Naším cílem pro účely tohoto kurzu je k posílení DetailsView a GridView poskytovat validačních ovládacích prvků.</span><span class="sxs-lookup"><span data-stu-id="17b01-126">Our goal for this tutorial is to augment the DetailsView and GridView to provide validation controls.</span></span> <span data-ttu-id="17b01-127">Konkrétně se naše logiku ověřování:</span><span class="sxs-lookup"><span data-stu-id="17b01-127">In particular, our validation logic will:</span></span>

- <span data-ttu-id="17b01-128">Vyžadovat, že je možné zadat název při vložení nebo úpravě produktu</span><span class="sxs-lookup"><span data-stu-id="17b01-128">Require that the name be provided when inserting or editing a product</span></span>
- <span data-ttu-id="17b01-129">Požadovat, že cena byly poskytnuty při vložení záznamu; Při úpravě záznamu, budeme se stále vyžadují ceny, ale bude použít programovou logiku v prvku GridView `RowUpdating` z předchozích kurzu již existuje obslužná rutina události</span><span class="sxs-lookup"><span data-stu-id="17b01-129">Require that the price be provided when inserting a record; when editing a record, we will still require a price, but will use the programmatic logic in the GridView's `RowUpdating` event handler already present from the earlier tutorial</span></span>
- <span data-ttu-id="17b01-130">Ujistěte se, že hodnota zadaná pro cenu formátu platné měny</span><span class="sxs-lookup"><span data-stu-id="17b01-130">Ensure that the value entered for the price is a valid currency format</span></span>

<span data-ttu-id="17b01-131">Předtím, než abychom se mohli podívat na rozšíření předchozího příkladu na zahrnout ověřování, musíme nejprve příklad z replikace `DataModificationEvents.aspx` stránky na stránku pro účely tohoto kurzu `UIValidation.aspx`.</span><span class="sxs-lookup"><span data-stu-id="17b01-131">Before we can look at augmenting the previous example to include validation, we first need to replicate the example from the `DataModificationEvents.aspx` page to the page for this tutorial, `UIValidation.aspx`.</span></span> <span data-ttu-id="17b01-132">K tomu potřeba zkopírovat i `DataModificationEvents.aspx` deklarativním označení stránky a jeho zdrojový kód.</span><span class="sxs-lookup"><span data-stu-id="17b01-132">To accomplish this we need to copy over both the `DataModificationEvents.aspx` page's declarative markup and its source code.</span></span> <span data-ttu-id="17b01-133">Nejprve zkopírovat deklarativní provedením následujících kroků:</span><span class="sxs-lookup"><span data-stu-id="17b01-133">First copy over the declarative markup by performing the following steps:</span></span>

1. <span data-ttu-id="17b01-134">Otevřít `DataModificationEvents.aspx` stránky v sadě Visual Studio</span><span class="sxs-lookup"><span data-stu-id="17b01-134">Open the `DataModificationEvents.aspx` page in Visual Studio</span></span>
2. <span data-ttu-id="17b01-135">Přejděte na stránku deklarativní (kliknutím na tlačítko zdroj v dolní části stránky)</span><span class="sxs-lookup"><span data-stu-id="17b01-135">Go to the page's declarative markup (click on the Source button at the bottom of the page)</span></span>
3. <span data-ttu-id="17b01-136">Zkopírujte text v rámci `<asp:Content>` a `</asp:Content>` značky (čáry 3 až 44), jako znázorněno na obrázku 2.</span><span class="sxs-lookup"><span data-stu-id="17b01-136">Copy the text within the `<asp:Content>` and `</asp:Content>` tags (lines 3 through 44), as shown in Figure 2.</span></span>


[![C<span data-ttu-id="17b01-137">Kopírovat Text v &lt;asp: Content&gt; ovládacího prvku]</span><span class="sxs-lookup"><span data-stu-id="17b01-137">opy the Text Within the &lt;asp:Content&gt; Control]</span></span>(adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image5.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image4.png)

<span data-ttu-id="17b01-138">**Obrázek 2**: Zkopírujte Text v `<asp:Content>` ovládacího prvku ([kliknutím ji zobrazíte obrázek v plné velikosti](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="17b01-138">**Figure 2**: Copy the Text Within the `<asp:Content>` Control ([Click to view full-size image](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image6.png))</span></span>


1. <span data-ttu-id="17b01-139">Otevřít `UIValidation.aspx` stránky</span><span class="sxs-lookup"><span data-stu-id="17b01-139">Open the `UIValidation.aspx` page</span></span>
2. <span data-ttu-id="17b01-140">Přejděte na stránku deklarativní</span><span class="sxs-lookup"><span data-stu-id="17b01-140">Go to the page's declarative markup</span></span>
3. <span data-ttu-id="17b01-141">Vložit text v rámci `<asp:Content>` ovládacího prvku.</span><span class="sxs-lookup"><span data-stu-id="17b01-141">Paste the text within the `<asp:Content>` control.</span></span>

<span data-ttu-id="17b01-142">Chcete-li zkopírovat zdrojový kód, otevřete `DataModificationEvents.aspx.cs` stránce a zkopírujte pouze text *v rámci* `EditInsertDelete_DataModificationEvents` třídy.</span><span class="sxs-lookup"><span data-stu-id="17b01-142">To copy over the source code, open the `DataModificationEvents.aspx.cs` page and copy just the text *within* the `EditInsertDelete_DataModificationEvents` class.</span></span> <span data-ttu-id="17b01-143">Zkopírujte tři události obslužné rutiny (`Page_Load`, `GridView1_RowUpdating`, a `ObjectDataSource1_Inserting`), na rozdíl od **není** zkopírujte deklaraci třídy nebo `using` příkazy.</span><span class="sxs-lookup"><span data-stu-id="17b01-143">Copy the three event handlers (`Page_Load`, `GridView1_RowUpdating`, and `ObjectDataSource1_Inserting`), but do **not** copy the class declaration or `using` statements.</span></span> <span data-ttu-id="17b01-144">Vložit zkopírovaný text *v rámci* `EditInsertDelete_UIValidation` třídy v `UIValidation.aspx.cs`.</span><span class="sxs-lookup"><span data-stu-id="17b01-144">Paste the copied text *within* the `EditInsertDelete_UIValidation` class in `UIValidation.aspx.cs`.</span></span>

<span data-ttu-id="17b01-145">Po přesunutí nad obsah a kód z `DataModificationEvents.aspx` k `UIValidation.aspx`, věnujte chvíli a otestujte svůj postup v prohlížeči.</span><span class="sxs-lookup"><span data-stu-id="17b01-145">After moving over the content and code from `DataModificationEvents.aspx` to `UIValidation.aspx`, take a moment to test out your progress in a browser.</span></span> <span data-ttu-id="17b01-146">Měli byste vidět stejný výstup a prostředí stejně v každém z těchto dvou stránkách (vrátit zpět na obrázku 1 pro snímek obrazovky `DataModificationEvents.aspx` v akci).</span><span class="sxs-lookup"><span data-stu-id="17b01-146">You should see the same output and experience the same functionality in each of these two pages (refer back to Figure 1 for a screen shot of `DataModificationEvents.aspx` in action).</span></span>

## <a name="step-2-converting-the-boundfields-into-templatefields"></a><span data-ttu-id="17b01-147">Krok 2: Převádění BoundFields vlastností TemplateField</span><span class="sxs-lookup"><span data-stu-id="17b01-147">Step 2: Converting the BoundFields Into TemplateFields</span></span>

<span data-ttu-id="17b01-148">Přidání validačních ovládacích prvků do rozhraní pro úpravy a vložení, nutné převést do vlastností TemplateField BoundFields používané ovládací prvky prvku DetailsView a ovládacího prvku GridView.</span><span class="sxs-lookup"><span data-stu-id="17b01-148">To add validation controls to the editing and inserting interfaces, the BoundFields used by the DetailsView and GridView controls need to be converted into TemplateFields.</span></span> <span data-ttu-id="17b01-149">K dosažení tohoto cíle, klikněte na Upravit sloupce a upravit pole odkazů v prvku GridView a ovládacího prvku DetailsView inteligentní značky, v uvedeném pořadí.</span><span class="sxs-lookup"><span data-stu-id="17b01-149">To achieve this, click on the Edit Columns and Edit Fields links in the GridView and DetailsView's smart tags, respectively.</span></span> <span data-ttu-id="17b01-150">Vyberte každou BoundFields a klikněte na odkaz "Převést toto pole TemplateField".</span><span class="sxs-lookup"><span data-stu-id="17b01-150">There, select each of the BoundFields and click the "Convert this field into a TemplateField" link.</span></span>


[![C<span data-ttu-id="17b01-151">Převést každý z ovládacího prvku DetailsView a prvku GridView BoundFields do vlastností TemplateField]</span><span class="sxs-lookup"><span data-stu-id="17b01-151">onvert Each of the DetailsView's and GridView's BoundFields Into TemplateFields]</span></span>(adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image8.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image7.png)

<span data-ttu-id="17b01-152">**Obrázek 3**: Převést každý z ovládacího prvku DetailsView a prvku GridView BoundFields do vlastností TemplateField ([kliknutím ji zobrazíte obrázek v plné velikosti](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image9.png))</span><span class="sxs-lookup"><span data-stu-id="17b01-152">**Figure 3**: Convert Each of the DetailsView's and GridView's BoundFields Into TemplateFields ([Click to view full-size image](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image9.png))</span></span>


<span data-ttu-id="17b01-153">Převod na pole TemplateField přes dialogové okno pole Vlastnost BoundField generuje TemplateField vykazuje stejné jen pro čtení, úpravy a vložení rozhraní jako vlastnost BoundField samotný.</span><span class="sxs-lookup"><span data-stu-id="17b01-153">Converting a BoundField into a TemplateField through the Fields dialog box generates a TemplateField that exhibits the same read-only, editing, and inserting interfaces as the BoundField itself.</span></span> <span data-ttu-id="17b01-154">Následující kód ukazuje deklarativní syntaxe `ProductName` pole v ovládacím prvku DetailsView. poté, co bude převeden na pole TemplateField:</span><span class="sxs-lookup"><span data-stu-id="17b01-154">The following markup shows the declarative syntax for the `ProductName` field in the DetailsView after it has been converted into a TemplateField:</span></span>

[!code-aspx[Main](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/samples/sample1.aspx)]

<span data-ttu-id="17b01-155">Všimněte si, že tento TemplateField měli tři šablony vytvoří automaticky `ItemTemplate`, `EditItemTemplate`, a `InsertItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="17b01-155">Note that this TemplateField had three templates automatically created `ItemTemplate`, `EditItemTemplate`, and `InsertItemTemplate`.</span></span> <span data-ttu-id="17b01-156">`ItemTemplate` Zobrazí hodnotu jednoho datového pole (`ProductName`) použití popisku webový ovládací prvek, zatímco `EditItemTemplate` a `InsertItemTemplate` současná hodnota pole dat v ovládacím prvku webového textové pole, která přidružuje pole data textového pole `Text` Vlastnost s použitím dvousměrnou datovou vazbou.</span><span class="sxs-lookup"><span data-stu-id="17b01-156">The `ItemTemplate` displays a single data field value (`ProductName`) using a Label Web control, while the `EditItemTemplate` and `InsertItemTemplate` present the data field value in a TextBox Web control that associates the data field with the TextBox's `Text` property using two-way databinding.</span></span> <span data-ttu-id="17b01-157">Protože ovládacím prvku DetailsView. na této stránce se používá pouze pro vkládání, můžete odebrat `ItemTemplate` a `EditItemTemplate` ze dvou vlastností TemplateField, i když není na jejich opuštění škodu.</span><span class="sxs-lookup"><span data-stu-id="17b01-157">Since we are only using the DetailsView in this page for inserting, you may remove the `ItemTemplate` and `EditItemTemplate` from the two TemplateFields, although there's no harm in leaving them.</span></span>

<span data-ttu-id="17b01-158">Protože prvku GridView nepodporuje integrované vkládání funkcí prvku DetailsView, převod prvku GridView `ProductName` pole na pole TemplateField vede pouze `ItemTemplate` a `EditItemTemplate`:</span><span class="sxs-lookup"><span data-stu-id="17b01-158">Since the GridView does not support the built-in inserting features of the DetailsView, converting the GridView's `ProductName` field into a TemplateField results in only an `ItemTemplate` and `EditItemTemplate`:</span></span>

[!code-aspx[Main](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/samples/sample2.aspx)]

<span data-ttu-id="17b01-159">Kliknutím na tlačítko "Převést toto pole na pole TemplateField" Visual Studio vytvořila TemplateField jehož šablony napodobují uživatelské rozhraní převedený Vlastnost BoundField.</span><span class="sxs-lookup"><span data-stu-id="17b01-159">By clicking the "Convert this field into a TemplateField," Visual Studio has created a TemplateField whose templates mimic the user interface of the converted BoundField.</span></span> <span data-ttu-id="17b01-160">Můžete to ověřit tak navštívit tuto stránku prostřednictvím prohlížeče.</span><span class="sxs-lookup"><span data-stu-id="17b01-160">You can verify this by visiting this page through a browser.</span></span> <span data-ttu-id="17b01-161">Zjistíte, že vzhled a chování vlastností TemplateField je stejný jako zkušenosti při BoundFields používaly místo.</span><span class="sxs-lookup"><span data-stu-id="17b01-161">You'll find that the appearance and behavior of the TemplateFields is identical to the experience when BoundFields were used instead.</span></span>

> [!NOTE]
> <span data-ttu-id="17b01-162">Nebojte se, že přizpůsobení rozhraní pro úpravy v šablonách podle potřeby.</span><span class="sxs-lookup"><span data-stu-id="17b01-162">Feel free to customize the editing interfaces in the templates as needed.</span></span> <span data-ttu-id="17b01-163">Například může Chceme mít textovém poli `UnitPrice` vlastností TemplateField vykreslen jako textové pole s menší než `ProductName` textového pole.</span><span class="sxs-lookup"><span data-stu-id="17b01-163">For example, we may want to have the TextBox in the `UnitPrice` TemplateFields rendered as a smaller textbox than the `ProductName` textbox.</span></span> <span data-ttu-id="17b01-164">K tomu můžete nastavit textové pole `Columns` vlastnost na odpovídající hodnotu nebo zadejte absolutní šířky prostřednictvím `Width` vlastnost.</span><span class="sxs-lookup"><span data-stu-id="17b01-164">To accomplish this you can set the TextBox's `Columns` property to an appropriate value or provide an absolute width via the `Width` property.</span></span> <span data-ttu-id="17b01-165">V dalším kurzu uvidíme zcela přizpůsobení rozhraní pro úpravy nahrazením alternativní datový záznam webový ovládací prvek textového pole.</span><span class="sxs-lookup"><span data-stu-id="17b01-165">In the next tutorial we'll see how to completely customize the editing interface by replacing the TextBox with an alternate data entry Web control.</span></span>


## <a name="step-3-adding-the-validation-controls-to-the-gridviewsedititemtemplate-s"></a><span data-ttu-id="17b01-166">Krok 3: Přidání validačních ovládacích prvků do prvku GridView`EditItemTemplate` s</span><span class="sxs-lookup"><span data-stu-id="17b01-166">Step 3: Adding the Validation Controls to the GridView's`EditItemTemplate` s</span></span>

<span data-ttu-id="17b01-167">Při vytváření formuláře pro zadávání dat, je důležité, aby uživatelé zadali všechna povinná pole a zda všechny zadané vstupy jsou hodnoty právní, správně naformátovaná.</span><span class="sxs-lookup"><span data-stu-id="17b01-167">When constructing data entry forms, it is important that users enter any required fields and that all provided inputs are legal, properly-formatted values.</span></span> <span data-ttu-id="17b01-168">K zajištění, že jsou platné uživatelské vstupy, technologie ASP.NET poskytuje pět ověření integrované ovládací prvky, které jsou navržené tak, který se má použít k ověření hodnoty jednoho vstupního ovládacího prvku:</span><span class="sxs-lookup"><span data-stu-id="17b01-168">To help ensure that a user's inputs are valid, ASP.NET provides five built-in validation controls that are designed to be used to validate the value of a single input control:</span></span>

- <span data-ttu-id="17b01-169">[RequiredFieldValidator](https://msdn.microsoft.com/library/5hbw267h(VS.80).aspx) zajistí, že byl poskytnut hodnotu</span><span class="sxs-lookup"><span data-stu-id="17b01-169">[RequiredFieldValidator](https://msdn.microsoft.com/library/5hbw267h(VS.80).aspx) ensures that a value has been provided</span></span>
- <span data-ttu-id="17b01-170">[CompareValidator](https://msdn.microsoft.com/library/db330ayw(VS.80).aspx) ověřuje hodnoty s jinou hodnotou ovládací prvek webové nebo konstantní hodnotu, nebo se zajistí, že formát hodnoty je platný pro zadaný datový typ</span><span class="sxs-lookup"><span data-stu-id="17b01-170">[CompareValidator](https://msdn.microsoft.com/library/db330ayw(VS.80).aspx) validates a value against another Web control value or a constant value, or ensures that the value's format is legal for a specified data type</span></span>
- <span data-ttu-id="17b01-171">[RangeValidator](https://msdn.microsoft.com/library/f70d09xt.aspx) zajistí, že je hodnota v rozsahu hodnot</span><span class="sxs-lookup"><span data-stu-id="17b01-171">[RangeValidator](https://msdn.microsoft.com/library/f70d09xt.aspx) ensures that a value is within a range of values</span></span>
- <span data-ttu-id="17b01-172">[RegularExpressionValidator](https://msdn.microsoft.com/library/eahwtc9e.aspx) hodnotu porovnává [regulárního výrazu](http://en.wikipedia.org/wiki/Regular_expression)</span><span class="sxs-lookup"><span data-stu-id="17b01-172">[RegularExpressionValidator](https://msdn.microsoft.com/library/eahwtc9e.aspx) validates a value against a [regular expression](http://en.wikipedia.org/wiki/Regular_expression)</span></span>
- <span data-ttu-id="17b01-173">[CustomValidator](https://msdn.microsoft.com/library/9eee01cx(VS.80).aspx) hodnotu porovnává vlastní, uživatelem definované metody</span><span class="sxs-lookup"><span data-stu-id="17b01-173">[CustomValidator](https://msdn.microsoft.com/library/9eee01cx(VS.80).aspx) validates a value against a custom, user-defined method</span></span>

<span data-ttu-id="17b01-174">Další informace o těchto pět ovládacích prvků, podívejte se [validačních ovládacích prvků části](https://quickstarts.asp.net/quickstartv20/aspnet/doc/ctrlref/validation/default.aspx) z [kurzy rychlý start ASP.NET](https://asp.net/QuickStart/aspnet/).</span><span class="sxs-lookup"><span data-stu-id="17b01-174">For more information on these five controls, check out the [Validation Controls section](https://quickstarts.asp.net/quickstartv20/aspnet/doc/ctrlref/validation/default.aspx) of the [ASP.NET Quickstart Tutorials](https://asp.net/QuickStart/aspnet/).</span></span>

<span data-ttu-id="17b01-175">V našem kurzu budeme muset použít RequiredFieldValidator v prvku DetailsView i v prvku GridView `ProductName` vlastností TemplateField a RequiredFieldValidator v ovládacím prvku DetailsView `UnitPrice` TemplateField.</span><span class="sxs-lookup"><span data-stu-id="17b01-175">For our tutorial we'll need to use a RequiredFieldValidator in both the DetailsView and GridView's `ProductName` TemplateFields and a RequiredFieldValidator in the DetailsView's `UnitPrice` TemplateField.</span></span> <span data-ttu-id="17b01-176">Kromě toho budeme muset přidat CompareValidator oba ovládací prvky `UnitPrice` vlastností TemplateField, který zajistí, že zadaná cena má hodnotu větší než nebo rovna 0 a je uvedené ve formátu platné měny.</span><span class="sxs-lookup"><span data-stu-id="17b01-176">Furthermore, we'll need to add a CompareValidator to both controls' `UnitPrice` TemplateFields that ensures that the entered price has a value greater than or equal to 0 and is presented in a valid currency format.</span></span>

> [!NOTE]
> <span data-ttu-id="17b01-177">Zatímco ASP.NET 1.x měla tyto stejné pět validačních ovládacích prvků, technologii ASP.NET 2.0 bylo přidáno několik vylepšení, hlavní dvou skriptů na straně klienta se podpora prohlížečích než Internet Explorer a schopnost oddílu validačních ovládacích prvků na stránce do ověření skupiny.</span><span class="sxs-lookup"><span data-stu-id="17b01-177">While ASP.NET 1.x had these same five validation controls, ASP.NET 2.0 has added a number of improvements, the main two being client-side script support for browsers other than Internet Explorer and the ability to partition validation controls on a page into validation groups.</span></span> <span data-ttu-id="17b01-178">Další informace o nových funkcích ovládacího prvku ověření ve verzi 2.0, přečtěte si [rozbor validačních ovládacích prvků v technologii ASP.NET 2.0](http://aspnet.4guysfromrolla.com/articles/112305-1.aspx).</span><span class="sxs-lookup"><span data-stu-id="17b01-178">For more information on the new validation control features in 2.0, refer to [Dissecting the Validation Controls in ASP.NET 2.0](http://aspnet.4guysfromrolla.com/articles/112305-1.aspx).</span></span>


<span data-ttu-id="17b01-179">Začněme přidáním nezbytné validačních ovládacích prvků na `EditItemTemplate` s vlastností TemplateField v prvku GridView.</span><span class="sxs-lookup"><span data-stu-id="17b01-179">Let's start by adding the necessary validation controls to the `EditItemTemplate` s in the GridView's TemplateFields.</span></span> <span data-ttu-id="17b01-180">K tomu, klikněte na odkaz Upravit šablony z prvku GridView inteligentních značek zobrazíte rozhraní úprav šablony.</span><span class="sxs-lookup"><span data-stu-id="17b01-180">To accomplish this, click on the Edit Templates link from the GridView's smart tag to bring up the template editing interface.</span></span> <span data-ttu-id="17b01-181">Tady můžete vybrat šablonu upravit v rozevíracím seznamu.</span><span class="sxs-lookup"><span data-stu-id="17b01-181">From here, you can select which template to edit from the drop-down list.</span></span> <span data-ttu-id="17b01-182">Protože chceme rozšířit rozhraní úprav, musíme přidání validačních ovládacích prvků na `ProductName` a `UnitPrice`společnosti `EditItemTemplate` s.</span><span class="sxs-lookup"><span data-stu-id="17b01-182">Since we want to augment the editing interface, we need to add validation controls to the `ProductName` and `UnitPrice`'s `EditItemTemplate` s.</span></span>


[![W<span data-ttu-id="17b01-183">e potřeba rozšířit ProductName a EditItemTemplates UnitPrice.]</span><span class="sxs-lookup"><span data-stu-id="17b01-183">e Need to Extend the ProductName and UnitPrice's EditItemTemplates]</span></span>(adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image11.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image10.png)

<span data-ttu-id="17b01-184">**Obrázek 4**: Musíme rozšířit `ProductName` a `UnitPrice`společnosti `EditItemTemplate` s ([kliknutím ji zobrazíte obrázek v plné velikosti](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="17b01-184">**Figure 4**: We Need to Extend the `ProductName` and `UnitPrice`'s `EditItemTemplate` s ([Click to view full-size image](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image12.png))</span></span>


<span data-ttu-id="17b01-185">V `ProductName` `EditItemTemplate`, přidejte RequiredFieldValidator jeho přetažením z panelu nástrojů do rozhraní pro úpravy šablony, umístit po textového pole.</span><span class="sxs-lookup"><span data-stu-id="17b01-185">In the `ProductName` `EditItemTemplate`, add a RequiredFieldValidator by dragging it from the Toolbox into the template editing interface, placing after the TextBox.</span></span>


[![A<span data-ttu-id="17b01-186">dd RequiredFieldValidator k ProductName EditItemTemplate]</span><span class="sxs-lookup"><span data-stu-id="17b01-186">dd a RequiredFieldValidator to the ProductName EditItemTemplate]</span></span>(adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image14.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image13.png)

<span data-ttu-id="17b01-187">**Obrázek 5**: Přidat RequiredFieldValidator k `ProductName` `EditItemTemplate` ([kliknutím ji zobrazíte obrázek v plné velikosti](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image15.png))</span><span class="sxs-lookup"><span data-stu-id="17b01-187">**Figure 5**: Add a RequiredFieldValidator to the `ProductName` `EditItemTemplate` ([Click to view full-size image](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image15.png))</span></span>


<span data-ttu-id="17b01-188">Všechny ovládací prvky ověřování pracujte ověření vstupu jeden ovládací prvek technologie ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="17b01-188">All validation controls work by validating the input of a single ASP.NET Web control.</span></span> <span data-ttu-id="17b01-189">Proto potřebujeme k označení, že RequiredFieldValidator jsme právě přidali, měli ověřit proti textového pole ve `EditItemTemplate`; to lze provést nastavením ovládacího prvku ověření [vlastnost ControlToValidate](https://msdn.microsoft.com/library/system.web.ui.webcontrols.basevalidator.controltovalidate(VS.80).aspx) k `ID` odpovídající webového ovládacího prvku.</span><span class="sxs-lookup"><span data-stu-id="17b01-189">Therefore, we need to indicate that the RequiredFieldValidator we just added should validate against the TextBox in the `EditItemTemplate`; this is accomplished by setting the validation control's [ControlToValidate property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.basevalidator.controltovalidate(VS.80).aspx) to the `ID` of the appropriate Web control.</span></span> <span data-ttu-id="17b01-190">Textové pole má v současné době spíše nondescript `ID` z `TextBox1`, ale můžeme ho změnit na něco vhodnějšího.</span><span class="sxs-lookup"><span data-stu-id="17b01-190">The TextBox currently has the rather nondescript `ID` of `TextBox1`, but let's change it to something more appropriate.</span></span> <span data-ttu-id="17b01-191">Klikněte na textové pole v šabloně a potom v okně Vlastnosti změňte `ID` z `TextBox1` k `EditProductName`.</span><span class="sxs-lookup"><span data-stu-id="17b01-191">Click on the TextBox in the template and then, from the Properties window, change the `ID` from `TextBox1` to `EditProductName`.</span></span>


[![C<span data-ttu-id="17b01-192">změnit textové pole pro ID EditProductName]</span><span class="sxs-lookup"><span data-stu-id="17b01-192">hange the TextBox's ID to EditProductName]</span></span>(adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image17.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image16.png)

<span data-ttu-id="17b01-193">**Obrázek 6**: Změnit textovém poli `ID` k `EditProductName` ([kliknutím ji zobrazíte obrázek v plné velikosti](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image18.png))</span><span class="sxs-lookup"><span data-stu-id="17b01-193">**Figure 6**: Change the TextBox's `ID` to `EditProductName` ([Click to view full-size image](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image18.png))</span></span>


<span data-ttu-id="17b01-194">Dále nastavte RequiredFieldValidator `ControlToValidate` vlastnost `EditProductName`.</span><span class="sxs-lookup"><span data-stu-id="17b01-194">Next, set the RequiredFieldValidator's `ControlToValidate` property to `EditProductName`.</span></span> <span data-ttu-id="17b01-195">Nastavte [ErrorMessage vlastnost](https://msdn.microsoft.com/library/system.web.ui.webcontrols.basevalidator.errormessage(VS.80).aspx) na "Je nutné zadat název produktu" a [vlastnost Text](https://msdn.microsoft.com/library/system.web.ui.webcontrols.basevalidator.text(VS.80).aspx) na "\*".</span><span class="sxs-lookup"><span data-stu-id="17b01-195">Finally, set the [ErrorMessage property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.basevalidator.errormessage(VS.80).aspx) to "You must provide the product's name" and the [Text property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.basevalidator.text(VS.80).aspx) to "\*".</span></span> <span data-ttu-id="17b01-196">`Text` Hodnota vlastnosti, pokud je zadán, je text, který se zobrazí v ovládacím prvku ověření, pokud se ověření nezdaří.</span><span class="sxs-lookup"><span data-stu-id="17b01-196">The `Text` property value, if provided, is the text that is displayed by the validation control if the validation fails.</span></span> <span data-ttu-id="17b01-197">`ErrorMessage` Hodnotu vlastnosti, které je potřeba, se používá prvek; Pokud `Text` hodnota vlastnosti je vynechán, `ErrorMessage` hodnota vlastnosti je také text zobrazený v ovládacím prvku ověření na neplatný vstup.</span><span class="sxs-lookup"><span data-stu-id="17b01-197">The `ErrorMessage` property value, which is required, is used by the ValidationSummary control; if the `Text` property value is omitted, the `ErrorMessage` property value is also the text displayed by the validation control on invalid input.</span></span>

<span data-ttu-id="17b01-198">Po nastavení tyto tři vlastnosti RequiredFieldValidator, vaše obrazovka by měla vypadat podobně jako na obrázku 7.</span><span class="sxs-lookup"><span data-stu-id="17b01-198">After setting these three properties of the RequiredFieldValidator, your screen should look similar to Figure 7.</span></span>


[![S<span data-ttu-id="17b01-199">et ControlToValidate, chybová zpráva a vlastnosti Text RequiredFieldValidator]</span><span class="sxs-lookup"><span data-stu-id="17b01-199">et the RequiredFieldValidator's ControlToValidate, ErrorMessage, and Text Properties]</span></span>(adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image20.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image19.png)

<span data-ttu-id="17b01-200">**Obrázek 7**: Nastavte RequiredFieldValidator `ControlToValidate`, `ErrorMessage`, a `Text` vlastnosti ([kliknutím ji zobrazíte obrázek v plné velikosti](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image21.png))</span><span class="sxs-lookup"><span data-stu-id="17b01-200">**Figure 7**: Set the RequiredFieldValidator's `ControlToValidate`, `ErrorMessage`, and `Text` Properties ([Click to view full-size image](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image21.png))</span></span>


<span data-ttu-id="17b01-201">S RequiredFieldValidator přidán do `ProductName` `EditItemTemplate`, all, zůstane je přidat nezbytné k ověření `UnitPrice` `EditItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="17b01-201">With the RequiredFieldValidator added to the `ProductName` `EditItemTemplate`, all that remains is to add the necessary validation to the `UnitPrice` `EditItemTemplate`.</span></span> <span data-ttu-id="17b01-202">Protože jsme jste se rozhodli, že pro tuto stránku `UnitPrice` volitelně při upravuje záznam, není potřeba přidat RequiredFieldValidator.</span><span class="sxs-lookup"><span data-stu-id="17b01-202">Since we've decided that, for this page, the `UnitPrice` is optional when editing a record, we don't need to add a RequiredFieldValidator.</span></span> <span data-ttu-id="17b01-203">, Ale potřebujeme přidat CompareValidator zajistit, aby `UnitPrice`, je-li zadán, je ve správném formátu jako měnu a je větší než nebo rovna 0.</span><span class="sxs-lookup"><span data-stu-id="17b01-203">We do, however, need to add a CompareValidator to ensure that the `UnitPrice`, if supplied, is properly formatted as a currency and is greater than or equal to 0.</span></span>

<span data-ttu-id="17b01-204">Než přidáme CompareValidator k `UnitPrice` `EditItemTemplate`, Změníme nejprve ID ovládacího prvku textového pole webového z `TextBox2` k `EditUnitPrice`.</span><span class="sxs-lookup"><span data-stu-id="17b01-204">Before we add the CompareValidator to the `UnitPrice` `EditItemTemplate`, let's first change the TextBox Web control's ID from `TextBox2` to `EditUnitPrice`.</span></span> <span data-ttu-id="17b01-205">Po provedení této změny, přidejte CompareValidator, nastavení jeho `ControlToValidate` vlastnost `EditUnitPrice`, jeho `ErrorMessage` vlastnost "cena musí být větší než nebo rovna nule a nemůže obsahovat symbol měny" a jeho `Text` vlastnost "\*".</span><span class="sxs-lookup"><span data-stu-id="17b01-205">After making this change, add the CompareValidator, setting its `ControlToValidate` property to `EditUnitPrice`, its `ErrorMessage` property to "The price must be greater than or equal to zero and cannot include the currency symbol", and its `Text` property to "\*".</span></span>

<span data-ttu-id="17b01-206">Označuje, že `UnitPrice` hodnota musí být větší než nebo rovno 0, nastavte CompareValidator [operátor vlastnost](https://msdn.microsoft.com/library/system.web.ui.webcontrols.comparevalidator.operator(VS.80).aspx) k `GreaterThanEqual`, jeho [ValueToCompare vlastnost](https://msdn.microsoft.com/library/system.web.ui.webcontrols.comparevalidator.valuetocompare(VS.80).aspx) "0" a jeho [ Zadejte vlastnost](https://msdn.microsoft.com/library/system.web.ui.webcontrols.basecomparevalidator.type.aspx) k `Currency`.</span><span class="sxs-lookup"><span data-stu-id="17b01-206">To indicate that the `UnitPrice` value must be greater than or equal to 0, set the CompareValidator's [Operator property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.comparevalidator.operator(VS.80).aspx) to `GreaterThanEqual`, its [ValueToCompare property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.comparevalidator.valuetocompare(VS.80).aspx) to "0", and its [Type property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.basecomparevalidator.type.aspx) to `Currency`.</span></span> <span data-ttu-id="17b01-207">Zobrazí se následující deklarativní syntaxe `UnitPrice` společnosti TemplateField `EditItemTemplate` po provedení těchto změn:</span><span class="sxs-lookup"><span data-stu-id="17b01-207">The following declarative syntax shows the `UnitPrice` TemplateField's `EditItemTemplate` after these changes have been made:</span></span>

[!code-aspx[Main](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/samples/sample3.aspx)]

<span data-ttu-id="17b01-208">Po provedení těchto změn, otevřete stránku v prohlížeči.</span><span class="sxs-lookup"><span data-stu-id="17b01-208">After making these changes, open the page in a browser.</span></span> <span data-ttu-id="17b01-209">Při pokusu vynechat název nebo zadejte hodnotu Neplatná cena při úpravách produktu, se zobrazí hvězdičku vedle textového pole.</span><span class="sxs-lookup"><span data-stu-id="17b01-209">If you attempt to omit the name or enter an invalid price value when editing a product, an asterisk appears next to the textbox.</span></span> <span data-ttu-id="17b01-210">Jak ukazuje obrázek 8, cena hodnotu, která obsahuje symbol měny, jako je například 19,95 je považovány za neplatné.</span><span class="sxs-lookup"><span data-stu-id="17b01-210">As Figure 8 shows, a price value that includes the currency symbol such as $19.95 is considered invalid.</span></span> <span data-ttu-id="17b01-211">CompareValidator `Currency` `Type` umožňuje oddělovače číslic (například mezery nebo období, v závislosti na nastavení jazykové verze) a předních plus nebo mínus, ale nemá *není* povolit symbol měny.</span><span class="sxs-lookup"><span data-stu-id="17b01-211">The CompareValidator's `Currency` `Type` allows for digit separators (such as commas or periods, depending on the culture settings) and a leading plus or minus sign, but does *not* permit a currency symbol.</span></span> <span data-ttu-id="17b01-212">Toto chování může perplex uživatelů, jak rozhraní úprav aktuálně vykreslí `UnitPrice` formátu měny.</span><span class="sxs-lookup"><span data-stu-id="17b01-212">This behavior may perplex users as the editing interface currently renders the `UnitPrice` using the currency format.</span></span>

> [!NOTE]
> <span data-ttu-id="17b01-213">Připomínáme, že v *události přidružené k vložení, aktualizace a odstranění* kurzu nastavíme Vlastnost BoundField `DataFormatString` vlastnost `{0:c}` provedu formátování jako měnu.</span><span class="sxs-lookup"><span data-stu-id="17b01-213">Recall that in the *Events Associated with Inserting, Updating, and Deleting* tutorial we set the BoundField's `DataFormatString` property to `{0:c}` in order to format it as a currency.</span></span> <span data-ttu-id="17b01-214">Kromě toho jsme nastavili `ApplyFormatInEditMode` vlastnost na hodnotu true, způsobí prvku GridView uživatele úpravy rozhraní k formátování `UnitPrice` jako měnu.</span><span class="sxs-lookup"><span data-stu-id="17b01-214">Furthermore, we set the `ApplyFormatInEditMode` property to true, causing the GridView's editing interface to format the `UnitPrice` as a currency.</span></span> <span data-ttu-id="17b01-215">Při převodu Vlastnost BoundField na pole TemplateField, Visual Studio jste si poznamenali tato nastavení a textového pole ve formátu `Text` vlastnost jako měnu pomocí syntaxe databinding `<%# Bind("UnitPrice", "{0:c}") %>`.</span><span class="sxs-lookup"><span data-stu-id="17b01-215">When converting the BoundField into a TemplateField, Visual Studio noted these settings and formatted the TextBox's `Text` property as a currency using the databinding syntax `<%# Bind("UnitPrice", "{0:c}") %>`.</span></span>


[![A<span data-ttu-id="17b01-216">n hvězdičku vedle textových polí s neplatný vstup]</span><span class="sxs-lookup"><span data-stu-id="17b01-216">n Asterisk Appears Next to the Textboxes with Invalid Input]</span></span>(adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image23.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image22.png)

<span data-ttu-id="17b01-217">**Obrázek 8**: Hvězdička se zobrazí další textová pole s neplatný vstup ([kliknutím ji zobrazíte obrázek v plné velikosti](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image24.png))</span><span class="sxs-lookup"><span data-stu-id="17b01-217">**Figure 8**: An Asterisk Appears Next to the Textboxes with Invalid Input ([Click to view full-size image](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image24.png))</span></span>


<span data-ttu-id="17b01-218">Při ověřování funguje jako-se, uživatel musí při úpravách záznam, který není přijatelné, ručně odeberte symbol měny.</span><span class="sxs-lookup"><span data-stu-id="17b01-218">While the validation works as-is, the user has to manually remove the currency symbol when editing a record, which is not acceptable.</span></span> <span data-ttu-id="17b01-219">Chcete-li to napravit, máme tři možnosti:</span><span class="sxs-lookup"><span data-stu-id="17b01-219">To remedy this, we have three options:</span></span>

1. <span data-ttu-id="17b01-220">Konfigurace `EditItemTemplate` tak, aby `UnitPrice` hodnota není naformátována jako měnu.</span><span class="sxs-lookup"><span data-stu-id="17b01-220">Configure the `EditItemTemplate` so that the `UnitPrice` value is not formatted as a currency.</span></span>
2. <span data-ttu-id="17b01-221">Povolit, aby uživatel zadal symbol měny odebráním CompareValidator a jeho nahrazení atributem RegularExpressionValidator, vyhledávající správně hodnotu správně formátovaná měny.</span><span class="sxs-lookup"><span data-stu-id="17b01-221">Allow the user to enter a currency symbol by removing the CompareValidator and replacing it with a RegularExpressionValidator that properly checks for a properly formatted currency value.</span></span> <span data-ttu-id="17b01-222">Problémem je, že regulární výraz k ověření hodnotu měny není přehlednou a bude vyžadovat psaní kódu, pokud jsme chtěli začlenit nastavení jazykové verze.</span><span class="sxs-lookup"><span data-stu-id="17b01-222">The problem here is that the regular expression to validate a currency value is not pretty and would require writing code if we wanted to incorporate culture settings.</span></span>
3. <span data-ttu-id="17b01-223">Úplně odebrat ovládací prvek ověření a Spolehněte se na logiku ověřování na straně serveru v prvku GridView `RowUpdating` obslužné rutiny události.</span><span class="sxs-lookup"><span data-stu-id="17b01-223">Remove the validation control altogether and rely on server-side validation logic in the GridView's `RowUpdating` event handler.</span></span>

<span data-ttu-id="17b01-224">Pojďme se možnost #1 pro účely tohoto cvičení.</span><span class="sxs-lookup"><span data-stu-id="17b01-224">Let's go with option #1 for this exercise.</span></span> <span data-ttu-id="17b01-225">Aktuálně `UnitPrice` je ve formátu měny z důvodu výraz datové vazby pro textové pole v `EditItemTemplate`: `<%# Bind("UnitPrice", "{0:c}") %>`.</span><span class="sxs-lookup"><span data-stu-id="17b01-225">Currently the `UnitPrice` is formatted as a currency due to the databinding expression for the TextBox in the `EditItemTemplate`: `<%# Bind("UnitPrice", "{0:c}") %>`.</span></span> <span data-ttu-id="17b01-226">Změnit vazby příkazu k `Bind("UnitPrice", "{0:n2}")`, který zformátuje výsledek jako číslo s dvěma číslicemi přesnosti.</span><span class="sxs-lookup"><span data-stu-id="17b01-226">Change the Bind statement to `Bind("UnitPrice", "{0:n2}")`, which formats the result as a number with two digits of precision.</span></span> <span data-ttu-id="17b01-227">To můžete udělat přímo pomocí deklarativní syntaxe nebo kliknutím na odkaz upravit vlastnosti DataBindings z `EditUnitPrice` textového pole v `UnitPrice` společnosti TemplateField `EditItemTemplate` (viz obrázky 9 a 10).</span><span class="sxs-lookup"><span data-stu-id="17b01-227">This can be done directly through the declarative syntax or by clicking on the Edit DataBindings link from the `EditUnitPrice` TextBox in the `UnitPrice` TemplateField's `EditItemTemplate` (see Figures 9 and 10).</span></span>


[![C<span data-ttu-id="17b01-228">Klepněte na odkaz Upravit datové vazby textové pole]</span><span class="sxs-lookup"><span data-stu-id="17b01-228">lick on the TextBox's Edit DataBindings link]</span></span>(adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image26.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image25.png)

<span data-ttu-id="17b01-229">**Obrázek 9**: Klikněte na odkaz Upravit datové vazby textové pole ([kliknutím ji zobrazíte obrázek v plné velikosti](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image27.png))</span><span class="sxs-lookup"><span data-stu-id="17b01-229">**Figure 9**: Click on the TextBox's Edit DataBindings link ([Click to view full-size image](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image27.png))</span></span>


[![S<span data-ttu-id="17b01-230">Specifikátor formátu v příkazu vytvoření vazby zadejte]</span><span class="sxs-lookup"><span data-stu-id="17b01-230">pecify the Format Specifier in the Bind Statement]</span></span>(adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image29.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image28.png)

<span data-ttu-id="17b01-231">**Obrázek 10**: Zadejte formát specifikátoru v `Bind` – příkaz ([kliknutím ji zobrazíte obrázek v plné velikosti](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image30.png))</span><span class="sxs-lookup"><span data-stu-id="17b01-231">**Figure 10**: Specify the Format Specifier in the `Bind` Statement ([Click to view full-size image](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image30.png))</span></span>


<span data-ttu-id="17b01-232">Díky této změně formátovaný cena úpravy rozhraní zahrnuje čárky jako oddělovače skupin a tečku jako oddělovač desetinných míst, ale ponechá vypnout symbol měny.</span><span class="sxs-lookup"><span data-stu-id="17b01-232">With this change, the formatted price in the editing interface includes commas as the group separator and a period as the decimal separator, but leaves off the currency symbol.</span></span>

> [!NOTE]
> <span data-ttu-id="17b01-233">`UnitPrice` `EditItemTemplate` Neobsahuje RequiredFieldValidator, povolení zpětné volání, aby a aktualizace logiky a zahájení.</span><span class="sxs-lookup"><span data-stu-id="17b01-233">The `UnitPrice` `EditItemTemplate` doesn't include a RequiredFieldValidator, allowing the postback to ensue and the updating logic to commence.</span></span> <span data-ttu-id="17b01-234">Ale `RowUpdating` zkopírovaná z obslužné rutiny události *zkoumání události spojené s vložení, aktualizace a odstranění* kurz zahrnuje kontrolu prostřednictvím kódu programu, který zajistí, že `UnitPrice` je k dispozici.</span><span class="sxs-lookup"><span data-stu-id="17b01-234">However, the `RowUpdating` event handler copied over from the *Examining the Events Associated with Inserting, Updating, and Deleting* tutorial includes a programmatic check that ensures that the `UnitPrice` is provided.</span></span> <span data-ttu-id="17b01-235">Nebojte se odebrat tuto logiku, necháváme ji jak-, nebo přidat RequiredFieldValidator k `UnitPrice` `EditItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="17b01-235">Feel free to remove this logic, leave it in as-is, or add a RequiredFieldValidator to the `UnitPrice` `EditItemTemplate`.</span></span>


## <a name="step-4-summarizing-data-entry-problems"></a><span data-ttu-id="17b01-236">Krok 4: Shrnutí problémů položka dat</span><span class="sxs-lookup"><span data-stu-id="17b01-236">Step 4: Summarizing Data Entry Problems</span></span>

<span data-ttu-id="17b01-237">Kromě pěti ověřovacích ovládacích prvků technologie ASP.NET obsahuje [ovládacího prvku ValidationSummary](https://msdn.microsoft.com/library/f9h59855(VS.80).aspx), které ukazuje `ErrorMessage` s těmito validačních ovládacích prvků, které se zjistila neplatná data.</span><span class="sxs-lookup"><span data-stu-id="17b01-237">In addition to the five validation controls, ASP.NET includes the [ValidationSummary control](https://msdn.microsoft.com/library/f9h59855(VS.80).aspx), which displays the `ErrorMessage` s of those validation controls that detected invalid data.</span></span> <span data-ttu-id="17b01-238">Tato souhrnná data lze zobrazit jako text na webové stránce nebo přes pole messagebox modální, na straně klienta.</span><span class="sxs-lookup"><span data-stu-id="17b01-238">This summary data can be displayed as text on the web page or through a modal, client-side messagebox.</span></span> <span data-ttu-id="17b01-239">Můžeme vylepšit tento kurz a zahrnout pole messagebox na straně klienta sumarizace jakékoli zaznamenané problémy s ověřením.</span><span class="sxs-lookup"><span data-stu-id="17b01-239">Let's enhance this tutorial to include a client-side messagebox summarizing any validation problems.</span></span>

<span data-ttu-id="17b01-240">K tomu, přetáhněte ovládací prvek souhrnu ověření z panelu nástrojů do návrháře.</span><span class="sxs-lookup"><span data-stu-id="17b01-240">To accomplish this, drag a ValidationSummary control from the Toolbox onto the Designer.</span></span> <span data-ttu-id="17b01-241">Umístění ovládacího prvku ověření nezáleží, protože chceme ji můžete zobrazit souhrn jenom jako pole messagebox nakonfigurovat.</span><span class="sxs-lookup"><span data-stu-id="17b01-241">The location of the Validation control doesn't really matter, since we're going to configure it to only display the summary as a messagebox.</span></span> <span data-ttu-id="17b01-242">Po přidání ovládacího prvku, nastavte jeho [ShowSummary vlastnost](https://msdn.microsoft.com/library/system.web.ui.webcontrols.validationsummary.showsummary(VS.80).aspx) k `false` a jeho [ShowMessageBox vlastnost](https://msdn.microsoft.com/library/system.web.ui.webcontrols.validationsummary.showmessagebox(VS.80).aspx) k `true`.</span><span class="sxs-lookup"><span data-stu-id="17b01-242">After adding the control, set its [ShowSummary property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.validationsummary.showsummary(VS.80).aspx) to `false` and its [ShowMessageBox property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.validationsummary.showmessagebox(VS.80).aspx) to `true`.</span></span> <span data-ttu-id="17b01-243">Uveďte všechny chyby ověření jsou shrnuté v messagebox na straně klienta.</span><span class="sxs-lookup"><span data-stu-id="17b01-243">With this addition, any validation errors are summarized in a client-side messagebox.</span></span>


[![T<span data-ttu-id="17b01-244">Chyby ověření he jsou shrnuté v Messagebox Client-Side]</span><span class="sxs-lookup"><span data-stu-id="17b01-244">he Validation Errors are Summarized in a Client-Side Messagebox]</span></span>(adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image32.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image31.png)

<span data-ttu-id="17b01-245">**Obrázek 11**: Chyby ověření jsou shrnuté v Messagebox na straně klienta ([kliknutím ji zobrazíte obrázek v plné velikosti](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image33.png))</span><span class="sxs-lookup"><span data-stu-id="17b01-245">**Figure 11**: The Validation Errors are Summarized in a Client-Side Messagebox ([Click to view full-size image](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image33.png))</span></span>


## <a name="step-5-adding-the-validation-controls-to-the-detailsviewsinsertitemtemplate"></a><span data-ttu-id="17b01-246">Krok 5: Přidání validačních ovládacích prvků do ovládacího prvku DetailsView`InsertItemTemplate`</span><span class="sxs-lookup"><span data-stu-id="17b01-246">Step 5: Adding the Validation Controls to the DetailsView's`InsertItemTemplate`</span></span>

<span data-ttu-id="17b01-247">Pro účely tohoto kurzu už jen zbývá přidání validačních ovládacích prvků do rozhraní vložení prvku DetailsView.</span><span class="sxs-lookup"><span data-stu-id="17b01-247">All that remains for this tutorial is to add the validation controls to the DetailsView's inserting interface.</span></span> <span data-ttu-id="17b01-248">Přidání validačních ovládacích prvků na ovládacím prvku DetailsView šablony procesu je stejný jako, který vyšetřovány v kroku 3; proto jsme budete breeze prostřednictvím úkolu v tomto kroku.</span><span class="sxs-lookup"><span data-stu-id="17b01-248">The process of adding validation controls to the DetailsView's templates is identical to that examined in Step 3; therefore, we'll breeze through the task in this step.</span></span> <span data-ttu-id="17b01-249">Jako jsme to udělali s prvku GridView `EditItemTemplate` s, neváhejte se přejmenovat `ID` s textových polí z nondescript `TextBox1` a `TextBox2` k `InsertProductName` a `InsertUnitPrice`.</span><span class="sxs-lookup"><span data-stu-id="17b01-249">As we did with the GridView's `EditItemTemplate` s, I encourage you to rename the `ID` s of the TextBoxes from the nondescript `TextBox1` and `TextBox2` to `InsertProductName` and `InsertUnitPrice`.</span></span>

<span data-ttu-id="17b01-250">Přidat RequiredFieldValidator k `ProductName` `InsertItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="17b01-250">Add a RequiredFieldValidator to the `ProductName` `InsertItemTemplate`.</span></span> <span data-ttu-id="17b01-251">Nastavte `ControlToValidate` k `ID` textového pole v šabloně, jeho `Text` vlastnost "\*" a jeho `ErrorMessage` vlastnost "Je nutné zadat název produktu".</span><span class="sxs-lookup"><span data-stu-id="17b01-251">Set the `ControlToValidate` to the `ID` of the TextBox in the template, its `Text` property to "\*" and its `ErrorMessage` property to "You must provide the product's name".</span></span>

<span data-ttu-id="17b01-252">Protože `UnitPrice` je vyžaduje tuto stránku při přidání nového záznamu, přidejte RequiredFieldValidator k `UnitPrice` `InsertItemTemplate`a nastavte jeho `ControlToValidate`, `Text`, a `ErrorMessage` vlastnosti odpovídajícím způsobem.</span><span class="sxs-lookup"><span data-stu-id="17b01-252">Since the `UnitPrice` is required for this page when adding a new record, add a RequiredFieldValidator to the `UnitPrice` `InsertItemTemplate`, setting its `ControlToValidate`, `Text`, and `ErrorMessage` properties appropriately.</span></span> <span data-ttu-id="17b01-253">Nakonec přidejte CompareValidator k `UnitPrice` `InsertItemTemplate` také konfigurace jeho `ControlToValidate`, `Text`, `ErrorMessage`, `Type`, `Operator`, a `ValueToCompare` vlastnosti stejně, jako jsme to udělali s `UnitPrice`společnosti CompareValidator v prvku GridView `EditItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="17b01-253">Finally, add a CompareValidator to the `UnitPrice` `InsertItemTemplate` as well, configuring its `ControlToValidate`, `Text`, `ErrorMessage`, `Type`, `Operator`, and `ValueToCompare` properties just like we did with the `UnitPrice`'s CompareValidator in the GridView's `EditItemTemplate`.</span></span>

<span data-ttu-id="17b01-254">Po přidání těchto validačních ovládacích prvků, nelze přidat do systému, pokud jeho název není zadán, nebo pokud cena je záporné číslo nového produktu nebo neoprávněně ve formátu.</span><span class="sxs-lookup"><span data-stu-id="17b01-254">After adding these validation controls, a new product cannot be added to the system if its name is not supplied or if its price is a negative number or illegally formatted.</span></span>


[![V<span data-ttu-id="17b01-255">alidation přidané logiky k rozhraní vložení prvku DetailsView]</span><span class="sxs-lookup"><span data-stu-id="17b01-255">alidation Logic has been Added to the DetailsView's Inserting Interface]</span></span>(adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image35.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image34.png)

<span data-ttu-id="17b01-256">**Obrázek 12**: Logiku ověřování je přidaný do rozhraní vložení prvku DetailsView ([kliknutím ji zobrazíte obrázek v plné velikosti](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image36.png))</span><span class="sxs-lookup"><span data-stu-id="17b01-256">**Figure 12**: Validation Logic has been Added to the DetailsView's Inserting Interface ([Click to view full-size image](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image36.png))</span></span>


## <a name="step-6-partitioning-the-validation-controls-into-validation-groups"></a><span data-ttu-id="17b01-257">Krok 6: Rozdělování ovládací prvky ověřování do ověření skupiny</span><span class="sxs-lookup"><span data-stu-id="17b01-257">Step 6: Partitioning the Validation Controls Into Validation Groups</span></span>

<span data-ttu-id="17b01-258">Naši stránku se skládá ze dvou logicky různorodé sady validačních ovládacích prvků: ty, které odpovídají prvku GridView je úprava rozhraní a ty, které odpovídají na ovládacím prvku DetailsView je vložení rozhraní.</span><span class="sxs-lookup"><span data-stu-id="17b01-258">Our page consists of two logically disparate sets of validation controls: those that correspond to the GridView's editing interface and those that correspond to the DetailsView's inserting interface.</span></span> <span data-ttu-id="17b01-259">Ve výchozím nastavení, když dojde k postbacku *všechny* validačních ovládacích prvků na stránce nebyly zvoleny.</span><span class="sxs-lookup"><span data-stu-id="17b01-259">By default, when a postback occurs *all* validation controls on the page are checked.</span></span> <span data-ttu-id="17b01-260">Ale při úpravě záznamu nechceme ovládacím prvku DetailsView vkládání rozhraní validačních ovládacích prvků pro ověření.</span><span class="sxs-lookup"><span data-stu-id="17b01-260">However, when editing a record we don't want the DetailsView's inserting interface's validation controls to validate.</span></span> <span data-ttu-id="17b01-261">Obrázek 13 ukazuje naše aktuální dilema, když uživatel upravuje produkt s naprosto platné hodnoty, kliknutím na aktualizace způsobí chybu ověřování, protože hodnoty název a cena vkládání rozhraní jsou prázdné.</span><span class="sxs-lookup"><span data-stu-id="17b01-261">Figure 13 illustrates our current dilemma when a user is editing a product with perfectly legal values, clicking Update causes a validation error because the name and price values in the inserting interface are blank.</span></span>


[![U<span data-ttu-id="17b01-262">ualizace produktu způsobí, že rozhraní vložení validačních ovládacích prvků vyvolání]</span><span class="sxs-lookup"><span data-stu-id="17b01-262">pdating a Product Causes the Inserting Interface's Validation Controls to Fire]</span></span>(adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image38.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image37.png)

<span data-ttu-id="17b01-263">**Obrázek 13**: Aktualizace produktu způsobí, že rozhraní vložení validačních ovládacích prvků vyvolání ([kliknutím ji zobrazíte obrázek v plné velikosti](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image39.png))</span><span class="sxs-lookup"><span data-stu-id="17b01-263">**Figure 13**: Updating a Product Causes the Inserting Interface's Validation Controls to Fire ([Click to view full-size image](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image39.png))</span></span>


<span data-ttu-id="17b01-264">Validačních ovládacích prvků v technologii ASP.NET 2.0 lze rozdělit do skupin ověřování prostřednictvím jejich `ValidationGroup` vlastnost.</span><span class="sxs-lookup"><span data-stu-id="17b01-264">The validation controls in ASP.NET 2.0 can be partitioned into validation groups through their `ValidationGroup` property.</span></span> <span data-ttu-id="17b01-265">Chcete-li přiřadit sadu ověřování ovládacích prvků ve skupině, jednoduše nastavte jejich `ValidationGroup` vlastnost na stejnou hodnotu.</span><span class="sxs-lookup"><span data-stu-id="17b01-265">To associate a set of validation controls in a group, simply set their `ValidationGroup` property to the same value.</span></span> <span data-ttu-id="17b01-266">V našem kurzu nastavte `ValidationGroup` vlastnosti validačních ovládacích prvků v prvku GridView vlastností TemplateField k `EditValidationControls` a `ValidationGroup` vlastnosti prvku DetailsView vlastností TemplateField k `InsertValidationControls`.</span><span class="sxs-lookup"><span data-stu-id="17b01-266">For our tutorial, set the `ValidationGroup` properties of the validation controls in the GridView's TemplateFields to `EditValidationControls` and the `ValidationGroup` properties of the DetailsView's TemplateFields to `InsertValidationControls`.</span></span> <span data-ttu-id="17b01-267">Tyto změny můžete udělat přímo v deklarativním označení nebo prostřednictvím okna Vlastnosti při použití návrháři upravit šablonu rozhraní.</span><span class="sxs-lookup"><span data-stu-id="17b01-267">These changes can be done directly in the declarative markup or through the Properties window when using the Designer's edit template interface.</span></span>

<span data-ttu-id="17b01-268">Kromě ověřování ovládacích prvků, tlačítka a tlačítka související ovládací prvky v technologii ASP.NET 2.0 také zahrnout `ValidationGroup` vlastnost.</span><span class="sxs-lookup"><span data-stu-id="17b01-268">In addition to the validation controls, the Button and Button-related controls in ASP.NET 2.0 also include a `ValidationGroup` property.</span></span> <span data-ttu-id="17b01-269">Kontroluje validátory skupiny ověření platnosti pouze při zpětném odeslání vyvolané vrácením hodnoty tlačítko, které má stejnou `ValidationGroup` nastavení vlastnosti.</span><span class="sxs-lookup"><span data-stu-id="17b01-269">A validation group's validators are checked for validity only when a postback is induced by a Button that has the same `ValidationGroup` property setting.</span></span> <span data-ttu-id="17b01-270">Například v pořadí pro tlačítko pro vložení prvku DetailsView k aktivaci `InsertValidationControls` skupiny ověření, musíme nastavit CommandField `ValidationGroup` vlastnost `InsertValidationControls` (viz obrázek 14).</span><span class="sxs-lookup"><span data-stu-id="17b01-270">For example, in order for the DetailsView's Insert button to trigger the `InsertValidationControls` validation group we need to set the CommandField's `ValidationGroup` property to `InsertValidationControls` (see Figure 14).</span></span> <span data-ttu-id="17b01-271">Kromě toho nastavení prvku GridView společnosti CommandField `ValidationGroup` vlastnost `EditValidationControls`.</span><span class="sxs-lookup"><span data-stu-id="17b01-271">Additionally, set the GridView's CommandField's `ValidationGroup` property to `EditValidationControls`.</span></span>


[![S<span data-ttu-id="17b01-272">et ovládacím prvku DetailsView vaší společnosti CommandField ValidationGroup vlastnost InsertValidationControls]</span><span class="sxs-lookup"><span data-stu-id="17b01-272">et the DetailsView's CommandField's ValidationGroup property to InsertValidationControls]</span></span>(adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image41.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image40.png)

<span data-ttu-id="17b01-273">**Obrázek 14**: Nastavte ovládacím prvku DetailsView CommandField `ValidationGroup` vlastnost `InsertValidationControls` ([kliknutím ji zobrazíte obrázek v plné velikosti](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image42.png))</span><span class="sxs-lookup"><span data-stu-id="17b01-273">**Figure 14**: Set the DetailsView's CommandField's `ValidationGroup` property to `InsertValidationControls` ([Click to view full-size image](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image42.png))</span></span>


<span data-ttu-id="17b01-274">Po provedení těchto změn by měl vypadat nějak takto DetailsView a prvku GridView vlastností TemplateField a CommandFields:</span><span class="sxs-lookup"><span data-stu-id="17b01-274">After these changes, the DetailsView and GridView's TemplateFields and CommandFields should look similar to the following:</span></span>

<span data-ttu-id="17b01-275">Vlastností TemplateField a CommandField ovládacího prvku DetailsView.</span><span class="sxs-lookup"><span data-stu-id="17b01-275">The DetailsView's TemplateFields and CommandField</span></span>

[!code-aspx[Main](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/samples/sample4.aspx)]

<span data-ttu-id="17b01-276">CommandField a vlastností TemplateField prvku GridView.</span><span class="sxs-lookup"><span data-stu-id="17b01-276">The GridView's CommandField and TemplateFields</span></span>

[!code-aspx[Main](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/samples/sample5.aspx)]

<span data-ttu-id="17b01-277">Specifické pro úpravy validačních ovládacích prvků v tomto okamžiku vyvolat pouze při prvku GridView aktualizace po kliknutí na tlačítko a ovládací prvky typu ověřování specifických pro vložení, pouze v případě, že ovládacím prvku DetailsView vložit po kliknutí na tlačítko, vyřešení problému zvýrazněná obrázek 13.</span><span class="sxs-lookup"><span data-stu-id="17b01-277">At this point the edit-specific validation controls fire only when the GridView's Update button is clicked and the insert-specific validation controls fire only when the DetailsView's Insert button is clicked, resolving the problem highlighted by Figure 13.</span></span> <span data-ttu-id="17b01-278">Však s touto změnou naše prvek se už nebude zobrazovat při zadávání neplatná data.</span><span class="sxs-lookup"><span data-stu-id="17b01-278">However, with this change our ValidationSummary control no longer displays when entering invalid data.</span></span> <span data-ttu-id="17b01-279">Také obsahuje prvek `ValidationGroup` vlastnost a pouze zobrazuje souhrnné informace o těchto validačních ovládacích prvků ve skupině pro její ověření.</span><span class="sxs-lookup"><span data-stu-id="17b01-279">The ValidationSummary control also contains a `ValidationGroup` property and only shows summary information for those validation controls in its validation group.</span></span> <span data-ttu-id="17b01-280">Proto musíme mít dva validačních ovládacích prvků na této stránce, jeden pro `InsertValidationControls` skupiny ověření a jeden pro `EditValidationControls`.</span><span class="sxs-lookup"><span data-stu-id="17b01-280">Therefore, we need to have two validation controls in this page, one for the `InsertValidationControls` validation group and one for `EditValidationControls`.</span></span>

[!code-aspx[Main](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/samples/sample6.aspx)]

<span data-ttu-id="17b01-281">Tato uveďte v našem kurzu byla dokončena.</span><span class="sxs-lookup"><span data-stu-id="17b01-281">With this addition our tutorial is complete!</span></span>

## <a name="summary"></a><span data-ttu-id="17b01-282">Souhrn</span><span class="sxs-lookup"><span data-stu-id="17b01-282">Summary</span></span>

<span data-ttu-id="17b01-283">Přestože BoundFields může poskytovat i vkládání a úpravy rozhraní, není rozhraní přizpůsobitelné.</span><span class="sxs-lookup"><span data-stu-id="17b01-283">While BoundFields can provide both an inserting and editing interface, the interface is not customizable.</span></span> <span data-ttu-id="17b01-284">Chceme, aby běžně, přidání validačních ovládacích prvků pro úpravy a vložení rozhraní zajistit, aby uživatel zadal vstupy. platný formát.</span><span class="sxs-lookup"><span data-stu-id="17b01-284">Commonly, we want to add validation controls to the editing and inserting interface to ensure that the user enters required inputs in a legal format.</span></span> <span data-ttu-id="17b01-285">K tomu můžeme převést BoundFields vlastností TemplateField a přidání validačních ovládacích prvků do příslušné šablony.</span><span class="sxs-lookup"><span data-stu-id="17b01-285">To accomplish this we must convert the BoundFields into TemplateFields and add the validation controls to the appropriate template(s).</span></span> <span data-ttu-id="17b01-286">V tomto kurzu jsme příklad z rozšířené *zkoumání události spojené s vložení, aktualizace a odstranění* kurz, přidání validačních ovládacích prvků na ovládacím prvku DetailsView uživatele vkládání rozhraní a prvku GridView. úpravy rozhraní.</span><span class="sxs-lookup"><span data-stu-id="17b01-286">In this tutorial we extended the example from the *Examining the Events Associated with Inserting, Updating, and Deleting* tutorial, adding validation controls to both the DetailsView's inserting interface and the GridView's editing interface.</span></span> <span data-ttu-id="17b01-287">Kromě toho jsme viděli, jak zobrazit informace o souhrnu ověření pomocí ovládacího prvku ValidationSummary a jak dělit validačních ovládacích prvků na stránce do různých ověřovacích skupin.</span><span class="sxs-lookup"><span data-stu-id="17b01-287">Moreover, we saw how to display summary validation information using the ValidationSummary control and how to partition the validation controls on the page into distinct validation groups.</span></span>

<span data-ttu-id="17b01-288">Jak jsme viděli v tomto kurzu, vlastností TemplateField povolit rozhraní úpravy a vložení potřeba rozšířit zahrnout validačních ovládacích prvků.</span><span class="sxs-lookup"><span data-stu-id="17b01-288">As we saw in this tutorial, TemplateFields allow the editing and inserting interfaces to be augmented to include validation controls.</span></span> <span data-ttu-id="17b01-289">Vlastností TemplateField je také možné rozšířit na další vstupní webové ovládací prvky, povolení textového pole bude nahrazen vhodnější webový ovládací prvek.</span><span class="sxs-lookup"><span data-stu-id="17b01-289">TemplateFields can also be extended to include additional input Web controls, enabling the TextBox to be replaced by a more suitable Web control.</span></span> <span data-ttu-id="17b01-290">V následujícím kurzem uvidíme, jak nahradit ovládacího prvku TextBox s ovládacím prvkem DropDownList vázané na data, která je ideální pro úpravy cizí klíč (například `CategoryID` nebo `SupplierID` v `Products` tabulky).</span><span class="sxs-lookup"><span data-stu-id="17b01-290">In our next tutorial we'll see how to replace the TextBox control with a data-bound DropDownList control, which is ideal when editing a foreign key (such as `CategoryID` or `SupplierID` in the `Products` table).</span></span>

<span data-ttu-id="17b01-291">Všechno nejlepší programování!</span><span class="sxs-lookup"><span data-stu-id="17b01-291">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="17b01-292">O autorovi</span><span class="sxs-lookup"><span data-stu-id="17b01-292">About the Author</span></span>

<span data-ttu-id="17b01-293">[Scott Meisnerová](http://www.4guysfromrolla.com/ScottMitchell.shtml), Autor sedm ASP/ASP.NET knih a Zakladatel [4GuysFromRolla.com](http://www.4guysfromrolla.com), má práce s Microsoft webových technologiích od roku 1998.</span><span class="sxs-lookup"><span data-stu-id="17b01-293">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="17b01-294">Scott funguje jako nezávislý konzultant, trainer a zapisovače.</span><span class="sxs-lookup"><span data-stu-id="17b01-294">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="17b01-295">Jeho nejnovější knihy [ *Edice nakladatelství Sams naučit sami ASP.NET 2.0 za 24 hodin*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="17b01-295">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="17b01-296">Může být dosáhl v [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="17b01-296">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span> <span data-ttu-id="17b01-297">nebo prostřednictvím jeho blogu, který lze nalézt v [ http://ScottOnWriting.NET ](http://ScottOnWriting.NET).</span><span class="sxs-lookup"><span data-stu-id="17b01-297">or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

## <a name="special-thanks-to"></a><span data-ttu-id="17b01-298">Speciální k</span><span class="sxs-lookup"><span data-stu-id="17b01-298">Special Thanks To</span></span>

<span data-ttu-id="17b01-299">V této sérii kurzů byl recenzován uživatelem mnoho užitečných revidující.</span><span class="sxs-lookup"><span data-stu-id="17b01-299">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="17b01-300">Vedoucí revidující pro účely tohoto kurzu byly Liz Shulok a Zack Jones.</span><span class="sxs-lookup"><span data-stu-id="17b01-300">Lead reviewers for this tutorial were Liz Shulok and Zack Jones.</span></span> <span data-ttu-id="17b01-301">Zajímat téma Moje nadcházejících článcích MSDN?</span><span class="sxs-lookup"><span data-stu-id="17b01-301">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="17b01-302">Pokud ano, vyřaďte mě řádek na [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="17b01-302">If so, drop me a line at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="17b01-303">[Předchozí](handling-bll-and-dal-level-exceptions-in-an-asp-net-page-cs.md)
> [další](customizing-the-data-modification-interface-cs.md)</span><span class="sxs-lookup"><span data-stu-id="17b01-303">[Previous](handling-bll-and-dal-level-exceptions-in-an-asp-net-page-cs.md)
[Next](customizing-the-data-modification-interface-cs.md)</span></span>
