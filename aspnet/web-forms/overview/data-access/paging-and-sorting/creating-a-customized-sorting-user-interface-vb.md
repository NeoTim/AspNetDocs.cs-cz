---
uid: web-forms/overview/data-access/paging-and-sorting/creating-a-customized-sorting-user-interface-vb
title: Vytvoření vlastního uživatelského rozhraní pro řazení (VB) | Microsoft Docs
author: rick-anderson
description: Když zobrazujete dlouhý seznam seřazených dat, může být velmi užitečné seskupovat související data zavedením oddělovacích řádků. V tomto kurzu si ukážeme, jak vytv...
ms.author: riande
ms.date: 08/15/2006
ms.assetid: f3897a74-cc6a-4032-8f68-465f155e296a
msc.legacyurl: /web-forms/overview/data-access/paging-and-sorting/creating-a-customized-sorting-user-interface-vb
msc.type: authoredcontent
ms.openlocfilehash: 66127630560141cd795beb15f525a7fba85f3993
ms.sourcegitcommit: 22fbd8863672c4ad6693b8388ad5c8e753fb41a2
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 11/28/2019
ms.locfileid: "74607390"
---
# <a name="creating-a-customized-sorting-user-interface-vb"></a><span data-ttu-id="b70e7-104">Vytvoření vlastního uživatelského rozhraní pro řazení (VB)</span><span class="sxs-lookup"><span data-stu-id="b70e7-104">Creating a Customized Sorting User Interface (VB)</span></span>

<span data-ttu-id="b70e7-105">[Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="b70e7-105">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="b70e7-106">[Stáhnout ukázkovou aplikaci](https://download.microsoft.com/download/9/c/1/9c1d03ee-29ba-4d58-aa1a-f201dcc822ea/ASPNET_Data_Tutorial_27_VB.exe) nebo [Stáhnout PDF](creating-a-customized-sorting-user-interface-vb/_static/datatutorial27vb1.pdf)</span><span class="sxs-lookup"><span data-stu-id="b70e7-106">[Download Sample App](https://download.microsoft.com/download/9/c/1/9c1d03ee-29ba-4d58-aa1a-f201dcc822ea/ASPNET_Data_Tutorial_27_VB.exe) or [Download PDF](creating-a-customized-sorting-user-interface-vb/_static/datatutorial27vb1.pdf)</span></span>

> <span data-ttu-id="b70e7-107">Když zobrazujete dlouhý seznam seřazených dat, může být velmi užitečné seskupovat související data zavedením oddělovacích řádků.</span><span class="sxs-lookup"><span data-stu-id="b70e7-107">When displaying a long list of sorted data, it can be very helpful to group related data by introducing separator rows.</span></span> <span data-ttu-id="b70e7-108">V tomto kurzu se dozvíte, jak vytvořit takové uživatelské rozhraní pro řazení.</span><span class="sxs-lookup"><span data-stu-id="b70e7-108">In this tutorial we'll see how to create such a sorting user interface.</span></span>

## <a name="introduction"></a><span data-ttu-id="b70e7-109">Úvod</span><span class="sxs-lookup"><span data-stu-id="b70e7-109">Introduction</span></span>

<span data-ttu-id="b70e7-110">Při zobrazení dlouhého seznamu seřazených dat, kde je v seřazeném sloupci pouze několik různých hodnot, může koncový uživatel zjistit, že je obtížné nerozlišuje, pokud přesně dojde k hranicím rozdílů.</span><span class="sxs-lookup"><span data-stu-id="b70e7-110">When displaying a long list of sorted data where there are only a handful of different values in the sorted column, an end user might find it hard to discern where, exactly, the difference boundaries occur.</span></span> <span data-ttu-id="b70e7-111">V databázi je například 81 produktů, ale pouze devět různých možností kategorií (osm jedinečných kategorií plus `NULL` možnost).</span><span class="sxs-lookup"><span data-stu-id="b70e7-111">For example, there are 81 products in the database, but only nine different category choices (eight unique categories plus the `NULL` option).</span></span> <span data-ttu-id="b70e7-112">Vezměte v úvahu případ uživatele, který má zájem o prověření produktů spadajících pod kategorii rybích plodů.</span><span class="sxs-lookup"><span data-stu-id="b70e7-112">Consider the case of a user who is interested in examining the products that fall under the Seafood category.</span></span> <span data-ttu-id="b70e7-113">Na stránce, která obsahuje seznam *všech* produktů v jednom prvku GridView, může uživatel podle svých nejlepších tipů seřadit výsledky podle kategorií, které dohromady seskupí všechny produkty z mořského moře.</span><span class="sxs-lookup"><span data-stu-id="b70e7-113">From a page that lists *all* of the products in a single GridView, the user might decide her best bet is to sort the results by category, which will group together all of the Seafood products together.</span></span> <span data-ttu-id="b70e7-114">Po seřazení podle kategorií pak uživatel musí seznam prohledat a vyhledat, kde jsou produkty v produktech seskupené na začátku a na konci.</span><span class="sxs-lookup"><span data-stu-id="b70e7-114">After sorting by category, the user then needs to hunt through the list, looking for where the Seafood-grouped products start and end.</span></span> <span data-ttu-id="b70e7-115">Vzhledem k tomu, že se výsledky řadí abecedně podle názvu kategorie hledání produktů z mořských plodů, není obtížné, ale stále je potřeba, abyste pečlivě prohledali seznam položek v mřížce.</span><span class="sxs-lookup"><span data-stu-id="b70e7-115">Since the results are ordered alphabetically by the category name finding the Seafood products is not difficult, but it still requires closely scanning the list of items in the grid.</span></span>

<span data-ttu-id="b70e7-116">Aby bylo možné zvýraznit hranice mezi seřazenými skupinami, mnoho webů používá uživatelské rozhraní, které mezi těmito skupinami přidává oddělovač.</span><span class="sxs-lookup"><span data-stu-id="b70e7-116">To help highlight the boundaries between sorted groups, many websites employ a user interface that adds a separator between such groups.</span></span> <span data-ttu-id="b70e7-117">Oddělovače jako ty, které jsou znázorněny na obrázku 1, umožňují uživateli rychleji najít konkrétní skupinu a identifikovat její hranice a také zjistit, jaké samostatné skupiny v datech existují.</span><span class="sxs-lookup"><span data-stu-id="b70e7-117">Separators like the ones shown in Figure 1 enables a user to more quickly find a particular group and identify its boundaries, as well as ascertain what distinct groups exist in the data.</span></span>

<span data-ttu-id="b70e7-118">[![je každá skupina kategorií jasně identifikovaná.](creating-a-customized-sorting-user-interface-vb/_static/image2.png)](creating-a-customized-sorting-user-interface-vb/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="b70e7-118">[![Each Category Group is Clearly Identified](creating-a-customized-sorting-user-interface-vb/_static/image2.png)](creating-a-customized-sorting-user-interface-vb/_static/image1.png)</span></span>

<span data-ttu-id="b70e7-119">**Obrázek 1**: jasně se identifikují jednotlivé skupiny kategorií ([kliknutím zobrazíte obrázek v plné velikosti](creating-a-customized-sorting-user-interface-vb/_static/image3.png)).</span><span class="sxs-lookup"><span data-stu-id="b70e7-119">**Figure 1**: Each Category Group is Clearly Identified ([Click to view full-size image](creating-a-customized-sorting-user-interface-vb/_static/image3.png))</span></span>

<span data-ttu-id="b70e7-120">V tomto kurzu se dozvíte, jak vytvořit takové uživatelské rozhraní pro řazení.</span><span class="sxs-lookup"><span data-stu-id="b70e7-120">In this tutorial we'll see how to create such a sorting user interface.</span></span>

## <a name="step-1-creating-a-standard-sortable-gridview"></a><span data-ttu-id="b70e7-121">Krok 1: vytvoření standardního, seřaditelné GridView</span><span class="sxs-lookup"><span data-stu-id="b70e7-121">Step 1: Creating a Standard, Sortable GridView</span></span>

<span data-ttu-id="b70e7-122">Předtím, než se podíváme, jak rozšířit prvek GridView, aby poskytovalo vylepšené rozhraní pro řazení, je nejdříve potřeba vytvořit standardní, řazený prvek GridView, který obsahuje seznam produktů.</span><span class="sxs-lookup"><span data-stu-id="b70e7-122">Before we explore how to augment the GridView to provide the enhanced sorting interface, let s first create a standard, sortable GridView that lists the products.</span></span> <span data-ttu-id="b70e7-123">Začněte tím, že otevřete stránku `CustomSortingUI.aspx` ve složce `PagingAndSorting`.</span><span class="sxs-lookup"><span data-stu-id="b70e7-123">Start by opening the `CustomSortingUI.aspx` page in the `PagingAndSorting` folder.</span></span> <span data-ttu-id="b70e7-124">Přidejte prvek GridView na stránku, nastavte jeho vlastnost `ID` na `ProductList`a navažte jej na nový prvek ObjectDataSource.</span><span class="sxs-lookup"><span data-stu-id="b70e7-124">Add a GridView to the page, set its `ID` property to `ProductList`, and bind it to a new ObjectDataSource.</span></span> <span data-ttu-id="b70e7-125">Nakonfigurujte prvek ObjectDataSource tak, aby pro výběr záznamů používal metodu `ProductsBLL` třídy s `GetProducts()`.</span><span class="sxs-lookup"><span data-stu-id="b70e7-125">Configure the ObjectDataSource to use the `ProductsBLL` class s `GetProducts()` method for selecting records.</span></span>

<span data-ttu-id="b70e7-126">Dále nakonfigurujte prvek GridView tak, že obsahuje pouze `ProductName`, `CategoryName`, `SupplierName`a `UnitPrice` BoundFields a ukončený třídě CheckBoxField podporována.</span><span class="sxs-lookup"><span data-stu-id="b70e7-126">Next, configure the GridView such that it only contains the `ProductName`, `CategoryName`, `SupplierName`, and `UnitPrice` BoundFields and the Discontinued CheckBoxField.</span></span> <span data-ttu-id="b70e7-127">Nakonec nakonfigurujte prvek GridView tak, aby podporoval řazení, zaškrtnutím políčka Povolit řazení v inteligentní značce GridView s (nebo nastavením jeho vlastnosti `AllowSorting` na `true`).</span><span class="sxs-lookup"><span data-stu-id="b70e7-127">Finally, configure the GridView to support sorting by checking the Enable Sorting checkbox in the GridView s smart tag (or by setting its `AllowSorting` property to `true`).</span></span> <span data-ttu-id="b70e7-128">Po provedení těchto dodatků na stránce `CustomSortingUI.aspx` by deklarativní označení mělo vypadat podobně jako následující:</span><span class="sxs-lookup"><span data-stu-id="b70e7-128">After making these additions to the `CustomSortingUI.aspx` page, the declarative markup should look similar to the following:</span></span>

[!code-aspx[Main](creating-a-customized-sorting-user-interface-vb/samples/sample1.aspx)]

<span data-ttu-id="b70e7-129">Chvíli si můžete prohlédnout v prohlížeči.</span><span class="sxs-lookup"><span data-stu-id="b70e7-129">Take a moment to view our progress thus far in a browser.</span></span> <span data-ttu-id="b70e7-130">Obrázek 2 znázorňuje řazený prvek GridView, pokud jsou jeho data seřazená podle kategorie v abecedním pořadí.</span><span class="sxs-lookup"><span data-stu-id="b70e7-130">Figure 2 shows the sortable GridView when its data is sorted by category in alphabetical order.</span></span>

<span data-ttu-id="b70e7-131">[![seřaditelné údaje prvku GridView seřazené podle kategorie](creating-a-customized-sorting-user-interface-vb/_static/image5.png)](creating-a-customized-sorting-user-interface-vb/_static/image4.png)</span><span class="sxs-lookup"><span data-stu-id="b70e7-131">[![The Sortable GridView s Data is Ordered by Category](creating-a-customized-sorting-user-interface-vb/_static/image5.png)](creating-a-customized-sorting-user-interface-vb/_static/image4.png)</span></span>

<span data-ttu-id="b70e7-132">**Obrázek 2**: seřaditelné data GridView s jsou seřazená podle kategorií ([kliknutím zobrazíte obrázek v plné velikosti).](creating-a-customized-sorting-user-interface-vb/_static/image6.png)</span><span class="sxs-lookup"><span data-stu-id="b70e7-132">**Figure 2**: The Sortable GridView s Data is Ordered by Category ([Click to view full-size image](creating-a-customized-sorting-user-interface-vb/_static/image6.png))</span></span>

## <a name="step-2-exploring-techniques-for-adding-the-separator-rows"></a><span data-ttu-id="b70e7-133">Krok 2: zkoumání techniků pro přidání oddělovacích řádků</span><span class="sxs-lookup"><span data-stu-id="b70e7-133">Step 2: Exploring Techniques for Adding the Separator Rows</span></span>

<span data-ttu-id="b70e7-134">S obecným řazením prvku GridView, který je kompletní, je možné přidat oddělovací řádky do prvku GridView před každou jedinečnou seřazenou skupinu.</span><span class="sxs-lookup"><span data-stu-id="b70e7-134">With the generic, sortable GridView complete, all that remains is to be able to add the separator rows in the GridView before each unique sorted group.</span></span> <span data-ttu-id="b70e7-135">Ale jak mohou být tyto řádky vloženy do prvku GridView?</span><span class="sxs-lookup"><span data-stu-id="b70e7-135">But how can such rows be injected into the GridView?</span></span> <span data-ttu-id="b70e7-136">V podstatě potřebujeme iterovat řádky GridView s, určit, kde rozdíly nastávají mezi hodnotami v seřazeném sloupci, a pak přidat příslušný oddělovací řádek.</span><span class="sxs-lookup"><span data-stu-id="b70e7-136">Essentially, we need to iterate through the GridView s rows, determine where the differences occur between the values in the sorted column, and then add the appropriate separator row.</span></span> <span data-ttu-id="b70e7-137">Při zvažování tohoto problému se jeví jako přirozené, že toto řešení je někde v obslužné rutině ovládacího prvku GridView s `RowDataBound`.</span><span class="sxs-lookup"><span data-stu-id="b70e7-137">When thinking about this problem, it seems natural that the solution lies somewhere in the GridView s `RowDataBound` event handler.</span></span> <span data-ttu-id="b70e7-138">Jak jsme probrali v kurzu pro [data na základě vlastního formátování](../custom-formatting/custom-formatting-based-upon-data-vb.md) , tato obslužná rutina se běžně používá při použití formátování na úrovni řádků na základě dat řádku s.</span><span class="sxs-lookup"><span data-stu-id="b70e7-138">As we discussed in the [Custom Formatting Based Upon Data](../custom-formatting/custom-formatting-based-upon-data-vb.md) tutorial, this event handler is commonly used when applying row-level formatting based on the row s data.</span></span> <span data-ttu-id="b70e7-139">Nicméně obslužná rutina události `RowDataBound` zde není řešení, protože řádky nelze do prvku GridView přidat programově z této obslužné rutiny události.</span><span class="sxs-lookup"><span data-stu-id="b70e7-139">However, the `RowDataBound` event handler is not the solution here, as rows cannot be added to the GridView programmatically from this event handler.</span></span> <span data-ttu-id="b70e7-140">Kolekce GridView `Rows`, ve skutečnosti je určena jen pro čtení.</span><span class="sxs-lookup"><span data-stu-id="b70e7-140">The GridView s `Rows` collection, in fact, is read-only.</span></span>

<span data-ttu-id="b70e7-141">Chcete-li přidat další řádky do prvku GridView, máme tři možnosti:</span><span class="sxs-lookup"><span data-stu-id="b70e7-141">To add additional rows to the GridView we have three choices:</span></span>

- <span data-ttu-id="b70e7-142">Přidejte tyto řádky oddělovače metadat do skutečných dat, která jsou svázána s prvku GridView.</span><span class="sxs-lookup"><span data-stu-id="b70e7-142">Add these metadata separator rows to the actual data that is bound to the GridView</span></span>
- <span data-ttu-id="b70e7-143">Po svázání prvku GridView s daty přidejte další `TableRow` instance do kolekce ovládacích prvků GridView.</span><span class="sxs-lookup"><span data-stu-id="b70e7-143">After the GridView has been bound to the data, add additional `TableRow` instances to the GridView s control collection</span></span>
- <span data-ttu-id="b70e7-144">Vytvoření vlastního serverového ovládacího prvku, který rozšiřuje ovládací prvek GridView a přepisuje tyto metody zodpovědné za vytváření struktury GridView.</span><span class="sxs-lookup"><span data-stu-id="b70e7-144">Create a custom server control that extends the GridView control and overrides those methods responsible for constructing the GridView s structure</span></span>

<span data-ttu-id="b70e7-145">Vytvoření vlastního serverového ovládacího prvku by představovalo nejlepší přístup, pokud byla tato funkce nutná na mnoho webových stránek nebo napříč několika weby.</span><span class="sxs-lookup"><span data-stu-id="b70e7-145">Creating a custom server control would be the best approach if this functionality was needed on many web pages or across several websites.</span></span> <span data-ttu-id="b70e7-146">Nicméně by to znamenalo poměrně bitovou část kódu a důkladně prozkoumání hloubky interních pracovních prvků GridView.</span><span class="sxs-lookup"><span data-stu-id="b70e7-146">However, it would entail quite a bit of code and a thorough exploration into the depths of the GridView s internal workings.</span></span> <span data-ttu-id="b70e7-147">Proto tuto možnost tohoto kurzu nepovažujeme.</span><span class="sxs-lookup"><span data-stu-id="b70e7-147">Therefore, we'll not consider that option for this tutorial.</span></span>

<span data-ttu-id="b70e7-148">Další dvě možnosti přidávají oddělovací řádky do skutečných dat svázaných s ovládacím prvkem GridView a manipulaci s kolekcí ovládacích prvků GridView s po provázání útoku na problém, a to jinak.</span><span class="sxs-lookup"><span data-stu-id="b70e7-148">The other two options adding separator rows to the actual data being bound to the GridView and manipulating the GridView s control collection after its been bound - attack the problem differently and merit a discussion.</span></span>

## <a name="adding-rows-to-the-data-bound-to-the-gridview"></a><span data-ttu-id="b70e7-149">Přidání řádků do dat vázaných na prvek GridView.</span><span class="sxs-lookup"><span data-stu-id="b70e7-149">Adding Rows to the Data Bound to the GridView</span></span>

<span data-ttu-id="b70e7-150">Když je prvek GridView svázán se zdrojem dat, vytvoří `GridViewRow` pro každý záznam vrácený zdrojem dat.</span><span class="sxs-lookup"><span data-stu-id="b70e7-150">When the GridView is bound to a data source, it creates a `GridViewRow` for each record returned by the data source.</span></span> <span data-ttu-id="b70e7-151">Proto můžeme vložit oddělovací řádky do zdroje dat před jeho vytvořením do prvku GridView.</span><span class="sxs-lookup"><span data-stu-id="b70e7-151">Therefore, we can inject the needed separator rows by adding separator records to the data source before binding it to the GridView.</span></span> <span data-ttu-id="b70e7-152">Tento koncept znázorňuje obrázek 3.</span><span class="sxs-lookup"><span data-stu-id="b70e7-152">Figure 3 illustrates this concept.</span></span>

![Jedna technika zahrnuje Přidání oddělovacích řádků do zdroje dat.](creating-a-customized-sorting-user-interface-vb/_static/image7.png)

<span data-ttu-id="b70e7-154">**Obrázek 3**: jedna technika zahrnuje Přidání oddělovacích řádků do zdroje dat.</span><span class="sxs-lookup"><span data-stu-id="b70e7-154">**Figure 3**: One Technique Involves Adding Separator Rows to the Data Source</span></span>

<span data-ttu-id="b70e7-155">Používám záznamy oddělovačů termínů v uvozovkách, protože neexistují žádné speciální záznamy oddělovače; místo toho je nutné označit, že konkrétní záznam ve zdroji dat slouží jako oddělovač, nikoli normální datový řádek.</span><span class="sxs-lookup"><span data-stu-id="b70e7-155">I use the term separator records in quotes because there is no special separator record; rather, we must somehow flag that a particular record in the data source serves as a separator rather than a normal data row.</span></span> <span data-ttu-id="b70e7-156">V našem příkladu jsme znovu navážeme instanci `ProductsDataTable` na prvek GridView, který se skládá z `ProductRows`.</span><span class="sxs-lookup"><span data-stu-id="b70e7-156">For our examples, we re binding a `ProductsDataTable` instance to the GridView, which is composed of `ProductRows`.</span></span> <span data-ttu-id="b70e7-157">Záznam můžete označit jako oddělovací řádek tím, že nastavíte jeho vlastnost `CategoryID` na `-1` (protože taková hodnota nepatří do normálního stavu).</span><span class="sxs-lookup"><span data-stu-id="b70e7-157">We might flag a record as a separator row by setting its `CategoryID` property to `-1` (since such a value couldn't exist normally).</span></span>

<span data-ttu-id="b70e7-158">K využití této techniky potřebujeme provést následující kroky:</span><span class="sxs-lookup"><span data-stu-id="b70e7-158">To utilize this technique we d need to perform the following steps:</span></span>

1. <span data-ttu-id="b70e7-159">Programově načte data pro svázání s prvku GridView (instance `ProductsDataTable`)</span><span class="sxs-lookup"><span data-stu-id="b70e7-159">Programmatically retrieve the data to bind to the GridView (a `ProductsDataTable` instance)</span></span>
2. <span data-ttu-id="b70e7-160">Seřazení dat na základě `SortExpression` a `SortDirection` vlastností prvků GridView.</span><span class="sxs-lookup"><span data-stu-id="b70e7-160">Sort the data based on the GridView s `SortExpression` and `SortDirection` properties</span></span>
3. <span data-ttu-id="b70e7-161">Iterujte pomocí `ProductsRows` v `ProductsDataTable`a vyhledejte, kde se rozdíly v seřazeném sloupci naleží.</span><span class="sxs-lookup"><span data-stu-id="b70e7-161">Iterate through the `ProductsRows` in the `ProductsDataTable`, looking for where the differences in the sorted column lie</span></span>
4. <span data-ttu-id="b70e7-162">V každé hranici skupiny zasuňte záznam oddělovače `ProductsRow` instanci do objektu DataTable, což má `CategoryID` nastavenou na `-1` (nebo jakékoli označení bylo rozhodnuto, že označí záznam jako záznam oddělovače).</span><span class="sxs-lookup"><span data-stu-id="b70e7-162">At each group boundary, inject a separator record `ProductsRow` instance into the DataTable, one that has it s `CategoryID` set to `-1` (or whatever designation was decided upon to mark a record as a separator record )</span></span>
5. <span data-ttu-id="b70e7-163">Po vložení oddělovacích řádků programově Navažte data na prvek GridView.</span><span class="sxs-lookup"><span data-stu-id="b70e7-163">After injecting the separator rows, programmatically bind the data to the GridView</span></span>

<span data-ttu-id="b70e7-164">Kromě těchto pěti kroků je také potřeba poskytnout obslužnou rutinu události pro `RowDataBound` událost GridView.</span><span class="sxs-lookup"><span data-stu-id="b70e7-164">In addition to these five steps, we d also need to provide an event handler for the GridView s `RowDataBound` event.</span></span> <span data-ttu-id="b70e7-165">V tomto případě zkontrolujeme každé `DataRow` a určíme, jestli se jednalo o oddělovací řádek, jehož `CategoryID` nastavení bylo `-1`.</span><span class="sxs-lookup"><span data-stu-id="b70e7-165">Here, we d check each `DataRow` and determine if it was a separator row, one whose `CategoryID` setting was `-1`.</span></span> <span data-ttu-id="b70e7-166">V takovém případě je pravděpodobné, že budete chtít upravit jeho formátování nebo text zobrazený v buňkách.</span><span class="sxs-lookup"><span data-stu-id="b70e7-166">If so, we d probably want to adjust its formatting or the text displayed in the cell(s).</span></span>

<span data-ttu-id="b70e7-167">Použití této techniky pro vložení hranic skupiny řazení vyžaduje trochu větší práci, než je uvedeno výše, protože je třeba zadat také obslužnou rutinu události `Sorting` události GridView. a sledovat `SortExpression` a `SortDirection` hodnoty.</span><span class="sxs-lookup"><span data-stu-id="b70e7-167">Using this technique for injecting the sorting group boundaries requires a bit more work than outlined above, as you need to also provide an event handler for the GridView s `Sorting` event and keep track of the `SortExpression` and `SortDirection` values.</span></span>

## <a name="manipulating-the-gridview-s-control-collection-after-it-s-been-databound"></a><span data-ttu-id="b70e7-168">Manipulace s kolekcí ovládacích prvků GridView s, jakmile byla svázána s daty</span><span class="sxs-lookup"><span data-stu-id="b70e7-168">Manipulating the GridView s Control Collection After It s Been Databound</span></span>

<span data-ttu-id="b70e7-169">Místo odeslání dat před jejich navázáním na prvek GridView můžeme přidat oddělovací řádky *poté, co* byla data svázána s ovládacím prvek GridView.</span><span class="sxs-lookup"><span data-stu-id="b70e7-169">Rather than messaging the data before binding it to the GridView, we can add the separator rows *after* the data has been bound to the GridView.</span></span> <span data-ttu-id="b70e7-170">Proces vázání dat sestaví hierarchii ovládacího prvku GridView s, která ve skutečnosti je jednoduše `Table` instance složená z kolekce řádků, z nichž každá je tvořena kolekcí buněk.</span><span class="sxs-lookup"><span data-stu-id="b70e7-170">The process of data binding builds up the GridView s control hierarchy, which in reality is simply a `Table` instance composed of a collection of rows, each of which is composed of a collection of cells.</span></span> <span data-ttu-id="b70e7-171">Konkrétně kolekce ovládacích prvků GridView s obsahuje objekt `Table` ve svém kořenu, `GridViewRow` (která je odvozena od třídy `TableRow`) pro každý záznam v `DataSource` vázaný na prvek GridView a objekt `TableCell` v každé instanci `GridViewRow` pro každé datové pole v `DataSource`.</span><span class="sxs-lookup"><span data-stu-id="b70e7-171">Specifically, the GridView s control collection contains a `Table` object at its root, a `GridViewRow` (which is derived from the `TableRow` class) for each record in the `DataSource` bound to the GridView, and a `TableCell` object in each `GridViewRow` instance for each data field in the `DataSource`.</span></span>

<span data-ttu-id="b70e7-172">Chcete-li přidat oddělovací řádky mezi každou skupinu řazení, můžeme tuto hierarchii ovládacích prvků po vytvoření přímo manipulovat.</span><span class="sxs-lookup"><span data-stu-id="b70e7-172">To add separator rows between each sorting group, we can directly manipulate this control hierarchy once it has been created.</span></span> <span data-ttu-id="b70e7-173">Můžeme si být jistí, že hierarchie ovládacích prvků GridView s byla vytvořena pro poslední čas podle času vykreslování stránky.</span><span class="sxs-lookup"><span data-stu-id="b70e7-173">We can be confident that the GridView s control hierarchy has been created for the last time by the time the page is being rendered.</span></span> <span data-ttu-id="b70e7-174">Proto tento přístup přepíše metodu `Page` třídy s `Render`, při které je poslední hierarchie ovládacího prvku GridView s aktualizována tak, aby obsahovala potřebné oddělovací řádky.</span><span class="sxs-lookup"><span data-stu-id="b70e7-174">Therefore, this approach overrides the `Page` class s `Render` method, at which point the GridView s final control hierarchy is updated to include the needed separator rows.</span></span> <span data-ttu-id="b70e7-175">Obrázek 4 znázorňuje tento proces.</span><span class="sxs-lookup"><span data-stu-id="b70e7-175">Figure 4 illustrates this process.</span></span>

<span data-ttu-id="b70e7-176">[![alternativním technika pracuje s hierarchií ovládacího prvku GridView.](creating-a-customized-sorting-user-interface-vb/_static/image9.png)](creating-a-customized-sorting-user-interface-vb/_static/image8.png)</span><span class="sxs-lookup"><span data-stu-id="b70e7-176">[![An Alternate Technique Manipulates the GridView s Control Hierarchy](creating-a-customized-sorting-user-interface-vb/_static/image9.png)](creating-a-customized-sorting-user-interface-vb/_static/image8.png)</span></span>

<span data-ttu-id="b70e7-177">**Obrázek 4**: alternativní technika pracuje s hierarchií ovládacího prvku GridView s ([kliknutím zobrazíte obrázek v plné velikosti](creating-a-customized-sorting-user-interface-vb/_static/image10.png)).</span><span class="sxs-lookup"><span data-stu-id="b70e7-177">**Figure 4**: An Alternate Technique Manipulates the GridView s Control Hierarchy ([Click to view full-size image](creating-a-customized-sorting-user-interface-vb/_static/image10.png))</span></span>

<span data-ttu-id="b70e7-178">Pro účely tohoto kurzu použijeme tento druhý postup k přizpůsobení prostředí pro řazení uživatelů.</span><span class="sxs-lookup"><span data-stu-id="b70e7-178">For this tutorial, we'll use this latter approach to customize the sorting user experience.</span></span>

> [!NOTE]
> <span data-ttu-id="b70e7-179">Kód I m prezentující v tomto kurzu vychází z příkladu uvedeného v záznamu blogu [Teemu Keiski](http://aspadvice.com/blogs/joteke/default.aspx) s, který [hraje bit pomocí seskupení řazení GridView](http://aspadvice.com/blogs/joteke/archive/2006/02/11/15130.aspx).</span><span class="sxs-lookup"><span data-stu-id="b70e7-179">The code I m presenting in this tutorial is based on the example provided in [Teemu Keiski](http://aspadvice.com/blogs/joteke/default.aspx) s blog entry, [Playing a Bit with GridView Sort Grouping](http://aspadvice.com/blogs/joteke/archive/2006/02/11/15130.aspx).</span></span>

## <a name="step-3-adding-the-separator-rows-to-the-gridview-s-control-hierarchy"></a><span data-ttu-id="b70e7-180">Krok 3: Přidání oddělovacích řádků do hierarchie ovládacího prvku GridView.</span><span class="sxs-lookup"><span data-stu-id="b70e7-180">Step 3: Adding the Separator Rows to the GridView s Control Hierarchy</span></span>

<span data-ttu-id="b70e7-181">Vzhledem k tomu, že chcete přidat oddělovací řádky do hierarchie ovládacího prvku GridView. poté, co byla její hierarchie ovládacího prvku vytvořena a vytvořena pro poslední stránku na této stránce, chceme tento postup doplnit na konci životního cyklu stránky, ale před skutečným prvkem GridView c hierarchie ojů byla vykreslena do kódu HTML.</span><span class="sxs-lookup"><span data-stu-id="b70e7-181">Since we only want to add the separator rows to the GridView s control hierarchy after its control hierarchy has been created and created for the last time on that page visit, we want to perform this addition at the end of the page lifecycle, but before the actual GridView control hierarchy has been rendered into HTML.</span></span> <span data-ttu-id="b70e7-182">Nejnovější možný bod, ve kterém můžeme dosáhnout, je `Page` třídy s `Render` události, kterou můžeme přepsat v naší třídě s kódem na pozadí pomocí následující signatury metody:</span><span class="sxs-lookup"><span data-stu-id="b70e7-182">The latest possible point at which we can accomplish this is the `Page` class s `Render` event, which we can override in our code-behind class using the following method signature:</span></span>

[!code-vb[Main](creating-a-customized-sorting-user-interface-vb/samples/sample2.vb)]

<span data-ttu-id="b70e7-183">Při vyvolání původní metody `Render` `Page` třídy s `base.Render(writer)` všechny ovládací prvky na stránce budou vykresleny, generování značek na základě jejich hierarchie ovládacích prvků.</span><span class="sxs-lookup"><span data-stu-id="b70e7-183">When the `Page` class s original `Render` method is invoked `base.Render(writer)` each of the controls in the page will be rendered, generating the markup based on their control hierarchy.</span></span> <span data-ttu-id="b70e7-184">Proto je nutné, aby oba volali `base.Render(writer)`, aby se stránka vykreslila a před voláním `base.Render(writer)`spolupracujeme s hierarchií ovládacího prvku GridView., takže řádky oddělovače byly přidány do hierarchie ovládacího prvku GridView s před jejich vykreslením.</span><span class="sxs-lookup"><span data-stu-id="b70e7-184">Therefore it is imperative that we both call `base.Render(writer)`, so that the page is rendered, and that we manipulate the GridView s control hierarchy prior to calling `base.Render(writer)`, so that the separator rows have been added to the GridView s control hierarchy before it s been rendered.</span></span>

<span data-ttu-id="b70e7-185">Aby bylo možné vložit záhlaví skupin pro řazení, nejdřív je potřeba zajistit, aby si uživatel vyžádal, aby se data seřadila.</span><span class="sxs-lookup"><span data-stu-id="b70e7-185">To inject the sort group headers we first need to ensure that the user has requested that the data be sorted.</span></span> <span data-ttu-id="b70e7-186">Ve výchozím nastavení nejsou setříděny obsahy prvku GridView, a proto není nutné zadávat záhlaví skupin řazení.</span><span class="sxs-lookup"><span data-stu-id="b70e7-186">By default, the GridView s contents are not sorted, and therefore we don t need to enter any group sorting headers.</span></span>

> [!NOTE]
> <span data-ttu-id="b70e7-187">Chcete-li, aby byl ovládací prvek GridView seřazen podle konkrétního sloupce při prvním načtení stránky, zavolejte metodu GridView s `Sort` na první stránce na webu (ale ne při následném postbacku).</span><span class="sxs-lookup"><span data-stu-id="b70e7-187">If you want the GridView to be sorted by a particular column when the page is first loaded, call the GridView s `Sort` method on the first page visit (but not on subsequent postbacks).</span></span> <span data-ttu-id="b70e7-188">Chcete-li toho dosáhnout, přidejte toto volání do obslužné rutiny události `Page_Load` v rámci `if (!Page.IsPostBack)` podmíněný.</span><span class="sxs-lookup"><span data-stu-id="b70e7-188">To accomplish this, add this call in the `Page_Load` event handler within an `if (!Page.IsPostBack)` conditional.</span></span> <span data-ttu-id="b70e7-189">Další informace o metodě `Sort` najdete v tématu informace o kurzu [stránkování a řazení dat sestavy](paging-and-sorting-report-data-vb.md) .</span><span class="sxs-lookup"><span data-stu-id="b70e7-189">Refer back to the [Paging and Sorting Report Data](paging-and-sorting-report-data-vb.md) tutorial information for more on the `Sort` method.</span></span>

<span data-ttu-id="b70e7-190">Za předpokladu, že data byla seřazena, je dalším úkolem, jak určit sloupec, podle kterého byla data seřazena, a následně vyhledat řádky, které hledají rozdíly v těchto hodnotách sloupce.</span><span class="sxs-lookup"><span data-stu-id="b70e7-190">Assuming that the data has been sorted, our next task is to determine what column the data was sorted by and then to scan the rows looking for differences in that column s values.</span></span> <span data-ttu-id="b70e7-191">Následující kód zajišťuje řazení dat a vyhledá sloupec, podle kterého byla data seřazena:</span><span class="sxs-lookup"><span data-stu-id="b70e7-191">The following code ensures that the data has been sorted and finds the column by which the data has been sorted:</span></span>

[!code-vb[Main](creating-a-customized-sorting-user-interface-vb/samples/sample3.vb)]

<span data-ttu-id="b70e7-192">Pokud prvek GridView již má být seřazen, vlastnost GridView s `SortExpression` nebude nastavena.</span><span class="sxs-lookup"><span data-stu-id="b70e7-192">If the GridView has yet to be sorted, the GridView s `SortExpression` property will not have been set.</span></span> <span data-ttu-id="b70e7-193">Proto chceme přidat oddělovací řádky pouze v případě, že má tato vlastnost nějakou hodnotu.</span><span class="sxs-lookup"><span data-stu-id="b70e7-193">Therefore, we only want to add the separator rows if this property has some value.</span></span> <span data-ttu-id="b70e7-194">V takovém případě je potřeba určit index sloupce, podle kterého se data seřadila.</span><span class="sxs-lookup"><span data-stu-id="b70e7-194">If it does, we next need to determine the index of the column by which the data was sorted.</span></span> <span data-ttu-id="b70e7-195">To se provádí smyčkou pomocí `Columns` kolekce GridView. vyhledá sloupec, jehož vlastnost `SortExpression` se rovná vlastnosti GridView s `SortExpression`.</span><span class="sxs-lookup"><span data-stu-id="b70e7-195">This is accomplished by looping through the GridView s `Columns` collection, searching for the column whose `SortExpression` property equals the GridView s `SortExpression` property.</span></span> <span data-ttu-id="b70e7-196">Kromě indexu sloupce je také k dispozici vlastnost `HeaderText`, která se používá při zobrazení oddělovacích řádků.</span><span class="sxs-lookup"><span data-stu-id="b70e7-196">In addition to the column s index, we also grab the `HeaderText` property, which is used when displaying the separator rows.</span></span>

<span data-ttu-id="b70e7-197">Pomocí indexu sloupce, podle kterého jsou data seřazena, je posledním krokem vytvoření výčtu řádků prvku GridView.</span><span class="sxs-lookup"><span data-stu-id="b70e7-197">With the index of the column by which the data is sorted, the final step is to enumerate the rows of the GridView.</span></span> <span data-ttu-id="b70e7-198">U každého řádku potřebujeme určit, jestli se hodnota seřazeného sloupce liší od předchozí hodnoty seřazeného sloupce s předchozími řádky.</span><span class="sxs-lookup"><span data-stu-id="b70e7-198">For each row we need to determine whether the sorted column s value differs from the previous row s sorted column s value.</span></span> <span data-ttu-id="b70e7-199">V takovém případě musíme vložit novou instanci `GridViewRow` do hierarchie ovládacích prvků.</span><span class="sxs-lookup"><span data-stu-id="b70e7-199">If so, we need to inject a new `GridViewRow` instance into the control hierarchy.</span></span> <span data-ttu-id="b70e7-200">Toho je možné dosáhnout pomocí následujícího kódu:</span><span class="sxs-lookup"><span data-stu-id="b70e7-200">This is accomplished with the following code:</span></span>

[!code-vb[Main](creating-a-customized-sorting-user-interface-vb/samples/sample4.vb)]

<span data-ttu-id="b70e7-201">Tento kód začíná programově odkazující na objekt `Table`, který se nachází v kořenovém adresáři hierarchie ovládacího prvku GridView s a vytváří řetězcovou proměnnou s názvem `lastValue`.</span><span class="sxs-lookup"><span data-stu-id="b70e7-201">This code starts by programmatically referencing the `Table` object found at the root of the GridView s control hierarchy and creating a string variable named `lastValue`.</span></span> <span data-ttu-id="b70e7-202">`lastValue` slouží k porovnání aktuální hodnoty seřazeného sloupce s předchozími hodnotami řádku s.</span><span class="sxs-lookup"><span data-stu-id="b70e7-202">`lastValue` is used to compare the current row s sorted column value with the previous row s value.</span></span> <span data-ttu-id="b70e7-203">V dalším kroku je vyhodnocena kolekce `Rows` prvku GridView a pro každý řádek je hodnota seřazeného sloupce uložena v proměnné `currentValue`.</span><span class="sxs-lookup"><span data-stu-id="b70e7-203">Next, the GridView s `Rows` collection is enumerated and for each row the value of the sorted column is stored in the `currentValue` variable.</span></span>

> [!NOTE]
> <span data-ttu-id="b70e7-204">Chcete-li určit hodnotu konkrétního sloupce s seřazenými řádky, použijte vlastnost `Text` buňky.</span><span class="sxs-lookup"><span data-stu-id="b70e7-204">To determine the value of the particular row s sorted column I use the cell s `Text` property.</span></span> <span data-ttu-id="b70e7-205">To funguje dobře pro BoundFields, ale nebude fungovat podle potřeby pro TemplateField, CheckBoxFields a tak dále.</span><span class="sxs-lookup"><span data-stu-id="b70e7-205">This works well for BoundFields, but will not work as desired for TemplateFields, CheckBoxFields, and so on.</span></span> <span data-ttu-id="b70e7-206">Podíváme se, jak brzy připravujeme alternativní pole GridView.</span><span class="sxs-lookup"><span data-stu-id="b70e7-206">We'll look at how to account for alternate GridView fields shortly.</span></span>

<span data-ttu-id="b70e7-207">Proměnné `currentValue` a `lastValue` jsou pak porovnány.</span><span class="sxs-lookup"><span data-stu-id="b70e7-207">The `currentValue` and `lastValue` variables are then compared.</span></span> <span data-ttu-id="b70e7-208">Pokud se liší, je nutné přidat nový řádek oddělovače do hierarchie ovládacích prvků.</span><span class="sxs-lookup"><span data-stu-id="b70e7-208">If they differ we need to add a new separator row to the control hierarchy.</span></span> <span data-ttu-id="b70e7-209">Toho je možné dosáhnout určením indexu `GridViewRow` v kolekci `Table` objektů `Rows`, vytvořením nových `GridViewRow` a `TableCell` instancí a následným přidáním `TableCell` a `GridViewRow` do hierarchie ovládacích prvků.</span><span class="sxs-lookup"><span data-stu-id="b70e7-209">This is accomplished by determining the index of the `GridViewRow` in the `Table` object s `Rows` collection, creating new `GridViewRow` and `TableCell` instances, and then adding the `TableCell` and `GridViewRow` to the control hierarchy.</span></span>

<span data-ttu-id="b70e7-210">Všimněte si, že oddělovací řádka s jedinou `TableCell` je formátována tak, aby byla rozložena k celé šířce prvku GridView, je formátována pomocí `SortHeaderRowStyle` třídy šablony stylů CSS a má vlastnost `Text` tak, aby zobrazila název skupiny řazení (například kategorie) a hodnotu skupiny (například nápoje).</span><span class="sxs-lookup"><span data-stu-id="b70e7-210">Note that the separator row s lone `TableCell` is formatted such that it spans the entire width of the GridView, is formatted using the `SortHeaderRowStyle` CSS class, and has its `Text` property such that it shows both the sort group name (such as Category ) and the group s value (such as Beverages ).</span></span> <span data-ttu-id="b70e7-211">Nakonec se `lastValue` aktualizuje na hodnotu `currentValue`.</span><span class="sxs-lookup"><span data-stu-id="b70e7-211">Finally, `lastValue` is updated to the value of `currentValue`.</span></span>

<span data-ttu-id="b70e7-212">Třída CSS použitá k formátování řádku záhlaví skupiny řazení `SortHeaderRowStyle` musí být zadána v souboru `Styles.css`.</span><span class="sxs-lookup"><span data-stu-id="b70e7-212">The CSS class used to format the sorting group header row `SortHeaderRowStyle` needs to be specified in the `Styles.css` file.</span></span> <span data-ttu-id="b70e7-213">Nebojte se použít jakékoli odvolání nastavení stylu. Použil (a) jsem následující:</span><span class="sxs-lookup"><span data-stu-id="b70e7-213">Feel free to use whatever style settings appeal to you; I used the following:</span></span>

[!code-css[Main](creating-a-customized-sorting-user-interface-vb/samples/sample5.css)]

<span data-ttu-id="b70e7-214">Pomocí aktuálního kódu přiřadí rozhraní řazení záhlaví skupin řazení při řazení podle libovolného vlastnost BoundField (viz obrázek 5, který zobrazuje snímek obrazovky při řazení podle dodavatele).</span><span class="sxs-lookup"><span data-stu-id="b70e7-214">With the current code, the sorting interface adds sort group headers when sorting by any BoundField (see Figure 5, which shows a screenshot when sorting by supplier).</span></span> <span data-ttu-id="b70e7-215">Ale při řazení podle jiného typu pole (například třídě CheckBoxField podporována nebo TemplateField) se záhlaví skupiny řazení nikde, které se mají najít (viz obrázek 6).</span><span class="sxs-lookup"><span data-stu-id="b70e7-215">However, when sorting by any other field type (such as a CheckBoxField or TemplateField), the sort group headers are nowhere to be found (see Figure 6).</span></span>

<span data-ttu-id="b70e7-216">[![rozhraní řazení zahrnuje záhlaví skupin při řazení podle BoundFields](creating-a-customized-sorting-user-interface-vb/_static/image12.png)](creating-a-customized-sorting-user-interface-vb/_static/image11.png)</span><span class="sxs-lookup"><span data-stu-id="b70e7-216">[![The Sorting Interface Includes Sort Group Headers When Sorting by BoundFields](creating-a-customized-sorting-user-interface-vb/_static/image12.png)](creating-a-customized-sorting-user-interface-vb/_static/image11.png)</span></span>

<span data-ttu-id="b70e7-217">**Obrázek 5**: rozhraní řazení zahrnuje záhlaví skupin při řazení podle BoundFields ([kliknutím zobrazíte obrázek v plné velikosti).](creating-a-customized-sorting-user-interface-vb/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="b70e7-217">**Figure 5**: The Sorting Interface Includes Sort Group Headers When Sorting by BoundFields ([Click to view full-size image](creating-a-customized-sorting-user-interface-vb/_static/image13.png))</span></span>

<span data-ttu-id="b70e7-218">[![při řazení třídě CheckBoxField podporována chybí záhlaví skupiny řazení](creating-a-customized-sorting-user-interface-vb/_static/image15.png)](creating-a-customized-sorting-user-interface-vb/_static/image14.png)</span><span class="sxs-lookup"><span data-stu-id="b70e7-218">[![The Sort Group Headers are Missing When Sorting a CheckBoxField](creating-a-customized-sorting-user-interface-vb/_static/image15.png)](creating-a-customized-sorting-user-interface-vb/_static/image14.png)</span></span>

<span data-ttu-id="b70e7-219">**Obrázek 6**: při řazení třídě CheckBoxField podporována chybí záhlaví skupiny řazení ([kliknutím zobrazíte obrázek v plné velikosti](creating-a-customized-sorting-user-interface-vb/_static/image16.png)).</span><span class="sxs-lookup"><span data-stu-id="b70e7-219">**Figure 6**: The Sort Group Headers are Missing When Sorting a CheckBoxField ([Click to view full-size image](creating-a-customized-sorting-user-interface-vb/_static/image16.png))</span></span>

<span data-ttu-id="b70e7-220">Důvod, proč chybí záhlaví skupiny řazení při řazení podle třídě CheckBoxField podporována, je, že kód aktuálně používá pouze vlastnost `Text` `TableCell` s k určení hodnoty seřazeného sloupce pro každý řádek.</span><span class="sxs-lookup"><span data-stu-id="b70e7-220">The reason the sort group headers are missing when sorting by a CheckBoxField is because the code currently uses just the `TableCell` s `Text` property to determine the value of the sorted column for each row.</span></span> <span data-ttu-id="b70e7-221">Pro CheckBoxFields je vlastnost `Text` `TableCell` s prázdným řetězcem. místo toho je tato hodnota k dispozici prostřednictvím webového ovládacího prvku CheckBox, který se nachází v kolekci `TableCell` s `Controls`.</span><span class="sxs-lookup"><span data-stu-id="b70e7-221">For CheckBoxFields, the `TableCell` s `Text` property is an empty string; instead, the value is available through a CheckBox Web control that resides within the `TableCell` s `Controls` collection.</span></span>

<span data-ttu-id="b70e7-222">Abychom mohli zpracovávat jiné typy polí než BoundFields, musíme rozšířit kód, kde je přiřazena proměnná `currentValue` pro kontrolu existence zaškrtávacího políčka v kolekci `TableCell` s `Controls`.</span><span class="sxs-lookup"><span data-stu-id="b70e7-222">To handle field types other than BoundFields, we need to augment the code where the `currentValue` variable is assigned to check for the existence of a CheckBox in the `TableCell` s `Controls` collection.</span></span> <span data-ttu-id="b70e7-223">Místo použití `currentValue = gvr.Cells(sortColumnIndex).Text`nahraďte tento kód následujícím kódem:</span><span class="sxs-lookup"><span data-stu-id="b70e7-223">Instead of using `currentValue = gvr.Cells(sortColumnIndex).Text`, replace this code with the following:</span></span>

[!code-vb[Main](creating-a-customized-sorting-user-interface-vb/samples/sample6.vb)]

<span data-ttu-id="b70e7-224">Tento kód prověřuje seřazený sloupec `TableCell` pro aktuální řádek k určení, zda existují ovládací prvky v kolekci `Controls`.</span><span class="sxs-lookup"><span data-stu-id="b70e7-224">This code examines the sorted column `TableCell` for the current row to determine if there are any controls in the `Controls` collection.</span></span> <span data-ttu-id="b70e7-225">Pokud existují a prvním ovládacím prvkem zaškrtávací políčko, je proměnná `currentValue` v závislosti na vlastnosti `Checked` CheckBoxs nastavena na hodnotu yes nebo No.</span><span class="sxs-lookup"><span data-stu-id="b70e7-225">If there are, and the first control is a CheckBox, the `currentValue` variable is set to Yes or No, depending on the CheckBox s `Checked` property.</span></span> <span data-ttu-id="b70e7-226">V opačném případě se hodnota převezme z vlastnosti `TableCell` s `Text`.</span><span class="sxs-lookup"><span data-stu-id="b70e7-226">Otherwise, the value is taken from the `TableCell` s `Text` property.</span></span> <span data-ttu-id="b70e7-227">Tuto logiku lze replikovat pro zpracování řazení pro jakékoli pole TemplateField, která mohou existovat v prvku GridView.</span><span class="sxs-lookup"><span data-stu-id="b70e7-227">This logic can be replicated to handle sorting for any TemplateFields that may exist in the GridView.</span></span>

<span data-ttu-id="b70e7-228">S výše uvedeným kódem jsou nyní k dispozici záhlaví skupin pro řazení při řazení podle třídě CheckBoxField podporovánach ukončených (viz obrázek 7).</span><span class="sxs-lookup"><span data-stu-id="b70e7-228">With the above code addition, the sort group headers are now present when sorting by the Discontinued CheckBoxField (see Figure 7).</span></span>

<span data-ttu-id="b70e7-229">[![se při řazení třídě CheckBoxField podporována k dispozici záhlaví skupin řazení.](creating-a-customized-sorting-user-interface-vb/_static/image18.png)](creating-a-customized-sorting-user-interface-vb/_static/image17.png)</span><span class="sxs-lookup"><span data-stu-id="b70e7-229">[![The Sort Group Headers are Now Present When Sorting a CheckBoxField](creating-a-customized-sorting-user-interface-vb/_static/image18.png)](creating-a-customized-sorting-user-interface-vb/_static/image17.png)</span></span>

<span data-ttu-id="b70e7-230">**Obrázek 7**: při řazení třídě CheckBoxField podporována jsou teď k dispozici záhlaví skupin pro řazení ([kliknutím zobrazíte obrázek v plné velikosti).](creating-a-customized-sorting-user-interface-vb/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="b70e7-230">**Figure 7**: The Sort Group Headers are Now Present When Sorting a CheckBoxField ([Click to view full-size image](creating-a-customized-sorting-user-interface-vb/_static/image19.png))</span></span>

> [!NOTE]
> <span data-ttu-id="b70e7-231">Pokud máte produkty s `NULL` hodnotami databáze pro pole `CategoryID`, `SupplierID`nebo `UnitPrice`, budou se tyto hodnoty ve výchozím nastavení zobrazovat jako prázdné řetězce v prvku GridView, což znamená, že text oddělovače pro tyto produkty s `NULL` hodnotami se načtou jako kategorie: (to znamená, že za kategorií: nápoje nejsou žádné názvy).</span><span class="sxs-lookup"><span data-stu-id="b70e7-231">If you have products with `NULL` database values for the `CategoryID`, `SupplierID`, or `UnitPrice` fields, those values will appear as empty strings in the GridView by default, meaning the separator row s text for those products with `NULL` values will read like Category: (that is, there s no name after Category: like with Category: Beverages ).</span></span> <span data-ttu-id="b70e7-232">Pokud chcete zobrazit hodnotu, můžete buď nastavit [vlastnost BoundFields`NullDisplayText`](https://msdn.microsoft.com/library/system.web.ui.webcontrols.boundfield.nulldisplaytext.aspx) na text, který chcete zobrazit, nebo můžete přidat podmíněný příkaz do metody Render při přiřazování `currentValue` k vlastnosti `Text` oddělovače řádků.</span><span class="sxs-lookup"><span data-stu-id="b70e7-232">If you want a value displayed here you can either set the BoundFields [`NullDisplayText` property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.boundfield.nulldisplaytext.aspx) to the text you want displayed or you can add a conditional statement in the Render method when assigning the `currentValue` to the separator row s `Text` property.</span></span>

## <a name="summary"></a><span data-ttu-id="b70e7-233">Přehled</span><span class="sxs-lookup"><span data-stu-id="b70e7-233">Summary</span></span>

<span data-ttu-id="b70e7-234">Prvek GridView nezahrnuje mnoho předdefinovaných možností pro přizpůsobení rozhraní řazení.</span><span class="sxs-lookup"><span data-stu-id="b70e7-234">The GridView does not include many built-in options for customizing the sorting interface.</span></span> <span data-ttu-id="b70e7-235">Nicméně s bitovou úrovní kódu na nízké úrovni je možné upravit hierarchii ovládacího prvku GridView s a vytvořit přizpůsobené rozhraní.</span><span class="sxs-lookup"><span data-stu-id="b70e7-235">However, with a bit of low-level code, it s possible to tweak the GridView s control hierarchy to create a more customized interface.</span></span> <span data-ttu-id="b70e7-236">V tomto kurzu jsme viděli, jak přidat řádek oddělovače skupiny řazení pro řazený prvek GridView, který snadněji identifikuje samostatné skupiny a tyto skupiny.</span><span class="sxs-lookup"><span data-stu-id="b70e7-236">In this tutorial we saw how to add a sort group separator row for a sortable GridView, which more easily identifies the distinct groups and those groups boundaries.</span></span> <span data-ttu-id="b70e7-237">Další příklady přizpůsobených rozhraní řazení najdete v části [Scott Guthrie](https://weblogs.asp.net/scottgu/) s [pár ASP.NET 2,0 GridView – tipy a položky blogu s triky pro řazení](https://weblogs.asp.net/scottgu/archive/2006/02/11/437995.aspx) .</span><span class="sxs-lookup"><span data-stu-id="b70e7-237">For additional examples of customized sorting interfaces, check out [Scott Guthrie](https://weblogs.asp.net/scottgu/) s [A Few ASP.NET 2.0 GridView Sorting Tips and Tricks](https://weblogs.asp.net/scottgu/archive/2006/02/11/437995.aspx) blog entry.</span></span>

<span data-ttu-id="b70e7-238">Šťastné programování!</span><span class="sxs-lookup"><span data-stu-id="b70e7-238">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="b70e7-239">O autorovi</span><span class="sxs-lookup"><span data-stu-id="b70e7-239">About the Author</span></span>

<span data-ttu-id="b70e7-240">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), autor 7 ASP/ASP. NET Books a zakladatel of [4GuysFromRolla.com](http://www.4guysfromrolla.com), pracoval s webovými technologiemi Microsoftu od 1998.</span><span class="sxs-lookup"><span data-stu-id="b70e7-240">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="b70e7-241">Scott funguje jako nezávislý konzultant, Trainer a zapisovač.</span><span class="sxs-lookup"><span data-stu-id="b70e7-241">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="b70e7-242">Nejnovější kniha je [*Sams naučit se ASP.NET 2,0 za 24 hodin*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="b70e7-242">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="b70e7-243">Dá se získat na [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="b70e7-243">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span> <span data-ttu-id="b70e7-244">nebo prostřednictvím svého blogu, který najdete na adrese [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span><span class="sxs-lookup"><span data-stu-id="b70e7-244">or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

> [!div class="step-by-step"]
> [<span data-ttu-id="b70e7-245">Předchozí</span><span class="sxs-lookup"><span data-stu-id="b70e7-245">Previous</span></span>](sorting-custom-paged-data-vb.md)
