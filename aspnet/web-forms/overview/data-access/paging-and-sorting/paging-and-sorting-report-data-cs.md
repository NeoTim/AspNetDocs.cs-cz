---
uid: web-forms/overview/data-access/paging-and-sorting/paging-and-sorting-report-data-cs
title: Stránkování a řazení dat sestavy (C#) | Microsoft Docs
author: rick-anderson
description: Stránkování a řazení jsou dvě velmi běžné funkce při zobrazování dat v online aplikaci. V tomto kurzu se podíváme na první pohled na přidání řazení a...
ms.author: riande
ms.date: 08/15/2006
ms.assetid: 811a6ef2-ec66-4c8e-a089-6f795056e288
msc.legacyurl: /web-forms/overview/data-access/paging-and-sorting/paging-and-sorting-report-data-cs
msc.type: authoredcontent
ms.openlocfilehash: 2f77040316dadc218b8183e52628dc0cfe3b35a1
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 03/06/2020
ms.locfileid: "78619516"
---
# <a name="paging-and-sorting-report-data-c"></a><span data-ttu-id="fc09c-104">Stránkování a řazení dat sestavy (C#)</span><span class="sxs-lookup"><span data-stu-id="fc09c-104">Paging and Sorting Report Data (C#)</span></span>

<span data-ttu-id="fc09c-105">[Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="fc09c-105">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="fc09c-106">[Stáhnout ukázkovou aplikaci](https://download.microsoft.com/download/9/c/1/9c1d03ee-29ba-4d58-aa1a-f201dcc822ea/ASPNET_Data_Tutorial_24_CS.exe) nebo [Stáhnout PDF](paging-and-sorting-report-data-cs/_static/datatutorial24cs1.pdf)</span><span class="sxs-lookup"><span data-stu-id="fc09c-106">[Download Sample App](https://download.microsoft.com/download/9/c/1/9c1d03ee-29ba-4d58-aa1a-f201dcc822ea/ASPNET_Data_Tutorial_24_CS.exe) or [Download PDF](paging-and-sorting-report-data-cs/_static/datatutorial24cs1.pdf)</span></span>

> <span data-ttu-id="fc09c-107">Stránkování a řazení jsou dvě velmi běžné funkce při zobrazování dat v online aplikaci.</span><span class="sxs-lookup"><span data-stu-id="fc09c-107">Paging and sorting are two very common features when displaying data in an online application.</span></span> <span data-ttu-id="fc09c-108">V tomto kurzu se podíváme na první pohled na přidání řazení a stránkování do našich sestav, které pak vytvoříme v budoucích kurzech.</span><span class="sxs-lookup"><span data-stu-id="fc09c-108">In this tutorial we'll take a first look at adding sorting and paging to our reports, which we will then build upon in future tutorials.</span></span>

## <a name="introduction"></a><span data-ttu-id="fc09c-109">Úvod</span><span class="sxs-lookup"><span data-stu-id="fc09c-109">Introduction</span></span>

<span data-ttu-id="fc09c-110">Stránkování a řazení jsou dvě velmi běžné funkce při zobrazování dat v online aplikaci.</span><span class="sxs-lookup"><span data-stu-id="fc09c-110">Paging and sorting are two very common features when displaying data in an online application.</span></span> <span data-ttu-id="fc09c-111">Například při hledání ASP.NET knih v online knihkupectví mohou existovat stovky takových knih, ale v sestavě se seznamem výsledků hledání se zobrazí pouze deset shod na jednu stránku.</span><span class="sxs-lookup"><span data-stu-id="fc09c-111">For example, when searching for ASP.NET books at an online bookstore, there may be hundreds of such books, but the report listing the search results lists only ten matches per page.</span></span> <span data-ttu-id="fc09c-112">Kromě toho je možné výsledky seřadit podle názvu, ceny, počtu stránek, jména autora atd.</span><span class="sxs-lookup"><span data-stu-id="fc09c-112">Moreover, the results can be sorted by title, price, page count, author name, and so on.</span></span> <span data-ttu-id="fc09c-113">I když se v posledních 23 kurzech zkoumalo, jak sestavit celou řadu sestav, včetně rozhraní, která umožňují přidávání, upravování a odstraňování dat, nezobrazili jsme se na tom, jak řadit data a jenom příklady stránkování, které jsme viděli, s ovládacím prvekem DetailsView a FormView. ovládací prvky.</span><span class="sxs-lookup"><span data-stu-id="fc09c-113">While the past 23 tutorials have examined how to build a variety of reports, including interfaces that permit adding, editing, and deleting data, we ve not looked at how to sort data and the only paging examples we ve seen have been with the DetailsView and FormView controls.</span></span>

<span data-ttu-id="fc09c-114">V tomto kurzu se dozvíte, jak přidat řazení a stránkování do našich sestav, které je možné dosáhnout pouhým zaškrtnutím několika zaškrtávacích políček.</span><span class="sxs-lookup"><span data-stu-id="fc09c-114">In this tutorial we'll see how to add sorting and paging to our reports, which can be accomplished by simply checking a few checkboxes.</span></span> <span data-ttu-id="fc09c-115">Tato implementace zjednodušený bohužel má nevýhodu, takže rozhraní řazení opustí bitovou kopii, která je žádoucí, a rutiny stránkování nejsou navržené pro efektivní stránkování prostřednictvím rozsáhlých sad výsledků.</span><span class="sxs-lookup"><span data-stu-id="fc09c-115">Unfortunately, this simplistic implementation has its drawbacks the sorting interface leaves a bit to be desired and the paging routines are not designed for efficiently paging through large result sets.</span></span> <span data-ttu-id="fc09c-116">V budoucích kurzech se dozvíte, jak překonat omezení předem připravených řešení pro stránkování a řazení.</span><span class="sxs-lookup"><span data-stu-id="fc09c-116">Future tutorials will explore how to overcome the limitations of the out-of-the-box paging and sorting solutions.</span></span>

## <a name="step-1-adding-the-paging-and-sorting-tutorial-web-pages"></a><span data-ttu-id="fc09c-117">Krok 1: Přidání webových stránek kurzu stránkování a seřazení</span><span class="sxs-lookup"><span data-stu-id="fc09c-117">Step 1: Adding the Paging and Sorting Tutorial Web Pages</span></span>

<span data-ttu-id="fc09c-118">Před zahájením tohoto kurzu si nejdřív počkejte, než se přidá stránky ASP.NET, které budeme potřebovat pro tento kurz a další tři.</span><span class="sxs-lookup"><span data-stu-id="fc09c-118">Before we start this tutorial, let s first take a moment to add the ASP.NET pages we'll need for this tutorial and the next three.</span></span> <span data-ttu-id="fc09c-119">Začněte vytvořením nové složky v projektu s názvem `PagingAndSorting`.</span><span class="sxs-lookup"><span data-stu-id="fc09c-119">Start by creating a new folder in the project named `PagingAndSorting`.</span></span> <span data-ttu-id="fc09c-120">V dalším kroku přidejte do této složky následující pět ASP.NET stránek a všechny je nakonfigurované tak, aby používaly stránku předlohy `Site.master`:</span><span class="sxs-lookup"><span data-stu-id="fc09c-120">Next, add the following five ASP.NET pages to this folder, having all of them configured to use the master page `Site.master`:</span></span>

- `Default.aspx`
- `SimplePagingSorting.aspx`
- `EfficientPaging.aspx`
- `SortParameter.aspx`
- `CustomSortingUI.aspx`

![Vytvořte složku PagingAndSorting a přidejte stránky ASP.NET kurzu.](paging-and-sorting-report-data-cs/_static/image1.png)

<span data-ttu-id="fc09c-122">**Obrázek 1**: vytvoření složky PagingAndSorting a přidání stránek kurzu ASP.NET</span><span class="sxs-lookup"><span data-stu-id="fc09c-122">**Figure 1**: Create a PagingAndSorting Folder and Add the Tutorial ASP.NET Pages</span></span>

<span data-ttu-id="fc09c-123">Potom otevřete stránku `Default.aspx` a přetáhněte uživatelský ovládací prvek `SectionLevelTutorialListing.ascx` ze složky `UserControls` na návrhovou plochu.</span><span class="sxs-lookup"><span data-stu-id="fc09c-123">Next, open the `Default.aspx` page and drag the `SectionLevelTutorialListing.ascx` User Control from the `UserControls` folder onto the Design surface.</span></span> <span data-ttu-id="fc09c-124">Tento uživatelský ovládací prvek, který jsme vytvořili v kurzu [hlavní stránky a navigace na webu](../introduction/master-pages-and-site-navigation-cs.md) , vytvoří výčet mapy lokality a v aktuálním oddílu zobrazí v seznamu s odrážkami kurzy.</span><span class="sxs-lookup"><span data-stu-id="fc09c-124">This User Control, which we created in the [Master Pages and Site Navigation](../introduction/master-pages-and-site-navigation-cs.md) tutorial, enumerates the site map and displays those tutorials in the current section in a bulleted list.</span></span>

![Přidat uživatelský ovládací prvek SectionLevelTutorialListing. ascx do default. aspx](paging-and-sorting-report-data-cs/_static/image2.png)

<span data-ttu-id="fc09c-126">**Obrázek 2**: Přidání uživatelského ovládacího prvku SectionLevelTutorialListing. ascx do default. aspx</span><span class="sxs-lookup"><span data-stu-id="fc09c-126">**Figure 2**: Add the SectionLevelTutorialListing.ascx User Control to Default.aspx</span></span>

<span data-ttu-id="fc09c-127">Aby se v seznamu s odrážkami zobrazovaly kurzy stránkování a řazení, vytvoříme, že je musíme přidat k mapě webu.</span><span class="sxs-lookup"><span data-stu-id="fc09c-127">In order to have the bulleted list display the paging and sorting tutorials we'll be creating, we need to add them to the site map.</span></span> <span data-ttu-id="fc09c-128">Otevřete soubor `Web.sitemap` a po úpravách, vkládání a odstraňování značek uzlu mapy webu přidejte následující kód:</span><span class="sxs-lookup"><span data-stu-id="fc09c-128">Open the `Web.sitemap` file and add the following markup after the Editing, Inserting, and Deleting site map node markup:</span></span>

[!code-xml[Main](paging-and-sorting-report-data-cs/samples/sample1.xml)]

![Aktualizovat mapu webu tak, aby obsahovala nové stránky ASP.NET](paging-and-sorting-report-data-cs/_static/image3.png)

<span data-ttu-id="fc09c-130">**Obrázek 3**: aktualizace mapy webu tak, aby obsahovala nové stránky ASP.NET</span><span class="sxs-lookup"><span data-stu-id="fc09c-130">**Figure 3**: Update the Site Map to Include the New ASP.NET Pages</span></span>

## <a name="step-2-displaying-product-information-in-a-gridview"></a><span data-ttu-id="fc09c-131">Krok 2: zobrazení informací o produktu v prvku GridView</span><span class="sxs-lookup"><span data-stu-id="fc09c-131">Step 2: Displaying Product Information in a GridView</span></span>

<span data-ttu-id="fc09c-132">Předtím, než ve skutečnosti implementujeme možnosti stránkování a řazení, je nejdříve možné vytvořit standardní neuživatelsky nevyhovující prvky GridView, které obsahují informace o produktu.</span><span class="sxs-lookup"><span data-stu-id="fc09c-132">Before we actually implement paging and sorting capabilities, let s first create a standard non-sortable, non-pageable GridView that lists the product information.</span></span> <span data-ttu-id="fc09c-133">Toto je úkol, který jsme v průběhu celé řady kurzů mnohokrát provedli, aby bylo možné tyto kroky dobře znát.</span><span class="sxs-lookup"><span data-stu-id="fc09c-133">This is a task we ve done many times before throughout this tutorial series so these steps should be familiar.</span></span> <span data-ttu-id="fc09c-134">Začněte otevřením stránky `SimplePagingSorting.aspx` a přetažením ovládacího prvku GridView z panelu nástrojů do návrháře nastavte jeho vlastnost `ID` na `Products`.</span><span class="sxs-lookup"><span data-stu-id="fc09c-134">Start by opening the `SimplePagingSorting.aspx` page and drag a GridView control from the Toolbox onto the Designer, setting its `ID` property to `Products`.</span></span> <span data-ttu-id="fc09c-135">Dále vytvořte nový prvek ObjectDataSource, který pomocí ProductsBLL třídy s `GetProducts()` metodu vrátí všechny informace o produktu.</span><span class="sxs-lookup"><span data-stu-id="fc09c-135">Next, create a new ObjectDataSource that uses the ProductsBLL class s `GetProducts()` method to return all of the product information.</span></span>

![Načíst informace o všech produktech pomocí metody GetProducts ()](paging-and-sorting-report-data-cs/_static/image4.png)

<span data-ttu-id="fc09c-137">**Obrázek 4**: načtení informací o všech produktech pomocí metody GetProducts ()</span><span class="sxs-lookup"><span data-stu-id="fc09c-137">**Figure 4**: Retrieve Information About All of the Products Using the GetProducts() Method</span></span>

<span data-ttu-id="fc09c-138">Vzhledem k tomu, že je tato sestava sestavou jen pro čtení, není nutné mapovat prvky ObjectDataSource `Insert()`, `Update()`nebo `Delete()` metody na odpovídající `ProductsBLL` metody; Proto v rozevíracím seznamu pro karty aktualizace, vložení a odstranění vyberte (žádné).</span><span class="sxs-lookup"><span data-stu-id="fc09c-138">Since this report is a read-only report, there s no need to map the ObjectDataSource s `Insert()`, `Update()`, or `Delete()` methods to corresponding `ProductsBLL` methods; therefore, choose (None) from the drop-down list for the UPDATE, INSERT, and DELETE tabs.</span></span>

![V rozevíracím seznamu na kartách aktualizace, vložení a odstranění vyberte možnost (žádná).](paging-and-sorting-report-data-cs/_static/image5.png)

<span data-ttu-id="fc09c-140">**Obrázek 5**: v rozevíracím seznamu na kartách aktualizace, vložení a odstranění vyberte možnost (žádná).</span><span class="sxs-lookup"><span data-stu-id="fc09c-140">**Figure 5**: Choose the (None) Option in the Drop-Down List in the UPDATE, INSERT, and DELETE Tabs</span></span>

<span data-ttu-id="fc09c-141">Dále Přizpůsobte pole GridView s tak, aby se zobrazily pouze názvy produktů, dodavatelé, kategorie, ceny a ukončené stavy.</span><span class="sxs-lookup"><span data-stu-id="fc09c-141">Next, let s customize the GridView s fields so that only the products names, suppliers, categories, prices, and discontinued statuses are displayed.</span></span> <span data-ttu-id="fc09c-142">Navíc můžete bez obav udělat jakékoli změny formátování na úrovni polí, jako je například úprava vlastností `HeaderText` nebo formátování ceny jako měny.</span><span class="sxs-lookup"><span data-stu-id="fc09c-142">Furthermore, feel free to make any field-level formatting changes, such as adjusting the `HeaderText` properties or formatting the price as a currency.</span></span> <span data-ttu-id="fc09c-143">Po těchto změnách by deklarativní označení GridViewu mělo vypadat podobně jako následující:</span><span class="sxs-lookup"><span data-stu-id="fc09c-143">After these changes, your GridView s declarative markup should look similar to the following:</span></span>

[!code-aspx[Main](paging-and-sorting-report-data-cs/samples/sample2.aspx)]

<span data-ttu-id="fc09c-144">Obrázek 6 znázorňuje náš průběh, pokud je zobrazený v prohlížeči.</span><span class="sxs-lookup"><span data-stu-id="fc09c-144">Figure 6 shows our progress thus far when viewed through a browser.</span></span> <span data-ttu-id="fc09c-145">Všimněte si, že stránka obsahuje seznam všech produktů na jedné obrazovce, kde se zobrazují všechny názvy produktů, kategorie, dodavatele, ceny a ukončené stavy.</span><span class="sxs-lookup"><span data-stu-id="fc09c-145">Note that the page lists all of the products in one screen, showing each product s name, category, supplier, price, and discontinued status.</span></span>

<span data-ttu-id="fc09c-146">[![jednotlivé produkty jsou uvedené](paging-and-sorting-report-data-cs/_static/image7.png)](paging-and-sorting-report-data-cs/_static/image6.png)</span><span class="sxs-lookup"><span data-stu-id="fc09c-146">[![Each of the Products are Listed](paging-and-sorting-report-data-cs/_static/image7.png)](paging-and-sorting-report-data-cs/_static/image6.png)</span></span>

<span data-ttu-id="fc09c-147">**Obrázek 6**: seznam všech produktů ([kliknutím zobrazíte obrázek v plné velikosti](paging-and-sorting-report-data-cs/_static/image8.png))</span><span class="sxs-lookup"><span data-stu-id="fc09c-147">**Figure 6**: Each of the Products are Listed ([Click to view full-size image](paging-and-sorting-report-data-cs/_static/image8.png))</span></span>

## <a name="step-3-adding-paging-support"></a><span data-ttu-id="fc09c-148">Krok 3: Přidání podpory stránkování</span><span class="sxs-lookup"><span data-stu-id="fc09c-148">Step 3: Adding Paging Support</span></span>

<span data-ttu-id="fc09c-149">Výpis *všech* produktů na jedné obrazovce může vést k přetížení informací, aby uživatel perusing data.</span><span class="sxs-lookup"><span data-stu-id="fc09c-149">Listing *all* of the products on one screen can lead to information overload for the user perusing the data.</span></span> <span data-ttu-id="fc09c-150">Abychom vám pomohli zlepšit správu výsledků, můžeme rozdělit data na menší stránky dat a umožnit tak uživateli procházet data po jednotlivých stránkách.</span><span class="sxs-lookup"><span data-stu-id="fc09c-150">To help make the results more manageable, we can break up the data into smaller pages of data and allow the user to step through the data one page at a time.</span></span> <span data-ttu-id="fc09c-151">Chcete-li to provést, zaškrtněte políčko Povolit stránkování z inteligentní značky GridView s (tím se nastaví [vlastnost`AllowPaging`](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.allowpaging.aspx) prvku gridview s `true`).</span><span class="sxs-lookup"><span data-stu-id="fc09c-151">To accomplish this simply check the Enable Paging checkbox from the GridView s smart tag (this sets the GridView s [`AllowPaging` property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.allowpaging.aspx) to `true`).</span></span>

<span data-ttu-id="fc09c-152">[![zaškrtnutím políčka Povolit stránkování přidejte podporu stránkování.](paging-and-sorting-report-data-cs/_static/image10.png)](paging-and-sorting-report-data-cs/_static/image9.png)</span><span class="sxs-lookup"><span data-stu-id="fc09c-152">[![Check the Enable Paging Checkbox to Add Paging Support](paging-and-sorting-report-data-cs/_static/image10.png)](paging-and-sorting-report-data-cs/_static/image9.png)</span></span>

<span data-ttu-id="fc09c-153">**Obrázek 7**: Zaškrtnutím políčka Povolit stránkování přidejte podporu stránkování ([kliknutím zobrazíte obrázek v plné velikosti).](paging-and-sorting-report-data-cs/_static/image11.png)</span><span class="sxs-lookup"><span data-stu-id="fc09c-153">**Figure 7**: Check the Enable Paging Checkbox to Add Paging Support ([Click to view full-size image](paging-and-sorting-report-data-cs/_static/image11.png))</span></span>

<span data-ttu-id="fc09c-154">Povolení stránkování omezuje počet záznamů zobrazených na stránce a přidá *rozhraní stránkování* do prvku GridView.</span><span class="sxs-lookup"><span data-stu-id="fc09c-154">Enabling paging limits the number of records shown per page and adds a *paging interface* to the GridView.</span></span> <span data-ttu-id="fc09c-155">Výchozí stránkovací rozhraní zobrazené na obrázku 7 je série čísel stránek, která umožňuje uživateli rychle přejít z jedné stránky dat do jiné.</span><span class="sxs-lookup"><span data-stu-id="fc09c-155">The default paging interface, shown in Figure 7, is a series of page numbers, allowing the user to quickly navigate from one page of data to another.</span></span> <span data-ttu-id="fc09c-156">Toto rozhraní stránkování by mělo vypadat dobře, jak jsme ho viděli při přidávání podpory stránkování do ovládacích prvků DetailsView a FormView v předchozích kurzech.</span><span class="sxs-lookup"><span data-stu-id="fc09c-156">This paging interface should look familiar, as we ve seen it when adding paging support to the DetailsView and FormView controls in past tutorials.</span></span>

<span data-ttu-id="fc09c-157">Ovládací prvky DetailsView a FormView zobrazují pouze jeden záznam na stránku.</span><span class="sxs-lookup"><span data-stu-id="fc09c-157">Both the DetailsView and FormView controls only show a single record per page.</span></span> <span data-ttu-id="fc09c-158">Prvek GridView ale pomocí [vlastnosti`PageSize`](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.pagesize.aspx) zjistí, kolik záznamů se má zobrazit na stránce (Tato vlastnost je standardně nastavená na hodnotu 10).</span><span class="sxs-lookup"><span data-stu-id="fc09c-158">The GridView, however, consults its [`PageSize` property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.pagesize.aspx) to determine how many records to show per page (this property defaults to a value of 10).</span></span>

<span data-ttu-id="fc09c-159">Rozhraní pro stránkování prvku GridView, DetailsView a FormView s lze přizpůsobit pomocí následujících vlastností:</span><span class="sxs-lookup"><span data-stu-id="fc09c-159">This GridView, DetailsView, and FormView s paging interface can be customized using the following properties:</span></span>

- <span data-ttu-id="fc09c-160">`PagerStyle` označuje informace o stylu pro rozhraní stránkování; lze určit nastavení, například `BackColor`, `ForeColor`, `CssClass`, `HorizontalAlign`a tak dále.</span><span class="sxs-lookup"><span data-stu-id="fc09c-160">`PagerStyle` indicates the style information for the paging interface; can specify settings like `BackColor`, `ForeColor`, `CssClass`, `HorizontalAlign`, and so on.</span></span>
- <span data-ttu-id="fc09c-161">`PagerSettings` obsahuje řadou reálných vlastností, které mohou přizpůsobit funkčnost rozhraní stránkování; `PageButtonCount` označuje maximální počet čísel stránek zobrazených ve stránkovacím rozhraní (výchozí hodnota je 10); [vlastnost`Mode`](https://msdn.microsoft.com/library/system.web.ui.webcontrols.pagersettings.mode.aspx) označuje, jak funguje stránkování rozhraní a lze jej nastavit na:</span><span class="sxs-lookup"><span data-stu-id="fc09c-161">`PagerSettings` contains a bevy of properties that can customize the functionality of the paging interface; `PageButtonCount` indicates the maximum number of numeric page numbers displayed in the paging interface (the default is 10); the [`Mode` property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.pagersettings.mode.aspx) indicates how the paging interface operates and can be set to:</span></span> 

    - <span data-ttu-id="fc09c-162">`NextPrevious` zobrazí další a předchozí tlačítka umožňující uživateli krok dopředu nebo dozadu po jedné stránce.</span><span class="sxs-lookup"><span data-stu-id="fc09c-162">`NextPrevious` shows a Next and Previous buttons, allowing the user to step forwards or backwards one page at a time</span></span>
    - <span data-ttu-id="fc09c-163">k dispozici jsou také `NextPreviousFirstLast` kromě tlačítek Další a předchozí, první a poslední tlačítko a umožňuje uživateli rychle přejít na první nebo poslední stránku dat.</span><span class="sxs-lookup"><span data-stu-id="fc09c-163">`NextPreviousFirstLast` in addition to Next and Previous buttons, First and Last buttons are also included, allowing the user to quickly move to the first or last page of data</span></span>
    - <span data-ttu-id="fc09c-164">`Numeric` zobrazuje řadu čísel stránek a umožňuje uživateli okamžitě přejít na libovolnou stránku.</span><span class="sxs-lookup"><span data-stu-id="fc09c-164">`Numeric` shows a series of page numbers, allowing the user to immediately jump to any page</span></span>
    - <span data-ttu-id="fc09c-165">`NumericFirstLast` kromě čísel stránek zahrnuje i první a poslední tlačítko a umožňuje uživateli rychle přejít na první nebo poslední stránku dat; První/poslední tlačítko se zobrazí pouze v případě, že se nevejde na všechna čísla čísel stránek</span><span class="sxs-lookup"><span data-stu-id="fc09c-165">`NumericFirstLast` in addition to the page numbers, includes First and Last buttons, allowing the user to quickly move to the first or last page of data; the First/Last buttons are only shown if all of the numeric page numbers cannot fit</span></span>

<span data-ttu-id="fc09c-166">Kromě toho všechny ovládací prvek GridView, DetailsView a FormView nabízí vlastnosti `PageIndex` a `PageCount`, které označují aktuální prohlíženou stránku a celkový počet stránek dat v uvedeném pořadí.</span><span class="sxs-lookup"><span data-stu-id="fc09c-166">Moreover, the GridView, DetailsView, and FormView all offer the `PageIndex` and `PageCount` properties, which indicate the current page being viewed and the total number of pages of data, respectively.</span></span> <span data-ttu-id="fc09c-167">Vlastnost `PageIndex` je indexovaná počínaje hodnotou 0, což znamená, že při zobrazení první stránky `PageIndex` dat se rovná 0.</span><span class="sxs-lookup"><span data-stu-id="fc09c-167">The `PageIndex` property is indexed starting at 0, meaning that when viewing the first page of data `PageIndex` will equal 0.</span></span> <span data-ttu-id="fc09c-168">`PageCount`na druhé straně začíná počítat hodnotou 1, což znamená, že `PageIndex` jsou omezeny na hodnoty mezi 0 a `PageCount - 1`.</span><span class="sxs-lookup"><span data-stu-id="fc09c-168">`PageCount`, on the other hand, starts counting at 1, meaning that `PageIndex` is limited to the values between 0 and `PageCount - 1`.</span></span>

<span data-ttu-id="fc09c-169">Počkejte prosím chvíli, než se vylepšit výchozí vzhled našeho rozhraní pro stránkování v prvku GridView.</span><span class="sxs-lookup"><span data-stu-id="fc09c-169">Let s take a moment to improve the default appearance of our GridView s paging interface.</span></span> <span data-ttu-id="fc09c-170">Konkrétně je možné, že mají rozhraní stránkování zarovnané vpravo s lehkým šedým pozadím.</span><span class="sxs-lookup"><span data-stu-id="fc09c-170">Specifically, let s have the paging interface right-aligned with a light gray background.</span></span> <span data-ttu-id="fc09c-171">Místo toho, aby se tyto vlastnosti nacházely přímo prostřednictvím vlastnosti `PagerStyle` prvku GridView, umožňují vytvořit třídu CSS v `Styles.css` s názvem `PagerRowStyle` a následně přiřadit vlastnost `PagerStyle` s `CssClass` prostřednictvím našeho motivu.</span><span class="sxs-lookup"><span data-stu-id="fc09c-171">Rather than setting these properties directly through the GridView s `PagerStyle` property, let s create a CSS class in `Styles.css` named `PagerRowStyle` and then assign the `PagerStyle` s `CssClass` property through our Theme.</span></span> <span data-ttu-id="fc09c-172">Začněte otevřením `Styles.css` a přidáním následující definice třídy CSS:</span><span class="sxs-lookup"><span data-stu-id="fc09c-172">Start by opening `Styles.css` and adding the following CSS class definition:</span></span>

[!code-css[Main](paging-and-sorting-report-data-cs/samples/sample3.css)]

<span data-ttu-id="fc09c-173">Potom otevřete soubor `GridView.skin` ve složce `DataWebControls` ve složce `App_Themes`.</span><span class="sxs-lookup"><span data-stu-id="fc09c-173">Next, open the `GridView.skin` file in the `DataWebControls` folder within the `App_Themes` folder.</span></span> <span data-ttu-id="fc09c-174">Jak jsme probrali v kurzu *hlavní stránky a navigace na webu* , soubory skinu se dají použít k určení výchozích hodnot vlastností pro webový ovládací prvek.</span><span class="sxs-lookup"><span data-stu-id="fc09c-174">As we discussed in the *Master Pages and Site Navigation* tutorial, Skin files can be used to specify the default property values for a Web control.</span></span> <span data-ttu-id="fc09c-175">Proto rozšiřte existující nastavení tak, aby zahrnovalo nastavení vlastnosti `PagerStyle` s `CssClass` na `PagerRowStyle`.</span><span class="sxs-lookup"><span data-stu-id="fc09c-175">Therefore, augment the existing settings to include setting the `PagerStyle` s `CssClass` property to `PagerRowStyle`.</span></span> <span data-ttu-id="fc09c-176">Také je možné nakonfigurovat stránkovací rozhraní tak, aby zobrazovalo maximálně pět tlačítek numerické stránky pomocí rozhraní pro stránkování `NumericFirstLast`.</span><span class="sxs-lookup"><span data-stu-id="fc09c-176">Also, let s configure the paging interface to show at most five numeric page buttons using the `NumericFirstLast` paging interface.</span></span>

[!code-aspx[Main](paging-and-sorting-report-data-cs/samples/sample4.aspx)]

## <a name="the-paging-user-experience"></a><span data-ttu-id="fc09c-177">Uživatelské prostředí stránkování</span><span class="sxs-lookup"><span data-stu-id="fc09c-177">The Paging User Experience</span></span>

<span data-ttu-id="fc09c-178">Obrázek 8 ukazuje webovou stránku při návštěvě prohlížeče poté, co je zaškrtnuto zaškrtávací políčko Povolit stránkování prvku GridView a `PagerStyle` a `PagerSettings` byly provedeny pomocí souboru `GridView.skin`.</span><span class="sxs-lookup"><span data-stu-id="fc09c-178">Figure 8 shows the web page when visited through a browser after the GridView s Enable Paging checkbox has been checked and the `PagerStyle` and `PagerSettings` configurations have been made through the `GridView.skin` file.</span></span> <span data-ttu-id="fc09c-179">Všimněte si, jak se zobrazují jenom deset záznamů, a rozhraní stránkování označuje, že zobrazujeme první stránku dat.</span><span class="sxs-lookup"><span data-stu-id="fc09c-179">Note how only ten records are shown, and the paging interface indicates that we are viewing the first page of data.</span></span>

<span data-ttu-id="fc09c-180">[![s povoleným stránkováním se zobrazí pouze podmnožina záznamů.](paging-and-sorting-report-data-cs/_static/image13.png)](paging-and-sorting-report-data-cs/_static/image12.png)</span><span class="sxs-lookup"><span data-stu-id="fc09c-180">[![With Paging Enabled, Only a Subset of the Records are Displayed at a Time](paging-and-sorting-report-data-cs/_static/image13.png)](paging-and-sorting-report-data-cs/_static/image12.png)</span></span>

<span data-ttu-id="fc09c-181">**Obrázek 8**: u povoleného stránkování se zobrazí pouze podmnožina záznamů ([kliknutím zobrazíte obrázek v plné velikosti).](paging-and-sorting-report-data-cs/_static/image14.png)</span><span class="sxs-lookup"><span data-stu-id="fc09c-181">**Figure 8**: With Paging Enabled, Only a Subset of the Records are Displayed at a Time ([Click to view full-size image](paging-and-sorting-report-data-cs/_static/image14.png))</span></span>

<span data-ttu-id="fc09c-182">Když uživatel klikne na jedno z čísel stránek ve stránkovacím rozhraní, vystavuje se postback a stránka se znovu načte, aby se zobrazily požadované záznamy stránky.</span><span class="sxs-lookup"><span data-stu-id="fc09c-182">When the user clicks on one of the page numbers in the paging interface, a postback ensues and the page reloads showing that requested page s records.</span></span> <span data-ttu-id="fc09c-183">Obrázek 9 ukazuje výsledky poté, co se rozhodnete, že si budete chtít zobrazit poslední stránku dat.</span><span class="sxs-lookup"><span data-stu-id="fc09c-183">Figure 9 shows the results after opting to view the final page of data.</span></span> <span data-ttu-id="fc09c-184">Všimněte si, že poslední stránka má pouze jeden záznam; Důvodem je, že jsou celkem 81 záznamů, což vede k osmi stránkám o 10 záznamům na stránce a jedné stránce se záznamem jedinou.</span><span class="sxs-lookup"><span data-stu-id="fc09c-184">Notice that the final page only has one record; this is because there are 81 records in total, resulting in eight pages of 10 records per page plus one page with a lone record.</span></span>

<span data-ttu-id="fc09c-185">[![kliknutí na číslo stránky způsobí postback a zobrazí příslušnou podmnožinu záznamů.](paging-and-sorting-report-data-cs/_static/image16.png)](paging-and-sorting-report-data-cs/_static/image15.png)</span><span class="sxs-lookup"><span data-stu-id="fc09c-185">[![Clicking On a Page Number Causes a Postback and Shows the Appropriate Subset of Records](paging-and-sorting-report-data-cs/_static/image16.png)](paging-and-sorting-report-data-cs/_static/image15.png)</span></span>

<span data-ttu-id="fc09c-186">**Obrázek 9**: kliknutí na číslo stránky způsobí postback a zobrazí příslušnou podmnožinu záznamů ([kliknutím zobrazíte obrázek v plné velikosti).](paging-and-sorting-report-data-cs/_static/image17.png)</span><span class="sxs-lookup"><span data-stu-id="fc09c-186">**Figure 9**: Clicking On a Page Number Causes a Postback and Shows the Appropriate Subset of Records ([Click to view full-size image](paging-and-sorting-report-data-cs/_static/image17.png))</span></span>

## <a name="paging-s-server-side-workflow"></a><span data-ttu-id="fc09c-187">Pracovní postup stránkování s na straně serveru</span><span class="sxs-lookup"><span data-stu-id="fc09c-187">Paging s Server-Side Workflow</span></span>

<span data-ttu-id="fc09c-188">Když koncový uživatel klikne na tlačítko ve stránkovacím rozhraní, vystavuje se postback a spustí se následující pracovní postup na straně serveru:</span><span class="sxs-lookup"><span data-stu-id="fc09c-188">When the end user clicks on a button in the paging interface, a postback ensues and the following server-side workflow begins:</span></span>

1. <span data-ttu-id="fc09c-189">Prvek GridView s (nebo DetailsView nebo FormView) `PageIndexChanging` událost je aktivována.</span><span class="sxs-lookup"><span data-stu-id="fc09c-189">The GridView s (or DetailsView or FormView) `PageIndexChanging` event fires</span></span>
2. <span data-ttu-id="fc09c-190">Prvek ObjectDataSource znovu vyžádá *všechna* data z knihoven BLL; hodnoty vlastností `PageIndex` a `PageSize` prvku GridView se používají k určení, které záznamy vrácené z knihoven BLL musí být zobrazeny v prvku GridView.</span><span class="sxs-lookup"><span data-stu-id="fc09c-190">The ObjectDataSource re-requests *all* of the data from the BLL; the GridView s `PageIndex` and `PageSize` property values are used to determine what records returned from the BLL need to be displayed in the GridView</span></span>
3. <span data-ttu-id="fc09c-191">`PageIndexChanged` událost prvku GridView s</span><span class="sxs-lookup"><span data-stu-id="fc09c-191">The GridView s `PageIndexChanged` event fires</span></span>

<span data-ttu-id="fc09c-192">V kroku 2 prvek ObjectDataSource znovu vyžádá všechna data ze zdroje dat.</span><span class="sxs-lookup"><span data-stu-id="fc09c-192">In Step 2, the ObjectDataSource re-requests all of the data from its data source.</span></span> <span data-ttu-id="fc09c-193">Tento styl stránkování se obvykle označuje jako *výchozí stránkování*, protože se chování stránkování používá ve výchozím nastavení při nastavování vlastnosti `AllowPaging` na hodnotu `true`.</span><span class="sxs-lookup"><span data-stu-id="fc09c-193">This style of paging is commonly referred to as *default paging*, as it s the paging behavior used by default when setting the `AllowPaging` property to `true`.</span></span> <span data-ttu-id="fc09c-194">S výchozím stránkováním webová sada data naively načte všechny záznamy pro každou stránku dat, a to i v případě, že se ve formátu HTML, který se posílá do prohlížeče, skutečně vykreslí jenom podmnožina záznamů.</span><span class="sxs-lookup"><span data-stu-id="fc09c-194">With default paging the data Web control naively retrieves all records for each page of data, even though only a subset of records are actually rendered into the HTML that s sent to the browser.</span></span> <span data-ttu-id="fc09c-195">Pokud data databáze knihoven BLL nebo ObjectDataSource neukládají do mezipaměti, výchozí stránkování je nefunkční pro dostatečně velké sady výsledků nebo pro webové aplikace s mnoha souběžnými uživateli.</span><span class="sxs-lookup"><span data-stu-id="fc09c-195">Unless the database data is cached by the BLL or ObjectDataSource, default paging is unworkable for sufficiently large result sets or for web applications with many concurrent users.</span></span>

<span data-ttu-id="fc09c-196">V dalším kurzu podíváme se, jak implementovat *vlastní stránkování*.</span><span class="sxs-lookup"><span data-stu-id="fc09c-196">In the next tutorial we'll examine how to implement *custom paging*.</span></span> <span data-ttu-id="fc09c-197">Pomocí vlastního stránkování můžete konkrétně dát prvku ObjectDataSource pokyn, aby načetl pouze přesně sadu záznamů potřebných pro požadovanou stránku dat.</span><span class="sxs-lookup"><span data-stu-id="fc09c-197">With custom paging you can specifically instruct the ObjectDataSource to only retrieve the precise set of records needed for the requested page of data.</span></span> <span data-ttu-id="fc09c-198">Vzhledem k tomu, že vlastní stránkování výrazně zlepšuje efektivitu stránkování prostřednictvím rozsáhlých sad výsledků.</span><span class="sxs-lookup"><span data-stu-id="fc09c-198">As you can imagine, custom paging greatly improves the efficiency of paging through large result sets.</span></span>

> [!NOTE]
> <span data-ttu-id="fc09c-199">I když výchozí stránkování není vhodné při stránkování přes dostatečně velké sady výsledků nebo pro lokality s mnoha současnými uživateli, je třeba si uvědomit, že vlastní stránkování vyžaduje další změny a úsilí k implementaci a není tak jednoduché jako zaškrtnutí políčka (jako výchozí). stránkování).</span><span class="sxs-lookup"><span data-stu-id="fc09c-199">While default paging is not suitable when paging through sufficiently large result sets or for sites with many simultaneous users, realize that custom paging requires more changes and effort to implement and is not as simple as checking a checkbox (as is default paging).</span></span> <span data-ttu-id="fc09c-200">Výchozí stránkování může být proto ideální volbou pro malé, nenáročné weby nebo při stránkování prostřednictvím relativně malých sad výsledků, protože je mnohem jednodušší a rychlejší je implementovat.</span><span class="sxs-lookup"><span data-stu-id="fc09c-200">Therefore, default paging may be the ideal choice for small, low-traffic websites or when paging through relatively small result sets, as it s much easier and quicker to implement.</span></span>

<span data-ttu-id="fc09c-201">Pokud například víte, že v naší databázi nikdy nebudete mít více než 100 produktů, minimální zvýšení výkonu pro vlastní stránkování se pravděpodobně posune podle úsilí potřebného k jeho implementaci.</span><span class="sxs-lookup"><span data-stu-id="fc09c-201">For example, if we know that we'll never have more than 100 products in our database, the minimal performance gain enjoyed by custom paging is likely offset by the effort required to implement it.</span></span> <span data-ttu-id="fc09c-202">Pokud ale můžeme za jeden *den používat tisíce* nebo desítky tisíců produktů, neimplementace vlastního stránkování by významně bránila škálovatelnosti naší aplikace.</span><span class="sxs-lookup"><span data-stu-id="fc09c-202">If, however, we may one day have thousands or tens of thousands of products, *not* implementing custom paging would greatly hamper the scalability of our application.</span></span>

## <a name="step-4-customizing-the-paging-experience"></a><span data-ttu-id="fc09c-203">Krok 4: přizpůsobení prostředí stránkování</span><span class="sxs-lookup"><span data-stu-id="fc09c-203">Step 4: Customizing the Paging Experience</span></span>

<span data-ttu-id="fc09c-204">Webové ovládací prvky dat poskytují řadu vlastností, které lze použít k vylepšení stránkování uživatele.</span><span class="sxs-lookup"><span data-stu-id="fc09c-204">The data Web controls provide a number of properties that can be used to enhance the user s paging experience.</span></span> <span data-ttu-id="fc09c-205">Vlastnost `PageCount` například indikuje, kolik z celkových stránek existuje, zatímco vlastnost `PageIndex` indikuje aktuální navštívenou stránku a dá se nastavit na rychlé přesunutí uživatele na konkrétní stránku.</span><span class="sxs-lookup"><span data-stu-id="fc09c-205">The `PageCount` property, for example, indicates how many total pages there are, while the `PageIndex` property indicates the current page being visited and can be set to quickly move a user to a specific page.</span></span> <span data-ttu-id="fc09c-206">Chcete-li se seznámit s tím, jak tyto vlastnosti použít ke zlepšení uživatelského prostředí s možností stránkování, přidejte ovládací prvek web Label na naši stránku, který informuje uživatele o tom, jakou stránku uživatel právě navštívil, a ovládací prvek DropDownList, který umožňuje rychle přejít na příslušnou stránku. .</span><span class="sxs-lookup"><span data-stu-id="fc09c-206">To illustrate how to use these properties to improve upon the user s paging experience, let s add a Label Web control to our page that informs the user what page they re currently visiting, along with a DropDownList control that allows them to quickly jump to any given page.</span></span>

<span data-ttu-id="fc09c-207">Nejprve přidejte ovládací prvek web Label na stránku, nastavte jeho vlastnost `ID` na `PagingInformation`a zrušte jeho vlastnost `Text`.</span><span class="sxs-lookup"><span data-stu-id="fc09c-207">First, add a Label Web control to your page, set its `ID` property to `PagingInformation`, and clear out its `Text` property.</span></span> <span data-ttu-id="fc09c-208">Dále vytvořte obslužnou rutinu události pro událost GridView `DataBound` a přidejte následující kód:</span><span class="sxs-lookup"><span data-stu-id="fc09c-208">Next, create an event handler for the GridView s `DataBound` event and add the following code:</span></span>

[!code-csharp[Main](paging-and-sorting-report-data-cs/samples/sample5.cs)]

<span data-ttu-id="fc09c-209">Tato obslužná rutina události přiřadí vlastnost `PagingInformation` popisek s `Text` ke zprávě informující o uživateli, na které se aktuálně navštěvuje stránka, která je v současné době navštívená, `Products.PageIndex + 1` z celkového počtu `Products.PageCount`ch stránek (do vlastnosti `Products.PageIndex` přidáme 1, protože `PageIndex` index začíná na 0).</span><span class="sxs-lookup"><span data-stu-id="fc09c-209">This event handler assigns the `PagingInformation` Label s `Text` property to a message informing the user the page they are currently visiting `Products.PageIndex + 1` out of how many total pages `Products.PageCount` (we add 1 to the `Products.PageIndex` property because `PageIndex` is indexed starting at 0).</span></span> <span data-ttu-id="fc09c-210">V obslužné rutině události `DataBound` jsem zvolil (a) vlastnost přiřadit tuto `Text` popisek, a to na rozdíl od obslužné rutiny události `PageIndexChanged`, protože událost `DataBound` se aktivuje při každém vazbě dat na prvek GridView, zatímco obslužná rutina události `PageIndexChanged` se aktivuje jenom v případě, že se změní index stránky.</span><span class="sxs-lookup"><span data-stu-id="fc09c-210">I chose the assign this Label s `Text` property in the `DataBound` event handler as opposed to the `PageIndexChanged` event handler because the `DataBound` event fires every time data is bound to the GridView whereas the `PageIndexChanged` event handler only fires when the page index is changed.</span></span> <span data-ttu-id="fc09c-211">Při počátečním vázání dat na první stránce se událost `PageIndexChanging` neaktivuje (zatímco `DataBound` událost).</span><span class="sxs-lookup"><span data-stu-id="fc09c-211">When the GridView is initially data bound on the first page visit, the `PageIndexChanging` event doesn t fire (whereas the `DataBound` event does).</span></span>

<span data-ttu-id="fc09c-212">V takovém případě se uživateli teď zobrazuje zpráva, že stránka, na kterou se navštěvuje, a kolik z nich celkový počet stránek dat.</span><span class="sxs-lookup"><span data-stu-id="fc09c-212">With this addition, the user is now shown a message indicating what page they are visiting and how many total pages of data there are.</span></span>

<span data-ttu-id="fc09c-213">[![aktuální číslo stránky a celkový počet stránek.](paging-and-sorting-report-data-cs/_static/image19.png)](paging-and-sorting-report-data-cs/_static/image18.png)</span><span class="sxs-lookup"><span data-stu-id="fc09c-213">[![The Current Page Number and Total Number of Pages are Displayed](paging-and-sorting-report-data-cs/_static/image19.png)](paging-and-sorting-report-data-cs/_static/image18.png)</span></span>

<span data-ttu-id="fc09c-214">**Obrázek 10**: zobrazí se číslo aktuální stránky a celkový počet stránek ([kliknutím zobrazíte obrázek v plné velikosti).](paging-and-sorting-report-data-cs/_static/image20.png)</span><span class="sxs-lookup"><span data-stu-id="fc09c-214">**Figure 10**: The Current Page Number and Total Number of Pages are Displayed ([Click to view full-size image](paging-and-sorting-report-data-cs/_static/image20.png))</span></span>

<span data-ttu-id="fc09c-215">Kromě ovládacího prvku popisek přidejte také ovládací prvek DropDownList, který obsahuje čísla stránek v prvku GridView se zvolenou aktuálně zobrazenou stránkou.</span><span class="sxs-lookup"><span data-stu-id="fc09c-215">In addition to the Label control, let s also add a DropDownList control that lists the page numbers in the GridView with the currently viewed page selected.</span></span> <span data-ttu-id="fc09c-216">Nápad je, že uživatel může rychle přejít z aktuální stránky na jiný tak, že jednoduše vybere nový index stránky z ovládacího prvkem DropDownList.</span><span class="sxs-lookup"><span data-stu-id="fc09c-216">The idea here is that the user can quickly jump from the current page to another by simply selecting the new page index from the DropDownList.</span></span> <span data-ttu-id="fc09c-217">Začněte přidáním ovládacího prvkem DropDownList do návrháře, nastavením jeho vlastnosti `ID` na `PageList` a zaškrtnutím políčka Povolit automatický PostBack z jeho inteligentní značky.</span><span class="sxs-lookup"><span data-stu-id="fc09c-217">Start by adding a DropDownList to the Designer, setting its `ID` property to `PageList` and checking the Enable AutoPostBack option from its smart tag.</span></span>

<span data-ttu-id="fc09c-218">Pak se vraťte k obslužné rutině události `DataBound` a přidejte následující kód:</span><span class="sxs-lookup"><span data-stu-id="fc09c-218">Next, return to the `DataBound` event handler and add the following code:</span></span>

[!code-csharp[Main](paging-and-sorting-report-data-cs/samples/sample6.cs)]

<span data-ttu-id="fc09c-219">Tento kód začíná vymazáním položek v `PageList` DropDownList.</span><span class="sxs-lookup"><span data-stu-id="fc09c-219">This code begins by clearing out the items in the `PageList` DropDownList.</span></span> <span data-ttu-id="fc09c-220">Může to být nadbytečných, protože jeden z nich očekává změnu počtu stránek, ale ostatní uživatelé můžou používat systém současně a přidávat nebo odebírat záznamy z `Products` tabulky.</span><span class="sxs-lookup"><span data-stu-id="fc09c-220">This may seem superfluous, since one wouldn't expect the number of pages to change, but other users may be using the system simultaneously, adding or removing records from the `Products` table.</span></span> <span data-ttu-id="fc09c-221">Taková vložení nebo odstranění by mohla změnit počet stránek dat.</span><span class="sxs-lookup"><span data-stu-id="fc09c-221">Such insertions or deletions could alter the number of pages of data.</span></span>

<span data-ttu-id="fc09c-222">Dále je potřeba znovu vytvořit čísla stránek a mít tu, která je namapována na aktuální prvek GridView `PageIndex` vybraný ve výchozím nastavení.</span><span class="sxs-lookup"><span data-stu-id="fc09c-222">Next, we need to create the page numbers again and have the one that maps to the current GridView `PageIndex` selected by default.</span></span> <span data-ttu-id="fc09c-223">Tímto dosáhneme smyčkou od 0 do `PageCount - 1`a do každé iterace se přidá nový `ListItem` a vlastnost `Selected` se nastaví na true, pokud aktuální index iterace odpovídá vlastnosti GridView s `PageIndex`.</span><span class="sxs-lookup"><span data-stu-id="fc09c-223">We accomplish this with a loop from 0 to `PageCount - 1`, adding a new `ListItem` in each iteration and setting its `Selected` property to true if the current iteration index equals the GridView s `PageIndex` property.</span></span>

<span data-ttu-id="fc09c-224">Nakonec musíme vytvořit obslužnou rutinu události pro událost DropDownList `SelectedIndexChanged`, která se aktivuje pokaždé, když uživatel vybere jinou položku ze seznamu.</span><span class="sxs-lookup"><span data-stu-id="fc09c-224">Finally, we need to create an event handler for the DropDownList s `SelectedIndexChanged` event, which fires each time the user pick a different item from the list.</span></span> <span data-ttu-id="fc09c-225">Chcete-li vytvořit tuto obslužnou rutinu události, stačí dvakrát kliknout na DropDownList v návrháři a pak přidat následující kód:</span><span class="sxs-lookup"><span data-stu-id="fc09c-225">To create this event handler, simply double-click the DropDownList in the Designer, then add the following code:</span></span>

[!code-csharp[Main](paging-and-sorting-report-data-cs/samples/sample7.cs)]

<span data-ttu-id="fc09c-226">Jak je znázorněno na obrázku 11, pouze změna vlastnosti `PageIndex` ovládacího prvku GridView způsobí, že data budou znovu svázána s prvku GridView.</span><span class="sxs-lookup"><span data-stu-id="fc09c-226">As Figure 11 shows, merely changing the GridView s `PageIndex` property causes the data to be rebound to the GridView.</span></span> <span data-ttu-id="fc09c-227">V obslužné rutině události GridView `DataBound` je vybrána příslušná `ListItem` DropDownList.</span><span class="sxs-lookup"><span data-stu-id="fc09c-227">In the GridView s `DataBound` event handler, the appropriate DropDownList `ListItem` is selected.</span></span>

<span data-ttu-id="fc09c-228">[![se uživatel automaticky převezme na šestou stránku při výběru položky rozevíracího seznamu Stránka 6.](paging-and-sorting-report-data-cs/_static/image22.png)](paging-and-sorting-report-data-cs/_static/image21.png)</span><span class="sxs-lookup"><span data-stu-id="fc09c-228">[![The User is Automatically Taken to the Sixth Page When Selecting the Page 6 Drop-Down List Item](paging-and-sorting-report-data-cs/_static/image22.png)](paging-and-sorting-report-data-cs/_static/image21.png)</span></span>

<span data-ttu-id="fc09c-229">**Obrázek 11**: uživatel se automaticky převezme na šestou stránku při výběru položky rozevíracího seznamu Stránka 6 ([kliknutím zobrazíte obrázek v plné velikosti).](paging-and-sorting-report-data-cs/_static/image23.png)</span><span class="sxs-lookup"><span data-stu-id="fc09c-229">**Figure 11**: The User is Automatically Taken to the Sixth Page When Selecting the Page 6 Drop-Down List Item ([Click to view full-size image](paging-and-sorting-report-data-cs/_static/image23.png))</span></span>

## <a name="step-5-adding-bi-directional-sorting-support"></a><span data-ttu-id="fc09c-230">Krok 5: Přidání podpory obousměrného řazení</span><span class="sxs-lookup"><span data-stu-id="fc09c-230">Step 5: Adding Bi-Directional Sorting Support</span></span>

<span data-ttu-id="fc09c-231">Přidání podpory obousměrného řazení je jednoduché, protože přidání podpory stránkování stačí zaškrtnout možnost Povolit řazení z inteligentní značky GridView s (která nastaví [vlastnost GridView`AllowSorting`](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.allowsorting.aspx) na `true`).</span><span class="sxs-lookup"><span data-stu-id="fc09c-231">Adding bi-directional sorting support is as simple as adding paging support simply check the Enable Sorting option from the GridView s smart tag (which sets the GridView s [`AllowSorting` property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.allowsorting.aspx) to `true`).</span></span> <span data-ttu-id="fc09c-232">Tím se vykreslí všechny hlavičky polí GridView s jako LinkButtons, které při kliknutí způsobí postback a vrátí data seřazená kliknutím na sloupec ve vzestupném pořadí.</span><span class="sxs-lookup"><span data-stu-id="fc09c-232">This renders each of the headers of the GridView s fields as LinkButtons that, when clicked, cause a postback and return the data sorted by the clicked column in ascending order.</span></span> <span data-ttu-id="fc09c-233">Opětovné řazení dat v sestupném pořadí po kliknutí na stejnou položku záhlaví.</span><span class="sxs-lookup"><span data-stu-id="fc09c-233">Clicking the same header LinkButton again re-sorts the data in descending order.</span></span>

> [!NOTE]
> <span data-ttu-id="fc09c-234">Pokud používáte vlastní vrstvu přístupu k datům, nikoli typovou datovou sadu, je možné, že v inteligentní značce GridView s nebudete mít možnost Povolit řazení.</span><span class="sxs-lookup"><span data-stu-id="fc09c-234">If you are using a custom Data Access Layer rather than a Typed DataSet, you may not have an Enable Sorting option in the GridView s smart tag.</span></span> <span data-ttu-id="fc09c-235">Toto zaškrtávací políčko je k dispozici pouze pro GridViews svázané se zdroji dat, které nativně podporují řazení.</span><span class="sxs-lookup"><span data-stu-id="fc09c-235">Only GridViews bound to data sources that natively support sorting have this checkbox available.</span></span> <span data-ttu-id="fc09c-236">Typová datová sada poskytuje dopředná podpora řazení, protože ADO.NET DataTable poskytuje metodu `Sort`, která při vyvolání seřadí datové řádky DataTable s pomocí zadaných kritérií.</span><span class="sxs-lookup"><span data-stu-id="fc09c-236">The Typed DataSet provides out-of-the-box sorting support since the ADO.NET DataTable provides a `Sort` method that, when invoked, sorts the DataTable s DataRows using the criteria specified.</span></span>

<span data-ttu-id="fc09c-237">Pokud váš DAL nevrací objekty, které nativně podporují řazení, budete muset prvek ObjectDataSource nakonfigurovat tak, aby předával informace o řazení do vrstvy obchodní logiky, která může data buď seřadit, nebo data seřadit podle DAL.</span><span class="sxs-lookup"><span data-stu-id="fc09c-237">If your DAL does not return objects that natively support sorting you will need to configure the ObjectDataSource to pass sorting information to the Business Logic Layer, which can either sort the data or have the data sorted by the DAL.</span></span> <span data-ttu-id="fc09c-238">Podíváme se, jak v budoucím kurzu řadit data z obchodní logiky a vrstev přístupu k datům.</span><span class="sxs-lookup"><span data-stu-id="fc09c-238">We'll explore how to sort data at the Business Logic and Data Access Layers in a future tutorial.</span></span>

<span data-ttu-id="fc09c-239">Řazení LinkButtons se vykresluje jako hypertextové odkazy HTML, jejichž aktuální barvy (modré pro Nenavštívený odkaz a tmavě červené pro navštívený odkaz) jsou v konfliktu s barvou pozadí řádku záhlaví.</span><span class="sxs-lookup"><span data-stu-id="fc09c-239">The sorting LinkButtons are rendered as HTML hyperlinks, whose current colors (blue for an unvisited link and a dark red for a visited link) clash with the background color of the header row.</span></span> <span data-ttu-id="fc09c-240">Místo toho mají všechny odkazy na řádky záhlaví zobrazeny bíle bez ohledu na to, zda byly navštíveny nebo nikoli.</span><span class="sxs-lookup"><span data-stu-id="fc09c-240">Instead, let s have all header row links displayed in white, regardless of whether they ve been visited or not.</span></span> <span data-ttu-id="fc09c-241">To lze provést přidáním následujícího do třídy `Styles.css`:</span><span class="sxs-lookup"><span data-stu-id="fc09c-241">This can be accomplished by adding the following to the `Styles.css` class:</span></span>

[!code-css[Main](paging-and-sorting-report-data-cs/samples/sample8.css)]

<span data-ttu-id="fc09c-242">Tato syntaxe označuje použití bílého textu při zobrazování těchto hypertextových odkazů v rámci elementu, který používá třídu HeaderStyle.</span><span class="sxs-lookup"><span data-stu-id="fc09c-242">This syntax indicates to use white text when displaying those hyperlinks within an element that uses the HeaderStyle class.</span></span>

<span data-ttu-id="fc09c-243">Po přidání této šablony stylů CSS by se při návštěvě stránky v prohlížeči měla vaše obrazovka podobat obrázku 12.</span><span class="sxs-lookup"><span data-stu-id="fc09c-243">After this CSS addition, when visiting the page through a browser your screen should look similar to Figure 12.</span></span> <span data-ttu-id="fc09c-244">Konkrétně obrázek 12 zobrazuje výsledky po kliknutí na odkaz záhlaví pole s cenami.</span><span class="sxs-lookup"><span data-stu-id="fc09c-244">In particular, Figure 12 shows the results after the Price field s header link has been clicked.</span></span>

<span data-ttu-id="fc09c-245">[![výsledky byly seřazené podle standardu UnitPrice ve vzestupném pořadí.](paging-and-sorting-report-data-cs/_static/image25.png)](paging-and-sorting-report-data-cs/_static/image24.png)</span><span class="sxs-lookup"><span data-stu-id="fc09c-245">[![The Results Have Been Sorted by the UnitPrice in Ascending Order](paging-and-sorting-report-data-cs/_static/image25.png)](paging-and-sorting-report-data-cs/_static/image24.png)</span></span>

<span data-ttu-id="fc09c-246">**Obrázek 12**: výsledky byly seřazené podle standardu UnitPrice ve vzestupném pořadí ([kliknutím zobrazíte obrázek v plné velikosti).](paging-and-sorting-report-data-cs/_static/image26.png)</span><span class="sxs-lookup"><span data-stu-id="fc09c-246">**Figure 12**: The Results Have Been Sorted by the UnitPrice in Ascending Order ([Click to view full-size image](paging-and-sorting-report-data-cs/_static/image26.png))</span></span>

## <a name="examining-the-sorting-workflow"></a><span data-ttu-id="fc09c-247">Prozkoumání pracovního postupu řazení</span><span class="sxs-lookup"><span data-stu-id="fc09c-247">Examining the Sorting Workflow</span></span>

<span data-ttu-id="fc09c-248">Všechna pole GridView vlastnost BoundField, třídě CheckBoxField podporována, TemplateField a So mají vlastnost `SortExpression`, která určuje výraz, který se má použít k řazení dat při kliknutí na odkaz záhlaví pole s řazením.</span><span class="sxs-lookup"><span data-stu-id="fc09c-248">All GridView fields the BoundField, CheckBoxField, TemplateField, and so on have a `SortExpression` property that indicates the expression that should be used to sort the data when that field s sorting header link is clicked.</span></span> <span data-ttu-id="fc09c-249">Prvek GridView má také vlastnost `SortExpression`.</span><span class="sxs-lookup"><span data-stu-id="fc09c-249">The GridView also has a `SortExpression` property.</span></span> <span data-ttu-id="fc09c-250">Když kliknete na záhlaví třídy LinkButton, ovládací prvek GridView přiřadí tomuto poli `SortExpression` hodnotu na jeho vlastnost `SortExpression`.</span><span class="sxs-lookup"><span data-stu-id="fc09c-250">When a sorting header LinkButton is clicked, the GridView assigns that field s `SortExpression` value to its `SortExpression` property.</span></span> <span data-ttu-id="fc09c-251">Dále jsou data znovu načtena z prvku ObjectDataSource a seřazena podle vlastnosti `SortExpression` prvků GridView.</span><span class="sxs-lookup"><span data-stu-id="fc09c-251">Next, the data is re-retrieved from the ObjectDataSource and sorted according to the GridView s `SortExpression` property.</span></span> <span data-ttu-id="fc09c-252">Následující seznam popisuje pořadí kroků, které se zobrazí, když koncový uživatel seřadí data v prvku GridView:</span><span class="sxs-lookup"><span data-stu-id="fc09c-252">The following list details the sequence of steps that transpires when an end user sorts the data in a GridView:</span></span>

1. <span data-ttu-id="fc09c-253">[Událost řazení](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.sorting(VS.80).aspx) prvku GridView s je aktivována</span><span class="sxs-lookup"><span data-stu-id="fc09c-253">The GridView s [Sorting event](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.sorting(VS.80).aspx) fires</span></span>
2. <span data-ttu-id="fc09c-254">Vlastnost GridView s [`SortExpression`](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.sortexpression.aspx) je nastavena na `SortExpression` pole, u kterého bylo kliknuto na řazení záhlaví LinkButton.</span><span class="sxs-lookup"><span data-stu-id="fc09c-254">The GridView s [`SortExpression` property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.sortexpression.aspx) is set to the `SortExpression` of the field whose sorting header LinkButton was clicked</span></span>
3. <span data-ttu-id="fc09c-255">Prvek ObjectDataSource znovu načte všechna data z knihoven BLL a poté seřadí data pomocí `SortExpression` GridView.</span><span class="sxs-lookup"><span data-stu-id="fc09c-255">The ObjectDataSource re-retrieves all of the data from the BLL and then sorts the data using the GridView s `SortExpression`</span></span>
4. <span data-ttu-id="fc09c-256">Vlastnost GridView s `PageIndex` je nastavena na hodnotu 0, což znamená, že při řazení uživatele do první stránky dat (předpokládá se, že byla implementována podpora stránkování).</span><span class="sxs-lookup"><span data-stu-id="fc09c-256">The GridView s `PageIndex` property is reset to 0, meaning that when sorting the user is returned to the first page of data (assuming paging support has been implemented)</span></span>
5. <span data-ttu-id="fc09c-257">[`Sorted` událost](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.sorted(VS.80).aspx) prvku GridView s</span><span class="sxs-lookup"><span data-stu-id="fc09c-257">The GridView s [`Sorted` event](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.sorted(VS.80).aspx) fires</span></span>

<span data-ttu-id="fc09c-258">Podobně jako u výchozího stránkování výchozí možnost řazení znovu načte *všechny* záznamy z knihoven BLL.</span><span class="sxs-lookup"><span data-stu-id="fc09c-258">Like with default paging, the default sorting option re-retrieves *all* of the records from the BLL.</span></span> <span data-ttu-id="fc09c-259">Pokud používáte řazení bez stránkování nebo používáte řazení s výchozím stránkováním, neexistuje žádný způsob, jak obejít tento výkon (krátký ukládání databázových dat do mezipaměti).</span><span class="sxs-lookup"><span data-stu-id="fc09c-259">When using sorting without paging or when using sorting with default paging, there s no way to circumvent this performance hit (short of caching the database data).</span></span> <span data-ttu-id="fc09c-260">Jak se ale v budoucím kurzu ukážeme, je možné efektivně seřadit data při použití vlastního stránkování.</span><span class="sxs-lookup"><span data-stu-id="fc09c-260">However, as we'll see in a future tutorial, it s possible to efficiently sort data when using custom paging.</span></span>

<span data-ttu-id="fc09c-261">Při navázání prvku ObjectDataSource na prvek GridView prostřednictvím rozevíracího seznamu v inteligentní značce GridView s má každé pole GridView automaticky svou `SortExpression` vlastnost přiřazenou k názvu datového pole ve třídě `ProductsRow`.</span><span class="sxs-lookup"><span data-stu-id="fc09c-261">When binding an ObjectDataSource to the GridView through the drop-down list in the GridView s smart tag, each GridView field automatically has its `SortExpression` property assigned to the name of the data field in the `ProductsRow` class.</span></span> <span data-ttu-id="fc09c-262">Například `ProductName` vlastnost BoundField s `SortExpression` je nastavena na `ProductName`, jak je znázorněno v následujícím deklarativním kódu:</span><span class="sxs-lookup"><span data-stu-id="fc09c-262">For example, the `ProductName` BoundField s `SortExpression` is set to `ProductName`, as shown in the following declarative markup:</span></span>

[!code-aspx[Main](paging-and-sorting-report-data-cs/samples/sample9.aspx)]

<span data-ttu-id="fc09c-263">Pole lze nakonfigurovat tak, aby se nedala seřadit tak, že vymažete jeho vlastnost `SortExpression` (přiřadíte ji do prázdného řetězce).</span><span class="sxs-lookup"><span data-stu-id="fc09c-263">A field can be configured so that it s not sortable by clearing out its `SortExpression` property (assigning it to an empty string).</span></span> <span data-ttu-id="fc09c-264">K ilustraci si představte, že nám nechtěli umožnit našim zákazníkům řadit naše produkty podle ceny.</span><span class="sxs-lookup"><span data-stu-id="fc09c-264">To illustrate this, imagine that we didn't want to let our customers sort our products by price.</span></span> <span data-ttu-id="fc09c-265">Vlastnost `UnitPrice` vlastnost BoundField s `SortExpression` lze odebrat buď z deklarativní značky, nebo pomocí dialogového okna pole (k dispozici kliknutím na odkaz Upravit sloupce v inteligentní značce GridView).</span><span class="sxs-lookup"><span data-stu-id="fc09c-265">The `UnitPrice` BoundField s `SortExpression` property can be removed either from the declarative markup or through the Fields dialog box (which is accessible by clicking on the Edit Columns link in the GridView s smart tag).</span></span>

![Výsledky byly seřazené podle standardu UnitPrice ve vzestupném pořadí.](paging-and-sorting-report-data-cs/_static/image27.png)

<span data-ttu-id="fc09c-267">**Obrázek 13**: výsledky byly seřazené podle standardu UnitPrice ve vzestupném pořadí.</span><span class="sxs-lookup"><span data-stu-id="fc09c-267">**Figure 13**: The Results Have Been Sorted by the UnitPrice in Ascending Order</span></span>

<span data-ttu-id="fc09c-268">Po odebrání vlastnosti `SortExpression` pro `UnitPrice` vlastnost BoundField se záhlaví vykreslí jako text, nikoli jako odkaz, a tím uživatelům zabránit v řazení dat podle ceny.</span><span class="sxs-lookup"><span data-stu-id="fc09c-268">Once the `SortExpression` property has been removed for the `UnitPrice` BoundField, the header is rendered as text rather than as a link, thereby preventing users from sorting the data by price.</span></span>

<span data-ttu-id="fc09c-269">[![odebráním vlastnosti SortExpression už uživatelé nemůžou seřadit produkty podle ceny.](paging-and-sorting-report-data-cs/_static/image29.png)](paging-and-sorting-report-data-cs/_static/image28.png)</span><span class="sxs-lookup"><span data-stu-id="fc09c-269">[![By Removing the SortExpression Property, Users Can No Longer Sort the Products By Price](paging-and-sorting-report-data-cs/_static/image29.png)](paging-and-sorting-report-data-cs/_static/image28.png)</span></span>

<span data-ttu-id="fc09c-270">**Obrázek 14**: odebráním vlastnosti SortExpression již uživatelé nebudou moci řadit produkty podle ceny ([kliknutím zobrazíte obrázek v plné velikosti).](paging-and-sorting-report-data-cs/_static/image30.png)</span><span class="sxs-lookup"><span data-stu-id="fc09c-270">**Figure 14**: By Removing the SortExpression Property, Users Can No Longer Sort the Products By Price ([Click to view full-size image](paging-and-sorting-report-data-cs/_static/image30.png))</span></span>

## <a name="programmatically-sorting-the-gridview"></a><span data-ttu-id="fc09c-271">Programové řazení prvku GridView</span><span class="sxs-lookup"><span data-stu-id="fc09c-271">Programmatically Sorting the GridView</span></span>

<span data-ttu-id="fc09c-272">Obsah prvku GridView lze také seřadit programově pomocí [metody`Sort`](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.sort.aspx)GridView.</span><span class="sxs-lookup"><span data-stu-id="fc09c-272">You can also sort the contents of the GridView programmatically by using the GridView s [`Sort` method](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.sort.aspx).</span></span> <span data-ttu-id="fc09c-273">Jednoduše předejte `SortExpression` hodnotu pro řazení společně s [`SortDirection`](https://msdn.microsoft.com/library/system.web.ui.webcontrols.sortdirection.aspx) (`Ascending` nebo `Descending`) a data GridView s se znovu seřadí.</span><span class="sxs-lookup"><span data-stu-id="fc09c-273">Simply pass in the `SortExpression` value to sort by along with the [`SortDirection`](https://msdn.microsoft.com/library/system.web.ui.webcontrols.sortdirection.aspx) (`Ascending` or `Descending`), and the GridView s data will be re-sorted.</span></span>

<span data-ttu-id="fc09c-274">Představme si, že důvodem, proč jsme vypnuli `UnitPrice`, bylo, že by naši zákazníci mohli jednoduše koupit jenom ty nižší ceny.</span><span class="sxs-lookup"><span data-stu-id="fc09c-274">Imagine that the reason we turned off sorting by the `UnitPrice` was because we were worried that our customers would simply buy only the lowest-priced products.</span></span> <span data-ttu-id="fc09c-275">Chceme jim ale povzbudit, aby si koupili nejlevnější produkt, takže abychom mohli produkty řadit podle ceny, ale jenom z nejdražších cen na nejméně.</span><span class="sxs-lookup"><span data-stu-id="fc09c-275">However, we want to encourage them to buy the most expensive products, so we d like them to be able to sort the products by price, but only from the most expensive price to the least.</span></span>

<span data-ttu-id="fc09c-276">K tomuto účelu přidejte webový ovládací prvek tlačítko na stránku, nastavte jeho vlastnost `ID` na `SortPriceDescending`a jeho vlastnost `Text` na hodnotu seřadit podle ceny.</span><span class="sxs-lookup"><span data-stu-id="fc09c-276">To accomplish this add a Button Web control to the page, set its `ID` property to `SortPriceDescending`, and its `Text` property to Sort by Price.</span></span> <span data-ttu-id="fc09c-277">Potom v Návrháři dvakrát klikněte na ovládací prvek tlačítko v návrháři a vytvořte obslužnou rutinu události pro tlačítko s `Click` událostí.</span><span class="sxs-lookup"><span data-stu-id="fc09c-277">Next, create an event handler for the Button s `Click` event by double-clicking the Button control in the Designer.</span></span> <span data-ttu-id="fc09c-278">Do této obslužné rutiny události přidejte následující kód:</span><span class="sxs-lookup"><span data-stu-id="fc09c-278">Add the following code to this event handler:</span></span>

[!code-csharp[Main](paging-and-sorting-report-data-cs/samples/sample10.cs)]

<span data-ttu-id="fc09c-279">Kliknutím na toto tlačítko vrátíte uživatele na první stránku s produkty seřazenými podle ceny, od nejdražších po nejlevnější (viz obrázek 15).</span><span class="sxs-lookup"><span data-stu-id="fc09c-279">Clicking this Button returns the user to the first page with the products sorted by price, from most expensive to least expensive (see Figure 15).</span></span>

<span data-ttu-id="fc09c-280">[![kliknutí na tlačítko seřadí produkty od nejdražších po nejmenší](paging-and-sorting-report-data-cs/_static/image32.png)](paging-and-sorting-report-data-cs/_static/image31.png)</span><span class="sxs-lookup"><span data-stu-id="fc09c-280">[![Clicking the Button Orders the Products From the Most Expensive to the Least](paging-and-sorting-report-data-cs/_static/image32.png)](paging-and-sorting-report-data-cs/_static/image31.png)</span></span>

<span data-ttu-id="fc09c-281">**Obrázek 15**: kliknutím na tlačítko seřadíte produkty od nejdražších k nejméně ([kliknutím zobrazíte obrázek v plné velikosti).](paging-and-sorting-report-data-cs/_static/image33.png)</span><span class="sxs-lookup"><span data-stu-id="fc09c-281">**Figure 15**: Clicking the Button Orders the Products From the Most Expensive to the Least ([Click to view full-size image](paging-and-sorting-report-data-cs/_static/image33.png))</span></span>

## <a name="summary"></a><span data-ttu-id="fc09c-282">Souhrn</span><span class="sxs-lookup"><span data-stu-id="fc09c-282">Summary</span></span>

<span data-ttu-id="fc09c-283">V tomto kurzu jsme zjistili, jak implementovat výchozí možnosti stránkování a řazení, které byly stejně jednoduché jako zaškrtnutí políčka.</span><span class="sxs-lookup"><span data-stu-id="fc09c-283">In this tutorial we saw how to implement default paging and sorting capabilities, both of which were as easy as checking a checkbox!</span></span> <span data-ttu-id="fc09c-284">Když uživatel seřadí nebo stránkují stránky prostřednictvím dat, podobný pracovní postup se odloží:</span><span class="sxs-lookup"><span data-stu-id="fc09c-284">When a user sorts or pages through data, a similar workflow unfolds:</span></span>

1. <span data-ttu-id="fc09c-285">Odeslání je v důsledku</span><span class="sxs-lookup"><span data-stu-id="fc09c-285">A postback ensues</span></span>
2. <span data-ttu-id="fc09c-286">Událost předběžné úrovně webového ovládacího prvku s daty je aktivována (`PageIndexChanging` nebo `Sorting`).</span><span class="sxs-lookup"><span data-stu-id="fc09c-286">The data Web control s pre-level event fires (`PageIndexChanging` or `Sorting`)</span></span>
3. <span data-ttu-id="fc09c-287">Všechna data jsou znovu načtena prvkem ObjectDataSource</span><span class="sxs-lookup"><span data-stu-id="fc09c-287">All of the data is re-retrieved by the ObjectDataSource</span></span>
4. <span data-ttu-id="fc09c-288">Událost post-Level webového ovládacího prvku s daty je aktivována (`PageIndexChanged` nebo `Sorted`).</span><span class="sxs-lookup"><span data-stu-id="fc09c-288">The data Web control s post-level event fires (`PageIndexChanged` or `Sorted`)</span></span>

<span data-ttu-id="fc09c-289">Zatímco implementace základního stránkování a řazení je Breeze, je potřeba, abyste využili efektivnější vlastní stránkování nebo dále vylepšili rozhraní stránkování nebo řazení.</span><span class="sxs-lookup"><span data-stu-id="fc09c-289">While implementing basic paging and sorting is a breeze, more effort must be exerted to utilize the more efficient custom paging or to further enhance the paging or sorting interface.</span></span> <span data-ttu-id="fc09c-290">V budoucích kurzech se seznámíte s těmito tématy.</span><span class="sxs-lookup"><span data-stu-id="fc09c-290">Future tutorials will explore these topics.</span></span>

<span data-ttu-id="fc09c-291">Šťastné programování!</span><span class="sxs-lookup"><span data-stu-id="fc09c-291">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="fc09c-292">O autorovi</span><span class="sxs-lookup"><span data-stu-id="fc09c-292">About the Author</span></span>

<span data-ttu-id="fc09c-293">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), autor 7 ASP/ASP. NET Books a zakladatel of [4GuysFromRolla.com](http://www.4guysfromrolla.com), pracoval s webovými technologiemi Microsoftu od 1998.</span><span class="sxs-lookup"><span data-stu-id="fc09c-293">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="fc09c-294">Scott funguje jako nezávislý konzultant, Trainer a zapisovač.</span><span class="sxs-lookup"><span data-stu-id="fc09c-294">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="fc09c-295">Nejnovější kniha je [*Sams naučit se ASP.NET 2,0 za 24 hodin*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="fc09c-295">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="fc09c-296">Dá se získat na [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="fc09c-296">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span> <span data-ttu-id="fc09c-297">nebo prostřednictvím svého blogu, který najdete na adrese [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span><span class="sxs-lookup"><span data-stu-id="fc09c-297">or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

> [!div class="step-by-step"]
> [<span data-ttu-id="fc09c-298">Next</span><span class="sxs-lookup"><span data-stu-id="fc09c-298">Next</span></span>](efficiently-paging-through-large-amounts-of-data-cs.md)
