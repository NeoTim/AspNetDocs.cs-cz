---
uid: web-forms/overview/data-access/paging-and-sorting-with-the-datalist-and-repeater/paging-report-data-in-a-datalist-or-repeater-control-vb
title: Stránkování dat sestavy v ovládacím prvku DataList nebo Repeater (VB) | Microsoft Docs
author: rick-anderson
description: I když prvek DataList ani Repeater nenabízí podporu automatického stránkování nebo řazení, v tomto kurzu se dozvíte, jak přidat podporu stránkování do prvku DataList nebo Repeater,...
ms.author: riande
ms.date: 11/13/2006
ms.assetid: bbd6b7f7-b98a-48b4-93f3-341d6a4f53c0
msc.legacyurl: /web-forms/overview/data-access/paging-and-sorting-with-the-datalist-and-repeater/paging-report-data-in-a-datalist-or-repeater-control-vb
msc.type: authoredcontent
ms.openlocfilehash: 5c65ca1f263e41748d99323dbdf1c28fdd077246
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 03/06/2020
ms.locfileid: "78620440"
---
# <a name="paging-report-data-in-a-datalist-or-repeater-control-vb"></a><span data-ttu-id="00ee6-103">Stránkování dat sestavy ovládacími prvky DataList nebo Repeater (VB)</span><span class="sxs-lookup"><span data-stu-id="00ee6-103">Paging Report Data in a DataList or Repeater Control (VB)</span></span>

<span data-ttu-id="00ee6-104">[Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="00ee6-104">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="00ee6-105">[Stáhnout ukázkovou aplikaci](https://download.microsoft.com/download/4/a/7/4a7a3b18-d80e-4014-8e53-a6a2427f0d93/ASPNET_Data_Tutorial_44_VB.exe) nebo [Stáhnout PDF](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/datatutorial44vb1.pdf)</span><span class="sxs-lookup"><span data-stu-id="00ee6-105">[Download Sample App](https://download.microsoft.com/download/4/a/7/4a7a3b18-d80e-4014-8e53-a6a2427f0d93/ASPNET_Data_Tutorial_44_VB.exe) or [Download PDF](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/datatutorial44vb1.pdf)</span></span>

> <span data-ttu-id="00ee6-106">I když prvek DataList ani Repeater nenabízí automatickou podporu stránkování nebo řazení, tento kurz ukazuje, jak přidat podporu stránkování do prvku DataList nebo Repeater, což umožňuje mnohem flexibilnější rozhraní pro zobrazení stránkování a dat.</span><span class="sxs-lookup"><span data-stu-id="00ee6-106">While neither the DataList nor Repeater offer automatic paging or sorting support, this tutorial shows how to add paging support to the DataList or Repeater, which allows for much more flexible paging and data display interfaces.</span></span>

## <a name="introduction"></a><span data-ttu-id="00ee6-107">Úvod</span><span class="sxs-lookup"><span data-stu-id="00ee6-107">Introduction</span></span>

<span data-ttu-id="00ee6-108">Stránkování a řazení jsou dvě velmi běžné funkce při zobrazování dat v online aplikaci.</span><span class="sxs-lookup"><span data-stu-id="00ee6-108">Paging and sorting are two very common features when displaying data in an online application.</span></span> <span data-ttu-id="00ee6-109">Například při hledání ASP.NET knih v online knihkupectví mohou existovat stovky takových knih, ale v sestavě se seznamem výsledků hledání se zobrazí pouze deset shod na jednu stránku.</span><span class="sxs-lookup"><span data-stu-id="00ee6-109">For example, when searching for ASP.NET books at an online bookstore, there may be hundreds of such books, but the report listing the search results lists only ten matches per page.</span></span> <span data-ttu-id="00ee6-110">Kromě toho je možné výsledky seřadit podle názvu, ceny, počtu stránek, jména autora atd.</span><span class="sxs-lookup"><span data-stu-id="00ee6-110">Moreover, the results can be sorted by title, price, page count, author name, and so on.</span></span> <span data-ttu-id="00ee6-111">Jak jsme probrali v kurzu [stránkování a řazení dat sestavy](../paging-and-sorting/paging-and-sorting-report-data-vb.md) , ovládací prvky GridView, DetailsView a FormView poskytují integrovanou podporu stránkování, kterou lze povolit při zaškrtnutí políčka.</span><span class="sxs-lookup"><span data-stu-id="00ee6-111">As we discussed in the [Paging and Sorting Report Data](../paging-and-sorting/paging-and-sorting-report-data-vb.md) tutorial, the GridView, DetailsView, and FormView controls all provide built-in paging support that can be enabled at the tick of a checkbox.</span></span> <span data-ttu-id="00ee6-112">Prvek GridView také zahrnuje podporu řazení.</span><span class="sxs-lookup"><span data-stu-id="00ee6-112">The GridView also includes sorting support.</span></span>

<span data-ttu-id="00ee6-113">Prvek DataList ani Repeater však nenabízí podporu automatického stránkování ani řazení.</span><span class="sxs-lookup"><span data-stu-id="00ee6-113">Unfortunately, neither the DataList nor Repeater offer automatic paging or sorting support.</span></span> <span data-ttu-id="00ee6-114">V tomto kurzu podíváme se, jak přidat podporu stránkování do prvku DataList nebo Repeater.</span><span class="sxs-lookup"><span data-stu-id="00ee6-114">In this tutorial we'll examine how to add paging support to the DataList or Repeater.</span></span> <span data-ttu-id="00ee6-115">Je nutné ručně vytvořit rozhraní stránkování, zobrazit příslušnou stránku záznamů a zapamatovat si stránku navštívené napříč zpětnými voláními.</span><span class="sxs-lookup"><span data-stu-id="00ee6-115">We must manually create the paging interface, display the appropriate page of records, and remember the page being visited across postbacks.</span></span> <span data-ttu-id="00ee6-116">I když to trvá více času a kódu než u prvku GridView, DetailsView nebo FormView, prvky DataList a Repeater umožňují mnohem pružnější rozhraní pro zobrazení stránkování a dat.</span><span class="sxs-lookup"><span data-stu-id="00ee6-116">While this does take more time and code than with the GridView, DetailsView, or FormView, the DataList and Repeater allow for much more flexible paging and data display interfaces.</span></span>

> [!NOTE]
> <span data-ttu-id="00ee6-117">Tento kurz se zaměřuje výhradně na stránkování.</span><span class="sxs-lookup"><span data-stu-id="00ee6-117">This tutorial focuses exclusively on paging.</span></span> <span data-ttu-id="00ee6-118">V dalším kurzu budeme věnovat pozornost přidávání možností řazení.</span><span class="sxs-lookup"><span data-stu-id="00ee6-118">In the next tutorial we'll turn our attention to adding sorting capabilities.</span></span>

## <a name="step-1-adding-the-paging-and-sorting-tutorial-web-pages"></a><span data-ttu-id="00ee6-119">Krok 1: Přidání webových stránek kurzu stránkování a seřazení</span><span class="sxs-lookup"><span data-stu-id="00ee6-119">Step 1: Adding the Paging and Sorting Tutorial Web Pages</span></span>

<span data-ttu-id="00ee6-120">Před zahájením tohoto kurzu si nejdřív počkejte, než se přidá stránky ASP.NET, které budeme potřebovat pro tento kurz a druhý.</span><span class="sxs-lookup"><span data-stu-id="00ee6-120">Before we start this tutorial, let s first take a moment to add the ASP.NET pages we'll need for this tutorial and the next one.</span></span> <span data-ttu-id="00ee6-121">Začněte vytvořením nové složky v projektu s názvem `PagingSortingDataListRepeater`.</span><span class="sxs-lookup"><span data-stu-id="00ee6-121">Start by creating a new folder in the project named `PagingSortingDataListRepeater`.</span></span> <span data-ttu-id="00ee6-122">V dalším kroku přidejte do této složky následující pět ASP.NET stránek a všechny je nakonfigurované tak, aby používaly stránku předlohy `Site.master`:</span><span class="sxs-lookup"><span data-stu-id="00ee6-122">Next, add the following five ASP.NET pages to this folder, having all of them configured to use the master page `Site.master`:</span></span>

- `Default.aspx`
- `Paging.aspx`
- `Sorting.aspx`
- `SortingWithDefaultPaging.aspx`
- `SortingWithCustomPaging.aspx`

![Vytvořte složku PagingSortingDataListRepeater a přidejte stránky ASP.NET kurzu.](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image1.png)

<span data-ttu-id="00ee6-124">**Obrázek 1**: vytvoření složky pro `PagingSortingDataListRepeater` a přidání ASP.NETových stránek kurzu</span><span class="sxs-lookup"><span data-stu-id="00ee6-124">**Figure 1**: Create a `PagingSortingDataListRepeater` Folder and Add the Tutorial ASP.NET Pages</span></span>

<span data-ttu-id="00ee6-125">Potom otevřete stránku `Default.aspx` a přetáhněte uživatelský ovládací prvek `SectionLevelTutorialListing.ascx` ze složky `UserControls` na návrhovou plochu.</span><span class="sxs-lookup"><span data-stu-id="00ee6-125">Next, open the `Default.aspx` page and drag the `SectionLevelTutorialListing.ascx` User Control from the `UserControls` folder onto the Design surface.</span></span> <span data-ttu-id="00ee6-126">Tento uživatelský ovládací prvek, který jsme vytvořili v kurzu [hlavní stránky a navigace na webu](../introduction/master-pages-and-site-navigation-vb.md) , vytvoří výčet mapy lokality a v aktuálním oddílu zobrazí v seznamu s odrážkami kurzy.</span><span class="sxs-lookup"><span data-stu-id="00ee6-126">This User Control, which we created in the [Master Pages and Site Navigation](../introduction/master-pages-and-site-navigation-vb.md) tutorial, enumerates the site map and displays those tutorials in the current section in a bulleted list.</span></span>

<span data-ttu-id="00ee6-127">[![přidat uživatelský ovládací prvek SectionLevelTutorialListing. ascx do default. aspx](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image3.png)](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image2.png)</span><span class="sxs-lookup"><span data-stu-id="00ee6-127">[![Add the SectionLevelTutorialListing.ascx User Control to Default.aspx](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image3.png)](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image2.png)</span></span>

<span data-ttu-id="00ee6-128">**Obrázek 2**: Přidání uživatelského ovládacího prvku `SectionLevelTutorialListing.ascx` do `Default.aspx` ([kliknutím zobrazíte obrázek v plné velikosti](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image4.png))</span><span class="sxs-lookup"><span data-stu-id="00ee6-128">**Figure 2**: Add the `SectionLevelTutorialListing.ascx` User Control to `Default.aspx` ([Click to view full-size image](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image4.png))</span></span>

<span data-ttu-id="00ee6-129">Aby se v seznamu s odrážkami zobrazovaly kurzy stránkování a řazení, vytvoříme, že je musíme přidat k mapě webu.</span><span class="sxs-lookup"><span data-stu-id="00ee6-129">In order to have the bulleted list display the paging and sorting tutorials we'll be creating, we need to add them to the site map.</span></span> <span data-ttu-id="00ee6-130">Otevřete soubor `Web.sitemap` a přidejte následující kód po úpravách a odstraňování pomocí značek uzlu mapy webu DataList:</span><span class="sxs-lookup"><span data-stu-id="00ee6-130">Open the `Web.sitemap` file and add the following markup after the Editing and Deleting with the DataList site map node markup:</span></span>

[!code-xml[Main](paging-report-data-in-a-datalist-or-repeater-control-vb/samples/sample1.xml)]

![Aktualizovat mapu webu tak, aby obsahovala nové stránky ASP.NET](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image5.png)

<span data-ttu-id="00ee6-132">**Obrázek 3**: aktualizace mapy webu tak, aby obsahovala nové stránky ASP.NET</span><span class="sxs-lookup"><span data-stu-id="00ee6-132">**Figure 3**: Update the Site Map to Include the New ASP.NET Pages</span></span>

## <a name="a-review-of-paging"></a><span data-ttu-id="00ee6-133">Kontrola stránkování</span><span class="sxs-lookup"><span data-stu-id="00ee6-133">A Review of Paging</span></span>

<span data-ttu-id="00ee6-134">V předchozích kurzech jsme viděli, jak procházet data v ovládacích prvcích GridView, DetailsView a FormView.</span><span class="sxs-lookup"><span data-stu-id="00ee6-134">In previous tutorials we saw how to page through the data in the GridView, DetailsView, and FormView controls.</span></span> <span data-ttu-id="00ee6-135">Tyto tři ovládací prvky nabízejí jednoduchou formu stránkování s názvem *výchozí stránkování* , které lze implementovat pouhým zaškrtnutím možnosti Povolit stránkování v inteligentní značce ovládacího prvku.</span><span class="sxs-lookup"><span data-stu-id="00ee6-135">These three controls offer a simple form of paging called *default paging* that can be implemented by simply checking the Enable Paging option in the control s smart tag.</span></span> <span data-ttu-id="00ee6-136">Při výchozím stránkování se při každém vyžádání stránky dat buď na první stránce navštíví, nebo když uživatel přejde na jinou stránku dat, ovládací prvek GridView, DetailsView nebo FormView znovu vyžádá *všechna* data z prvku ObjectDataSource.</span><span class="sxs-lookup"><span data-stu-id="00ee6-136">With default paging, each time a page of data is requested either on the first page visit or when the user navigates to a different page of data the GridView, DetailsView, or FormView control re-requests *all* of the data from the ObjectDataSource.</span></span> <span data-ttu-id="00ee6-137">Pak vystřihá konkrétní sadu záznamů, které se zobrazí podle požadovaného indexu stránky a počtu záznamů, které se mají zobrazit na stránce.</span><span class="sxs-lookup"><span data-stu-id="00ee6-137">It then snips out the particular set of records to display given the requested page index and the number of records to display per page.</span></span> <span data-ttu-id="00ee6-138">Podrobněji jsme probrali výchozí stránkování v kurzu [stránkování a řazení dat sestavy](../paging-and-sorting/paging-and-sorting-report-data-vb.md) .</span><span class="sxs-lookup"><span data-stu-id="00ee6-138">We discussed default paging in detail in the [Paging and Sorting Report Data](../paging-and-sorting/paging-and-sorting-report-data-vb.md) tutorial.</span></span>

<span data-ttu-id="00ee6-139">Vzhledem k tomu, že výchozí stránkování znovu vyžádá všechny záznamy pro každou stránku, není praktické při stránkování po dostatečně velkých objemech dat.</span><span class="sxs-lookup"><span data-stu-id="00ee6-139">Since default paging re-requests all records for each page, it is not practical when paging through sufficiently large amounts of data.</span></span> <span data-ttu-id="00ee6-140">Představte si třeba stránkování prostřednictvím 50 000 záznamů s velikostí stránky 10.</span><span class="sxs-lookup"><span data-stu-id="00ee6-140">For example, imagine paging through 50,000 records with a page size of 10.</span></span> <span data-ttu-id="00ee6-141">Pokaždé, když se uživatel přesune na novou stránku, musí se z databáze načíst všechny záznamy 50 000, i když se zobrazí jenom deset z nich.</span><span class="sxs-lookup"><span data-stu-id="00ee6-141">Each time the user moves to a new page, all 50,000 records must be retrieved from the database, even though only ten of them are displayed.</span></span>

<span data-ttu-id="00ee6-142">*Vlastní stránkování* řeší problémy s výkonem výchozích stránkování tím, že z požadované stránky zobrazí jenom přesnou podmnožinu záznamů.</span><span class="sxs-lookup"><span data-stu-id="00ee6-142">*Custom paging* solves the performance concerns of default paging by grabbing only the precise subset of records to display on the requested page.</span></span> <span data-ttu-id="00ee6-143">Při implementaci vlastního stránkování je nutné zapsat dotaz SQL, který bude efektivně vracet pouze správnou sadu záznamů.</span><span class="sxs-lookup"><span data-stu-id="00ee6-143">When implementing custom paging, we must write the SQL query that will efficiently return just the correct set of records.</span></span> <span data-ttu-id="00ee6-144">Zjistili jsme, jak tento dotaz vytvořit pomocí SQL Server 2005 s novými [`ROW_NUMBER()` klíčovým slovem](http://www.4guysfromrolla.com/webtech/010406-1.shtml) pro [efektivní stránkování prostřednictvím velkých objemů dat](../paging-and-sorting/efficiently-paging-through-large-amounts-of-data-vb.md) .</span><span class="sxs-lookup"><span data-stu-id="00ee6-144">We saw how to create such a query using SQL Server 2005 s new [`ROW_NUMBER()` keyword](http://www.4guysfromrolla.com/webtech/010406-1.shtml) back in the [Efficiently Paging Through Large Amounts of Data](../paging-and-sorting/efficiently-paging-through-large-amounts-of-data-vb.md) tutorial.</span></span>

<span data-ttu-id="00ee6-145">Chcete-li implementovat výchozí stránkování v ovládacím prvku DataList nebo Repeater, můžeme použít [třídu`PagedDataSource`](https://msdn.microsoft.com/library/system.web.ui.webcontrols.pageddatasource.aspx) jako obálku kolem `ProductsDataTable`, jejichž obsah je právě stránkovaný.</span><span class="sxs-lookup"><span data-stu-id="00ee6-145">To implement default paging in the DataList or Repeater controls, we can use the [`PagedDataSource` class](https://msdn.microsoft.com/library/system.web.ui.webcontrols.pageddatasource.aspx) as a wrapper around the `ProductsDataTable` whose contents are being paged.</span></span> <span data-ttu-id="00ee6-146">Třída `PagedDataSource` má vlastnost `DataSource`, kterou lze přiřadit k jakémukoli vyčíslitelnému objektu a [`PageSize`](https://msdn.microsoft.com/library/system.web.ui.webcontrols.pageddatasource.pagesize.aspx) a [`CurrentPageIndex`](https://msdn.microsoft.com/library/system.web.ui.webcontrols.pageddatasource.currentpageindex.aspx) vlastností, které určují, kolik záznamů má být zobrazeno na stránce a v indexu aktuální stránky.</span><span class="sxs-lookup"><span data-stu-id="00ee6-146">The `PagedDataSource` class has a `DataSource` property that can be assigned to any enumerable object and [`PageSize`](https://msdn.microsoft.com/library/system.web.ui.webcontrols.pageddatasource.pagesize.aspx) and [`CurrentPageIndex`](https://msdn.microsoft.com/library/system.web.ui.webcontrols.pageddatasource.currentpageindex.aspx) properties that indicate how many records to show per page and the current page index.</span></span> <span data-ttu-id="00ee6-147">Po nastavení těchto vlastností lze `PagedDataSource` použít jako zdroj dat libovolného webového ovládacího prvku dat.</span><span class="sxs-lookup"><span data-stu-id="00ee6-147">Once these properties have been set, the `PagedDataSource` can be used as the data source of any data Web control.</span></span> <span data-ttu-id="00ee6-148">`PagedDataSource`při výčtu vrátí pouze příslušnou podmnožinu záznamů své vnitřní `DataSource` na základě vlastností `PageSize` a `CurrentPageIndex`.</span><span class="sxs-lookup"><span data-stu-id="00ee6-148">The `PagedDataSource`, when enumerated, will only return the appropriate subset of records of its inner `DataSource` based on the `PageSize` and `CurrentPageIndex` properties.</span></span> <span data-ttu-id="00ee6-149">Obrázek 4 znázorňuje funkčnost `PagedDataSource` třídy.</span><span class="sxs-lookup"><span data-stu-id="00ee6-149">Figure 4 depicts the functionality of the `PagedDataSource` class.</span></span>

![PagedDataSource zalomí Vyčíslitelného objektu pomocí stránkovaného rozhraní.](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image6.png)

<span data-ttu-id="00ee6-151">**Obrázek 4**: `PagedDataSource` zabalí vyčíslitelné objekt s použitím stránkovaného rozhraní.</span><span class="sxs-lookup"><span data-stu-id="00ee6-151">**Figure 4**: The `PagedDataSource` Wraps an Enumerable Object with a Pageable Interface</span></span>

<span data-ttu-id="00ee6-152">Objekt `PagedDataSource` lze vytvořit a nakonfigurovat přímo z vrstvy obchodní logiky a vázat na prvek DataList nebo Repeater prostřednictvím prvku ObjectDataSource, nebo jej lze vytvořit a nakonfigurovat přímo ve třídě ASP.NET stránky s kódem na pozadí.</span><span class="sxs-lookup"><span data-stu-id="00ee6-152">The `PagedDataSource` object can be created and configured directly from the Business Logic Layer and bound to a DataList or Repeater through an ObjectDataSource, or can be created and configured directly in the ASP.NET page s code-behind class.</span></span> <span data-ttu-id="00ee6-153">Je-li použit druhý přístup, je nutné použít prvek ObjectDataSource a místo toho navazovat stránkovaná data na prvky DataList nebo Repeater programově.</span><span class="sxs-lookup"><span data-stu-id="00ee6-153">If the latter approach is used, we must forgo using the ObjectDataSource and instead bind the paged data to the DataList or Repeater programmatically.</span></span>

<span data-ttu-id="00ee6-154">Objekt `PagedDataSource` obsahuje také vlastnosti pro podporu vlastního stránkování.</span><span class="sxs-lookup"><span data-stu-id="00ee6-154">The `PagedDataSource` object also has properties to support custom paging.</span></span> <span data-ttu-id="00ee6-155">Můžeme však obejít použití `PagedDataSource` pro vlastní stránkování, protože již máme metody knihoven BLL ve třídě `ProductsBLL` navržené pro vlastní stránkování, které vrací přesné záznamy k zobrazení.</span><span class="sxs-lookup"><span data-stu-id="00ee6-155">However, we can bypass using a `PagedDataSource` for custom paging because we already have BLL methods in the `ProductsBLL` class designed for custom paging that return the precise records to display.</span></span>

<span data-ttu-id="00ee6-156">V tomto kurzu se podíváme na implementaci výchozího stránkování v prvku DataList přidáním nové metody do třídy `ProductsBLL`, která vrací vhodně nakonfigurovaný `PagedDataSource` objekt.</span><span class="sxs-lookup"><span data-stu-id="00ee6-156">In this tutorial we'll look at implementing default paging in a DataList by adding a new method to the `ProductsBLL` class that returns an appropriately configured `PagedDataSource` object.</span></span> <span data-ttu-id="00ee6-157">V dalším kurzu uvidíme, jak používat vlastní stránkování.</span><span class="sxs-lookup"><span data-stu-id="00ee6-157">In the next tutorial, we'll see how to use custom paging.</span></span>

## <a name="step-2-adding-a-default-paging-method-in-the-business-logic-layer"></a><span data-ttu-id="00ee6-158">Krok 2: přidání výchozí metody stránkování do vrstvy obchodní logiky</span><span class="sxs-lookup"><span data-stu-id="00ee6-158">Step 2: Adding a Default Paging Method in the Business Logic Layer</span></span>

<span data-ttu-id="00ee6-159">Třída `ProductsBLL` v současnosti obsahuje metodu pro vrácení všech informací o produktu `GetProducts()` a jednu pro vrácení konkrétní podmnožiny produktů v počátečním indexu `GetProductsPaged(startRowIndex, maximumRows)`.</span><span class="sxs-lookup"><span data-stu-id="00ee6-159">The `ProductsBLL` class currently has a method for returning all product information `GetProducts()` and one for returning a particular subset of products at a starting index `GetProductsPaged(startRowIndex, maximumRows)`.</span></span> <span data-ttu-id="00ee6-160">S výchozím stránkováním ovládací prvky GridView, DetailsView a FormView používají metodu `GetProducts()` k načtení všech produktů, ale pak používají `PagedDataSource` interně k zobrazení pouze správné podmnožiny záznamů.</span><span class="sxs-lookup"><span data-stu-id="00ee6-160">With default paging, the GridView, DetailsView, and FormView controls all use the `GetProducts()` method to retrieve all products, but then use a `PagedDataSource` internally to display only the correct subset of records.</span></span> <span data-ttu-id="00ee6-161">Chcete-li replikovat tuto funkci s ovládacími prvky DataList a Repeater, můžeme v knihoven BLL vytvořit novou metodu, která napodobuje toto chování.</span><span class="sxs-lookup"><span data-stu-id="00ee6-161">To replicate this functionality with the DataList and Repeater controls, we can create a new method in the BLL that mimics this behavior.</span></span>

<span data-ttu-id="00ee6-162">Přidejte metodu do třídy `ProductsBLL` s názvem `GetProductsAsPagedDataSource`, která přijímá dva vstupní parametry typu Integer:</span><span class="sxs-lookup"><span data-stu-id="00ee6-162">Add a method to the `ProductsBLL` class named `GetProductsAsPagedDataSource` that takes in two integer input parameters:</span></span>

- <span data-ttu-id="00ee6-163">`pageIndex` index zobrazované stránky, indexované na nulu a</span><span class="sxs-lookup"><span data-stu-id="00ee6-163">`pageIndex` the index of the page to display, indexed at zero, and</span></span>
- <span data-ttu-id="00ee6-164">`pageSize` počet záznamů, které se mají zobrazit na stránce.</span><span class="sxs-lookup"><span data-stu-id="00ee6-164">`pageSize` the number of records to display per page.</span></span>

<span data-ttu-id="00ee6-165">`GetProductsAsPagedDataSource` spustí načtením *všech* záznamů z `GetProducts()`.</span><span class="sxs-lookup"><span data-stu-id="00ee6-165">`GetProductsAsPagedDataSource` starts by retrieving *all* of the records from `GetProducts()`.</span></span> <span data-ttu-id="00ee6-166">Potom vytvoří objekt `PagedDataSource`, nastaví jeho `CurrentPageIndex` a `PageSize` vlastnosti na hodnoty předaných `pageIndex` a `pageSize` parametrů.</span><span class="sxs-lookup"><span data-stu-id="00ee6-166">It then creates a `PagedDataSource` object, setting its `CurrentPageIndex` and `PageSize` properties to the values of the passed-in `pageIndex` and `pageSize` parameters.</span></span> <span data-ttu-id="00ee6-167">Metoda se dokončí vrácením tohoto nakonfigurovaného `PagedDataSource`:</span><span class="sxs-lookup"><span data-stu-id="00ee6-167">The method concludes by returning this configured `PagedDataSource`:</span></span>

[!code-vb[Main](paging-report-data-in-a-datalist-or-repeater-control-vb/samples/sample2.vb)]

## <a name="step-3-displaying-product-information-in-a-datalist-using-default-paging"></a><span data-ttu-id="00ee6-168">Krok 3: zobrazení informací o produktu v prvku DataList pomocí výchozí stránkování</span><span class="sxs-lookup"><span data-stu-id="00ee6-168">Step 3: Displaying Product Information in a DataList Using Default Paging</span></span>

<span data-ttu-id="00ee6-169">Pomocí metody `GetProductsAsPagedDataSource` přidané do `ProductsBLL` třídy teď můžeme vytvořit prvek DataList nebo Repeater, který poskytuje výchozí stránkování.</span><span class="sxs-lookup"><span data-stu-id="00ee6-169">With the `GetProductsAsPagedDataSource` method added to the `ProductsBLL` class, we can now create a DataList or Repeater that provides default paging.</span></span> <span data-ttu-id="00ee6-170">Začněte otevřením stránky `Paging.aspx` ve složce `PagingSortingDataListRepeater` a přetažením prvku DataList z panelu nástrojů do návrháře, nastavením vlastnosti `ID` prvku DataList na `ProductsDefaultPaging`.</span><span class="sxs-lookup"><span data-stu-id="00ee6-170">Start by opening the `Paging.aspx` page in the `PagingSortingDataListRepeater` folder and drag a DataList from the Toolbox onto the Designer, setting the DataList s `ID` property to `ProductsDefaultPaging`.</span></span> <span data-ttu-id="00ee6-171">Z inteligentní značky DataList a vytvořte nový prvek ObjectDataSource s názvem `ProductsDefaultPagingDataSource` a nakonfigurujte jej tak, aby načítat data pomocí metody `GetProductsAsPagedDataSource`.</span><span class="sxs-lookup"><span data-stu-id="00ee6-171">From the DataList s smart tag, create a new ObjectDataSource named `ProductsDefaultPagingDataSource` and configure it so that it retrieves data using the `GetProductsAsPagedDataSource` method.</span></span>

<span data-ttu-id="00ee6-172">[![vytvořit prvek ObjectDataSource a nakonfigurovat jej pro použití metody GetProductsAsPagedDataSource ()](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image8.png)](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="00ee6-172">[![Create an ObjectDataSource and Configure it to Use the GetProductsAsPagedDataSource () Method](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image8.png)](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image7.png)</span></span>

<span data-ttu-id="00ee6-173">**Obrázek 5**: Vytvoření prvku ObjectDataSource a jeho konfigurace pro použití metody `GetProductsAsPagedDataSource` `()` ([kliknutím zobrazíte obrázek v plné velikosti](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image9.png))</span><span class="sxs-lookup"><span data-stu-id="00ee6-173">**Figure 5**: Create an ObjectDataSource and Configure it to Use the `GetProductsAsPagedDataSource` `()` Method ([Click to view full-size image](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image9.png))</span></span>

<span data-ttu-id="00ee6-174">Nastavte rozevírací seznamy na kartách aktualizace, vložení a odstranění na (žádné).</span><span class="sxs-lookup"><span data-stu-id="00ee6-174">Set the drop-down lists in the UPDATE, INSERT, and DELETE tabs to (None) .</span></span>

<span data-ttu-id="00ee6-175">[![nastavení rozevíracích seznamů na kartách aktualizace, vložení a odstranění na (žádné)](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image11.png)](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image10.png)</span><span class="sxs-lookup"><span data-stu-id="00ee6-175">[![Set the Drop-Down Lists in the UPDATE, INSERT, and DELETE tabs to (None)](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image11.png)](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image10.png)</span></span>

<span data-ttu-id="00ee6-176">**Obrázek 6**: nastavení rozevíracích seznamů na kartách aktualizace, vložení a odstranění na (žádné) ([kliknutím zobrazíte obrázek v plné velikosti](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="00ee6-176">**Figure 6**: Set the Drop-Down Lists in the UPDATE, INSERT, and DELETE tabs to (None) ([Click to view full-size image](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image12.png))</span></span>

<span data-ttu-id="00ee6-177">Vzhledem k tomu, že metoda `GetProductsAsPagedDataSource` očekává dva vstupní parametry, Průvodce vás vyzve ke zdroji těchto hodnot parametrů.</span><span class="sxs-lookup"><span data-stu-id="00ee6-177">Since the `GetProductsAsPagedDataSource` method expects two input parameters, the wizard prompts us for the source of these parameter values.</span></span>

<span data-ttu-id="00ee6-178">Hodnoty indexu stránky a velikosti stránky musí být zapamatovatelné napříč zpětnými odesláními.</span><span class="sxs-lookup"><span data-stu-id="00ee6-178">The page index and page size values must be remembered across postbacks.</span></span> <span data-ttu-id="00ee6-179">Mohou být uloženy ve stavu zobrazení, uloženy do řetězce dotazu QueryString, uloženy v proměnných relace nebo zachovány pomocí nějaké jiné techniky.</span><span class="sxs-lookup"><span data-stu-id="00ee6-179">They can be stored in view state, persisted to the querystring, stored in session variables, or remembered using some other technique.</span></span> <span data-ttu-id="00ee6-180">Pro účely tohoto kurzu použijeme dotaz QueryString, který má výhodu povolit záložku konkrétní stránky dat.</span><span class="sxs-lookup"><span data-stu-id="00ee6-180">For this tutorial we'll use the querystring, which has the advantage of allowing a particular page of data to be bookmarked.</span></span>

<span data-ttu-id="00ee6-181">Konkrétně použijte pole QueryString pageIndex a pageSize pro parametry `pageIndex` a `pageSize` v uvedeném pořadí (viz obrázek 7).</span><span class="sxs-lookup"><span data-stu-id="00ee6-181">In particular, use the querystring fields pageIndex and pageSize for the `pageIndex` and `pageSize` parameters, respectively (see Figure 7).</span></span> <span data-ttu-id="00ee6-182">Chvíli počkejte, než nastavíte výchozí hodnoty pro tyto parametry, protože hodnoty QueryString nebudou k dispozici, když uživatel poprvé navštíví tuto stránku.</span><span class="sxs-lookup"><span data-stu-id="00ee6-182">Take a moment to set the default values for these parameters, as the querystring values won't be present when a user first visits this page.</span></span> <span data-ttu-id="00ee6-183">Pro `pageIndex`nastavte výchozí hodnotu na 0 (která bude zobrazovat první stránku dat) a výchozí hodnotu `pageSize` s na 4.</span><span class="sxs-lookup"><span data-stu-id="00ee6-183">For `pageIndex`, set the default value to 0 (which will show the first page of data) and `pageSize` s default value to 4.</span></span>

<span data-ttu-id="00ee6-184">[![použít řetězec QueryString jako zdroj pro parametry pageIndex a pageSize](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image14.png)](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="00ee6-184">[![Use the QueryString as the Source for the pageIndex and pageSize Parameters](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image14.png)](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image13.png)</span></span>

<span data-ttu-id="00ee6-185">**Obrázek 7**: použijte řetězec QueryString jako zdroj pro parametry `pageIndex` a `pageSize` ([kliknutím zobrazíte obrázek v plné velikosti).](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image15.png)</span><span class="sxs-lookup"><span data-stu-id="00ee6-185">**Figure 7**: Use the QueryString as the Source for the `pageIndex` and `pageSize` Parameters ([Click to view full-size image](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image15.png))</span></span>

<span data-ttu-id="00ee6-186">Po nakonfigurování prvku ObjectDataSource aplikace Visual Studio automaticky vytvoří `ItemTemplate` pro prvek DataList.</span><span class="sxs-lookup"><span data-stu-id="00ee6-186">After configuring the ObjectDataSource, Visual Studio automatically creates an `ItemTemplate` for the DataList.</span></span> <span data-ttu-id="00ee6-187">Přizpůsobte `ItemTemplate` tak, aby se zobrazil jenom název produktu, kategorie a dodavatel.</span><span class="sxs-lookup"><span data-stu-id="00ee6-187">Customize the `ItemTemplate` so that only the product s name, category, and supplier are shown.</span></span> <span data-ttu-id="00ee6-188">Nastavte také vlastnost `RepeatColumns` prvku DataList na hodnotu 2, její `Width` na 100% a její `ItemStyle` s `Width` na 50%.</span><span class="sxs-lookup"><span data-stu-id="00ee6-188">Also set the DataList s `RepeatColumns` property to 2, its `Width` to 100%, and its `ItemStyle` s `Width` to 50%.</span></span> <span data-ttu-id="00ee6-189">Tato nastavení šířky budou pro tyto dva sloupce obsahovat stejné mezery.</span><span class="sxs-lookup"><span data-stu-id="00ee6-189">These width settings will provide equal spacing for the two columns.</span></span>

<span data-ttu-id="00ee6-190">Po provedení těchto změn by značka DataList a ObjectDataSource s vypadala podobně jako v následujícím příkladu:</span><span class="sxs-lookup"><span data-stu-id="00ee6-190">After making these changes, the DataList and ObjectDataSource s markup should look similar to the following:</span></span>

[!code-aspx[Main](paging-report-data-in-a-datalist-or-repeater-control-vb/samples/sample3.aspx)]

> [!NOTE]
> <span data-ttu-id="00ee6-191">Vzhledem k tomu, že v tomto kurzu neprovádíme žádné funkce Update nebo DELETE, můžete zakázat stav zobrazení DataList s, aby se snížila velikost vykreslené stránky.</span><span class="sxs-lookup"><span data-stu-id="00ee6-191">Since we are not performing any update or delete functionality in this tutorial, you may disable the DataList s view state to reduce the rendered page size.</span></span>

<span data-ttu-id="00ee6-192">Při počáteční návštěvě této stránky v prohlížeči nejsou k dispozici parametry `pageIndex` ani `pageSize` QueryString.</span><span class="sxs-lookup"><span data-stu-id="00ee6-192">When initially visiting this page through a browser, neither the `pageIndex` nor `pageSize` querystring parameters are provided.</span></span> <span data-ttu-id="00ee6-193">Proto se použijí výchozí hodnoty 0 a 4.</span><span class="sxs-lookup"><span data-stu-id="00ee6-193">Hence, the default values of 0 and 4 are used.</span></span> <span data-ttu-id="00ee6-194">Jak ukazuje obrázek 8, výsledkem je prvek DataList, který zobrazuje první čtyři produkty.</span><span class="sxs-lookup"><span data-stu-id="00ee6-194">As Figure 8 shows, this results in a DataList that displays the first four products.</span></span>

<span data-ttu-id="00ee6-195">[Zobrazí se ![prvních čtyř produktů.](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image17.png)](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image16.png)</span><span class="sxs-lookup"><span data-stu-id="00ee6-195">[![The First Four Products are Listed](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image17.png)](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image16.png)</span></span>

<span data-ttu-id="00ee6-196">**Obrázek 8**: Seznam prvních čtyř produktů ([kliknutím zobrazíte obrázek v plné velikosti](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image18.png))</span><span class="sxs-lookup"><span data-stu-id="00ee6-196">**Figure 8**: The First Four Products are Listed ([Click to view full-size image](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image18.png))</span></span>

<span data-ttu-id="00ee6-197">Bez rozhraní stránkování teď neexistuje žádný jednoduchý způsob, jak uživatel přejít na druhou stránku dat.</span><span class="sxs-lookup"><span data-stu-id="00ee6-197">Without a paging interface, there s currently no straightforward means for a user to navigate to the second page of data.</span></span> <span data-ttu-id="00ee6-198">V kroku 4 vytvoříme rozhraní stránkování.</span><span class="sxs-lookup"><span data-stu-id="00ee6-198">We'll create a paging interface in step 4.</span></span> <span data-ttu-id="00ee6-199">V současné době může být stránkování provedeno pouze přímým určením kritérií stránkování v řetězci dotazu.</span><span class="sxs-lookup"><span data-stu-id="00ee6-199">For now, though, paging can only be accomplished by directly specifying the paging criteria in the querystring.</span></span> <span data-ttu-id="00ee6-200">Chcete-li například zobrazit druhou stránku, změňte adresu URL v adresním řádku prohlížeče z `Paging.aspx` na `Paging.aspx?pageIndex=2` a stiskněte klávesu ENTER.</span><span class="sxs-lookup"><span data-stu-id="00ee6-200">For example, to view the second page, change the URL in the browser s Address bar from `Paging.aspx` to `Paging.aspx?pageIndex=2` and hit Enter.</span></span> <span data-ttu-id="00ee6-201">To způsobí zobrazení druhé stránky dat (viz obrázek 9).</span><span class="sxs-lookup"><span data-stu-id="00ee6-201">This causes the second page of data to be displayed (see Figure 9).</span></span>

<span data-ttu-id="00ee6-202">[![se zobrazí druhá stránka dat](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image20.png)](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="00ee6-202">[![The Second Page of Data is Displayed](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image20.png)](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image19.png)</span></span>

<span data-ttu-id="00ee6-203">**Obrázek 9**: zobrazí se druhá stránka dat ([kliknutím zobrazíte obrázek v plné velikosti).](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image21.png)</span><span class="sxs-lookup"><span data-stu-id="00ee6-203">**Figure 9**: The Second Page of Data is Displayed ([Click to view full-size image](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image21.png))</span></span>

## <a name="step-4-creating-the-paging-interface"></a><span data-ttu-id="00ee6-204">Krok 4: vytvoření rozhraní stránkování</span><span class="sxs-lookup"><span data-stu-id="00ee6-204">Step 4: Creating the Paging Interface</span></span>

<span data-ttu-id="00ee6-205">Existuje řada různých rozhraní stránkování, která lze implementovat.</span><span class="sxs-lookup"><span data-stu-id="00ee6-205">There are a variety of different paging interfaces that can be implemented.</span></span> <span data-ttu-id="00ee6-206">Ovládací prvky GridView, DetailsView a FormView poskytují čtyři různá rozhraní pro výběr mezi:</span><span class="sxs-lookup"><span data-stu-id="00ee6-206">The GridView, DetailsView, and FormView controls provide four different interfaces to choose among:</span></span>

- <span data-ttu-id="00ee6-207">**Dále můžou předchozí** uživatelé přesunout jednu stránku současně na další nebo předchozí.</span><span class="sxs-lookup"><span data-stu-id="00ee6-207">**Next, Previous** users can move one page at a time, to either the next or previous one.</span></span>
- <span data-ttu-id="00ee6-208">**Další, předchozí, první, poslední,** kromě tlačítek Další a předchozí, toto rozhraní zahrnuje první a poslední tlačítko pro přechod na velmi první nebo velmi poslední stránku.</span><span class="sxs-lookup"><span data-stu-id="00ee6-208">**Next, Previous, First, Last** in addition to Next and Previous buttons, this interface includes First and Last buttons for moving to the very first or very last page.</span></span>
- <span data-ttu-id="00ee6-209">**Číselný** seznam čísel stránek ve stránkovacím rozhraní, které uživateli umožňuje rychle přejít na konkrétní stránku.</span><span class="sxs-lookup"><span data-stu-id="00ee6-209">**Numeric** lists the page numbers in the paging interface, allowing a user to quickly jump to a particular page.</span></span>
- <span data-ttu-id="00ee6-210">**Číselná, první, poslední,** kromě čísel číselných stránek obsahuje tlačítka pro přechod na velmi první nebo velmi poslední stránku.</span><span class="sxs-lookup"><span data-stu-id="00ee6-210">**Numeric, First, Last** in addition to the numeric page numbers, includes buttons for moving to the very first or very last page.</span></span>

<span data-ttu-id="00ee6-211">Pro prvky DataList a Repeater zodpovídáme za rozhodování o stránkování rozhraní a jeho implementaci.</span><span class="sxs-lookup"><span data-stu-id="00ee6-211">For the DataList and Repeater, we are responsible for deciding upon a paging interface and implementing it.</span></span> <span data-ttu-id="00ee6-212">To zahrnuje vytvoření potřebných webových ovládacích prvků na stránce a zobrazení požadované stránky při kliknutí na tlačítko rozhraní stránkování.</span><span class="sxs-lookup"><span data-stu-id="00ee6-212">This involves creating the needed Web controls in the page and displaying the requested page when a particular paging interface button is clicked.</span></span> <span data-ttu-id="00ee6-213">Kromě toho může být potřeba zakázat některé ovládací prvky rozhraní stránkování.</span><span class="sxs-lookup"><span data-stu-id="00ee6-213">Additionally, certain paging interface controls may need to be disabled.</span></span> <span data-ttu-id="00ee6-214">Například při zobrazení první stránky dat pomocí následujícího, předchozího, prvního rozhraní bude zakázáno první i předchozí tlačítko.</span><span class="sxs-lookup"><span data-stu-id="00ee6-214">For example, when viewing the first page of data using the Next, Previous, First, Last interface, both the First and Previous buttons would be disabled.</span></span>

<span data-ttu-id="00ee6-215">Pro tento kurz použijte k použití následujícího, předchozího, prvního, posledního rozhraní.</span><span class="sxs-lookup"><span data-stu-id="00ee6-215">For this tutorial, let s use the Next, Previous, First, Last interface.</span></span> <span data-ttu-id="00ee6-216">Přidejte na stránku čtyři webové ovládací prvky tlačítka a nastavte jejich `ID` s na `FirstPage`, `PrevPage`, `NextPage`a `LastPage`.</span><span class="sxs-lookup"><span data-stu-id="00ee6-216">Add four Button Web controls to the page and set their `ID` s to `FirstPage`, `PrevPage`, `NextPage`, and `LastPage`.</span></span> <span data-ttu-id="00ee6-217">Nastavte vlastnosti `Text` na nejdříve &lt;&lt; první, &lt; předchozí, další &gt;a poslední &gt;&gt;.</span><span class="sxs-lookup"><span data-stu-id="00ee6-217">Set the `Text` properties to &lt;&lt; First, &lt; Prev, Next &gt;, and Last &gt;&gt; .</span></span>

[!code-aspx[Main](paging-report-data-in-a-datalist-or-repeater-control-vb/samples/sample4.aspx)]

<span data-ttu-id="00ee6-218">Dále vytvořte obslužnou rutinu události `Click` pro každé z těchto tlačítek.</span><span class="sxs-lookup"><span data-stu-id="00ee6-218">Next, create a `Click` event handler for each of these Buttons.</span></span> <span data-ttu-id="00ee6-219">Za chvíli přidáme kód potřebný k zobrazení požadované stránky.</span><span class="sxs-lookup"><span data-stu-id="00ee6-219">In a moment we'll add the code necessary to display the requested page.</span></span>

## <a name="remembering-the-total-number-of-records-being-paged-through"></a><span data-ttu-id="00ee6-220">Pamatuje si celkový počet záznamů, které se Stránkují.</span><span class="sxs-lookup"><span data-stu-id="00ee6-220">Remembering the Total Number of Records Being Paged Through</span></span>

<span data-ttu-id="00ee6-221">Bez ohledu na zvolené rozhraní stránkování musíme vypočítat a zapamatovat si celkový počet záznamů, které jsou stránkou.</span><span class="sxs-lookup"><span data-stu-id="00ee6-221">Regardless of the paging interface selected, we need to compute and remember the total number of records being paged through.</span></span> <span data-ttu-id="00ee6-222">Celkový počet řádků (ve spojení s velikostí stránky) určuje, kolik z celkových stránek dat je zpracováváno stránkou, což určuje, které ovládací prvky rozhraní pro stránkování jsou přidány nebo jsou povoleny.</span><span class="sxs-lookup"><span data-stu-id="00ee6-222">The total row count (in conjunction with the page size) determines how many total pages of data are being paged through, which determines what paging interface controls are added or are enabled.</span></span> <span data-ttu-id="00ee6-223">V dalším, předchozím, prvním, posledním rozhraní, které sestavíme, se počet stránek používá dvěma způsoby:</span><span class="sxs-lookup"><span data-stu-id="00ee6-223">In the Next, Previous, First, Last interface that we are building, the page count is used in two ways:</span></span>

- <span data-ttu-id="00ee6-224">Chcete-li zjistit, zda se zobrazuje poslední stránka, v takovém případě je tlačítko Další a poslední vypnuté.</span><span class="sxs-lookup"><span data-stu-id="00ee6-224">To determine whether we are viewing the last page, in which case the Next and Last buttons are disabled.</span></span>
- <span data-ttu-id="00ee6-225">Pokud uživatel klikne na poslední tlačítko, potřebujeme ho zawhisky na poslední stránku, jejíž index je menší než počet stránek.</span><span class="sxs-lookup"><span data-stu-id="00ee6-225">If the user clicks the Last button we need to whisk them to the last page, whose index is one less than the page count.</span></span>

<span data-ttu-id="00ee6-226">Počet stránek se počítá jako strop celkového počtu řádků dělený velikostí stránky.</span><span class="sxs-lookup"><span data-stu-id="00ee6-226">The page count is calculated as the ceiling of the total row count divided by the page size.</span></span> <span data-ttu-id="00ee6-227">Pokud například máme stránkování přes 79 záznamů se čtyřmi záznamy na stránku, bude počet stránek 20 (horní mez 79/4).</span><span class="sxs-lookup"><span data-stu-id="00ee6-227">For example, if we are paging through 79 records with four records per page, then the page count is 20 (the ceiling of 79 / 4).</span></span> <span data-ttu-id="00ee6-228">Pokud používáme rozhraní číselného stránkování, tyto informace informují o tom, kolik tlačítek číselné stránky se má zobrazit. Pokud má naše rozhraní stránkování další nebo poslední tlačítka, počet stránek se používá k určení, kdy se má zakázat tlačítko Další nebo poslední.</span><span class="sxs-lookup"><span data-stu-id="00ee6-228">If we are using the Numeric paging interface, this information informs us as to how many numeric page buttons to display; if our paging interface includes Next or Last buttons, the page count is used to determine when to disable the Next or Last buttons.</span></span>

<span data-ttu-id="00ee6-229">Pokud stránkovací rozhraní obsahuje tlačítko poslední, je nezbytné, aby celkový počet záznamů, které jsou na straně sebe, byly předávány napříč zpětnými odesláními, aby při kliknutí na poslední tlačítko bylo možné určit poslední index stránky.</span><span class="sxs-lookup"><span data-stu-id="00ee6-229">If the paging interface includes a Last button, it is imperative that the total number of records being paged through be remembered across postbacks so that when the Last button is clicked we can determine the last page index.</span></span> <span data-ttu-id="00ee6-230">Pokud to chcete usnadnit, vytvořte vlastnost `TotalRowCount` ve třídě ASP.NET stránky s kódem na pozadí, která ukládá jeho hodnotu do stavu zobrazení:</span><span class="sxs-lookup"><span data-stu-id="00ee6-230">To facilitate this, create a `TotalRowCount` property in the ASP.NET page s code-behind class that persists its value to view state:</span></span>

[!code-vb[Main](paging-report-data-in-a-datalist-or-repeater-control-vb/samples/sample5.vb)]

<span data-ttu-id="00ee6-231">Kromě `TotalRowCount`můžete vytvořit vlastnosti na úrovni stránky jen pro čtení a získat tak snadný přístup k indexu stránky, velikosti stránky a počtu stránek:</span><span class="sxs-lookup"><span data-stu-id="00ee6-231">In addition to `TotalRowCount`, take a minute to create read-only page-level properties for easily accessing the page index, page size, and page count:</span></span>

[!code-vb[Main](paging-report-data-in-a-datalist-or-repeater-control-vb/samples/sample6.vb)]

## <a name="determining-the-total-number-of-records-being-paged-through"></a><span data-ttu-id="00ee6-232">Určení celkového počtu záznamů, které se Stránkují</span><span class="sxs-lookup"><span data-stu-id="00ee6-232">Determining the Total Number of Records Being Paged Through</span></span>

<span data-ttu-id="00ee6-233">Objekt `PagedDataSource` vrácený z metody ObjectDataSource `Select()` v rámci něj obsahuje *všechny* záznamy produktů, a to i v případě, že je v prvku DataList zobrazena pouze jeho podmnožina.</span><span class="sxs-lookup"><span data-stu-id="00ee6-233">The `PagedDataSource` object returned from the ObjectDataSource s `Select()` method has within it *all* of the product records, even though only a subset of them are displayed in the DataList.</span></span> <span data-ttu-id="00ee6-234">Vlastnost `PagedDataSource` s [`Count`](https://msdn.microsoft.com/library/system.web.ui.webcontrols.pageddatasource.count.aspx) vrací pouze počet položek, které budou zobrazeny v prvku DataList; [vlastnost`DataSourceCount`](https://msdn.microsoft.com/library/system.web.ui.webcontrols.pageddatasource.datasourcecount.aspx) vrátí celkový počet položek v rámci `PagedDataSource`.</span><span class="sxs-lookup"><span data-stu-id="00ee6-234">The `PagedDataSource` s [`Count` property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.pageddatasource.count.aspx) returns only the number of items that will be displayed in the DataList; the [`DataSourceCount` property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.pageddatasource.datasourcecount.aspx) returns the total number of items within the `PagedDataSource`.</span></span> <span data-ttu-id="00ee6-235">Proto je potřeba přiřadit vlastnost ASP.NET Page s `TotalRowCount` hodnotu vlastnosti `DataSourceCount` `PagedDataSource` s.</span><span class="sxs-lookup"><span data-stu-id="00ee6-235">Therefore, we need to assign the ASP.NET page s `TotalRowCount` property the value of the `PagedDataSource` s `DataSourceCount` property.</span></span>

<span data-ttu-id="00ee6-236">K tomu je potřeba vytvořit obslužnou rutinu události pro `Selected` události ObjectDataSource s.</span><span class="sxs-lookup"><span data-stu-id="00ee6-236">To accomplish this, create an event handler for the ObjectDataSource s `Selected` event.</span></span> <span data-ttu-id="00ee6-237">V `Selected` obslužná rutina události máme přístup k návratové hodnotě metody ObjectDataSource s `Select()` v tomto případě `PagedDataSource`.</span><span class="sxs-lookup"><span data-stu-id="00ee6-237">In the `Selected` event handler we have access to the return value of the ObjectDataSource s `Select()` method in this case, the `PagedDataSource`.</span></span>

[!code-vb[Main](paging-report-data-in-a-datalist-or-repeater-control-vb/samples/sample7.vb)]

## <a name="displaying-the-requested-page-of-data"></a><span data-ttu-id="00ee6-238">Zobrazení požadované stránky dat</span><span class="sxs-lookup"><span data-stu-id="00ee6-238">Displaying the Requested Page of Data</span></span>

<span data-ttu-id="00ee6-239">Když uživatel klikne na jedno z tlačítek ve stránkovacím rozhraní, musíme zobrazit požadovanou stránku dat.</span><span class="sxs-lookup"><span data-stu-id="00ee6-239">When the user clicks one of the buttons in the paging interface, we need to display the requested page of data.</span></span> <span data-ttu-id="00ee6-240">Vzhledem k tomu, že parametry stránkování jsou zadány pomocí řetězce dotazu QueryString, aby se zobrazila požadovaná stránka dat `Response.Redirect(url)`, aby prohlížeč uživatelů znovu požadoval stránku `Paging.aspx` s příslušnými parametry stránkování.</span><span class="sxs-lookup"><span data-stu-id="00ee6-240">Since the paging parameters are specified via the querystring, to show the requested page of data use `Response.Redirect(url)` to have the user s browser re-request the `Paging.aspx` page with the appropriate paging parameters.</span></span> <span data-ttu-id="00ee6-241">Pokud například chcete zobrazit druhou stránku dat, přesměrujte uživatele na `Paging.aspx?pageIndex=1`.</span><span class="sxs-lookup"><span data-stu-id="00ee6-241">For example, to display the second page of data, we would redirect the user to `Paging.aspx?pageIndex=1`.</span></span>

<span data-ttu-id="00ee6-242">Chcete-li to usnadnit, vytvořte `RedirectUser(sendUserToPageIndex)` metodu, která přesměruje uživatele na `Paging.aspx?pageIndex=sendUserToPageIndex`.</span><span class="sxs-lookup"><span data-stu-id="00ee6-242">To facilitate this, create a `RedirectUser(sendUserToPageIndex)` method that redirects the user to `Paging.aspx?pageIndex=sendUserToPageIndex`.</span></span> <span data-ttu-id="00ee6-243">Pak zavolejte tuto metodu ze čtyř tlačítek `Click` obslužných rutin událostí.</span><span class="sxs-lookup"><span data-stu-id="00ee6-243">Then, call this method from the four Button `Click` event handlers.</span></span> <span data-ttu-id="00ee6-244">V obslužné rutině události `FirstPage` `Click` zavolejte `RedirectUser(0)`, aby se odesílaly na první stránku; v obslužné rutině události `Click` `PrevPage` použijte `PageIndex - 1` jako index stránky; a tak dále.</span><span class="sxs-lookup"><span data-stu-id="00ee6-244">In the `FirstPage` `Click` event handler, call `RedirectUser(0)`, to send them to the first page; in the `PrevPage` `Click` event handler, use `PageIndex - 1` as the page index; and so on.</span></span>

[!code-vb[Main](paging-report-data-in-a-datalist-or-repeater-control-vb/samples/sample8.vb)]

<span data-ttu-id="00ee6-245">S kompletními obslužnými rutinami události `Click` se záznamy DataList s dají stránkovat kliknutím na tlačítka.</span><span class="sxs-lookup"><span data-stu-id="00ee6-245">With the `Click` event handlers complete, the DataList s records can be paged through by clicking the buttons.</span></span> <span data-ttu-id="00ee6-246">Vyzkoušejte si to prosím chvilku!</span><span class="sxs-lookup"><span data-stu-id="00ee6-246">Take a moment to try it out!</span></span>

## <a name="disabling-paging-interface-controls"></a><span data-ttu-id="00ee6-247">Zakázání ovládacích prvků rozhraní stránkování</span><span class="sxs-lookup"><span data-stu-id="00ee6-247">Disabling Paging Interface Controls</span></span>

<span data-ttu-id="00ee6-248">V současné době jsou všechna čtyři tlačítka povolena bez ohledu na zobrazovanou stránku.</span><span class="sxs-lookup"><span data-stu-id="00ee6-248">Currently, all four buttons are enabled regardless of the page being viewed.</span></span> <span data-ttu-id="00ee6-249">Chceme však zakázat první a předchozí tlačítka při zobrazení první stránky dat a tlačítka Další a poslední při zobrazení poslední stránky.</span><span class="sxs-lookup"><span data-stu-id="00ee6-249">However, we want to disable the First and Previous buttons when showing the first page of data, and the Next and Last buttons when showing the last page.</span></span> <span data-ttu-id="00ee6-250">Objekt `PagedDataSource` vrácený metodou ObjectDataSource `Select()` obsahuje vlastnosti [`IsFirstPage`](https://msdn.microsoft.com/library/system.web.ui.webcontrols.pageddatasource.isfirstpage.aspx) a [`IsLastPage`](https://msdn.microsoft.com/library/system.web.ui.webcontrols.pageddatasource.islastpage.aspx) , které můžeme prostudovat, abyste zjistili, zda zobrazujeme první nebo poslední stránku dat.</span><span class="sxs-lookup"><span data-stu-id="00ee6-250">The `PagedDataSource` object returned by the ObjectDataSource s `Select()` method has properties [`IsFirstPage`](https://msdn.microsoft.com/library/system.web.ui.webcontrols.pageddatasource.isfirstpage.aspx) and [`IsLastPage`](https://msdn.microsoft.com/library/system.web.ui.webcontrols.pageddatasource.islastpage.aspx) that we can examine to determine if we are viewing the first or last page of data.</span></span>

<span data-ttu-id="00ee6-251">Do obslužné rutiny události `Selected` ObjectDataSource s přidejte následující:</span><span class="sxs-lookup"><span data-stu-id="00ee6-251">Add the following to the ObjectDataSource s `Selected` event handler:</span></span>

[!code-vb[Main](paging-report-data-in-a-datalist-or-repeater-control-vb/samples/sample9.vb)]

<span data-ttu-id="00ee6-252">V takovém případě budou při prohlížení první stránky vypnutá tlačítka první a předchozí, zatímco tlačítko Další a poslední bude při zobrazení poslední stránky zakázané.</span><span class="sxs-lookup"><span data-stu-id="00ee6-252">With this addition, the First and Previous buttons will be disabled when viewing the first page, while the Next and Last buttons will be disabled when viewing the last page.</span></span>

<span data-ttu-id="00ee6-253">Přizpůsobte rozhraní stránkování tím, že Informujte uživatele o tom, jakou stránku nyní právě prohlížíte, a kolik jich má celkový počet stránek.</span><span class="sxs-lookup"><span data-stu-id="00ee6-253">Let s complete the paging interface by informing the user what page they re currently viewing and how many total pages exist.</span></span> <span data-ttu-id="00ee6-254">Přidejte ovládací prvek web popisku na stránku a nastavte jeho vlastnost `ID` na hodnotu `CurrentPageNumber`.</span><span class="sxs-lookup"><span data-stu-id="00ee6-254">Add a Label Web control to the page and set its `ID` property to `CurrentPageNumber`.</span></span> <span data-ttu-id="00ee6-255">Nastavte jeho vlastnost `Text` v obslužné rutině ovládacího prvku ObjectDataSource s, tak, aby obsahovalo aktuální prohlíženou stránku (`PageIndex + 1`) a celkový počet stránek (`PageCount`).</span><span class="sxs-lookup"><span data-stu-id="00ee6-255">Set its `Text` property in the ObjectDataSource s Selected event handler such that it includes the current page being viewed (`PageIndex + 1`) and the total number of pages (`PageCount`).</span></span>

[!code-vb[Main](paging-report-data-in-a-datalist-or-repeater-control-vb/samples/sample10.vb)]

<span data-ttu-id="00ee6-256">Obrázek 10 ukazuje `Paging.aspx` při prvním navštívení.</span><span class="sxs-lookup"><span data-stu-id="00ee6-256">Figure 10 shows `Paging.aspx` when first visited.</span></span> <span data-ttu-id="00ee6-257">Vzhledem k tomu, že je dotaz QueryString prázdný, zobrazí se ve výchozím nastavení DataList prvních čtyř produktů; tlačítka první a předchozí jsou zakázaná.</span><span class="sxs-lookup"><span data-stu-id="00ee6-257">Since the querystring is empty, the DataList defaults to showing the first four products; the First and Previous buttons are disabled.</span></span> <span data-ttu-id="00ee6-258">Kliknutím na další zobrazíte další čtyři záznamy (viz obrázek 11); tlačítka první a předchozí jsou nyní povolena.</span><span class="sxs-lookup"><span data-stu-id="00ee6-258">Clicking Next displays the next four records (see Figure 11); the First and Previous buttons are now enabled.</span></span>

<span data-ttu-id="00ee6-259">[![zobrazení první stránky dat](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image23.png)](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image22.png)</span><span class="sxs-lookup"><span data-stu-id="00ee6-259">[![The First Page of Data is Displayed](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image23.png)](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image22.png)</span></span>

<span data-ttu-id="00ee6-260">**Obrázek 10**: zobrazí se první stránka dat ([kliknutím zobrazíte obrázek v plné velikosti).](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image24.png)</span><span class="sxs-lookup"><span data-stu-id="00ee6-260">**Figure 10**: The First Page of Data is Displayed ([Click to view full-size image](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image24.png))</span></span>

<span data-ttu-id="00ee6-261">[![se zobrazí druhá stránka dat](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image26.png)](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image25.png)</span><span class="sxs-lookup"><span data-stu-id="00ee6-261">[![The Second Page of Data is Displayed](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image26.png)](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image25.png)</span></span>

<span data-ttu-id="00ee6-262">**Obrázek 11**: zobrazí se druhá stránka dat ([kliknutím zobrazíte obrázek v plné velikosti).](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image27.png)</span><span class="sxs-lookup"><span data-stu-id="00ee6-262">**Figure 11**: The Second Page of Data is Displayed ([Click to view full-size image](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image27.png))</span></span>

> [!NOTE]
> <span data-ttu-id="00ee6-263">Stránkovací rozhraní lze dále rozšířit tím, že uživateli umožníte určit, kolik stránek se má zobrazit na stránce.</span><span class="sxs-lookup"><span data-stu-id="00ee6-263">The paging interface can be further enhanced by allowing the user to specify how many pages to view per page.</span></span> <span data-ttu-id="00ee6-264">Můžete například přidat DropDownList možnosti pro výpis velikosti stránky, jako je 5, 10, 25, 50 a vše.</span><span class="sxs-lookup"><span data-stu-id="00ee6-264">For example, a DropDownList could be added listing page size options like 5, 10, 25, 50, and All.</span></span> <span data-ttu-id="00ee6-265">Po výběru velikosti stránky musí být uživatel přesměrován zpět na `Paging.aspx?pageIndex=0&pageSize=selectedPageSize`.</span><span class="sxs-lookup"><span data-stu-id="00ee6-265">Upon selecting a page size, the user would need to be redirected back to `Paging.aspx?pageIndex=0&pageSize=selectedPageSize`.</span></span> <span data-ttu-id="00ee6-266">Odejdu z tohoto vylepšení jako cvičení pro čtenáře.</span><span class="sxs-lookup"><span data-stu-id="00ee6-266">I leave implementing this enhancement as an exercise for the reader.</span></span>

## <a name="using-custom-paging"></a><span data-ttu-id="00ee6-267">Použití vlastního stránkování</span><span class="sxs-lookup"><span data-stu-id="00ee6-267">Using Custom Paging</span></span>

<span data-ttu-id="00ee6-268">Stránky DataList prostřednictvím svých dat s využitím neefektivních výchozích technik stránkování.</span><span class="sxs-lookup"><span data-stu-id="00ee6-268">The DataList pages through its data using the inefficient default paging technique.</span></span> <span data-ttu-id="00ee6-269">Když je stránkování po dostatečně velkých objemech dat, je nezbytné, aby se použilo vlastní stránkování.</span><span class="sxs-lookup"><span data-stu-id="00ee6-269">When paging through sufficiently large amounts of data, it is imperative that custom paging be used.</span></span> <span data-ttu-id="00ee6-270">I když se podrobnosti implementace mírně liší, koncepce za implementací vlastního stránkování v prvku DataList jsou stejné jako výchozí stránkování.</span><span class="sxs-lookup"><span data-stu-id="00ee6-270">Although the implementation details differ slightly, the concepts behind implementing custom paging in a DataList are the same as with default paging.</span></span> <span data-ttu-id="00ee6-271">Pomocí vlastního stránkování použijte metodu `ProductBLL` třídy s `GetProductsPaged` (místo `GetProductsAsPagedDataSource`).</span><span class="sxs-lookup"><span data-stu-id="00ee6-271">With custom paging, use the `ProductBLL` class s `GetProductsPaged` method (instead of `GetProductsAsPagedDataSource`).</span></span> <span data-ttu-id="00ee6-272">Jak je popsáno v kurzu [efektivní stránkování prostřednictvím velkých objemů dat](../paging-and-sorting/efficiently-paging-through-large-amounts-of-data-vb.md) , `GetProductsPaged` musí být předán index počátečního řádku a maximální počet řádků, které se mají vrátit.</span><span class="sxs-lookup"><span data-stu-id="00ee6-272">As discussed in the [Efficiently Paging Through Large Amounts of Data](../paging-and-sorting/efficiently-paging-through-large-amounts-of-data-vb.md) tutorial, `GetProductsPaged` must be passed the start row index and maximum number of rows to return.</span></span> <span data-ttu-id="00ee6-273">Tyto parametry lze uchovávat pomocí řetězce dotazu, stejně jako `pageIndex` a parametry `pageSize` používané ve výchozím stránkování.</span><span class="sxs-lookup"><span data-stu-id="00ee6-273">These parameters can be maintained through the querystring just like the `pageIndex` and `pageSize` parameters used in default paging.</span></span>

<span data-ttu-id="00ee6-274">Vzhledem k tomu, že neexistují `PagedDataSource` s vlastním stránkováním, je potřeba použít alternativní techniky k určení celkového počtu záznamů, které jsou stránkovaná, a to, jestli se má znovu zobrazit první nebo poslední stránka dat.</span><span class="sxs-lookup"><span data-stu-id="00ee6-274">Since there s no `PagedDataSource` with custom paging, alternative techniques must be used to determine the total number of records being paged through and whether we re displaying the first or last page of data.</span></span> <span data-ttu-id="00ee6-275">Metoda `TotalNumberOfProducts()` ve třídě `ProductsBLL` vrátí celkový počet produktů, které jsou stránkou.</span><span class="sxs-lookup"><span data-stu-id="00ee6-275">The `TotalNumberOfProducts()` method in the `ProductsBLL` class returns the total number of products being paged through.</span></span> <span data-ttu-id="00ee6-276">Chcete-li zjistit, zda je zobrazena první stránka dat, Projděte si index počátečního řádku, pokud je nula, a pak se zobrazí první stránka.</span><span class="sxs-lookup"><span data-stu-id="00ee6-276">To determine if the first page of data is being viewed, examine the start row index if it is zero, then the first page is being viewed.</span></span> <span data-ttu-id="00ee6-277">Poslední stránka je zobrazena, pokud je index počátečního řádku plus maximální počet vrácených řádků větší nebo roven celkovému počtu záznamů, které jsou stránkou.</span><span class="sxs-lookup"><span data-stu-id="00ee6-277">The last page is being viewed if the start row index plus the maximum rows to return is greater than or equal to the total number of records being paged through.</span></span>

<span data-ttu-id="00ee6-278">V dalším kurzu budeme prozkoumat implementaci vlastního stránkování podrobněji.</span><span class="sxs-lookup"><span data-stu-id="00ee6-278">We'll explore implementing custom paging in greater detail in the next tutorial.</span></span>

## <a name="summary"></a><span data-ttu-id="00ee6-279">Souhrn</span><span class="sxs-lookup"><span data-stu-id="00ee6-279">Summary</span></span>

<span data-ttu-id="00ee6-280">I když prvek DataList ani Repeater nenabízí podporu stránkování, která se nachází v ovládacích prvcích GridView, DetailsView a FormView, může být tato funkce přičtena s minimálním úsilím.</span><span class="sxs-lookup"><span data-stu-id="00ee6-280">While neither the DataList nor Repeater offers the out of the box paging support found in the GridView, DetailsView, and FormView controls, such functionality can be added with minimal effort.</span></span> <span data-ttu-id="00ee6-281">Nejjednodušší způsob, jak implementovat výchozí stránkování, je zabalit celou sadu produktů v rámci `PagedDataSource` a potom navazovat `PagedDataSource` na DataList nebo Repeater.</span><span class="sxs-lookup"><span data-stu-id="00ee6-281">The easiest way to implement default paging is to wrap the entire set of products within a `PagedDataSource` and then bind the `PagedDataSource` to the DataList or Repeater.</span></span> <span data-ttu-id="00ee6-282">V tomto kurzu jsme přidali metodu `GetProductsAsPagedDataSource` do `ProductsBLL` třídy, která vrátí `PagedDataSource`.</span><span class="sxs-lookup"><span data-stu-id="00ee6-282">In this tutorial we added the `GetProductsAsPagedDataSource` method to the `ProductsBLL` class to return the `PagedDataSource`.</span></span> <span data-ttu-id="00ee6-283">Třída `ProductsBLL` již obsahuje metody potřebné pro vlastní stránkování `GetProductsPaged` a `TotalNumberOfProducts`.</span><span class="sxs-lookup"><span data-stu-id="00ee6-283">The `ProductsBLL` class already contains the methods needed for custom paging `GetProductsPaged` and `TotalNumberOfProducts`.</span></span>

<span data-ttu-id="00ee6-284">Při načítání přesné sady záznamů, které se mají zobrazit pro vlastní stránkování nebo pro všechny záznamy v `PagedDataSource` pro výchozí stránkování, je také potřeba ručně přidat rozhraní stránkování.</span><span class="sxs-lookup"><span data-stu-id="00ee6-284">Along with retrieving either the precise set of records to display for custom paging or all records in a `PagedDataSource` for default paging, we also need to manually add the paging interface.</span></span> <span data-ttu-id="00ee6-285">Pro tento kurz jsme vytvořili další, předchozí, první a poslední rozhraní se čtyřmi webovými ovládacími prvky tlačítka.</span><span class="sxs-lookup"><span data-stu-id="00ee6-285">For this tutorial we created a Next, Previous, First, Last interface with four Button Web controls.</span></span> <span data-ttu-id="00ee6-286">Také ovládací prvek popisek zobrazující číslo aktuální stránky a celkový počet stránek byl přidán.</span><span class="sxs-lookup"><span data-stu-id="00ee6-286">Also, a Label control displaying the current page number and total number of pages was added.</span></span>

<span data-ttu-id="00ee6-287">V dalším kurzu uvidíte, jak přidat podporu řazení do prvku DataList a Repeater.</span><span class="sxs-lookup"><span data-stu-id="00ee6-287">In the next tutorial we'll see how to add sorting support to the DataList and Repeater.</span></span> <span data-ttu-id="00ee6-288">Také se dozvíte, jak vytvořit prvek DataList, který může být stránkovaný i seřazený (s příklady pomocí výchozího a vlastního stránkování).</span><span class="sxs-lookup"><span data-stu-id="00ee6-288">We'll also see how to create a DataList that can be both paged and sorted (with examples using default and custom paging).</span></span>

<span data-ttu-id="00ee6-289">Šťastné programování!</span><span class="sxs-lookup"><span data-stu-id="00ee6-289">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="00ee6-290">O autorovi</span><span class="sxs-lookup"><span data-stu-id="00ee6-290">About the Author</span></span>

<span data-ttu-id="00ee6-291">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), autor 7 ASP/ASP. NET Books a zakladatel of [4GuysFromRolla.com](http://www.4guysfromrolla.com), pracoval s webovými technologiemi Microsoftu od 1998.</span><span class="sxs-lookup"><span data-stu-id="00ee6-291">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="00ee6-292">Scott funguje jako nezávislý konzultant, Trainer a zapisovač.</span><span class="sxs-lookup"><span data-stu-id="00ee6-292">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="00ee6-293">Nejnovější kniha je [*Sams naučit se ASP.NET 2,0 za 24 hodin*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="00ee6-293">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="00ee6-294">Dá se získat na [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="00ee6-294">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span> <span data-ttu-id="00ee6-295">nebo prostřednictvím svého blogu, který najdete na adrese [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span><span class="sxs-lookup"><span data-stu-id="00ee6-295">or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

## <a name="special-thanks-to"></a><span data-ttu-id="00ee6-296">Zvláštní díky</span><span class="sxs-lookup"><span data-stu-id="00ee6-296">Special Thanks To</span></span>

<span data-ttu-id="00ee6-297">Tato řada kurzů byla přezkoumána mnoha užitečnými kontrolory.</span><span class="sxs-lookup"><span data-stu-id="00ee6-297">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="00ee6-298">Kontroloři vedoucích k tomuto kurzu byli Liz Shulok, Ken Pespisa a Bernadette Leigh.</span><span class="sxs-lookup"><span data-stu-id="00ee6-298">Lead reviewers for this tutorial were Liz Shulok, Ken Pespisa, and Bernadette Leigh.</span></span> <span data-ttu-id="00ee6-299">Uvažujete o přezkoumání mých nadcházejících článků na webu MSDN?</span><span class="sxs-lookup"><span data-stu-id="00ee6-299">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="00ee6-300">Pokud ano, vyřaďte mi řádek na [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="00ee6-300">If so, drop me a line at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="00ee6-301">[Předchozí](sorting-data-in-a-datalist-or-repeater-control-cs.md)
> [Další](sorting-data-in-a-datalist-or-repeater-control-vb.md)</span><span class="sxs-lookup"><span data-stu-id="00ee6-301">[Previous](sorting-data-in-a-datalist-or-repeater-control-cs.md)
[Next](sorting-data-in-a-datalist-or-repeater-control-vb.md)</span></span>
