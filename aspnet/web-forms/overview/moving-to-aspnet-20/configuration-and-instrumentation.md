---
uid: web-forms/overview/moving-to-aspnet-20/configuration-and-instrumentation
title: Konfigurace a instrumentace | Dokumentace Microsoftu
author: microsoft
description: Byly zjištěny hlavní změny v konfiguraci a instrumentace v technologii ASP.NET 2.0. Nové rozhraní API technologie ASP.NET konfigurace umožňuje provést změny konfigurace má být provedeno žádosti o přijetí změn...
ms.author: riande
ms.date: 02/20/2005
ms.assetid: 21ebbaee-7ed8-45ae-b6c1-c27c88342e48
msc.legacyurl: /web-forms/overview/moving-to-aspnet-20/configuration-and-instrumentation
msc.type: authoredcontent
ms.openlocfilehash: ba116140faa0667d504e0ff101c274db9f46079e
ms.sourcegitcommit: 24b1f6decbb17bb22a45166e5fdb0845c65af498
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 03/01/2019
ms.locfileid: "57066517"
---
<a name="configuration-and-instrumentation"></a><span data-ttu-id="0b90d-104">Konfigurace a instrumentace</span><span class="sxs-lookup"><span data-stu-id="0b90d-104">Configuration and Instrumentation</span></span>
====================
<span data-ttu-id="0b90d-105">by [Microsoft](https://github.com/microsoft)</span><span class="sxs-lookup"><span data-stu-id="0b90d-105">by [Microsoft](https://github.com/microsoft)</span></span>

> <span data-ttu-id="0b90d-106">Byly zjištěny hlavní změny v konfiguraci a instrumentace v technologii ASP.NET 2.0.</span><span class="sxs-lookup"><span data-stu-id="0b90d-106">There are major changes in configuration and instrumentation in ASP.NET 2.0.</span></span> <span data-ttu-id="0b90d-107">Nové rozhraní API technologie ASP.NET konfigurace umožňuje změny konfigurace provedli programově.</span><span class="sxs-lookup"><span data-stu-id="0b90d-107">The new ASP.NET configuration API allows for configuration changes to be made programmatically.</span></span> <span data-ttu-id="0b90d-108">Kromě toho existují spoustu nových nastavení konfigurace pro nové konfigurace a instrumentace.</span><span class="sxs-lookup"><span data-stu-id="0b90d-108">In addition, many new configuration settings exist allow for new configurations and instrumentation.</span></span>


<span data-ttu-id="0b90d-109">Byly zjištěny hlavní změny v konfiguraci a instrumentace v technologii ASP.NET 2.0.</span><span class="sxs-lookup"><span data-stu-id="0b90d-109">There are major changes in configuration and instrumentation in ASP.NET 2.0.</span></span> <span data-ttu-id="0b90d-110">Nové rozhraní API technologie ASP.NET konfigurace umožňuje změny konfigurace provedli programově.</span><span class="sxs-lookup"><span data-stu-id="0b90d-110">The new ASP.NET configuration API allows for configuration changes to be made programmatically.</span></span> <span data-ttu-id="0b90d-111">Kromě toho existují spoustu nových nastavení konfigurace pro nové konfigurace a instrumentace.</span><span class="sxs-lookup"><span data-stu-id="0b90d-111">In addition, many new configuration settings exist allow for new configurations and instrumentation.</span></span>

<span data-ttu-id="0b90d-112">V tomto modulu se budeme zabývat ASP.NET rozhraní API konfigurace má vztah k čtení a zápis do konfiguračních souborů ASP.NET, a také vám nabídneme instrumentaci ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="0b90d-112">In this module, we will discuss ASP.NET the configuration API as it relates to reading from and writing to ASP.NET configuration files, and we will also cover ASP.NET instrumentation.</span></span> <span data-ttu-id="0b90d-113">Také obsahuje nové funkce, které jsou k dispozici v trasování rozhraní ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="0b90d-113">We will also cover the new features available in ASP.NET tracing.</span></span>

## <a name="aspnet-configuration-api"></a><span data-ttu-id="0b90d-114">Konfigurace rozhraní API technologie ASP.NET</span><span class="sxs-lookup"><span data-stu-id="0b90d-114">ASP.NET Configuration API</span></span>

<span data-ttu-id="0b90d-115">Konfigurace technologie ASP.NET, rozhraní API umožňuje vyvíjet, nasazovat a spravovat konfigurační data aplikace s použitím jednoho programovacího rozhraní.</span><span class="sxs-lookup"><span data-stu-id="0b90d-115">The ASP.NET configuration API allows you to develop, deploy, and manage application configuration data by using a single programming interface.</span></span> <span data-ttu-id="0b90d-116">Rozhraní API konfigurace můžete použít vyvíjejí a upravují dokončete konfigurace ASP.NET prostřednictvím kódu programu bez Přímá úprava XML v konfiguračních souborech.</span><span class="sxs-lookup"><span data-stu-id="0b90d-116">You can use the configuration API to develop and modify complete ASP.NET configurations programmatically without directly editing the XML in the configuration files.</span></span> <span data-ttu-id="0b90d-117">Kromě toho můžete použít konfigurační rozhraní API v konzolové aplikace a skripty, které vyvíjíte v nástrojích pro správu webových a modulů snap-in konzoly Microsoft Management Console (MMC).</span><span class="sxs-lookup"><span data-stu-id="0b90d-117">In addition, you can use the configuration API in console applications and scripts that you develop, in Web-based management tools, and in Microsoft Management Console (MMC) snap-ins.</span></span>

<span data-ttu-id="0b90d-118">Následující dva nástroje pro správu konfigurace pomocí rozhraní API konfigurace a jsou součástí rozhraní .NET Framework verze 2.0:</span><span class="sxs-lookup"><span data-stu-id="0b90d-118">The following two configuration-management tools use the configuration API and are included with the .NET Framework version 2.0:</span></span>

- <span data-ttu-id="0b90d-119">Modulu snap-in konzoly MMC technologie ASP.NET, který používá rozhraní API konfigurace pro zjednodušení úloh správy, poskytuje ucelený místních konfiguračních dat ze všech úrovních hierarchie konfigurace.</span><span class="sxs-lookup"><span data-stu-id="0b90d-119">The ASP.NET MMC snap-in, which uses the configuration API to simplify administrative tasks, providing an integrated view of local configuration data from all levels of the configuration hierarchy.</span></span>
- <span data-ttu-id="0b90d-120">Nástroje pro správu webu, který vám umožní spravovat nastavení konfigurace pro místní a vzdálené aplikace, včetně hostovaných webů.</span><span class="sxs-lookup"><span data-stu-id="0b90d-120">The Web Site Administration Tool, which allows you to manage configuration settings for local and remote applications, including hosted sites.</span></span>

<span data-ttu-id="0b90d-121">Rozhraní API konfigurace ASP.NET obsahuje sadu objektů správy technologie ASP.NET, které můžete použít ke konfiguraci webové stránky a aplikace prostřednictvím kódu programu.</span><span class="sxs-lookup"><span data-stu-id="0b90d-121">The ASP.NET configuration API comprises a set of ASP.NET management objects that you can use to configure Web sites and applications programmatically.</span></span> <span data-ttu-id="0b90d-122">Objekty správy systému jsou implementovány jako knihovna tříd rozhraní .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="0b90d-122">Management objects are implemented as a .NET Framework class library.</span></span> <span data-ttu-id="0b90d-123">Programovací model rozhraní API konfigurace pomáhá zajistit konzistenci kódu a spolehlivost postará se o datové typy v době kompilace.</span><span class="sxs-lookup"><span data-stu-id="0b90d-123">The configuration API programming model helps ensure code consistency and reliability by enforcing data types at compile time.</span></span> <span data-ttu-id="0b90d-124">Aby bylo snazší spravovat konfigurace aplikací, rozhraní API konfigurace umožňuje uživateli zobrazit data, která se slučuje ze všech bodů v hierarchii konfigurace jako jedinou kolekci, ne jako samostatné kolekce z různých zobrazení dat konfigurační soubory.</span><span class="sxs-lookup"><span data-stu-id="0b90d-124">To make it easier to manage application configurations, the configuration API allows you to view data that is merged from all points in the configuration hierarchy as a single collection, instead of viewing the data as separate collections from different configuration files.</span></span> <span data-ttu-id="0b90d-125">Kromě toho konfigurace rozhraní API umožňuje manipulovat s konfigurací celé aplikace bez Přímá úprava XML v konfiguračních souborech.</span><span class="sxs-lookup"><span data-stu-id="0b90d-125">Additionally, the configuration API enables you to manipulate entire application configurations without directly editing the XML in the configuration files.</span></span> <span data-ttu-id="0b90d-126">A konečně rozhraní API zjednodušuje úlohy konfigurace díky podpoře nástrojů pro správu, jako jsou nástroje pro správu webu.</span><span class="sxs-lookup"><span data-stu-id="0b90d-126">Finally, the API simplifies configuration tasks by supporting administrative tools, such as the Web Site Administration Tool.</span></span> <span data-ttu-id="0b90d-127">Rozhraní API konfigurace zjednodušuje nasazení díky podpoře vytváření konfigurační soubory v počítači a spouštění konfiguračních skriptů mezi několik počítačů.</span><span class="sxs-lookup"><span data-stu-id="0b90d-127">The configuration API simplifies deployment by supporting the creation of configuration files on a computer and running configuration scripts across multiple computers.</span></span>

> [!NOTE]
> <span data-ttu-id="0b90d-128">Konfigurace rozhraní API nepodporuje vytváření aplikací služby IIS.</span><span class="sxs-lookup"><span data-stu-id="0b90d-128">The configuration API does not support the creation of IIS applications.</span></span>


## <a name="working-with-local-and-remote-configuration-settings"></a><span data-ttu-id="0b90d-129">Práce s místními a vzdálenými konfigurační nastavení</span><span class="sxs-lookup"><span data-stu-id="0b90d-129">Working with Local and Remote Configuration Settings</span></span>

<span data-ttu-id="0b90d-130">Objekt konfigurace představuje sloučené zobrazení nastavení konfigurace, které se vztahují na konkrétní fyzické entity, například počítač, nebo logická entita, jako je například aplikace nebo webovou stránku.</span><span class="sxs-lookup"><span data-stu-id="0b90d-130">A Configuration object represents the merged view of the configuration settings that apply to a specific physical entity, such as a computer, or to a logical entity, such as an application or a Web site.</span></span> <span data-ttu-id="0b90d-131">Zadaná logická entita může existovat v místním počítači nebo na vzdáleném serveru.</span><span class="sxs-lookup"><span data-stu-id="0b90d-131">The specified logical entity can exist on the local computer or on a remote server.</span></span> <span data-ttu-id="0b90d-132">Pokud neexistuje žádný konfigurační soubor pro zadaná entita, představuje objekt konfigurace výchozího nastavení konfigurace definované v souboru Machine.config.</span><span class="sxs-lookup"><span data-stu-id="0b90d-132">When no configuration file exists for a specified entity, the Configuration object represents the default configuration settings as defined by the Machine.config file.</span></span>

<span data-ttu-id="0b90d-133">Objekt konfigurace můžete získat pomocí jedné z metod otevřít konfiguraci z následující třídy:</span><span class="sxs-lookup"><span data-stu-id="0b90d-133">You can get a Configuration object by using one of the open configuration methods from the following classes:</span></span>

1. <span data-ttu-id="0b90d-134">Třída ConfigurationManager, pokud je vaše entita klientské aplikace.</span><span class="sxs-lookup"><span data-stu-id="0b90d-134">The ConfigurationManager class, if your entity is a client application.</span></span>
2. <span data-ttu-id="0b90d-135">Třída WebConfigurationManager, pokud je vaše entita webové aplikace.</span><span class="sxs-lookup"><span data-stu-id="0b90d-135">The WebConfigurationManager class, if your entity is a Web application.</span></span>

<span data-ttu-id="0b90d-136">Tyto metody vrátí objekt konfigurace, který zase obsahuje požadované metody a vlastnosti zpracování základní konfigurační soubory.</span><span class="sxs-lookup"><span data-stu-id="0b90d-136">These methods will return a Configuration object, which in turn provides the required methods and properties to handle the underlying configuration files.</span></span> <span data-ttu-id="0b90d-137">Tyto soubory pro čtení nebo zápis můžete přistupovat.</span><span class="sxs-lookup"><span data-stu-id="0b90d-137">You can access these files for reading or writing.</span></span>

### <a name="reading"></a><span data-ttu-id="0b90d-138">Čtení</span><span class="sxs-lookup"><span data-stu-id="0b90d-138">Reading</span></span>

<span data-ttu-id="0b90d-139">Použijte metodu GetSection nebo GetSectionGroup číst informace o konfiguraci.</span><span class="sxs-lookup"><span data-stu-id="0b90d-139">You use the GetSection or GetSectionGroup method to read configuration information.</span></span> <span data-ttu-id="0b90d-140">Uživatel nebo proces, který čte musí mít oprávnění ke čtení pro všechny konfigurační soubory v hierarchii.</span><span class="sxs-lookup"><span data-stu-id="0b90d-140">The user or process that reads must have Read permissions on all of the configuration files in the hierarchy.</span></span>

> [!NOTE]
> <span data-ttu-id="0b90d-141">Pokud používáte statické metody GetSection přijímající parametr cesty, parametr path musí odkazovat na aplikace, ve kterém kód běží.</span><span class="sxs-lookup"><span data-stu-id="0b90d-141">If you use a static GetSection method that takes a path parameter, the path parameter must refer to the application in which the code is running.</span></span> <span data-ttu-id="0b90d-142">V opačném případě parametr je ignorován a vrátí informace o konfiguraci pro aktuálně spuštěné aplikaci.</span><span class="sxs-lookup"><span data-stu-id="0b90d-142">Otherwise, the parameter is ignored and the configuration information for the currently running application is returned.</span></span>


### <a name="writing"></a><span data-ttu-id="0b90d-143">Zápis</span><span class="sxs-lookup"><span data-stu-id="0b90d-143">Writing</span></span>

<span data-ttu-id="0b90d-144">Použijte jednu z metod uložit zapisovat informace o konfiguraci.</span><span class="sxs-lookup"><span data-stu-id="0b90d-144">You use one of the Save methods to write configuration information.</span></span> <span data-ttu-id="0b90d-145">Uživatel nebo proces, který zapíše musí mít oprávnění na konfigurační soubor a adresáře na aktuální úrovni konfigurace hierarchii k zápisu, jakož i oprávnění ke čtení u všech konfiguračních souborů v hierarchii.</span><span class="sxs-lookup"><span data-stu-id="0b90d-145">The user or process that writes must have Write permissions on the configuration file and directory at the current configuration hierarchy level, as well as Read permissions on all of the configuration files in the hierarchy.</span></span>

<span data-ttu-id="0b90d-146">Pokud chcete vygenerovat konfigurační soubor, který představuje zděděná nastavení pro zadanou entitu, použijte jednu z následujících metod ukládání konfigurace:</span><span class="sxs-lookup"><span data-stu-id="0b90d-146">To generate a configuration file that represents the inherited configuration settings for a specified entity, use one of the following save-configuration methods:</span></span>

1. <span data-ttu-id="0b90d-147">Uložit metodu pro vytvoření nové konfigurační soubor.</span><span class="sxs-lookup"><span data-stu-id="0b90d-147">The Save method to create a new configuration file.</span></span>
2. <span data-ttu-id="0b90d-148">Metoda SaveAs vygenerujte nový soubor konfigurace na jiném místě.</span><span class="sxs-lookup"><span data-stu-id="0b90d-148">The SaveAs method to generate a new configuration file at another location.</span></span>

## <a name="configuration-classes-and-namespaces"></a><span data-ttu-id="0b90d-149">Konfigurace třídy a obory názvů</span><span class="sxs-lookup"><span data-stu-id="0b90d-149">Configuration Classes and Namespaces</span></span>

<span data-ttu-id="0b90d-150">Mnoho konfigurace třídy a metody jsou podobné k sobě navzájem.</span><span class="sxs-lookup"><span data-stu-id="0b90d-150">Many configuration classes and methods are similar to each other.</span></span> <span data-ttu-id="0b90d-151">Následující tabulka popisuje konfigurace běžně používané třídy a obory názvů.</span><span class="sxs-lookup"><span data-stu-id="0b90d-151">The following table describes the most commonly used configuration classes and namespaces.</span></span>

| <span data-ttu-id="0b90d-152">**Konfigurace třídy nebo oboru názvů**</span><span class="sxs-lookup"><span data-stu-id="0b90d-152">**Configuration class or namespace**</span></span> | <span data-ttu-id="0b90d-153">**Popis**</span><span class="sxs-lookup"><span data-stu-id="0b90d-153">**Description**</span></span> |
| --- | --- |
| <span data-ttu-id="0b90d-154">[System.Configuration](https://msdn.microsoft.com/library/system.configuration.aspx) obor názvů</span><span class="sxs-lookup"><span data-stu-id="0b90d-154">[System.Configuration](https://msdn.microsoft.com/library/system.configuration.aspx) namespace</span></span> | <span data-ttu-id="0b90d-155">Obsahuje třídy hlavní konfigurace pro všechny aplikace rozhraní .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="0b90d-155">Contains the main configuration classes for all .NET Framework applications.</span></span> <span data-ttu-id="0b90d-156">Části třídy obslužné rutiny umožňují získat konfigurační data pro část z metod, jako je například GetSection a GetSectionGroup.</span><span class="sxs-lookup"><span data-stu-id="0b90d-156">Section handler classes are used to obtain configuration data for a section from methods, such as GetSection and GetSectionGroup.</span></span> <span data-ttu-id="0b90d-157">Tyto dvě metody jsou nestatická.</span><span class="sxs-lookup"><span data-stu-id="0b90d-157">These two methods are non-static.</span></span> |
| <span data-ttu-id="0b90d-158">Třída System.Configuration.Configuration</span><span class="sxs-lookup"><span data-stu-id="0b90d-158">System.Configuration.Configuration class</span></span> | <span data-ttu-id="0b90d-159">Představuje sadu konfigurační data pro počítače, aplikace, webový adresář nebo jiný prostředek.</span><span class="sxs-lookup"><span data-stu-id="0b90d-159">Represents a set of configuration data for a computer, application, Web directory, or other resource.</span></span> <span data-ttu-id="0b90d-160">Tato třída obsahuje užitečných metod, jako je například GetSection a GetSectionGroup, pro aktualizaci konfiguračních nastavení a získání odkazů na oddíly a skupin oddílů.</span><span class="sxs-lookup"><span data-stu-id="0b90d-160">This class contains useful methods, such as GetSection and GetSectionGroup, for updating configuration settings and obtaining references to sections and section groups.</span></span> <span data-ttu-id="0b90d-161">Tato třída se používá jako návratový typ metody, které získávají návrhu konfiguračních dat, jako jsou metody třídy WebConfigurationManager a ConfigurationManager.</span><span class="sxs-lookup"><span data-stu-id="0b90d-161">This class is used as a return type for methods that obtain design-time configuration data, such as the methods of the WebConfigurationManager and ConfigurationManager classes.</span></span> |
| <span data-ttu-id="0b90d-162">Obor názvů System.Web.Configuration</span><span class="sxs-lookup"><span data-stu-id="0b90d-162">System.Web.Configuration namespace</span></span> | <span data-ttu-id="0b90d-163">Obsahuje části třídy obslužné rutiny pro ASP.NET konfigurační oddíly definované v [nastavení konfigurace ASP.NET](https://msdn.microsoft.com/library/b5ysx397.aspx).</span><span class="sxs-lookup"><span data-stu-id="0b90d-163">Contains the section handler classes for the ASP.NET configuration sections defined at [ASP.NET Configuration Settings](https://msdn.microsoft.com/library/b5ysx397.aspx).</span></span> <span data-ttu-id="0b90d-164">Části třídy obslužné rutiny umožňují získat konfigurační data pro část z metod, jako je například GetSection a GetSectionGroup.</span><span class="sxs-lookup"><span data-stu-id="0b90d-164">Section handler classes are used to obtain configuration data for a section from methods, such as GetSection and GetSectionGroup.</span></span> |
| <span data-ttu-id="0b90d-165">System.Web.Configuration.WebConfigurationManager class</span><span class="sxs-lookup"><span data-stu-id="0b90d-165">System.Web.Configuration.WebConfigurationManager class</span></span> | <span data-ttu-id="0b90d-166">Poskytuje užitečné metody pro získání odkazů na za běhu a návrhu nastavení konfigurace.</span><span class="sxs-lookup"><span data-stu-id="0b90d-166">Provides useful methods for obtaining references to run-time and design-time configuration settings.</span></span> <span data-ttu-id="0b90d-167">Tyto metody použít třídu System.Configuration.Configuration jako typ vrácené hodnoty.</span><span class="sxs-lookup"><span data-stu-id="0b90d-167">These methods use the System.Configuration.Configuration class as a return type.</span></span> <span data-ttu-id="0b90d-168">Můžete statickou metodu GetSection této třídy nebo metody GetSection nestatické třídy System.Configuration.ConfigurationManager Zaměnitelně.</span><span class="sxs-lookup"><span data-stu-id="0b90d-168">You can use the static GetSection method of this class or the non-static GetSection method of the System.Configuration.ConfigurationManager class interchangeably.</span></span> <span data-ttu-id="0b90d-169">Ke konfiguraci webových aplikací se doporučuje System.Web.Configuration.WebConfigurationManager třídy místo System.Configuration.ConfigurationManager třídy.</span><span class="sxs-lookup"><span data-stu-id="0b90d-169">For Web application configurations, the System.Web.Configuration.WebConfigurationManager class is recommended instead of the System.Configuration.ConfigurationManager class.</span></span> |
| <span data-ttu-id="0b90d-170">[System.Configuration.Provider](https://msdn.microsoft.com/library/system.configuration.provider.aspx) obor názvů</span><span class="sxs-lookup"><span data-stu-id="0b90d-170">[System.Configuration.Provider](https://msdn.microsoft.com/library/system.configuration.provider.aspx) namespace</span></span> | <span data-ttu-id="0b90d-171">Poskytuje způsob, jak přizpůsobit a rozšířit poskytovatele konfigurace.</span><span class="sxs-lookup"><span data-stu-id="0b90d-171">Provides a way to customize and extend the configuration provider.</span></span> <span data-ttu-id="0b90d-172">Toto je základní třída pro všechny třídy zprostředkovatelů v konfiguraci systému.</span><span class="sxs-lookup"><span data-stu-id="0b90d-172">This is the base class for all provider classes in the configuration system.</span></span> |
| <span data-ttu-id="0b90d-173">[System.Web.Management](https://msdn.microsoft.com/library/system.web.management.aspx) namespace</span><span class="sxs-lookup"><span data-stu-id="0b90d-173">[System.Web.Management](https://msdn.microsoft.com/library/system.web.management.aspx) namespace</span></span> | <span data-ttu-id="0b90d-174">Obsahuje třídy a rozhraní pro správu a sledování stavu webových aplikací.</span><span class="sxs-lookup"><span data-stu-id="0b90d-174">Contains classes and interfaces for managing and monitoring the health of Web applications.</span></span> <span data-ttu-id="0b90d-175">Přesněji řečeno tento obor názvů není považováno za součást konfigurace rozhraní API.</span><span class="sxs-lookup"><span data-stu-id="0b90d-175">Strictly speaking, this namespace is not considered part of the configuration API.</span></span> <span data-ttu-id="0b90d-176">Trasování a událost se provádí v rámci tříd v tomto oboru názvů.</span><span class="sxs-lookup"><span data-stu-id="0b90d-176">For example, tracing and event firing is accomplished by the classes in this namespace.</span></span> |
| <span data-ttu-id="0b90d-177">[System.Management.Instrumentation](https://msdn.microsoft.com/library/system.management.instrumentation.aspx) obor názvů</span><span class="sxs-lookup"><span data-stu-id="0b90d-177">[System.Management.Instrumentation](https://msdn.microsoft.com/library/system.management.instrumentation.aspx) namespace</span></span> | <span data-ttu-id="0b90d-178">Obsahuje třídy, které jsou nezbytné pro instrumentaci aplikací k vystavení události prostřednictvím Windows Management Instrumentation (WMI) k potenciálním zákazníkům a informace pro správu.</span><span class="sxs-lookup"><span data-stu-id="0b90d-178">Provides the classes necessary for the instrumentation of applications to expose their management information and events through Windows Management Instrumentation (WMI) to potential consumers.</span></span> <span data-ttu-id="0b90d-179">Monitorování stavu ASP.NET používá k zajištění události rozhraní WMI.</span><span class="sxs-lookup"><span data-stu-id="0b90d-179">ASP.NET health monitoring uses WMI to deliver events.</span></span> <span data-ttu-id="0b90d-180">Přesněji řečeno tento obor názvů není považováno za součást konfigurace rozhraní API.</span><span class="sxs-lookup"><span data-stu-id="0b90d-180">Strictly speaking, this namespace is not considered part of the configuration API.</span></span> |

## <a name="reading-from-aspnet-configuration-files"></a><span data-ttu-id="0b90d-181">Čtení z konfiguračních souborů ASP.NET</span><span class="sxs-lookup"><span data-stu-id="0b90d-181">Reading from ASP.NET Configuration Files</span></span>

<span data-ttu-id="0b90d-182">Třída WebConfigurationManager je základní třídou pro čtení z konfiguračních souborů ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="0b90d-182">The WebConfigurationManager class is the core class for reading from ASP.NET configuration files.</span></span> <span data-ttu-id="0b90d-183">Existují čtení konfiguračních souborů ASP.NET v podstatě tři kroky:</span><span class="sxs-lookup"><span data-stu-id="0b90d-183">There are essentially three steps to reading ASP.NET configuration files:</span></span>

1. <span data-ttu-id="0b90d-184">Získáte objekt konfigurace, pomocí metody OpenWebConfiguration.</span><span class="sxs-lookup"><span data-stu-id="0b90d-184">Get a Configuration object using the OpenWebConfiguration method.</span></span>
2. <span data-ttu-id="0b90d-185">Získání odkazu na požadovaný oddíl v konfiguračním souboru.</span><span class="sxs-lookup"><span data-stu-id="0b90d-185">Get a reference to the desired section in the configuration file.</span></span>
3. <span data-ttu-id="0b90d-186">Načíst požadované informace z konfiguračního souboru.</span><span class="sxs-lookup"><span data-stu-id="0b90d-186">Read the desired information from the configuration file.</span></span>

<span data-ttu-id="0b90d-187">Konfigurace, který představuje objekt nepředstavuje konkrétní konfigurační soubor.</span><span class="sxs-lookup"><span data-stu-id="0b90d-187">The Configuration object represents does not represent a particular configuration file.</span></span> <span data-ttu-id="0b90d-188">Místo toho představuje sloučené zobrazení konfigurace počítače, aplikace nebo webu.</span><span class="sxs-lookup"><span data-stu-id="0b90d-188">Instead, it represents a merged view of the configuration of a computer, application, or Web site.</span></span> <span data-ttu-id="0b90d-189">Následující příklad kódu vytvoří objekt konfigurace představující nastavení konfigurace webové aplikace s názvem *ProductInfo*.</span><span class="sxs-lookup"><span data-stu-id="0b90d-189">The following code sample instantiates a Configuration object representing the configuration of a Web application called *ProductInfo*.</span></span>

[!code-csharp[Main](configuration-and-instrumentation/samples/sample1.cs)]

> [!NOTE]
> <span data-ttu-id="0b90d-190">Všimněte si, že pokud /ProductInfo cesta neexistuje, výše uvedený kód vrátí výchozí konfiguraci, jak je uvedeno v souboru machine.config.</span><span class="sxs-lookup"><span data-stu-id="0b90d-190">Note that if the /ProductInfo path doesn't exist, the above code will return the default configuration as specified in the machine.config file.</span></span>


<span data-ttu-id="0b90d-191">Až budete mít objekt konfigurace, můžete pak použít metodu GetSection nebo GetSectionGroup zobrazit podrobné informace o nastavení konfigurace.</span><span class="sxs-lookup"><span data-stu-id="0b90d-191">Once you have the Configuration object, you can then use the GetSection or GetSectionGroup method to drill into the configuration settings.</span></span> <span data-ttu-id="0b90d-192">Následující příklad získá odkaz na nastavení zosobnění pro výše uvedené ProductInfo žádosti:</span><span class="sxs-lookup"><span data-stu-id="0b90d-192">The following example gets a reference to the impersonation settings for the above ProductInfo application:</span></span>

[!code-csharp[Main](configuration-and-instrumentation/samples/sample2.cs)]

## <a name="writing-to-aspnet-configuration-files"></a><span data-ttu-id="0b90d-193">Zápis do konfiguračních souborů ASP.NET</span><span class="sxs-lookup"><span data-stu-id="0b90d-193">Writing to ASP.NET Configuration Files</span></span>

<span data-ttu-id="0b90d-194">Stejně jako v čtení z konfiguračních souborů, je třída WebConfigurationManager jádro pro zápis do konfiguračních souborů Asp.NET.</span><span class="sxs-lookup"><span data-stu-id="0b90d-194">As in reading from configuration files, the WebConfigurationManager class is the core for writing to Asp.NET configuration files.</span></span> <span data-ttu-id="0b90d-195">Existují tři kroky pro zápis do konfiguračních souborů ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="0b90d-195">There are also three steps to writing to ASP.NET configuration files.</span></span>

1. <span data-ttu-id="0b90d-196">Získáte objekt konfigurace, pomocí metody OpenWebConfiguration.</span><span class="sxs-lookup"><span data-stu-id="0b90d-196">Get a Configuration object using the OpenWebConfiguration method.</span></span>
2. <span data-ttu-id="0b90d-197">Získání odkazu na požadovaný oddíl v konfiguračním souboru.</span><span class="sxs-lookup"><span data-stu-id="0b90d-197">Get a reference to the desired section in the configuration file.</span></span>
3. <span data-ttu-id="0b90d-198">Zapsat požadované informace z konfiguračního souboru uložit nebo uložit jako metodu.</span><span class="sxs-lookup"><span data-stu-id="0b90d-198">Write the desired information from the configuration file using the Save or SaveAs method.</span></span>

<span data-ttu-id="0b90d-199">Následující změny kódu **ladění** atribut &lt;kompilace&gt; prvku na hodnotu false:</span><span class="sxs-lookup"><span data-stu-id="0b90d-199">The following code changes the **debug** attribute of the &lt;compilation&gt; element to false:</span></span>

[!code-csharp[Main](configuration-and-instrumentation/samples/sample3.cs)]

<span data-ttu-id="0b90d-200">Při spuštění tohoto kódu **ladění** atribut &lt;kompilace&gt; element bude nastaven na hodnotu false pro *webApp* souboru web.config aplikace.</span><span class="sxs-lookup"><span data-stu-id="0b90d-200">When this code is executed, the **debug** attribute of the &lt;compilation&gt; element will be set to false for the *webApp* application's web.config file.</span></span>

## <a name="systemwebmanagement-namespace"></a><span data-ttu-id="0b90d-201">System.Web.Management Namespace</span><span class="sxs-lookup"><span data-stu-id="0b90d-201">System.Web.Management Namespace</span></span>

<span data-ttu-id="0b90d-202">Obor názvů System.Web.Management poskytuje třídy a rozhraní pro správu a monitorování stavu aplikace ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="0b90d-202">The System.Web.Management namespace provides the classes and interfaces for managing and monitoring the health of ASP.NET applications.</span></span>

<span data-ttu-id="0b90d-203">Protokolování se provádí tak, že definujete pravidla, která přidruží ke zprostředkovateli událostí.</span><span class="sxs-lookup"><span data-stu-id="0b90d-203">Logging is accomplished by defining a rule that associates events with a provider.</span></span> <span data-ttu-id="0b90d-204">Pravidlo definuje typ události, které se odesílají do zprostředkovatele.</span><span class="sxs-lookup"><span data-stu-id="0b90d-204">The rule defines the type of events that are sent to the provider.</span></span> <span data-ttu-id="0b90d-205">Následující základní události jsou k dispozici pro přihlášení:</span><span class="sxs-lookup"><span data-stu-id="0b90d-205">The following base events are available for you to log:</span></span>

| <span data-ttu-id="0b90d-206">**WebBaseEvent**</span><span class="sxs-lookup"><span data-stu-id="0b90d-206">**WebBaseEvent**</span></span> | <span data-ttu-id="0b90d-207">Základní událost třída pro všechny události.</span><span class="sxs-lookup"><span data-stu-id="0b90d-207">The base event class for all events.</span></span> <span data-ttu-id="0b90d-208">Obsahuje požadované vlastnosti pro všechny události, jako je například kód události, Kód podrobností o události, datum a čas, byla vyvolána událost, pořadové číslo, zpráva o události a podrobnosti o události.</span><span class="sxs-lookup"><span data-stu-id="0b90d-208">Contains the required properties for all events such as event code, event detail code, the date and time the event was raised, sequence number, the event message, and event details.</span></span> |
| --- | --- |
| <span data-ttu-id="0b90d-209">**WebManagementEvent**</span><span class="sxs-lookup"><span data-stu-id="0b90d-209">**WebManagementEvent**</span></span> | <span data-ttu-id="0b90d-210">Základní událost třídy pro správu událostí, jako například životního cyklu aplikací, požadavek, chyba a událostí auditu.</span><span class="sxs-lookup"><span data-stu-id="0b90d-210">The base event class for management events, such as application lifetime, request, error, and audit events.</span></span> |
| <span data-ttu-id="0b90d-211">**WebHeartbeatEvent**</span><span class="sxs-lookup"><span data-stu-id="0b90d-211">**WebHeartbeatEvent**</span></span> | <span data-ttu-id="0b90d-212">Události vygenerované aplikace v pravidelných intervalech zachycení informací o stavu užitečné modulu runtime.</span><span class="sxs-lookup"><span data-stu-id="0b90d-212">The event generated by the application in regular intervals to capture useful runtime state information.</span></span> |
| <span data-ttu-id="0b90d-213">**WebAuditEvent**</span><span class="sxs-lookup"><span data-stu-id="0b90d-213">**WebAuditEvent**</span></span> | <span data-ttu-id="0b90d-214">Základní třída pro události auditu zabezpečení, které slouží k označení podmínek, jako je ověření se nezdařilo, selhání dešifrování *atd.*</span><span class="sxs-lookup"><span data-stu-id="0b90d-214">The base class for security audit events, which are used to mark conditions such as authorization failure, decryption failure, *etc.*</span></span> |
| <span data-ttu-id="0b90d-215">**WebRequestEvent**</span><span class="sxs-lookup"><span data-stu-id="0b90d-215">**WebRequestEvent**</span></span> | <span data-ttu-id="0b90d-216">Základní třída pro všechny události informační požadavku.</span><span class="sxs-lookup"><span data-stu-id="0b90d-216">The base class for all informational request events.</span></span> |
| <span data-ttu-id="0b90d-217">**WebBaseErrorEvent**</span><span class="sxs-lookup"><span data-stu-id="0b90d-217">**WebBaseErrorEvent**</span></span> | <span data-ttu-id="0b90d-218">Základní třída pro všechny události indikující chybové stavy.</span><span class="sxs-lookup"><span data-stu-id="0b90d-218">The base class for all events indicating error conditions.</span></span> |

<span data-ttu-id="0b90d-219">Typy poskytovatelů, které jsou k dispozici umožnit si odesílat události výstup do prohlížeče událostí, SQL Server, Windows Management Instrumentation (WMI) a e-mailu.</span><span class="sxs-lookup"><span data-stu-id="0b90d-219">The types of providers available allow you to send event output to Event Viewer, SQL Server, Windows Management Instrumentation (WMI), and email.</span></span> <span data-ttu-id="0b90d-220">Předem nakonfigurované poskytovatelů a mapování události snížit množství práce potřebné k získání výstupu události přihlášení.</span><span class="sxs-lookup"><span data-stu-id="0b90d-220">The pre-configured providers and event mappings reduce the amount of work necessary to get event output logged.</span></span>

<span data-ttu-id="0b90d-221">Technologie ASP.NET 2.0 používá v protokolu událostí zprostředkovatele out-of-the-box pro protokolování událostí podle domény aplikace spouští a zastavuje, jakož i protokolování všechny neošetřené výjimky.</span><span class="sxs-lookup"><span data-stu-id="0b90d-221">ASP.NET 2.0 uses the Event Log provider out-of-the-box to log events based on application domains starting and stopping, as well as logging any unhandled exceptions.</span></span> <span data-ttu-id="0b90d-222">To pomáhá se věnují několika základních scénářů.</span><span class="sxs-lookup"><span data-stu-id="0b90d-222">This helps to cover some of the basic scenarios.</span></span> <span data-ttu-id="0b90d-223">Například Řekněme, že aplikace vyvolá výjimku, ale uživatel neukládá chybu a nelze ji reprodukovat.</span><span class="sxs-lookup"><span data-stu-id="0b90d-223">For example, let's say that your application throws an exception, but the user doesn't save the error and you can't reproduce it.</span></span> <span data-ttu-id="0b90d-224">Výchozí pravidlo protokolu událostí bude moct shromážděte informace o výjimka a zásobník získat lepší představu o jaký druh chyby došlo k chybě.</span><span class="sxs-lookup"><span data-stu-id="0b90d-224">With the default Event Log rule, you would be able to gather the exception and stack information to get a better idea of what kind of error occurred.</span></span> <span data-ttu-id="0b90d-225">Další příklad platí v případě, že vaše aplikace je došlo ke ztrátě stavu relace.</span><span class="sxs-lookup"><span data-stu-id="0b90d-225">Another example applies if your application is losing session state.</span></span> <span data-ttu-id="0b90d-226">V takovém případě se můžete podívat v protokolu událostí k určení, zda se recykluje domény aplikace a proč domény aplikace zastavila na prvním místě.</span><span class="sxs-lookup"><span data-stu-id="0b90d-226">In that case, you can look in the Event Log to determine whether the application domain is recycling, and why the application domain stopped in the first place.</span></span>

<span data-ttu-id="0b90d-227">Navíc je rozšiřitelný systém monitorování stavu.</span><span class="sxs-lookup"><span data-stu-id="0b90d-227">Also, the health monitoring system is extensible.</span></span> <span data-ttu-id="0b90d-228">Například můžete definovat vlastní webové události, aktivuje v rámci vaší aplikace a pak definovat pravidlo k odesílání informací o události do poskytovatelů, jako je třeba vaše e-mailu.</span><span class="sxs-lookup"><span data-stu-id="0b90d-228">For example, you can define custom Web events, fire them within your application, and then define a rule to send the event information to a provider such as your email.</span></span> <span data-ttu-id="0b90d-229">To umožňuje snadno spojit váš Instrumentační stav monitorování poskytovatelů.</span><span class="sxs-lookup"><span data-stu-id="0b90d-229">This allows you to easily tie your instrumentation to the health monitoring providers.</span></span> <span data-ttu-id="0b90d-230">Další příklad může vyvolat událost pokaždé, když je pořadí zpracování a nastavit pravidlo, které odesílá každé události do databáze serveru SQL Server.</span><span class="sxs-lookup"><span data-stu-id="0b90d-230">As another example, you could fire an event each time an order is processed and set up a rule that sends each event to the SQL Server database.</span></span> <span data-ttu-id="0b90d-231">Může také vyvolat událost, když se uživateli nepodaří přihlásit více než jednou za sebou a nastavení události pro použití e-mailu podle poskytovatelů.</span><span class="sxs-lookup"><span data-stu-id="0b90d-231">You could also fire an event when a user fails to log on multiple times in a row, and set up the event to use the email-based providers.</span></span>

<span data-ttu-id="0b90d-232">Konfigurace pro výchozí poskytovatele a události je uložená v globálním souboru Web.config.</span><span class="sxs-lookup"><span data-stu-id="0b90d-232">The configuration for the default providers and events is stored in the global Web.config file.</span></span> <span data-ttu-id="0b90d-233">Globální soubor Web.config uchovává všechny webové nastavení, které byly uloženy v souboru Machine.config v ASP.NET 1 x.</span><span class="sxs-lookup"><span data-stu-id="0b90d-233">The global Web.config file stores all the Web-based settings that were stored in the Machine.config file in ASP.NET 1x.</span></span> <span data-ttu-id="0b90d-234">Globální soubor Web.config se nachází v následujícím adresáři:</span><span class="sxs-lookup"><span data-stu-id="0b90d-234">The global Web.config file is located in the following directory:</span></span>

`%windir%\Microsoft.Net\Framework\v2.0.*\config\Web.config`

<span data-ttu-id="0b90d-235">&lt;HealthMonitoring&gt; část globální soubor Web.config obsahuje výchozí nastavení konfigurace.</span><span class="sxs-lookup"><span data-stu-id="0b90d-235">The &lt;healthMonitoring&gt; section of the global Web.config file provides default configuration settings.</span></span> <span data-ttu-id="0b90d-236">Můžete přepsat tato nastavení nebo vlastní konfiguraci prostřednictvím implementace &lt;healthMonitoring&gt; oddílu v souboru Web.config pro vaši aplikaci.</span><span class="sxs-lookup"><span data-stu-id="0b90d-236">You can override these setting or configure your own settings by implementing the &lt;healthMonitoring&gt; section in the Web.config file for your application.</span></span>

<span data-ttu-id="0b90d-237">&lt;HealthMonitoring&gt; části globální soubor Web.config obsahuje následující položky:</span><span class="sxs-lookup"><span data-stu-id="0b90d-237">The &lt;healthMonitoring&gt; section of the global Web.config file contains the following items:</span></span>

| <span data-ttu-id="0b90d-238">**Zprostředkovatelé**</span><span class="sxs-lookup"><span data-stu-id="0b90d-238">**providers**</span></span> | <span data-ttu-id="0b90d-239">Obsahuje poskytovatele nastavení pro Prohlížeč událostí, WMI a SQL Server.</span><span class="sxs-lookup"><span data-stu-id="0b90d-239">Contains providers set up for the Event Viewer, WMI, and SQL Server.</span></span> |
| --- | --- |
| <span data-ttu-id="0b90d-240">**eventMappings**</span><span class="sxs-lookup"><span data-stu-id="0b90d-240">**eventMappings**</span></span> | <span data-ttu-id="0b90d-241">Obsahuje mapování pro různé třídy WebBase.</span><span class="sxs-lookup"><span data-stu-id="0b90d-241">Contains mappings for the various WebBase classes.</span></span> <span data-ttu-id="0b90d-242">Tento seznam můžete rozšířit, pokud generovat vlastní třídy událostí.</span><span class="sxs-lookup"><span data-stu-id="0b90d-242">You can extend this list if you generate your own event class.</span></span> <span data-ttu-id="0b90d-243">Generování třídy vlastní události vám rozlišovací schopnosti prostřednictvím poskytovatelů, odesílat informace do.</span><span class="sxs-lookup"><span data-stu-id="0b90d-243">Generating your own event class gives you finer granularity over the providers you send information to.</span></span> <span data-ttu-id="0b90d-244">Můžete například nakonfigurovat neošetřené výjimky k odeslání do serveru SQL Server, při odesílání vlastních událostí k e-mailu.</span><span class="sxs-lookup"><span data-stu-id="0b90d-244">For example, you could configure unhandled exceptions to be sent to SQL Server, while sending your own custom events to email.</span></span> |
| <span data-ttu-id="0b90d-245">**pravidla**</span><span class="sxs-lookup"><span data-stu-id="0b90d-245">**rules**</span></span> | <span data-ttu-id="0b90d-246">Odkazy eventMappings k poskytovateli.</span><span class="sxs-lookup"><span data-stu-id="0b90d-246">Links the eventMappings to the provider.</span></span> |
| <span data-ttu-id="0b90d-247">**ukládání do vyrovnávací paměti**</span><span class="sxs-lookup"><span data-stu-id="0b90d-247">**buffering**</span></span> | <span data-ttu-id="0b90d-248">Použít s zprostředkovatele SQL Server a e-mailu a zjistěte, jak často se má vyprázdnit události k poskytovateli.</span><span class="sxs-lookup"><span data-stu-id="0b90d-248">Used with SQL Server and email providers to determine how often to flush the events to the provider.</span></span> |

<span data-ttu-id="0b90d-249">Níže je příklad kódu z globálního souboru Web.config.</span><span class="sxs-lookup"><span data-stu-id="0b90d-249">Below is a code example from the global Web.config file.</span></span>

[!code-xml[Main](configuration-and-instrumentation/samples/sample4.xml)]

## <a name="how-to-store-events-to-event-viewer"></a><span data-ttu-id="0b90d-250">Ukládání událostí do prohlížeče událostí</span><span class="sxs-lookup"><span data-stu-id="0b90d-250">How to store events to Event Viewer</span></span>

<span data-ttu-id="0b90d-251">Jak už bylo zmíněno dříve, zprostředkovatele pro protokolování událostí události prohlížeč konfigurován pro vás v globálním souboru Web.config.</span><span class="sxs-lookup"><span data-stu-id="0b90d-251">As mentioned earlier, the provider for logging events in the Event Viewer is configured for you in the global Web.config file.</span></span> <span data-ttu-id="0b90d-252">Ve výchozím nastavení, všechny události na základě **WebBaseErrorEvent** a **WebFailureAuditEvent** přihlášeni.</span><span class="sxs-lookup"><span data-stu-id="0b90d-252">By default, all events based on **WebBaseErrorEvent** and **WebFailureAuditEvent** are logged.</span></span> <span data-ttu-id="0b90d-253">Můžete přidat další pravidla do protokolu Další informace do protokolu událostí.</span><span class="sxs-lookup"><span data-stu-id="0b90d-253">You can add additional rules to log additional information to the Event Log.</span></span> <span data-ttu-id="0b90d-254">Například Kdybyste chtěli, aby se protokolovaly všechny události (*tedy*, každou událost na základě **WebBaseEvent**), můžete přidat do souboru Web.config následující pravidlo:</span><span class="sxs-lookup"><span data-stu-id="0b90d-254">For example, if you wanted to log all events (*i.e.*, every event based on **WebBaseEvent**), you could add the following rule to your Web.config file:</span></span>

[!code-xml[Main](configuration-and-instrumentation/samples/sample5.xml)]

<span data-ttu-id="0b90d-255">Toto pravidlo se propojit **všechny události** mapa událostí do protokolu událostí zprostředkovatele.</span><span class="sxs-lookup"><span data-stu-id="0b90d-255">This rule would link the **All Events** event map to the Event Log provider.</span></span> <span data-ttu-id="0b90d-256">EventMapping a zprostředkovateli jsou zahrnuty v globálním souboru Web.config.</span><span class="sxs-lookup"><span data-stu-id="0b90d-256">Both eventMapping and the provider are included in the global Web.config file.</span></span>

## <a name="how-to-store-events-to-sql-server"></a><span data-ttu-id="0b90d-257">Ukládání událostí do systému SQL Server</span><span class="sxs-lookup"><span data-stu-id="0b90d-257">How to store events to SQL Server</span></span>

<span data-ttu-id="0b90d-258">Tato metoda používá **ASPNETDB** databáze, která se generují pomocí Aspnet\_regsql.exe nástroj.</span><span class="sxs-lookup"><span data-stu-id="0b90d-258">This method uses the **ASPNETDB** database, which is generated by the Aspnet\_regsql.exe tool.</span></span> <span data-ttu-id="0b90d-259">Výchozí poskytovatel použije LocalSqlServer připojovací řetězec, který používá buď databáze založené na souboru v aplikaci\_složka dat nebo místní instanci systému SQL Server SQLExpress.</span><span class="sxs-lookup"><span data-stu-id="0b90d-259">The default provider uses the LocalSqlServer connection string, which uses either a file-based database in the App\_data folder or the local SQLExpress instance of SQL Server.</span></span> <span data-ttu-id="0b90d-260">LocalSqlServer připojovací řetězec a SqlProvider jsou nakonfigurované v globálním souboru Web.config.</span><span class="sxs-lookup"><span data-stu-id="0b90d-260">Both the LocalSqlServer connection string and the SqlProvider are configured in the global Web.config file.</span></span>

<span data-ttu-id="0b90d-261">LocalSqlServer připojovací řetězec v souboru Web.config globální vypadá takto:</span><span class="sxs-lookup"><span data-stu-id="0b90d-261">The LocalSqlServer connection string in the global Web.config file looks like this:</span></span>

[!code-xml[Main](configuration-and-instrumentation/samples/sample6.xml)]

<span data-ttu-id="0b90d-262">Pokud chcete použít jinou instanci systému SQL Server, budete muset použít Aspnet\_regsql.exe nástroj, který se nachází v % windir%\Microsoft.Net\Framework\v2.0.\* složky.</span><span class="sxs-lookup"><span data-stu-id="0b90d-262">If you want to use another SQL Server instance, you'll need to use the Aspnet\_regsql.exe tool, which can be found in the %windir%\Microsoft.Net\Framework\v2.0.\* folder.</span></span> <span data-ttu-id="0b90d-263">Použít Aspnet\_regsql.exe nástroj pro generování vlastní **ASPNETDB** databáze v instanci SQL serveru, pak přidat připojovací řetězec do konfiguračního souboru aplikace a pak přidat pomocí nového poskytovatele připojovací řetězec.</span><span class="sxs-lookup"><span data-stu-id="0b90d-263">Use the Aspnet\_regsql.exe tool to generate a custom **ASPNETDB** database on the SQL Server instance, then add the connection string to your applications configuration file, and then add a provider by using the new connection string.</span></span> <span data-ttu-id="0b90d-264">Jakmile budete mít **ASPNETDB** databáze vytvořena, bude nutné nastavit pravidlo, které eventMapping propojit sqlProvider.</span><span class="sxs-lookup"><span data-stu-id="0b90d-264">Once you have the **ASPNETDB** database created, you'll need to set a rule to link an eventMapping to the sqlProvider.</span></span>

<span data-ttu-id="0b90d-265">Ať už se používají výchozí hodnoty SqlProvider nebo vlastního poskytovatele konfigurace, budete muset přidat pravidla propojení zprostředkovatele s mapu událostí.</span><span class="sxs-lookup"><span data-stu-id="0b90d-265">Whether you use the default SqlProvider or configure your own provider, you'll need to add a rule linking the provider with an event map.</span></span> <span data-ttu-id="0b90d-266">Následující pravidla propojení nového poskytovatele, který jste vytvořili výše na **všechny události** mapa událostí.</span><span class="sxs-lookup"><span data-stu-id="0b90d-266">The following rule links the new provider that you created above to the **All Events** event map.</span></span> <span data-ttu-id="0b90d-267">Toto pravidlo se budou protokolovat všechny události na základě **WebBaseEvent** a odeslat je do MySqlWebEventProvider, který použije připojovací řetězec MYASPNETDB.</span><span class="sxs-lookup"><span data-stu-id="0b90d-267">This rule will log all the events based on **WebBaseEvent** and send them to the MySqlWebEventProvider that will use the MYASPNETDB connection string.</span></span> <span data-ttu-id="0b90d-268">Následující kód přidává pravidlo, které propojte poskytovatele s mapou události:</span><span class="sxs-lookup"><span data-stu-id="0b90d-268">The following code adds a rule to link the provider with an event map:</span></span>

[!code-xml[Main](configuration-and-instrumentation/samples/sample7.xml)]

<span data-ttu-id="0b90d-269">Pokud byste chtěli provést odeslání pouze chyby na serveru SQL Server, můžete přidat následující pravidla:</span><span class="sxs-lookup"><span data-stu-id="0b90d-269">If you wanted to only send errors to SQL Server, you could add the following rule:</span></span>

[!code-xml[Main](configuration-and-instrumentation/samples/sample8.xml)]

## <a name="how-to-forward-events-to-wmi"></a><span data-ttu-id="0b90d-270">Jak události rozhraní WMI</span><span class="sxs-lookup"><span data-stu-id="0b90d-270">How to forward events to WMI</span></span>

<span data-ttu-id="0b90d-271">Události můžete předávat také ke službě WMI.</span><span class="sxs-lookup"><span data-stu-id="0b90d-271">You can also forward the events to WMI.</span></span> <span data-ttu-id="0b90d-272">Zprostředkovatel rozhraní WMI nakonfigurované ve výchozím nastavení za vás do globálního souboru Web.config.</span><span class="sxs-lookup"><span data-stu-id="0b90d-272">The WMI provider is configured for you in the global Web.config file by default.</span></span>

<span data-ttu-id="0b90d-273">Následující příklad kódu přidá pravidlo pro předávání událostí služby WMI:</span><span class="sxs-lookup"><span data-stu-id="0b90d-273">The following code example adds a rule to forward the events to WMI:</span></span>

[!code-xml[Main](configuration-and-instrumentation/samples/sample9.xml)]

<span data-ttu-id="0b90d-274">Je potřeba přidat pravidlo pro přidružení eventMapping k poskytovateli a také aplikace naslouchací proces služby WMI pro naslouchání události.</span><span class="sxs-lookup"><span data-stu-id="0b90d-274">You will need to add a rule to associate an eventMapping to the provider, and also a WMI listener application to listen for the events.</span></span> <span data-ttu-id="0b90d-275">Následující příklad kódu přidá na pravidlo můžete propojit zprostředkovatelem rozhraní WMI **všechny události** mapa událostí:</span><span class="sxs-lookup"><span data-stu-id="0b90d-275">The following code example adds a rule to link the WMI provider to the **All Events** event map:</span></span>

[!code-xml[Main](configuration-and-instrumentation/samples/sample10.xml)]

## <a name="how-to-forward-events-to-email"></a><span data-ttu-id="0b90d-276">Jak události e-mailu</span><span class="sxs-lookup"><span data-stu-id="0b90d-276">How to forward events to email</span></span>

<span data-ttu-id="0b90d-277">Můžete také přeposílat události k e-mailu.</span><span class="sxs-lookup"><span data-stu-id="0b90d-277">You can also forward events to email.</span></span> <span data-ttu-id="0b90d-278">Dejte pozor, o které pravidel událostí je namapovat na poskytovatele e-mailu, jak vám můžou neúmyslně pošlete sami sobě velké množství informací, které může být vhodnější pro SQL Server nebo v protokolu událostí.</span><span class="sxs-lookup"><span data-stu-id="0b90d-278">Be careful about which event rules you map to your email provider, as you can unintentionally send yourself a lot of information that may be better suited for SQL Server or the Event Log.</span></span> <span data-ttu-id="0b90d-279">Existují dva poskytovatelé e-mailu; SimpleMailWebEventProvider a TemplatedMailWebEventProvider.</span><span class="sxs-lookup"><span data-stu-id="0b90d-279">There are two email providers; SimpleMailWebEventProvider and TemplatedMailWebEventProvider.</span></span> <span data-ttu-id="0b90d-280">Každá má stejné atributy konfigurace, s výjimkou "Šablona" a "detailedTemplateErrors" atributy, které jsou pouze k dispozici na TemplatedMailWebEventProvider.</span><span class="sxs-lookup"><span data-stu-id="0b90d-280">Each has the same configuration attributes, with the exception of the "template" and "detailedTemplateErrors" attributes, both of which are only available on the TemplatedMailWebEventProvider.</span></span>

> [!NOTE]
> <span data-ttu-id="0b90d-281">Ani jeden z těchto zprostředkovatelů e-mailu je nakonfigurován za vás.</span><span class="sxs-lookup"><span data-stu-id="0b90d-281">Neither of these email providers is configured for you.</span></span> <span data-ttu-id="0b90d-282">Bude potřeba je přidat do souboru Web.config.</span><span class="sxs-lookup"><span data-stu-id="0b90d-282">You'll need to add them to your Web.config file.</span></span>


<span data-ttu-id="0b90d-283">Hlavní rozdíl mezi poskytovateli tyto dva e-mailu je, že SimpleMailWebEventProvider odešle e-mailů v obecné šabloně, která nelze upravit.</span><span class="sxs-lookup"><span data-stu-id="0b90d-283">The main difference between these two email providers is that SimpleMailWebEventProvider sends emails in a generic template that cannot be modified.</span></span> <span data-ttu-id="0b90d-284">Ukázkový soubor Web.config tohoto poskytovatele e-mailu přidá do seznamu zprostředkovatelů nakonfigurované pomocí následující pravidla:</span><span class="sxs-lookup"><span data-stu-id="0b90d-284">The sample Web.config file adds this email provider to the list of configured providers by using the following rule:</span></span>

[!code-xml[Main](configuration-and-instrumentation/samples/sample11.xml)]

<span data-ttu-id="0b90d-285">Následující pravidlo je taky přidaný ke tie poskytovateli e-mailu **všechny události** mapa událostí:</span><span class="sxs-lookup"><span data-stu-id="0b90d-285">The following rule is also added to tie the email provider to the **All Events** event map:</span></span>

[!code-xml[Main](configuration-and-instrumentation/samples/sample12.xml)]

## <a name="aspnet-20-tracing"></a><span data-ttu-id="0b90d-286">ASP.NET 2.0 trasování</span><span class="sxs-lookup"><span data-stu-id="0b90d-286">ASP.NET 2.0 Tracing</span></span>

<span data-ttu-id="0b90d-287">Existují tři hlavní vylepšení trasování v technologii ASP.NET 2.0.</span><span class="sxs-lookup"><span data-stu-id="0b90d-287">There are three major enhancements to tracing in ASP.NET 2.0.</span></span>

1. <span data-ttu-id="0b90d-288">Funkce integrované trasování</span><span class="sxs-lookup"><span data-stu-id="0b90d-288">Integrated tracing functionality</span></span>
2. <span data-ttu-id="0b90d-289">Programový přístup k trasování zpráv</span><span class="sxs-lookup"><span data-stu-id="0b90d-289">Programmatic access to trace messages</span></span>
3. <span data-ttu-id="0b90d-290">Vylepšené trasování na úrovni aplikace</span><span class="sxs-lookup"><span data-stu-id="0b90d-290">Improved application-level tracing</span></span>

## <a name="integrated-tracing-functionality"></a><span data-ttu-id="0b90d-291">Integrovaná funkce trasování</span><span class="sxs-lookup"><span data-stu-id="0b90d-291">Integrated Tracing Functionality</span></span>

<span data-ttu-id="0b90d-292">Teď můžete směrovat zprávy, protože ho vygeneroval System.Diagnostics.Trace – třída do výstupu trasování technologie ASP.NET a směrování zpráv, protože ho vygeneroval trasování rozhraní ASP.NET System.Diagnostics.Trace.</span><span class="sxs-lookup"><span data-stu-id="0b90d-292">You can now route messages emitted by the System.Diagnostics.Trace class to ASP.NET tracing output, and route messages emitted by ASP.NET tracing to System.Diagnostics.Trace.</span></span> <span data-ttu-id="0b90d-293">ASP.NET – události instrumentace můžete také předat System.Diagnostics.Trace.</span><span class="sxs-lookup"><span data-stu-id="0b90d-293">You can also forward ASP.NET instrumentation events to System.Diagnostics.Trace.</span></span> <span data-ttu-id="0b90d-294">Tato funkce je poskytována nové **writeToDiagnosticsTrace** atribut &lt;trasování&gt; elementu.</span><span class="sxs-lookup"><span data-stu-id="0b90d-294">This functionality is provided by the new **writeToDiagnosticsTrace** attribute of the &lt;trace&gt; element.</span></span> <span data-ttu-id="0b90d-295">Pokud je logická hodnota true, ASP.NET trasovací zprávy jsou předány infrastruktury trasování System.Diagnostics pro použití podle jakékoli naslouchacích procesů, které jsou registrovány k zobrazení trasovacích zpráv.</span><span class="sxs-lookup"><span data-stu-id="0b90d-295">When this Boolean value is true, ASP.NET Trace messages are forwarded to the System.Diagnostics tracing infrastructure for use by any listeners that are registered to display Trace messages.</span></span>

## <a name="programmatic-access-to-trace-messages"></a><span data-ttu-id="0b90d-296">Programový přístup k trasování zprávy</span><span class="sxs-lookup"><span data-stu-id="0b90d-296">Programmatic Access to Trace Messages</span></span>

<span data-ttu-id="0b90d-297">ASP.NET 2.0 umožňuje programový přístup k všechny zprávy trasování prostřednictvím **TraceContextRecord** třídy a **TraceRecords** kolekce.</span><span class="sxs-lookup"><span data-stu-id="0b90d-297">ASP.NET 2.0 allows for programmatic access to all trace messages via the **TraceContextRecord** class and the **TraceRecords** collection.</span></span> <span data-ttu-id="0b90d-298">Nejúčinnější způsob přístupu k zprávy trasování je zaregistrovat **TraceContextEventHandler** delegáta (Další Novinky v technologii ASP.NET 2.0) ke zpracování nového **TraceFinished** událostí.</span><span class="sxs-lookup"><span data-stu-id="0b90d-298">The most efficient way of accessing trace messages is to register a **TraceContextEventHandler** delegate (also new in ASP.NET 2.0) to handle the new **TraceFinished** event.</span></span> <span data-ttu-id="0b90d-299">Trasovací zprávy lze potom projít podle potřeby.</span><span class="sxs-lookup"><span data-stu-id="0b90d-299">You can then loop through the trace messages as you wish.</span></span>

<span data-ttu-id="0b90d-300">Následující vzorový kód to znázorňuje:</span><span class="sxs-lookup"><span data-stu-id="0b90d-300">The following code sample illustrates this:</span></span>

[!code-csharp[Main](configuration-and-instrumentation/samples/sample13.cs)]

<span data-ttu-id="0b90d-301">V příkladu výše můžu projít TraceRecords kolekce a pak zápis do datového proudu odpovědi každou zprávu.</span><span class="sxs-lookup"><span data-stu-id="0b90d-301">In the above example, I loop through the TraceRecords collection and then write each message to the Response stream.</span></span>

## <a name="improved-application-level-tracing"></a><span data-ttu-id="0b90d-302">Vylepšené trasování na úrovni aplikace</span><span class="sxs-lookup"><span data-stu-id="0b90d-302">Improved Application-Level Tracing</span></span>

<span data-ttu-id="0b90d-303">Zlepší se trasování na úrovni aplikace prostřednictvím zavedení nového **mostRecent** atribut &lt;trasování&gt; elementu.</span><span class="sxs-lookup"><span data-stu-id="0b90d-303">Application-level tracing is improved via the introduction of the new **mostRecent** attribute of the &lt;trace&gt; element.</span></span> <span data-ttu-id="0b90d-304">Tento atribut určuje, zda se zobrazí nejnovější výstup trasování na úrovni aplikace a data trasování starší než omezení, které jsou označeny requestLimit se zahodí.</span><span class="sxs-lookup"><span data-stu-id="0b90d-304">This attribute specifies whether the most recent application-level tracing output is displayed and older trace data beyond the limits that are indicated by the requestLimit are discarded.</span></span> <span data-ttu-id="0b90d-305">Pokud má hodnotu false, data trasování se nezobrazí, pokud pro požadavky na atribut requestLimit je dosaženo.</span><span class="sxs-lookup"><span data-stu-id="0b90d-305">If false, trace data are displayed for requests until the requestLimit attribute is reached.</span></span>

## <a name="aspnet-command-line-tools"></a><span data-ttu-id="0b90d-306">Nástroje příkazového řádku technologie ASP.NET</span><span class="sxs-lookup"><span data-stu-id="0b90d-306">ASP.NET Command Line Tools</span></span>

<span data-ttu-id="0b90d-307">Existuje několik nástrojů příkazového řádku pro zjednodušení konfigurace technologie ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="0b90d-307">There are several command-line tools to aid in configuration of ASP.NET.</span></span> <span data-ttu-id="0b90d-308">Vývoj v ASP.NET měli seznámit s aspnet\_regiis.exe nástroj.</span><span class="sxs-lookup"><span data-stu-id="0b90d-308">ASP.NET developers should be familiar with the aspnet\_regiis.exe tool.</span></span> <span data-ttu-id="0b90d-309">ASP.NET 2.0 obsahuje tři další příkazového řádku nástroje pro usnadnění v konfiguraci.</span><span class="sxs-lookup"><span data-stu-id="0b90d-309">ASP.NET 2.0 provides three other command-line tools to aid in configuration.</span></span>

<span data-ttu-id="0b90d-310">K dispozici jsou nástroje příkazového řádku následující:</span><span class="sxs-lookup"><span data-stu-id="0b90d-310">The following command-line tools are available:</span></span>

| <span data-ttu-id="0b90d-311">**Nástroj**</span><span class="sxs-lookup"><span data-stu-id="0b90d-311">**Tool**</span></span> | <span data-ttu-id="0b90d-312">**Použití**</span><span class="sxs-lookup"><span data-stu-id="0b90d-312">**Use**</span></span> |
| --- | --- |
| <span data-ttu-id="0b90d-313">**aspnet\_regiis.exe**</span><span class="sxs-lookup"><span data-stu-id="0b90d-313">**aspnet\_regiis.exe**</span></span> | <span data-ttu-id="0b90d-314">Umožňuje zaregistrovat technologii ASP.NET se službou IIS.</span><span class="sxs-lookup"><span data-stu-id="0b90d-314">Allows for registration of ASP.NET with IIS.</span></span> <span data-ttu-id="0b90d-315">Existují dvě verze tohoto nástroje nastavených s prostředím ASP.NET 2.0, jednu pro systémy 32-bit (ve složce Framework) a jeden pro 64bitové systémy (ve složce Framework64.) 64bitová verze nenainstalují na 32bitovém operačním systému.</span><span class="sxs-lookup"><span data-stu-id="0b90d-315">There are two versions of this tools that ship with ASP.NET 2.0, one for 32-bit systems (in the Framework folder) and one for 64-bit systems (in the Framework64 folder.) The 64-bit version will not be installed on a 32-bit OS.</span></span> |
| <span data-ttu-id="0b90d-316">**aspnet\_regsql.exe**</span><span class="sxs-lookup"><span data-stu-id="0b90d-316">**aspnet\_regsql.exe**</span></span> | <span data-ttu-id="0b90d-317">Nástroj registrace technologie ASP.NET SQL serveru se používá k vytvoření databáze serveru Microsoft SQL Server pro použití u poskytovatele systému SQL Server v technologii ASP.NET, nebo chcete přidat nebo odebrat možnosti z existující databáze.</span><span class="sxs-lookup"><span data-stu-id="0b90d-317">The ASP.NET SQL Server Registration tool is used to create a Microsoft SQL Server database for use by the SQL Server providers in ASP.NET, or to add or remove options from an existing database.</span></span> <span data-ttu-id="0b90d-318">Aspnet\_regsql.exe soubor se nachází v [drive:]\WINDOWS\Microsoft.NET\Framework\versionNumber složky na vašem webovém serveru.</span><span class="sxs-lookup"><span data-stu-id="0b90d-318">The Aspnet\_regsql.exe file is located in the [drive:]\WINDOWS\Microsoft.NET\Framework\versionNumber folder on your Web server.</span></span> |
| <span data-ttu-id="0b90d-319">**aspnet\_regbrowsers.exe**</span><span class="sxs-lookup"><span data-stu-id="0b90d-319">**aspnet\_regbrowsers.exe**</span></span> | <span data-ttu-id="0b90d-320">Nástroje pro registraci prohlížeče technologie ASP.NET analyzuje a všechny definice prohlížeče systémová do sestavení zkompiluje a nainstaluje sestavení do globální mezipaměti sestavení.</span><span class="sxs-lookup"><span data-stu-id="0b90d-320">The ASP.NET Browser Registration tool parses and compiles all system-wide browser definitions into an assembly and installs the assembly into the global assembly cache.</span></span> <span data-ttu-id="0b90d-321">Nástroj používá definiční soubory prohlížeče (. Soubory prohlížeče) z podadresáře prohlížeče rozhraní .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="0b90d-321">The tool uses the browser definition files (.BROWSER files) from the .NET Framework Browsers subdirectory.</span></span> <span data-ttu-id="0b90d-322">Nástroj můžete najít v adresáři %SystemRoot%\Microsoft.NET\Framework\version\.</span><span class="sxs-lookup"><span data-stu-id="0b90d-322">The tool can be found in the %SystemRoot%\Microsoft.NET\Framework\version\ directory.</span></span> |
| <span data-ttu-id="0b90d-323">**aspnet\_compiler.exe**</span><span class="sxs-lookup"><span data-stu-id="0b90d-323">**aspnet\_compiler.exe**</span></span> | <span data-ttu-id="0b90d-324">Nástroj ASP.NET kompilace umožňuje zkompilovat aplikaci rozhraní ASP.NET Web, na místě nebo pro nasazení do cílového umístění, jako je například provozní server.</span><span class="sxs-lookup"><span data-stu-id="0b90d-324">The ASP.NET Compilation tool enables you to compile an ASP.NET Web application, either in place or for deployment to a target location such as a production server.</span></span> <span data-ttu-id="0b90d-325">Kompilace v místě zlepšuje výkon aplikací, protože koncoví uživatelé nevšimnete zpoždění první žádosti o aplikace, zatímco bude uložena zkompilovaná aplikace.</span><span class="sxs-lookup"><span data-stu-id="0b90d-325">In-place compilation helps application performance because end users do not encounter a delay on the first request to the application while the application is compiled.</span></span> |

<span data-ttu-id="0b90d-326">Vzhledem k tomu, aspnet\_regiis.exe nástroj není nové technologie ASP.NET 2.0, nebude probereme ji sem.</span><span class="sxs-lookup"><span data-stu-id="0b90d-326">Because the aspnet\_regiis.exe tool is not new to ASP.NET 2.0, we will not discuss it here.</span></span>

## <a name="aspnet-sql-server-registration-tool---aspnetregsqlexe"></a><span data-ttu-id="0b90d-327">Nástroj pro registraci serveru SQL technologie ASP.NET – aspnet\_regsql.exe</span><span class="sxs-lookup"><span data-stu-id="0b90d-327">ASP.NET SQL Server Registration Tool - aspnet\_regsql.exe</span></span>

<span data-ttu-id="0b90d-328">Můžete nastavit několik typů možností použití nástroje registrace technologie ASP.NET SQL Server.</span><span class="sxs-lookup"><span data-stu-id="0b90d-328">You can set several types of options using the ASP.NET SQL Server Registration tool.</span></span> <span data-ttu-id="0b90d-329">Můžete určit připojení SQL, určete, které aplikační služby použít systém SQL Server pro správu informací, označení, která databáze nebo tabulka slouží pro závislost mezipaměti SQL a přidat nebo odebrat podporu pro ukládání postupy a stavu relace pomocí SQL serveru.</span><span class="sxs-lookup"><span data-stu-id="0b90d-329">You can specify a SQL connection, specify which ASP.NET application services use SQL Server to manage information, indicate which database or table is used for SQL cache dependency, and add or remove support for using SQL Server to store procedures and session state.</span></span>

<span data-ttu-id="0b90d-330">Spolehněte se na poskytovatele ke správě ukládání a načítání dat ze zdroje dat několik aplikačních služeb technologie ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="0b90d-330">Several ASP.NET application services rely on a provider to manage storing and retrieving data from a data source.</span></span> <span data-ttu-id="0b90d-331">Každý poskytovatel je specifické pro zdroj dat.</span><span class="sxs-lookup"><span data-stu-id="0b90d-331">Each provider is specific to the data source.</span></span> <span data-ttu-id="0b90d-332">Technologie ASP.NET obsahuje zprostředkovatele SQL Server pro následující funkce ASP.NET:</span><span class="sxs-lookup"><span data-stu-id="0b90d-332">ASP.NET includes a SQL Server provider for the following ASP.NET features:</span></span>

- <span data-ttu-id="0b90d-333">Členství ( [SqlMembershipProvider](https://msdn.microsoft.com/library/system.web.security.sqlmembershipprovider.aspx) třídy).</span><span class="sxs-lookup"><span data-stu-id="0b90d-333">Membership (the [SqlMembershipProvider](https://msdn.microsoft.com/library/system.web.security.sqlmembershipprovider.aspx) class).</span></span>
- <span data-ttu-id="0b90d-334">Správa rolí ( [zprostředkovatele SqlRoleProvider](https://msdn.microsoft.com/library/system.web.security.sqlroleprovider.aspx) třídy).</span><span class="sxs-lookup"><span data-stu-id="0b90d-334">Role Management (the [SqlRoleProvider](https://msdn.microsoft.com/library/system.web.security.sqlroleprovider.aspx) class).</span></span>
- <span data-ttu-id="0b90d-335">Profil ( [SqlProfileProvider](https://msdn.microsoft.com/library/system.web.profile.sqlprofileprovider.aspx) třídy).</span><span class="sxs-lookup"><span data-stu-id="0b90d-335">Profile (the [SqlProfileProvider](https://msdn.microsoft.com/library/system.web.profile.sqlprofileprovider.aspx) class).</span></span>
- <span data-ttu-id="0b90d-336">Přizpůsobení webových částí ( [SqlPersonalizationProvider](https://msdn.microsoft.com/library/system.web.ui.webcontrols.webparts.sqlpersonalizationprovider.aspx) třídy).</span><span class="sxs-lookup"><span data-stu-id="0b90d-336">Web Parts Personalization (the [SqlPersonalizationProvider](https://msdn.microsoft.com/library/system.web.ui.webcontrols.webparts.sqlpersonalizationprovider.aspx) class).</span></span>
- <span data-ttu-id="0b90d-337">Webové události ( [SqlWebEventProvider](https://msdn.microsoft.com/library/system.web.management.sqlwebeventprovider.aspx) třídy).</span><span class="sxs-lookup"><span data-stu-id="0b90d-337">Web Events (the [SqlWebEventProvider](https://msdn.microsoft.com/library/system.web.management.sqlwebeventprovider.aspx) class).</span></span>

<span data-ttu-id="0b90d-338">Při instalaci ASP.NET obsahuje soubor Machine.config pro váš server konfiguračních elementů určujících poskytovatele systému SQL Server pro každou funkcí technologie ASP.NET, které závisí na zprostředkovateli.</span><span class="sxs-lookup"><span data-stu-id="0b90d-338">When you install ASP.NET, the Machine.config file for your server includes configuration elements that specify SQL Server providers for each of the ASP.NET features that rely on a provider.</span></span> <span data-ttu-id="0b90d-339">Tito zprostředkovatelé jsou nakonfigurované ve výchozím nastavení pro připojení k místní uživatelskou instanci systému SQL Server Express 2005.</span><span class="sxs-lookup"><span data-stu-id="0b90d-339">These providers are configured, by default, to connect to a local user instance of SQL Server Express 2005.</span></span> <span data-ttu-id="0b90d-340">Pokud změníte výchozí připojovací řetězec používaný zprostředkovatele, abyste mohli používat všechny funkce technologie ASP.NET, které jsou nakonfigurované v konfiguraci počítače je nutné nainstalovat databáze serveru SQL Server a prvky databáze pro vaši zvolenou funkci pomocí Aspnet\_regsql.exe.</span><span class="sxs-lookup"><span data-stu-id="0b90d-340">If you change the default connection string used by the providers, then before you can use any of the ASP.NET features configured in the machine configuration, you must install the SQL Server database and the database elements for your chosen feature using Aspnet\_regsql.exe.</span></span> <span data-ttu-id="0b90d-341">Pokud databáze, kterou zadáte pomocí nástroje pro registraci SQL již neexistuje (aspnetdb bude výchozí databázi pokud jeden není zadán v příkazovém řádku), pak je aktuální uživatel musí mít oprávnění k vytváření databází v systému SQL Server i pro vytváření schémat lements v databázi.</span><span class="sxs-lookup"><span data-stu-id="0b90d-341">If the database that you specify with the SQL registration tool does not already exist (aspnetdb will be the default database if one is not specified on the command line), then the current user must have rights to create databases in SQL Server as well as to create schema elements within a database.</span></span>

### <a name="sql-cache-dependency"></a><span data-ttu-id="0b90d-342">Závislosti mezipaměti SQL</span><span class="sxs-lookup"><span data-stu-id="0b90d-342">SQL Cache Dependency</span></span>

<span data-ttu-id="0b90d-343">O pokročilou funkci ukládání výstupu ASP.NET do mezipaměti je závislosti mezipaměti SQL.</span><span class="sxs-lookup"><span data-stu-id="0b90d-343">An advanced feature of ASP.NET output caching is SQL cache dependency.</span></span> <span data-ttu-id="0b90d-344">Závislosti mezipaměti SQL podporuje dva různé režimy fungování: jednu, která používá ASP.NET implementace cyklického dotazování tabulky a druhý režim, který využívá funkce oznámení dotazů SQL Server 2005.</span><span class="sxs-lookup"><span data-stu-id="0b90d-344">SQL cache dependency supports two different modes of operation: one that uses an ASP.NET implementation of table polling and a second mode that uses the query notification features of SQL Server 2005.</span></span> <span data-ttu-id="0b90d-345">Registrační nástroj SQL můžete použít ke konfiguraci režimu cyklického dotazování tabulky operace.</span><span class="sxs-lookup"><span data-stu-id="0b90d-345">The SQL registration tool can be used to configure the table-polling mode of operation.</span></span>

### <a name="session-state"></a><span data-ttu-id="0b90d-346">Stav relace</span><span class="sxs-lookup"><span data-stu-id="0b90d-346">Session State</span></span>

<span data-ttu-id="0b90d-347">Ve výchozím nastavení hodnoty stavu relace a informace jsou uloženy v paměti v rámci procesu ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="0b90d-347">By default, session state values and information are stored in memory within the ASP.NET process.</span></span> <span data-ttu-id="0b90d-348">Alternativně můžete uložit data relace v databázi serveru SQL Server, kde může být sdílen více webových serverů.</span><span class="sxs-lookup"><span data-stu-id="0b90d-348">Alternatively, you can store session data in a SQL Server database, where it can be shared by multiple Web servers.</span></span> <span data-ttu-id="0b90d-349">Pokud databáze, kterou zadáte pro stav relace pomocí nástroje pro registraci SQL ještě neexistuje, musí mít aktuální uživatel oprávnění k vytváření databází v SQL serveru také vytvoření prvků schématu v databázi.</span><span class="sxs-lookup"><span data-stu-id="0b90d-349">If the database that you specify for session state with the SQL registration tool does not already exist, then the current user must have rights to create databases in SQL Server as well as to create schema elements within a database.</span></span> <span data-ttu-id="0b90d-350">Pokud databáze neexistuje, je aktuální uživatel musí mít práva k vytváření prvků schématu ve stávající databázi.</span><span class="sxs-lookup"><span data-stu-id="0b90d-350">If the database does exist, then the current user must have rights to create schema elements in the existing database.</span></span>

<span data-ttu-id="0b90d-351">Chcete-li nainstalovat databázi stavu relací v systému SQL Server, spusťte Aspnet\_regsql.exe nástroje a zadejte následující informace pomocí příkazu:</span><span class="sxs-lookup"><span data-stu-id="0b90d-351">To install the session state database on SQL Server, run the Aspnet\_regsql.exe tool and supply the following information with the command:</span></span>

- <span data-ttu-id="0b90d-352">Název systému SQL Server instance pomocí **-S** možnost.</span><span class="sxs-lookup"><span data-stu-id="0b90d-352">The name of the SQL Server instance, using the **-S** option.</span></span>
- <span data-ttu-id="0b90d-353">Přihlašovací údaje k účtu, který má oprávnění k vytvoření databáze v počítači se systémem SQL Server.</span><span class="sxs-lookup"><span data-stu-id="0b90d-353">The logon credentials for an account that has permission to create a database on a computer running SQL Server.</span></span> <span data-ttu-id="0b90d-354">Použít **-e.** možnost využít aktuálně přihlášeného uživatele, nebo použít **- U** můžete zadat ID uživatele spolu s **-P** můžete zadat heslo.</span><span class="sxs-lookup"><span data-stu-id="0b90d-354">Use the **-E** option to use the currently logged-on user, or use the **-U** option to specify a user ID along with the **-P** option to specify a password.</span></span>
- <span data-ttu-id="0b90d-355">**- Ssadd** možnost příkazového řádku, chcete-li přidat databázi stavu relací.</span><span class="sxs-lookup"><span data-stu-id="0b90d-355">The **-ssadd** command-line option to add the session state database.</span></span>

<span data-ttu-id="0b90d-356">Ve výchozím nastavení, nelze použít Aspnet\_regsql.exe nástroj pro instalaci databáze stavu relace na počítači se systémem SQL Server 2005 Express Edition.</span><span class="sxs-lookup"><span data-stu-id="0b90d-356">By default, you cannot use the Aspnet\_regsql.exe tool to install the session state database on a computer running SQL Server 2005 Express Edition.</span></span>

### <a name="the-aspnet-browser-registration-tool---aspnetregbrowsersexe"></a><span data-ttu-id="0b90d-357">Registrační nástroj prohlížeče technologie ASP.NET – aspnet\_regbrowsers.exe</span><span class="sxs-lookup"><span data-stu-id="0b90d-357">The ASP.NET Browser Registration Tool - aspnet\_regbrowsers.exe</span></span>

<span data-ttu-id="0b90d-358">V technologii ASP.NET verze 1.1, soubor Machine.config obsahoval část s názvem &lt;browserCaps&gt;.</span><span class="sxs-lookup"><span data-stu-id="0b90d-358">In ASP.NET version 1.1, the Machine.config file contained a section called &lt;browserCaps&gt;.</span></span> <span data-ttu-id="0b90d-359">Tato část obsahuje řadu záznamů jazyka XML, které definované konfigurace pro různé prohlížeče na základě regulárního výrazu.</span><span class="sxs-lookup"><span data-stu-id="0b90d-359">This section contained a series of XML entries that defined the configurations for various browsers based on a regular expression.</span></span> <span data-ttu-id="0b90d-360">Pro technologii ASP.NET verze 2.0 nový. Soubor prohlížeče definuje parametry určitého prohlížeče pomocí záznamů jazyka XML.</span><span class="sxs-lookup"><span data-stu-id="0b90d-360">For ASP.NET version 2.0, a new .BROWSER file defines the parameters of a particular browser using XML entries.</span></span> <span data-ttu-id="0b90d-361">Přidat informace o novém prohlížeči tak, že přidáte nový. Soubor prohlížeče do složky c:\ %SystemRoot%\Microsoft.NET\Framework\version\CONFIG\Browsers ve vašem systému.</span><span class="sxs-lookup"><span data-stu-id="0b90d-361">You add information on a new browser by adding a new .BROWSER file to the folder located at %SystemRoot%\Microsoft.NET\Framework\version\CONFIG\Browsers on your system.</span></span>

<span data-ttu-id="0b90d-362">Protože aplikace není čtení souboru .config, pokaždé, když se vyžaduje informace o prohlížeči, můžete vytvořit nový. Soubor prohlížeče a spuštění Aspnet\_regbrowsers.exe přidat požadované změny do sestavení.</span><span class="sxs-lookup"><span data-stu-id="0b90d-362">Because an application is not reading a .config file every time it requires browser information, you can create a new .BROWSER file and run Aspnet\_regbrowsers.exe to add the required changes to the assembly.</span></span> <span data-ttu-id="0b90d-363">To umožňuje serveru okamžitě přístup k nové informace o prohlížeči, není potřeba vypnout libovolnou z vašich aplikací, aby se získaly informace.</span><span class="sxs-lookup"><span data-stu-id="0b90d-363">This allows the server to access the new browser information immediately so you do not have to shut down any of your applications to pick up the information.</span></span> <span data-ttu-id="0b90d-364">Aplikace můžete přistupovat prostřednictvím prohlížeče vlastnost aktuální HttpRequest možnosti prohlížeče.</span><span class="sxs-lookup"><span data-stu-id="0b90d-364">An application can access browser capabilities through the Browser property of the current HttpRequest.</span></span>

<span data-ttu-id="0b90d-365">Tyto možnosti jsou k dispozici při spuštění aspnet\_regbrowser.exe:</span><span class="sxs-lookup"><span data-stu-id="0b90d-365">The following options are available when running aspnet\_regbrowser.exe:</span></span>

| <span data-ttu-id="0b90d-366">**Možnost**</span><span class="sxs-lookup"><span data-stu-id="0b90d-366">**Option**</span></span> | <span data-ttu-id="0b90d-367">**Popis**</span><span class="sxs-lookup"><span data-stu-id="0b90d-367">**Description**</span></span> |
| --- | --- |
| <span data-ttu-id="0b90d-368">**-?**</span><span class="sxs-lookup"><span data-stu-id="0b90d-368">**-?**</span></span> | <span data-ttu-id="0b90d-369">Zobrazí Aspnet\_regbbrowsers.exe text nápovědy v příkazovém okně.</span><span class="sxs-lookup"><span data-stu-id="0b90d-369">Displays the Aspnet\_regbbrowsers.exe Help text in the command window.</span></span> |
| <span data-ttu-id="0b90d-370">**-i**</span><span class="sxs-lookup"><span data-stu-id="0b90d-370">**-i**</span></span> | <span data-ttu-id="0b90d-371">Vytvoří sestavení možností prohlížeče modulu runtime a nainstaluje do globální mezipaměti sestavení.</span><span class="sxs-lookup"><span data-stu-id="0b90d-371">Creates the runtime browser capabilities assembly and installs it in the global assembly cache.</span></span> |
| <span data-ttu-id="0b90d-372">**-u**</span><span class="sxs-lookup"><span data-stu-id="0b90d-372">**-u**</span></span> | <span data-ttu-id="0b90d-373">Odinstaluje sestavení možností prohlížeče modulu runtime z globální mezipaměti sestavení.</span><span class="sxs-lookup"><span data-stu-id="0b90d-373">Uninstalls the runtime browser capabilities assembly from the global assembly cache.</span></span> |

## <a name="the-aspnet-compilation-tool---aspnetcompilerexe"></a><span data-ttu-id="0b90d-374">Nástroj kompilace ASP.NET – aspnet\_compiler.exe</span><span class="sxs-lookup"><span data-stu-id="0b90d-374">The ASP.NET Compilation Tool - aspnet\_compiler.exe</span></span>

<span data-ttu-id="0b90d-375">Nástroj ASP.NET kompilace lze použít dvěma způsoby: pro kompilaci v místě a kompilace pro nasazení, kde je zadán cílový adresář výstupu.</span><span class="sxs-lookup"><span data-stu-id="0b90d-375">The ASP.NET Compilation tool can be used in two general ways: for in-place compilation and compilation for deployment, where a target output directory is specified.</span></span>

### <a name="compiling-an-application-in-placehttpsmsdnmicrosoftcomlibraryms229863aspx"></a>[<span data-ttu-id="0b90d-376">Kompilace aplikace na místě</span><span class="sxs-lookup"><span data-stu-id="0b90d-376">Compiling an Application in Place</span></span>](https://msdn.microsoft.com/library/ms229863.aspx)

<span data-ttu-id="0b90d-377">Nástroj ASP.NET kompilace můžete zkompilovat aplikaci v místě, tedy napodobuje chování zasílání více požadavků na aplikaci, což způsobuje regulární kompilace.</span><span class="sxs-lookup"><span data-stu-id="0b90d-377">The ASP.NET Compilation tool can compile an application in place, that is, it mimics the behavior of making multiple requests to the application, thus causing regular compilation.</span></span> <span data-ttu-id="0b90d-378">Uživatelé předem kompilovaných lokality nebude docházet ke zpoždění způsobené kompilace stránky při prvním požadavku.</span><span class="sxs-lookup"><span data-stu-id="0b90d-378">Users of a pre-compiled site will not experience a delay caused by compiling the page on first request.</span></span>

<span data-ttu-id="0b90d-379">Při předkompilaci lokality na místě, platí následující položky:</span><span class="sxs-lookup"><span data-stu-id="0b90d-379">When you precompile a site in place, the following items apply:</span></span>

- <span data-ttu-id="0b90d-380">Web zachová své soubory a strukturu adresářů.</span><span class="sxs-lookup"><span data-stu-id="0b90d-380">The site retains its files and directory structure.</span></span>
- <span data-ttu-id="0b90d-381">Kompilátory pro všechny programovací jazyky používané na serveru lokality musí mít.</span><span class="sxs-lookup"><span data-stu-id="0b90d-381">You must have compilers for all programming languages used by the site on the server.</span></span>
- <span data-ttu-id="0b90d-382">Pokud jakýkoli soubor nepodaří kompilace, selže celá lokalita kompilace.</span><span class="sxs-lookup"><span data-stu-id="0b90d-382">If any file fails compilation, the entire site fails compilation.</span></span>

<span data-ttu-id="0b90d-383">Můžete také znovu zkompilovat aplikaci na místě po přidání nové zdrojové soubory k němu.</span><span class="sxs-lookup"><span data-stu-id="0b90d-383">You can also recompile an application in place after adding new source files to it.</span></span> <span data-ttu-id="0b90d-384">Nástroj zkompiluje jenom nové nebo změněné soubory, pokud zahrnete **- c** možnost.</span><span class="sxs-lookup"><span data-stu-id="0b90d-384">The tool compiles only the new or changed files unless you include the **-c** option.</span></span>

> [!NOTE]
> <span data-ttu-id="0b90d-385">Kompilace aplikace, která obsahuje vnořené aplikace nebude zkompilován vnořené aplikace.</span><span class="sxs-lookup"><span data-stu-id="0b90d-385">Compilation of an application that contains a nested application does not compile the nested application.</span></span> <span data-ttu-id="0b90d-386">Vnořené aplikace musí být kompilován samostatně.</span><span class="sxs-lookup"><span data-stu-id="0b90d-386">The nested application must be compiled separately.</span></span>


### <a name="compiling-an-application-for-deploymenthttpsmsdnmicrosoftcomlibraryms229863aspx"></a>[<span data-ttu-id="0b90d-387">Kompilace aplikace pro nasazení</span><span class="sxs-lookup"><span data-stu-id="0b90d-387">Compiling an Application for Deployment</span></span>](https://msdn.microsoft.com/library/ms229863.aspx)

<span data-ttu-id="0b90d-388">Zkompilovat aplikaci pro nasazení (kompilace do cílového umístění) tak, že zadáte parametr targetDir.</span><span class="sxs-lookup"><span data-stu-id="0b90d-388">You compile an application for deployment (compilation to a target location) by specifying the targetDir parameter.</span></span> <span data-ttu-id="0b90d-389">Parametr targetDir může být konečné umístění pro webovou aplikaci nebo kompilovanou aplikaci je možné nasadit další.</span><span class="sxs-lookup"><span data-stu-id="0b90d-389">The targetDir can be the final location for the Web application, or the compiled application can be further deployed.</span></span> <span data-ttu-id="0b90d-390">Použití **-u** možnost zkompiluje aplikaci tak, že můžete provádět změny určité soubory kompilované aplikace bez opětovné kompilace.</span><span class="sxs-lookup"><span data-stu-id="0b90d-390">Using the **-u** option compiles the application in such a way that you can make changes to certain files in the compiled application without recompiling it.</span></span> <span data-ttu-id="0b90d-391">ASPNET\_compiler.exe rozlišuje mezi typy souborů statické a dynamické a zpracovává je jiným způsobem, při vytváření výsledné aplikace.</span><span class="sxs-lookup"><span data-stu-id="0b90d-391">Aspnet\_compiler.exe makes a distinction between static and dynamic file types, and handles them differently when creating the resulting application.</span></span>

- <span data-ttu-id="0b90d-392">Statické typy souborů jsou ty, které nemají přidružený kompilátoru nebo poskytovatelem, například soubory, jejichž sestavení s názvem mít rozšíření, jako je například .css, GIF, htm, HTML, .jpg, JS a tak dále.</span><span class="sxs-lookup"><span data-stu-id="0b90d-392">Static file types are those that do not have an associated compiler or build provider, such as files whose named have extensions such as .css, .gif, .htm, .html, .jpg, .js and so on.</span></span> <span data-ttu-id="0b90d-393">Tyto soubory budou zkopírovány pouze do cílového umístění, jejich relativní umístění v adresářové struktuře je zachováno.</span><span class="sxs-lookup"><span data-stu-id="0b90d-393">These files are simply copied to the target location, with their relative places in the directory structure preserved.</span></span>
- <span data-ttu-id="0b90d-394">Dynamické typy souborů jsou ty, které jsou asociovány s kompilátorem nebo sestavení zprostředkovatele, včetně souborů s příponami názvů souborů specifické pro ASP.NET například asax, .ascx, .ashx, .aspx, Browser, .master a tak dále.</span><span class="sxs-lookup"><span data-stu-id="0b90d-394">Dynamic file types are those that have an associated compiler or build provider, including files with ASP.NET-specific file name extensions such as .asax, .ascx, .ashx, .aspx, .browser, .master, and so on.</span></span> <span data-ttu-id="0b90d-395">Nástroj pro kompilaci ASP.NET generuje sestavení z těchto souborů.</span><span class="sxs-lookup"><span data-stu-id="0b90d-395">The ASP.NET Compilation tool generates assemblies from these files.</span></span> <span data-ttu-id="0b90d-396">Pokud **-u** možnost vynecháte, nástroj také vytvoří soubory s příponou názvu souboru. ZKOMPILOVANÉ, které mapují původním zdrojovým souborům na jejich sestavení.</span><span class="sxs-lookup"><span data-stu-id="0b90d-396">If the **-u** option is omitted, the tool also creates files with the file name extension .COMPILED that map the original source files to their assembly.</span></span> <span data-ttu-id="0b90d-397">Pokud chcete mít jistotu, že se zachová strukturu adresářů ze zdroje aplikace, nástroj vygeneruje soubory zástupných symbolů v odpovídajících umístěních v cílové aplikaci.</span><span class="sxs-lookup"><span data-stu-id="0b90d-397">To ensure that the directory structure of the application source is preserved, the tool generates placeholder files in the corresponding locations in the target application.</span></span>

<span data-ttu-id="0b90d-398">Je nutné použít **-u** možnost k označení, že je možné upravit obsah kompilované aplikace.</span><span class="sxs-lookup"><span data-stu-id="0b90d-398">You must use the **-u** option to indicate that the content of the compiled application can be modified.</span></span> <span data-ttu-id="0b90d-399">Následné změny v opačném případě se ignorují nebo způsobit chyby za běhu.</span><span class="sxs-lookup"><span data-stu-id="0b90d-399">Otherwise, subsequent modifications are ignored or cause run-time errors.</span></span>

<span data-ttu-id="0b90d-400">Následující tabulka popisuje, jak kompilace technologie ASP.NET nástroj popisovače různé typy souborů, když **-u** je zadán parametr.</span><span class="sxs-lookup"><span data-stu-id="0b90d-400">The following table describes how the ASP.NET Compilation tool handles different file types when the **-u** option is included.</span></span>

| <span data-ttu-id="0b90d-401">**Typ souboru**</span><span class="sxs-lookup"><span data-stu-id="0b90d-401">**File type**</span></span> | <span data-ttu-id="0b90d-402">**Kompilátor akce**</span><span class="sxs-lookup"><span data-stu-id="0b90d-402">**Compiler action**</span></span> |
| --- | --- |
| <span data-ttu-id="0b90d-403">.ascx, .aspx, .master</span><span class="sxs-lookup"><span data-stu-id="0b90d-403">.ascx, .aspx, .master</span></span> | <span data-ttu-id="0b90d-404">Tyto soubory jsou rozděleny na kód a zdrojový kód, který obsahuje soubory kódu na pozadí a jakýkoli kód, který je uzavřen v &lt;skriptu runat = "server"&gt; elementy.</span><span class="sxs-lookup"><span data-stu-id="0b90d-404">These files are split into markup and source code, which includes both code-behind files and any code that is enclosed in &lt;script runat="server"&gt; elements.</span></span> <span data-ttu-id="0b90d-405">Zdrojový kód je zkompilován sestavení s názvy, které jsou odvozeny z algoritmu hash a sestavení jsou umístěny v adresáři Bin.</span><span class="sxs-lookup"><span data-stu-id="0b90d-405">Source code is compiled into assemblies, with names that are derived from a hashing algorithm, and the assemblies are placed in the Bin directory.</span></span> <span data-ttu-id="0b90d-406">Žádný vložený kód, který je, uzavřen mezi značkami kód **&lt; %** a **% &gt;** hranaté závorky, jsou zahrnuty v kódu a není zkompilován.</span><span class="sxs-lookup"><span data-stu-id="0b90d-406">Any inline code, that is, code enclosed between the **&lt;%** and **%&gt;** brackets, is included with markup and not compiled.</span></span> <span data-ttu-id="0b90d-407">Nové soubory se stejným názvem jako zdrojové soubory jsou vytvořeny tak, aby obsahovala kód a je umístěn v odpovídající výstupní adresáře.</span><span class="sxs-lookup"><span data-stu-id="0b90d-407">New files with the same name as the source files are created to contain the markup and placed in the corresponding output directories.</span></span> |
| <span data-ttu-id="0b90d-408">.ashx, .asmx</span><span class="sxs-lookup"><span data-stu-id="0b90d-408">.ashx, .asmx</span></span> | <span data-ttu-id="0b90d-409">Tyto soubory nejsou zkompilovány a jsou přesunuty do výstupních adresářů, jak jsou a ne zkompilován.</span><span class="sxs-lookup"><span data-stu-id="0b90d-409">These files are not compiled and are moved to the output directories as is and not compiled.</span></span> <span data-ttu-id="0b90d-410">Pokud chcete mít kód obslužné rutiny, které jsou kompilovány, umístěte kód do souborů zdrojového kódu v aplikaci\_adresář kódu.</span><span class="sxs-lookup"><span data-stu-id="0b90d-410">If you wish to have the handler code compiled, place the code into source code files in the App\_Code directory.</span></span> |
| <span data-ttu-id="0b90d-411">cs, VB, .jsl, .cpp (bez použití modelu code-behind souborů pro typy souborů uvedené výše)</span><span class="sxs-lookup"><span data-stu-id="0b90d-411">.cs, .vb, .jsl, .cpp (not including code-behind files for the file types listed earlier)</span></span> | <span data-ttu-id="0b90d-412">Tyto soubory jsou zkompilovány a zahrnutý jako prostředek v sestavení, která na ně odkazují.</span><span class="sxs-lookup"><span data-stu-id="0b90d-412">These files are compiled and included as a resource in assemblies that reference them.</span></span> <span data-ttu-id="0b90d-413">Zdrojové soubory nejsou zkopírovány do výstupního adresáře.</span><span class="sxs-lookup"><span data-stu-id="0b90d-413">Source files are not copied to the output directory.</span></span> <span data-ttu-id="0b90d-414">Pokud není soubor kódu odkazuje, není zkompilován.</span><span class="sxs-lookup"><span data-stu-id="0b90d-414">If a code file is not referenced, it is not compiled.</span></span> |
| <span data-ttu-id="0b90d-415">Vlastní typy souborů</span><span class="sxs-lookup"><span data-stu-id="0b90d-415">Custom file types</span></span> | <span data-ttu-id="0b90d-416">Tyto soubory nejsou zkompilovány.</span><span class="sxs-lookup"><span data-stu-id="0b90d-416">These files are not compiled.</span></span> <span data-ttu-id="0b90d-417">Tyto soubory se zkopírují do odpovídající výstupní adresáře.</span><span class="sxs-lookup"><span data-stu-id="0b90d-417">These files are copied to the corresponding output directories.</span></span> |
| <span data-ttu-id="0b90d-418">Souborů zdrojového kódu v aplikaci\_podadresář s kódem</span><span class="sxs-lookup"><span data-stu-id="0b90d-418">Source code files in the App\_Code subdirectory</span></span> | <span data-ttu-id="0b90d-419">Tyto soubory jsou zkompilovány do sestavení a umístěn v adresáři Bin.</span><span class="sxs-lookup"><span data-stu-id="0b90d-419">These files are compiled into assemblies and placed in the Bin directory.</span></span> |
| <span data-ttu-id="0b90d-420">soubory RESX a Resource v aplikaci\_GlobalResources podadresáře</span><span class="sxs-lookup"><span data-stu-id="0b90d-420">.resx and .resource files in the App\_GlobalResources subdirectory</span></span> | <span data-ttu-id="0b90d-421">Tyto soubory jsou zkompilovány do sestavení a umístěn v adresáři Bin.</span><span class="sxs-lookup"><span data-stu-id="0b90d-421">These files are compiled into assemblies and placed in the Bin directory.</span></span> <span data-ttu-id="0b90d-422">Žádná aplikace\_GlobalResources podadresáře se vytvoří v rámci hlavního výstupního adresáře a žádné soubory .resx nebo .resources nachází ve zdrojovém adresáři jsou zkopírovány do výstupního adresáře.</span><span class="sxs-lookup"><span data-stu-id="0b90d-422">No App\_GlobalResources subdirectory is created under the main output directory, and no .resx or .resources files located in the source directory are copied to the output directories.</span></span> |
| <span data-ttu-id="0b90d-423">soubory RESX a Resource v aplikaci\_LocalResources podadresáře</span><span class="sxs-lookup"><span data-stu-id="0b90d-423">.resx and .resource files in the App\_LocalResources subdirectory</span></span> | <span data-ttu-id="0b90d-424">Tyto soubory nejsou zkompilovány a zkopírují do odpovídající výstupní adresáře.</span><span class="sxs-lookup"><span data-stu-id="0b90d-424">These files are not compiled and are copied to the corresponding output directories.</span></span> |
| <span data-ttu-id="0b90d-425">soubory SKIN v aplikaci\_podadresář motivy</span><span class="sxs-lookup"><span data-stu-id="0b90d-425">.skin files in the App\_Themes subdirectory</span></span> | <span data-ttu-id="0b90d-426">Skin soubory a statické soubory motivů nejsou zkompilovány a zkopírují do odpovídající výstupní adresáře.</span><span class="sxs-lookup"><span data-stu-id="0b90d-426">The .skin files and static theme files are not compiled and are copied to the corresponding output directories.</span></span> |
| <span data-ttu-id="0b90d-427">Browser soubor Web.config statické typy sestavení, které jsou již v adresáři Bin</span><span class="sxs-lookup"><span data-stu-id="0b90d-427">.browser Web.config Static file types Assemblies already present in the Bin directory</span></span> | <span data-ttu-id="0b90d-428">Tyto soubory se zkopírují jako výstupní adresáře.</span><span class="sxs-lookup"><span data-stu-id="0b90d-428">These files are copied as is to the output directories.</span></span> |

<span data-ttu-id="0b90d-429">Následující tabulka popisuje, jak kompilace technologie ASP.NET nástroj popisovače různé typy souborů, když **-u** není zadán parametr.</span><span class="sxs-lookup"><span data-stu-id="0b90d-429">The following table describes how the ASP.NET Compilation tool handles different file types when the **-u** option is omitted.</span></span>

| <span data-ttu-id="0b90d-430">**Typ souboru**</span><span class="sxs-lookup"><span data-stu-id="0b90d-430">**File type**</span></span> | <span data-ttu-id="0b90d-431">**Kompilátor akce**</span><span class="sxs-lookup"><span data-stu-id="0b90d-431">**Compiler action**</span></span> |
| --- | --- |
| <span data-ttu-id="0b90d-432">.aspx, .asmx, .ashx, .master</span><span class="sxs-lookup"><span data-stu-id="0b90d-432">.aspx, .asmx, .ashx, .master</span></span> | <span data-ttu-id="0b90d-433">Tyto soubory jsou rozděleny na kód a zdrojový kód, který obsahuje soubory kódu na pozadí a jakýkoli kód, který je uzavřen v &lt;skriptu runat = "server"&gt; elementy.</span><span class="sxs-lookup"><span data-stu-id="0b90d-433">These files are split into markup and source code, which includes both code-behind files and any code that is enclosed in &lt;script runat="server"&gt; elements.</span></span> <span data-ttu-id="0b90d-434">Zdrojový kód je zkompilován sestavení s názvy, které jsou odvozeny z algoritmu hash.</span><span class="sxs-lookup"><span data-stu-id="0b90d-434">Source code is compiled into assemblies, with names that are derived from a hashing algorithm.</span></span> <span data-ttu-id="0b90d-435">Výsledné sestavení se umístí do adresáře Bin.</span><span class="sxs-lookup"><span data-stu-id="0b90d-435">The resulting assemblies are placed in the Bin directory.</span></span> <span data-ttu-id="0b90d-436">Žádný vložený kód, který je, uzavřen mezi značkami kód **&lt; %** a **% &gt;** hranaté závorky, jsou zahrnuty v kódu a není zkompilován.</span><span class="sxs-lookup"><span data-stu-id="0b90d-436">Any inline code, that is, code enclosed between the **&lt;%** and **%&gt;** brackets, is included with markup and not compiled.</span></span> <span data-ttu-id="0b90d-437">Kompilátor vytvoří nové soubory tak, aby obsahovala kód se stejným názvem jako zdrojové soubory.</span><span class="sxs-lookup"><span data-stu-id="0b90d-437">The compiler creates new files to contain the markup with the same name as the source files.</span></span> <span data-ttu-id="0b90d-438">Tyto výsledné soubory jsou umístěny v adresáři Bin.</span><span class="sxs-lookup"><span data-stu-id="0b90d-438">These resulting files are placed in the Bin directory.</span></span> <span data-ttu-id="0b90d-439">Kompilátor vytvoří také soubory se stejným názvem jako zdrojové soubory, ale s příponou. ZKOMPILOVANÉ, které obsahují informace o mapování.</span><span class="sxs-lookup"><span data-stu-id="0b90d-439">The compiler also creates files with the same name as the source files but with the extension .COMPILED that contain mapping information.</span></span> <span data-ttu-id="0b90d-440">Na. ZKOMPILOVANÉ soubory jsou umístěny ve výstupní adresáře odpovídá původní umístění zdrojových souborů.</span><span class="sxs-lookup"><span data-stu-id="0b90d-440">The .COMPILED files are placed in the output directories corresponding to the original location of the source files.</span></span> |
| <span data-ttu-id="0b90d-441">.ascx</span><span class="sxs-lookup"><span data-stu-id="0b90d-441">.ascx</span></span> | <span data-ttu-id="0b90d-442">Tyto soubory jsou rozděleny na kód a zdrojový kód.</span><span class="sxs-lookup"><span data-stu-id="0b90d-442">These files are split into markup and source code.</span></span> <span data-ttu-id="0b90d-443">Zdrojový kód je zkompilován sestavení a umístěn v adresáři Bin, s názvy, které jsou odvozeny z algoritmu hash.</span><span class="sxs-lookup"><span data-stu-id="0b90d-443">Source code is compiled into assemblies and placed in the Bin directory, with names that are derived from a hashing algorithm.</span></span> <span data-ttu-id="0b90d-444">Žádné značky soubory jsou vygenerovány.</span><span class="sxs-lookup"><span data-stu-id="0b90d-444">No markup files are generated.</span></span> |
| <span data-ttu-id="0b90d-445">cs, VB, .jsl, .cpp (bez použití modelu code-behind souborů pro typy souborů uvedené výše)</span><span class="sxs-lookup"><span data-stu-id="0b90d-445">.cs, .vb, .jsl, .cpp (not including code-behind files for the file types listed earlier)</span></span> | <span data-ttu-id="0b90d-446">Zdrojový kód, který se odkazuje sestavení generována z .ascx, .ashx nebo soubory .aspx je zkompilovat do sestavení a umístěn v adresáři Bin.</span><span class="sxs-lookup"><span data-stu-id="0b90d-446">Source code that is referenced by the assemblies generated from .ascx, .ashx, or .aspx files is compiled into assemblies and placed in the Bin directory.</span></span> <span data-ttu-id="0b90d-447">Nejsou zkopírovány žádné zdrojové soubory.</span><span class="sxs-lookup"><span data-stu-id="0b90d-447">No source files are copied.</span></span> |
| <span data-ttu-id="0b90d-448">Vlastní typy souborů</span><span class="sxs-lookup"><span data-stu-id="0b90d-448">Custom file types</span></span> | <span data-ttu-id="0b90d-449">Tyto soubory jsou kompilovány jako dynamické soubory.</span><span class="sxs-lookup"><span data-stu-id="0b90d-449">These files are compiled like dynamic files.</span></span> <span data-ttu-id="0b90d-450">V závislosti na typu souboru, které jsou založeny na kompilátor mapování soubory umístit do výstupního adresáře.</span><span class="sxs-lookup"><span data-stu-id="0b90d-450">Depending on the type of file they are based on, the compiler can place mapping files in the output directories.</span></span> |
| <span data-ttu-id="0b90d-451">Soubory v aplikaci\_podadresář s kódem</span><span class="sxs-lookup"><span data-stu-id="0b90d-451">Files in the App\_Code subdirectory</span></span> | <span data-ttu-id="0b90d-452">Soubory zdrojového kódu v tomto podadresáři jsou zkompilovány do sestavení a umístěn v adresáři Bin.</span><span class="sxs-lookup"><span data-stu-id="0b90d-452">Source code files in this subdirectory are compiled into assemblies and placed in the Bin directory.</span></span> |
| <span data-ttu-id="0b90d-453">Soubory v aplikaci\_GlobalResources podadresáře</span><span class="sxs-lookup"><span data-stu-id="0b90d-453">Files in the App\_GlobalResources subdirectory</span></span> | <span data-ttu-id="0b90d-454">Tyto soubory jsou zkompilovány do sestavení a umístěn v adresáři Bin.</span><span class="sxs-lookup"><span data-stu-id="0b90d-454">These files are compiled into assemblies and placed in the Bin directory.</span></span> <span data-ttu-id="0b90d-455">Žádná aplikace\_GlobalResources podadresáře se vytvoří v rámci hlavního výstupního adresáře.</span><span class="sxs-lookup"><span data-stu-id="0b90d-455">No App\_GlobalResources subdirectory is created under the main output directory.</span></span> <span data-ttu-id="0b90d-456">Pokud konfigurační soubor má appliesTo = "All", soubory RESX a .resources jsou zkopírovány do výstupního adresáře.</span><span class="sxs-lookup"><span data-stu-id="0b90d-456">If the configuration file specifies appliesTo="All", .resx and .resources files are copied to the output directories.</span></span> <span data-ttu-id="0b90d-457">Pokud je odkazováno dle nejsou zkopírovány [zprostředkovatele BuildProvider](https://msdn.microsoft.com/library/system.web.configuration.buildprovider.aspx).</span><span class="sxs-lookup"><span data-stu-id="0b90d-457">They are not copied if they are referenced by a [BuildProvider](https://msdn.microsoft.com/library/system.web.configuration.buildprovider.aspx).</span></span> |
| <span data-ttu-id="0b90d-458">soubory RESX a Resource v aplikaci\_LocalResources podadresáře</span><span class="sxs-lookup"><span data-stu-id="0b90d-458">.resx and .resource files in the App\_LocalResources subdirectory</span></span> | <span data-ttu-id="0b90d-459">Tyto soubory jsou zkompilovány do sestavení s jedinečnými názvy a umístit do adresáře Bin.</span><span class="sxs-lookup"><span data-stu-id="0b90d-459">These files are compiled into assemblies with unique names and placed in the Bin directory.</span></span> <span data-ttu-id="0b90d-460">Žádné soubory RESX a Resource jsou zkopírovány do výstupního adresáře.</span><span class="sxs-lookup"><span data-stu-id="0b90d-460">No .resx or .resource files are copied to the output directories.</span></span> |
| <span data-ttu-id="0b90d-461">soubory SKIN v aplikaci\_podadresář motivy</span><span class="sxs-lookup"><span data-stu-id="0b90d-461">.skin files in the App\_Themes subdirectory</span></span> | <span data-ttu-id="0b90d-462">Motivy jsou zkompilovány do sestavení a umístěn v adresáři Bin.</span><span class="sxs-lookup"><span data-stu-id="0b90d-462">Themes are compiled into assemblies and placed in the Bin directory.</span></span> <span data-ttu-id="0b90d-463">Soubory zástupných procedur jsou vytvořené pro soubory skin a umístěné v odpovídající výstupní adresář.</span><span class="sxs-lookup"><span data-stu-id="0b90d-463">Stub files are created for .skin files and placed in the corresponding output directory.</span></span> <span data-ttu-id="0b90d-464">Statické soubory (například .css) jsou zkopírovány do výstupního adresáře.</span><span class="sxs-lookup"><span data-stu-id="0b90d-464">Static files (such as .css) are copied to the output directories.</span></span> |
| <span data-ttu-id="0b90d-465">Browser soubor Web.config statické typy sestavení, které jsou již v adresáři Bin</span><span class="sxs-lookup"><span data-stu-id="0b90d-465">.browser Web.config Static file types Assemblies already present in the Bin directory</span></span> | <span data-ttu-id="0b90d-466">Tyto soubory se zkopírují, jako je do výstupního adresáře.</span><span class="sxs-lookup"><span data-stu-id="0b90d-466">These files are copied as is to the output directory.</span></span> |

### <a name="fixed-assembly-nameshttpsmsdnmicrosoftcomlibraryms229863aspx"></a>[<span data-ttu-id="0b90d-467">Názvy sestavení s pevnými</span><span class="sxs-lookup"><span data-stu-id="0b90d-467">Fixed Assembly Names</span></span>](https://msdn.microsoft.com/library/ms229863.aspx##)

<span data-ttu-id="0b90d-468">Některé scénáře, jako je nasazení webové aplikace s využitím MSI Instalační služby Windows, vyžadují použití konzistentní názvy a obsah, jakož i konzistentní adresářovou strukturu pro identifikaci sestavení nebo konfigurace nastavení pro aktualizace.</span><span class="sxs-lookup"><span data-stu-id="0b90d-468">Some scenarios, such as deploying a Web application using the MSI Windows Installer, require the use of consistent file names and contents, as well as consistent directory structures to identify assemblies or configuration settings for updates.</span></span> <span data-ttu-id="0b90d-469">V takových případech můžete použít **- fixednames** možnost určit, že by měl nástroj kompilace technologie ASP.NET kompilovat sestavení pro každý zdrojový soubor namísto použití where více stránek kompilovány do sestavení.</span><span class="sxs-lookup"><span data-stu-id="0b90d-469">In those cases, you can use the **-fixednames** option to specify that the ASP.NET Compilation tool should compile an assembly for each source file instead of using the where multiple pages are compiled into assemblies.</span></span> <span data-ttu-id="0b90d-470">To může vést k velký počet sestavení, takže pokud jste obeznámeni s škálovatelnost můžete tuto možnost používejte opatrně.</span><span class="sxs-lookup"><span data-stu-id="0b90d-470">This can lead to a large number of assemblies, so if you are concerned with scalability you should use this option with caution.</span></span>

### <a name="strong-name-compilationhttpsmsdnmicrosoftcomlibraryms229863aspx"></a>[<span data-ttu-id="0b90d-471">Kompilace silného názvu</span><span class="sxs-lookup"><span data-stu-id="0b90d-471">Strong-Name Compilation</span></span>](https://msdn.microsoft.com/library/ms229863.aspx##)

<span data-ttu-id="0b90d-472">**- Aptca**, **- delaysign**, **- keycontainer** a **- keyfile** možnosti jsou k dispozici tak, aby vám Aspnet\_ Compiler.exe vytvoření silně pojmenované sestavení bez použití [nástroj Strong Name (Sn.exe)](https://msdn.microsoft.com/library/k5b5tt23.aspx) samostatně.</span><span class="sxs-lookup"><span data-stu-id="0b90d-472">The **-aptca**, **-delaysign**, **-keycontainer** and **-keyfile** options are provided so that you can use Aspnet\_compiler.exe to create strongly named assemblies without using the [Strong Name Tool (Sn.exe)](https://msdn.microsoft.com/library/k5b5tt23.aspx) separately.</span></span> <span data-ttu-id="0b90d-473">Tyto parametry odpovídají na **AllowPartiallyTrustedCallersAttribute**, **AssemblyDelaySignAttribute**, **AssemblyKeyNameAttribute**a  **AssemblyKeyFileAttribute**.</span><span class="sxs-lookup"><span data-stu-id="0b90d-473">These options correspond, respectively, to **AllowPartiallyTrustedCallersAttribute**, **AssemblyDelaySignAttribute**, **AssemblyKeyNameAttribute**, and **AssemblyKeyFileAttribute**.</span></span>

<span data-ttu-id="0b90d-474">Informace o těchto atributů je mimo rozsah tohoto kurzu.</span><span class="sxs-lookup"><span data-stu-id="0b90d-474">Discussion of these attributes is outside of the scope of this course.</span></span>

## <a name="labs"></a><span data-ttu-id="0b90d-475">Praktická cvičení</span><span class="sxs-lookup"><span data-stu-id="0b90d-475">Labs</span></span>

<span data-ttu-id="0b90d-476">Každý z následujících labs navazuje na předchozí labs.</span><span class="sxs-lookup"><span data-stu-id="0b90d-476">Each of the following labs builds on the previous labs.</span></span> <span data-ttu-id="0b90d-477">Je potřeba provést v pořadí.</span><span class="sxs-lookup"><span data-stu-id="0b90d-477">You will need to do them in order.</span></span>

## <a name="lab-1-using-the-configuration-api"></a><span data-ttu-id="0b90d-478">Lab 1: Pomocí rozhraní API konfigurace</span><span class="sxs-lookup"><span data-stu-id="0b90d-478">Lab 1: Using the Configuration API</span></span>

1. <span data-ttu-id="0b90d-479">Vytvořit nový web volá *mod9lab*.</span><span class="sxs-lookup"><span data-stu-id="0b90d-479">Create a new Web site called *mod9lab*.</span></span>
2. <span data-ttu-id="0b90d-480">Přidáte nový soubor webové konfigurace do lokality.</span><span class="sxs-lookup"><span data-stu-id="0b90d-480">Add a new Web Configuration File to the site.</span></span>
3. <span data-ttu-id="0b90d-481">V souboru web.config přidejte následující:</span><span class="sxs-lookup"><span data-stu-id="0b90d-481">Add the following to the web.config file:</span></span>


[!code-xml[Main](configuration-and-instrumentation/samples/sample14.xml)]

<span data-ttu-id="0b90d-482">Tím se zajistí, že máte oprávnění ukládat změny v souboru web.config.</span><span class="sxs-lookup"><span data-stu-id="0b90d-482">This will ensure that you have permission to save changes to the web.config file.</span></span>

1. <span data-ttu-id="0b90d-483">Přidání nového ovládacího prvku popisku na Default.aspx a změnit ID **lblDebugStatus**.</span><span class="sxs-lookup"><span data-stu-id="0b90d-483">Add a new Label control to Default.aspx and change the ID to **lblDebugStatus**.</span></span>
2. <span data-ttu-id="0b90d-484">Přidáte nový ovládací prvek tlačítko na Default.aspx.</span><span class="sxs-lookup"><span data-stu-id="0b90d-484">Add a new Button control to Default.aspx.</span></span>
3. <span data-ttu-id="0b90d-485">Změnit ID ovládacího prvku Button **btnToggleDebug** a Text, který má **změnit stav ladění**.</span><span class="sxs-lookup"><span data-stu-id="0b90d-485">Change the Button control's ID to **btnToggleDebug** and the Text to **Toggle Debug Status**.</span></span>
4. <span data-ttu-id="0b90d-486">Otevřete zobrazení kódu pro použití modelu code-behind soubor Default.aspx a přidejte **pomocí** příkaz pro **System.Web.Configuration** následujícím způsobem:</span><span class="sxs-lookup"><span data-stu-id="0b90d-486">Open the Code View for the code-behind file of Default.aspx and add a **using** statement for **System.Web.Configuration** as follows:</span></span>


[!code-csharp[Main](configuration-and-instrumentation/samples/sample15.cs)]

1. <span data-ttu-id="0b90d-487">Přidejte dvě soukromé proměnné třídy a na stránce\_metody Init, jak je znázorněno níže:</span><span class="sxs-lookup"><span data-stu-id="0b90d-487">Add two private variables to the class and a Page\_Init method as shown below:</span></span>


[!code-csharp[Main](configuration-and-instrumentation/samples/sample16.cs)]

1. <span data-ttu-id="0b90d-488">Přidejte následující kód na stránku\_zatížení:</span><span class="sxs-lookup"><span data-stu-id="0b90d-488">Add the following code to Page\_Load:</span></span>


[!code-csharp[Main](configuration-and-instrumentation/samples/sample17.cs)]

1. <span data-ttu-id="0b90d-489">Uložit a procházet default.aspx.</span><span class="sxs-lookup"><span data-stu-id="0b90d-489">Save and browse default.aspx.</span></span> <span data-ttu-id="0b90d-490">Všimněte si, že ovládací prvek Label zobrazí aktuální stav ladění.</span><span class="sxs-lookup"><span data-stu-id="0b90d-490">Notice that the Label control displays the current debug status.</span></span>
2. <span data-ttu-id="0b90d-491">Dvakrát klikněte na ovládací prvek tlačítko v návrháři a přidejte následující kód pro událost Click pro ovládací prvek tlačítka:</span><span class="sxs-lookup"><span data-stu-id="0b90d-491">Double-click on the Button control in the designer and add the following code to the Click event for the Button control:</span></span>


[!code-csharp[Main](configuration-and-instrumentation/samples/sample18.cs)]

1. <span data-ttu-id="0b90d-492">Uložit a procházet default.aspx a klikněte na tlačítko.</span><span class="sxs-lookup"><span data-stu-id="0b90d-492">Save and browse default.aspx and click the button.</span></span>
2. <span data-ttu-id="0b90d-493">Otevřete soubor web.config po každé tlačítko klikněte na tlačítko a podívejte se **ladění** atribut &lt;kompilace&gt; oddílu.</span><span class="sxs-lookup"><span data-stu-id="0b90d-493">Open the web.config file after each button click and observe the **debug** attribute in the &lt;compilation&gt; section.</span></span>

## <a name="lab-2-logging-application-restarts"></a><span data-ttu-id="0b90d-494">Lab 2: Protokolování restartování aplikace</span><span class="sxs-lookup"><span data-stu-id="0b90d-494">Lab 2: Logging Application Restarts</span></span>

<span data-ttu-id="0b90d-495">V tomto testovacím prostředí vytvoří kód, který vám umožní zapínat protokolování vypnutí aplikace, Start-upů a předkompilací v prohlížeči událostí.</span><span class="sxs-lookup"><span data-stu-id="0b90d-495">In this lab, you will create code that will allow you to toggle the logging of application shutdowns, startups, and recompilations in the Event Viewer.</span></span>

1. <span data-ttu-id="0b90d-496">Přidat DropDownList default.aspx a změňte ID ddlLogAppEvents.</span><span class="sxs-lookup"><span data-stu-id="0b90d-496">Add a DropDownList to default.aspx and change the ID to ddlLogAppEvents.</span></span>
2. <span data-ttu-id="0b90d-497">Nastavte **AutoPostBack** vlastnost DropDownList k **true**.</span><span class="sxs-lookup"><span data-stu-id="0b90d-497">Set the **AutoPostBack** property for the DropDownList to **true**.</span></span>
3. <span data-ttu-id="0b90d-498">Přidejte tři položky do kolekce položek pro DropDownList.</span><span class="sxs-lookup"><span data-stu-id="0b90d-498">Add three items to the Items collection for the DropDownList.</span></span> <span data-ttu-id="0b90d-499">Ujistěte se, **Text** první položky *Select Value* a hodnota -1.</span><span class="sxs-lookup"><span data-stu-id="0b90d-499">Make the **Text** for the first item *Select Value* and the value -1.</span></span> <span data-ttu-id="0b90d-500">Ujistěte se, **Text** a **hodnotu** druhé položky **True** a **Text** a **hodnotu** třetí položky **False**.</span><span class="sxs-lookup"><span data-stu-id="0b90d-500">Make the **Text** and **Value** of the second item **True** and the **Text** and **Value** of the third item **False**.</span></span>
4. <span data-ttu-id="0b90d-501">Přidáte nový popisek na stránku default.aspx.</span><span class="sxs-lookup"><span data-stu-id="0b90d-501">Add a new Label to default.aspx.</span></span> <span data-ttu-id="0b90d-502">ID se má změnit **lblLogAppEvents**.</span><span class="sxs-lookup"><span data-stu-id="0b90d-502">Change the ID to **lblLogAppEvents**.</span></span>
5. <span data-ttu-id="0b90d-503">Otevřete zobrazení použití modelu code-behind default.aspx a přidejte novou deklaraci proměnné typu HealthMonitoringSection, jak je znázorněno níže:</span><span class="sxs-lookup"><span data-stu-id="0b90d-503">Open the code-behind view for default.aspx and add a new declaration for a variable of type HealthMonitoringSection as shown below:</span></span>


[!code-csharp[Main](configuration-and-instrumentation/samples/sample19.cs)]

1. <span data-ttu-id="0b90d-504">Přidejte následující kód do existující kód ve třídě stránky\_Init:</span><span class="sxs-lookup"><span data-stu-id="0b90d-504">Add the following code to the existing code in Page\_Init:</span></span>


[!code-csharp[Main](configuration-and-instrumentation/samples/sample20.cs)]

1. <span data-ttu-id="0b90d-505">Dvakrát klikněte na DropDownList a událost SelectedIndexChanged. přidejte následující kód:</span><span class="sxs-lookup"><span data-stu-id="0b90d-505">Double-click on the DropDownList and add the following code to the SelectedIndexChanged event:</span></span>


[!code-csharp[Main](configuration-and-instrumentation/samples/sample21.cs)]

1. <span data-ttu-id="0b90d-506">Procházejte default.aspx.</span><span class="sxs-lookup"><span data-stu-id="0b90d-506">Browse default.aspx.</span></span>
2. <span data-ttu-id="0b90d-507">Nastavte rozevírací seznam na **False**.</span><span class="sxs-lookup"><span data-stu-id="0b90d-507">Set the dropdown to **False**.</span></span>
3. <span data-ttu-id="0b90d-508">Vymažte protokol aplikace v prohlížeči událostí.</span><span class="sxs-lookup"><span data-stu-id="0b90d-508">Clear the Application log in the Event Viewer.</span></span>
4. <span data-ttu-id="0b90d-509">Klikněte na tlačítko změnit atribut ladění pro aplikace.</span><span class="sxs-lookup"><span data-stu-id="0b90d-509">Click the button to change the Debug attribute for the application.</span></span>
5. <span data-ttu-id="0b90d-510">Aktualizujte protokol aplikací v prohlížeči událostí.</span><span class="sxs-lookup"><span data-stu-id="0b90d-510">Refresh the Application log in the Event Viewer.</span></span> 

    1. <span data-ttu-id="0b90d-511">Byly zaznamenány žádné události?</span><span class="sxs-lookup"><span data-stu-id="0b90d-511">Were any events logged?</span></span>
    2. <span data-ttu-id="0b90d-512">Proč nebo proč ne?</span><span class="sxs-lookup"><span data-stu-id="0b90d-512">Why or why not?</span></span>
6. <span data-ttu-id="0b90d-513">Nastavte rozevírací seznam na **hodnotu True.**</span><span class="sxs-lookup"><span data-stu-id="0b90d-513">Set the dropdown to **True.**</span></span>
7. <span data-ttu-id="0b90d-514">Klikněte na tlačítko k přepnutí atribut ladění pro aplikace.</span><span class="sxs-lookup"><span data-stu-id="0b90d-514">Click the button to toggle the Debug attribute for the application.</span></span>
8. <span data-ttu-id="0b90d-515">Aktualizujte aplikaci přihlášení v prohlížeči událostí.</span><span class="sxs-lookup"><span data-stu-id="0b90d-515">Refresh the Application login the Event Viewer.</span></span> 

    1. <span data-ttu-id="0b90d-516">Byly zaznamenány žádné události?</span><span class="sxs-lookup"><span data-stu-id="0b90d-516">Were any events logged?</span></span>
    2. <span data-ttu-id="0b90d-517">Jak se z důvodu vypnutí aplikace?</span><span class="sxs-lookup"><span data-stu-id="0b90d-517">What was the reason for the app shutdown?</span></span>
9. <span data-ttu-id="0b90d-518">Experimentujte s zapnutí a vypnutí protokolování a podívejte se na změny provedené v souboru web.config.</span><span class="sxs-lookup"><span data-stu-id="0b90d-518">Experiment with turning on and off logging and look at the changes made to the web.config file.</span></span>

## <a name="more-information"></a><span data-ttu-id="0b90d-519">Další informace:</span><span class="sxs-lookup"><span data-stu-id="0b90d-519">More Information:</span></span>

<span data-ttu-id="0b90d-520">ASP.NET 2.0 na model poskytovatele umožňuje vytvořit vaše vlastní zprostředkovatele pro nejen instrumentace aplikací, ale pro mnoho jiné účely stejně jako je členství, profily atd. Podrobné informace o psaní vlastního zprostředkovatele pro protokolování událostí, které aplikace do textového souboru, navštivte [tento odkaz](https://msdn.microsoft.com/library/default.asp?url=/library/dnaspp/html/ASPNETProvMod_Prt6.asp).</span><span class="sxs-lookup"><span data-stu-id="0b90d-520">ASP.NET 2.0's Provider model allows you to create your own providers for not only application instrumentation, but for many other uses as well such as Membership, Profiles, etc. For detailed information on writing a custom provider to log application events to a text file, visit [this link](https://msdn.microsoft.com/library/default.asp?url=/library/dnaspp/html/ASPNETProvMod_Prt6.asp).</span></span>
