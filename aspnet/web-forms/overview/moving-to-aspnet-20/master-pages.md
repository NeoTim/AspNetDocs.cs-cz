---
uid: web-forms/overview/moving-to-aspnet-20/master-pages
title: Stránky předlohy | Microsoft Docs
author: microsoft
description: Jedna z klíčových součástí úspěšného webu je konzistentní vzhled a chování. V ASP.NET 1. x vývojáři používali uživatelské ovládací prvky pro replikaci běžné stránky elem...
ms.author: riande
ms.date: 02/20/2005
ms.assetid: 9c0cce4d-efd9-4c14-b0e8-a1a140abb3f4
msc.legacyurl: /web-forms/overview/moving-to-aspnet-20/master-pages
msc.type: authoredcontent
ms.openlocfilehash: 36f2caf7c2c9bcafd22c8f6681c1d6b19fe5078a
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 03/06/2020
ms.locfileid: "78567331"
---
# <a name="master-pages"></a><span data-ttu-id="65206-104">Stránky předlohy</span><span class="sxs-lookup"><span data-stu-id="65206-104">Master Pages</span></span>

<span data-ttu-id="65206-105">od [Microsoftu](https://github.com/microsoft)</span><span class="sxs-lookup"><span data-stu-id="65206-105">by [Microsoft](https://github.com/microsoft)</span></span>

> <span data-ttu-id="65206-106">Jedna z klíčových součástí úspěšného webu je konzistentní vzhled a chování.</span><span class="sxs-lookup"><span data-stu-id="65206-106">One of the key components to a successful Web site is a consistent look and feel.</span></span> <span data-ttu-id="65206-107">V ASP.NET 1. x vývojáři používali uživatelské ovládací prvky pro replikaci běžných prvků stránky napříč webovou aplikací.</span><span class="sxs-lookup"><span data-stu-id="65206-107">In ASP.NET 1.x, developers used user controls to replicate common page elements across a Web application.</span></span> <span data-ttu-id="65206-108">I když je to určitě funkční, používá uživatelské ovládací prvky nějaké nevýhody.</span><span class="sxs-lookup"><span data-stu-id="65206-108">While that is certainly a workable solution, using user controls does have some drawbacks.</span></span> <span data-ttu-id="65206-109">Například změna pozice uživatelského ovládacího prvku vyžaduje změnu na více stránkách v rámci lokality.</span><span class="sxs-lookup"><span data-stu-id="65206-109">For example, a change in position of a user control requires a change to multiple pages across a site.</span></span> <span data-ttu-id="65206-110">Uživatelské ovládací prvky nejsou vykreslovány v zobrazení Návrh po vložení na stránku.</span><span class="sxs-lookup"><span data-stu-id="65206-110">User controls are also not rendered in Design view after being inserted on a page.</span></span>

<span data-ttu-id="65206-111">Jedna z klíčových součástí úspěšného webu je konzistentní vzhled a chování.</span><span class="sxs-lookup"><span data-stu-id="65206-111">One of the key components to a successful Web site is a consistent look and feel.</span></span> <span data-ttu-id="65206-112">V ASP.NET 1. x vývojáři používali uživatelské ovládací prvky pro replikaci běžných prvků stránky napříč webovou aplikací.</span><span class="sxs-lookup"><span data-stu-id="65206-112">In ASP.NET 1.x, developers used user controls to replicate common page elements across a Web application.</span></span> <span data-ttu-id="65206-113">I když je to určitě funkční, používá uživatelské ovládací prvky nějaké nevýhody.</span><span class="sxs-lookup"><span data-stu-id="65206-113">While that is certainly a workable solution, using user controls does have some drawbacks.</span></span> <span data-ttu-id="65206-114">Například změna pozice uživatelského ovládacího prvku vyžaduje změnu na více stránkách v rámci lokality.</span><span class="sxs-lookup"><span data-stu-id="65206-114">For example, a change in position of a user control requires a change to multiple pages across a site.</span></span> <span data-ttu-id="65206-115">Uživatelské ovládací prvky nejsou vykreslovány v zobrazení Návrh po vložení na stránku.</span><span class="sxs-lookup"><span data-stu-id="65206-115">User controls are also not rendered in Design view after being inserted on a page.</span></span>

<span data-ttu-id="65206-116">ASP.NET 2,0 zavádí stránky předlohy jako způsob zachování konzistentního vzhledu a chování, jak budete brzy vidět, stránky předlohy představují významné vylepšení nad metodou uživatelského ovládacího prvku.</span><span class="sxs-lookup"><span data-stu-id="65206-116">ASP.NET 2.0 introduces Master pages as a way of maintaining a consistent look and feel, and as you'll soon see, Master pages represent a significant improvement over the user control method.</span></span>

## <a name="why-master-pages"></a><span data-ttu-id="65206-117">Proč stránky předlohy?</span><span class="sxs-lookup"><span data-stu-id="65206-117">Why Master Pages?</span></span>

<span data-ttu-id="65206-118">Možná vás zajímá, proč byly stránky předlohy potřeba v ASP.NET 2,0.</span><span class="sxs-lookup"><span data-stu-id="65206-118">You may be wondering why master pages were needed in ASP.NET 2.0.</span></span> <span data-ttu-id="65206-119">Po všech webech již vývojáři webů používají uživatelské ovládací prvky v ASP.NET 1. x ke sdílení oblastí obsahu mezi stránkami.</span><span class="sxs-lookup"><span data-stu-id="65206-119">After all, Web site developers are already using user controls in ASP.NET 1.x to share content areas between pages.</span></span> <span data-ttu-id="65206-120">Existuje několik důvodů, proč jsou uživatelské ovládací prvky řešením pro vytváření společného rozložení méně než optimální.</span><span class="sxs-lookup"><span data-stu-id="65206-120">There are actually several reasons why user controls are a less-than-optimal solution for creating a common layout.</span></span>

<span data-ttu-id="65206-121">Uživatelské ovládací prvky ve skutečnosti nedefinují rozložení stránky.</span><span class="sxs-lookup"><span data-stu-id="65206-121">User controls don't actually define page layout.</span></span> <span data-ttu-id="65206-122">Místo toho definují rozložení a funkčnost pro část stránky.</span><span class="sxs-lookup"><span data-stu-id="65206-122">Instead, they define the layout and functionality for a portion of a page.</span></span> <span data-ttu-id="65206-123">Rozdíl mezi těmito dvěma je důležitý, protože usnadňuje správu řešení uživatelského ovládacího prvku mnohem obtížnější.</span><span class="sxs-lookup"><span data-stu-id="65206-123">The distinction between these two is important because it makes manageability of a user control solution much more difficult.</span></span> <span data-ttu-id="65206-124">Například pokud chcete změnit pozici uživatelského ovládacího prvku na stránce, musíte upravit aktuální stránku, na které se uživatelský ovládací prvek zobrazuje.</span><span class="sxs-lookup"><span data-stu-id="65206-124">For example, when you want to change the position of a user control on your page, you must edit the actual page on which the user control appears.</span></span> <span data-ttu-id="65206-125">To je dobré, pokud máte jenom pár stránek, ale ve velkých lokalitách se rychle stávají Nightmare správy webů!</span><span class="sxs-lookup"><span data-stu-id="65206-125">Thats fine if you have only a few pages, but in large sites, it quickly becomes a site management nightmare!</span></span>

<span data-ttu-id="65206-126">Další nevýhodou použití uživatelských ovládacích prvků pro definování společného rozložení je kořenová architektura ASP.NET sama o sobě.</span><span class="sxs-lookup"><span data-stu-id="65206-126">Another drawback of using user controls for defining a common layout is rooted in the architecture of ASP.NET itself.</span></span> <span data-ttu-id="65206-127">Pokud je některý veřejný člen uživatelského ovládacího prvku změněn, je nutné znovu kompilovat všechny stránky, které používají uživatelský ovládací prvek.</span><span class="sxs-lookup"><span data-stu-id="65206-127">If any public member of a user control is changed, it requires you to recompile all of the pages that use the user control.</span></span> <span data-ttu-id="65206-128">ASP.NET pak znovu vytvoří JIT stránky při prvním použití.</span><span class="sxs-lookup"><span data-stu-id="65206-128">In turn, ASP.NET will then re-JIT your pages when they are first accessed.</span></span> <span data-ttu-id="65206-129">Jednou z nich vznikne neškálovatelná architektura a problém správy lokality pro větší weby.</span><span class="sxs-lookup"><span data-stu-id="65206-129">This, once again, produces a non-scalable architecture and a site management problem for larger sites.</span></span>

<span data-ttu-id="65206-130">Oba tyto problémy (a mnoho dalších) jsou řešeny stránkami předlohy v ASP.NET 2,0.</span><span class="sxs-lookup"><span data-stu-id="65206-130">Both of these problems (and many more) are nicely addressed by master pages in ASP.NET 2.0.</span></span>

## <a name="how-master-pages-work"></a><span data-ttu-id="65206-131">Jak fungují stránky předlohy</span><span class="sxs-lookup"><span data-stu-id="65206-131">How Master Pages Work</span></span>

<span data-ttu-id="65206-132">Stránka předlohy je podobná šabloně pro jiné stránky.</span><span class="sxs-lookup"><span data-stu-id="65206-132">A master page is analogous to a template for other pages.</span></span> <span data-ttu-id="65206-133">Prvky stránky, které by měly být sdíleny mezi ostatními stránkami (tj. nabídky, ohraničení atd.), jsou přidány do stránky předlohy.</span><span class="sxs-lookup"><span data-stu-id="65206-133">Page elements that should be shared among other pages (i.e. menus, borders, etc.) are added to the master page.</span></span> <span data-ttu-id="65206-134">Když jsou do webu přidány nové stránky, můžete je přidružit k hlavní stránce.</span><span class="sxs-lookup"><span data-stu-id="65206-134">When new pages are added to the site, you can associate them with a master page.</span></span> <span data-ttu-id="65206-135">Stránka, která je přidružena k hlavní stránce, se nazývá **stránka obsahu**.</span><span class="sxs-lookup"><span data-stu-id="65206-135">A page that is associated with a master page is called a **content page**.</span></span> <span data-ttu-id="65206-136">Ve výchozím nastavení se stránka obsahu převezme na základě vzhledu stránky předlohy.</span><span class="sxs-lookup"><span data-stu-id="65206-136">By default, a content page takes on the appearance from the master page.</span></span> <span data-ttu-id="65206-137">Při vytváření stránky předlohy ale můžete definovat části stránky, které může stránka obsahu nahradit vlastním obsahem.</span><span class="sxs-lookup"><span data-stu-id="65206-137">However, when you create a master page, you can define portions of the page that the content page can replace with its own content.</span></span> <span data-ttu-id="65206-138">Tyto části jsou definované pomocí nového ovládacího prvku zavedeného v ASP.NET 2,0; ovládací prvek **ContentPlaceHolder**</span><span class="sxs-lookup"><span data-stu-id="65206-138">These portions are defined using a new control introduced in ASP.NET 2.0; the **ContentPlaceHolder** control.</span></span>

<span data-ttu-id="65206-139">Stránka předlohy může obsahovat libovolný počet ovládacích prvků ContentPlaceHolder (nebo žádný vůbec). Na stránce obsah se zobrazí obsah z ovládacích prvků ContentPlaceHolder v ovládacích prvcích **obsahu** , další nový ovládací prvek v ASP.NET 2,0.</span><span class="sxs-lookup"><span data-stu-id="65206-139">A master page can contain any number of ContentPlaceHolder controls (or none at all.) On the content page, the content from the ContentPlaceHolder controls appears inside of **Content** controls, another new control in ASP.NET 2.0.</span></span> <span data-ttu-id="65206-140">Ve výchozím nastavení jsou ovládací prvky obsahu stránky obsahu prázdné, takže můžete poskytovat vlastní obsah.</span><span class="sxs-lookup"><span data-stu-id="65206-140">By default, the content pages Content controls are empty so that you can provide your own content.</span></span> <span data-ttu-id="65206-141">Pokud chcete použít obsah ze stránky předlohy v rámci ovládacích prvků obsahu, můžete tak učinit, protože se později zobrazí v tomto modulu.</span><span class="sxs-lookup"><span data-stu-id="65206-141">If you want to use the content from the master page inside of the Content controls, you can do so as you will see later in this module.</span></span> <span data-ttu-id="65206-142">Ovládací prvek obsahu je namapován na ovládací prvek ContentPlaceHolder prostřednictvím atributu ContentPlaceHolderID ovládacího prvku Content.</span><span class="sxs-lookup"><span data-stu-id="65206-142">The Content control is mapped to the ContentPlaceHolder control via the ContentPlaceHolderID attribute of the Content control.</span></span> <span data-ttu-id="65206-143">Následující kód mapuje ovládací prvek obsahu na ovládací prvek ContentPlaceHolder s názvem mainBody na stránce předlohy.</span><span class="sxs-lookup"><span data-stu-id="65206-143">The code below maps a Content control to a ContentPlaceHolder control called mainBody on a master page.</span></span>

[!code-aspx[Main](master-pages/samples/sample1.aspx)]

> [!NOTE]
> <span data-ttu-id="65206-144">Často uslyšíte, že uživatelé popisují stránky předlohy jako základní třídu pro jiné stránky.</span><span class="sxs-lookup"><span data-stu-id="65206-144">You will often hear people describe master pages as being a base class for other pages.</span></span> <span data-ttu-id="65206-145">Které ve skutečnosti nejsou pravdivé.</span><span class="sxs-lookup"><span data-stu-id="65206-145">Thats actually not true.</span></span> <span data-ttu-id="65206-146">Vztah mezi stránkami předloh a stránkami obsahu není jedním z dědičnosti.</span><span class="sxs-lookup"><span data-stu-id="65206-146">The relationship between master pages and content pages is not one of inheritance.</span></span>

<span data-ttu-id="65206-147">**Obrázek 1** ukazuje stránku předlohy a přidruženou stránku obsahu, jak se zobrazují v aplikaci Visual Studio 2005.</span><span class="sxs-lookup"><span data-stu-id="65206-147">**Figure 1** shows a master page and an associated content page as they appear in Visual Studio 2005.</span></span> <span data-ttu-id="65206-148">Ovládací prvek ContentPlaceHolder lze zobrazit na stránce předlohy a odpovídající ovládací prvek obsahu na stránce obsah.</span><span class="sxs-lookup"><span data-stu-id="65206-148">You can see the ContentPlaceHolder control in the master page and the corresponding Content control in the content page.</span></span> <span data-ttu-id="65206-149">Všimněte si, že obsah stránek předlohy, který je mimo prvek ContentPlaceHolder, je viditelný, ale šedý na stránce obsahu.</span><span class="sxs-lookup"><span data-stu-id="65206-149">Notice that the master pages content that is outside of the ContentPlaceHolder is visible but grayed out in the content page.</span></span> <span data-ttu-id="65206-150">Stránka obsahu může supplanted jenom obsah uvnitř ovládacího prvku ContentPlaceHolder.</span><span class="sxs-lookup"><span data-stu-id="65206-150">Only the content inside of the ContentPlaceHolder can be supplanted by the content page.</span></span> <span data-ttu-id="65206-151">Veškerý další obsah, který pochází ze stránky předlohy, je neměnný.</span><span class="sxs-lookup"><span data-stu-id="65206-151">All other content that comes from the master page is immutable.</span></span>

![Stránka předlohy a její přidružená stránka obsahu](master-pages/_static/image1.jpg)

<span data-ttu-id="65206-153">**Obrázek 1**: Stránka předlohy a její přidružená stránka obsahu</span><span class="sxs-lookup"><span data-stu-id="65206-153">**Figure 1**: A master page and its associated content page</span></span>

## <a name="creating-a-master-page"></a><span data-ttu-id="65206-154">Vytvoření stránky předlohy</span><span class="sxs-lookup"><span data-stu-id="65206-154">Creating a Master Page</span></span>

<span data-ttu-id="65206-155">Vytvoření nové stránky předlohy:</span><span class="sxs-lookup"><span data-stu-id="65206-155">To create a new master page:</span></span>

1. <span data-ttu-id="65206-156">Otevřete Visual Studio 2005 a vytvořte nový web.</span><span class="sxs-lookup"><span data-stu-id="65206-156">Open Visual Studio 2005 and create a new Web site.</span></span>
2. <span data-ttu-id="65206-157">Klikněte na soubor, nový, soubor.</span><span class="sxs-lookup"><span data-stu-id="65206-157">Click File, New, File.</span></span>
3. <span data-ttu-id="65206-158">V dialogovém okně Přidat novou položku vyberte hlavní soubor, jak je znázorněno na **obrázku 2**.</span><span class="sxs-lookup"><span data-stu-id="65206-158">Choose Master File from the Add New Item dialog as shown in **figure 2**.</span></span>
4. <span data-ttu-id="65206-159">Klikněte na Přidat.</span><span class="sxs-lookup"><span data-stu-id="65206-159">Click Add.</span></span>

![Vytvoření nové stránky předlohy](master-pages/_static/image2.jpg)

<span data-ttu-id="65206-161">**Obrázek 2**: vytvoření nové stránky předlohy</span><span class="sxs-lookup"><span data-stu-id="65206-161">**Figure 2**: Creating a New Master Page</span></span>

<span data-ttu-id="65206-162">Všimněte si, že Přípona souboru hlavní stránky je *. Master*.</span><span class="sxs-lookup"><span data-stu-id="65206-162">Notice that the file extension for a master page is *.master*.</span></span> <span data-ttu-id="65206-163">Jedná se o jeden ze způsobů, které se hlavní stránka od obyčejné stránky liší.</span><span class="sxs-lookup"><span data-stu-id="65206-163">This is one of the ways that a master page differs from an ordinary page.</span></span> <span data-ttu-id="65206-164">Druhým hlavním rozdílem je to, že místo direktivy @Page obsahuje stránka předloha direktivu @Master.</span><span class="sxs-lookup"><span data-stu-id="65206-164">The other primary difference is that in lieu of a @Page directive, the master page contains a @Master directive.</span></span> <span data-ttu-id="65206-165">Přepněte do zobrazení zdroje pro stránku předlohy, kterou jste právě vytvořili, a Prohlédněte si kód.</span><span class="sxs-lookup"><span data-stu-id="65206-165">Switch to Source View for the master page you've just created and review the code.</span></span>

<span data-ttu-id="65206-166">Ve výchozím nastavení bude mít nová stránka předlohy jeden ovládací prvek ContentPlaceHolder.</span><span class="sxs-lookup"><span data-stu-id="65206-166">A new master page will have one ContentPlaceHolder control by default.</span></span> <span data-ttu-id="65206-167">Ve většině případů je vhodnější vytvořit nejprve běžné prvky stránky a pak vkládat ovládací prvky ContentPlaceHolder, kde je požadován vlastní obsah.</span><span class="sxs-lookup"><span data-stu-id="65206-167">In most cases, it makes more sense to create the common page elements first and then insert ContentPlaceHolder controls where custom content is desired.</span></span> <span data-ttu-id="65206-168">V těchto případech budou vývojáři chtít odstranit výchozí ovládací prvek ContentPlaceHolder a vkládat nové při vývoji stránky.</span><span class="sxs-lookup"><span data-stu-id="65206-168">In those cases, developers will want to delete the default ContentPlaceHolder control and insert new ones as the page is developed.</span></span> <span data-ttu-id="65206-169">Ovládací prvky ContentPlaceHolder nelze měnit bez ohledu na to, že se zobrazí úchyty pro změnu velikosti.</span><span class="sxs-lookup"><span data-stu-id="65206-169">ContentPlaceHolder controls are not resizable despite the fact that they do display sizing handles.</span></span> <span data-ttu-id="65206-170">Ovládací prvky ContentPlaceHolder velikost jsou automaticky založeny na obsahu, který obsahuje jedinou výjimku; Umístíte-li ovládací prvek ContentPlaceHolder do bloku elementu, jako je například buňka tabulky, bude velikost podle velikosti elementu.</span><span class="sxs-lookup"><span data-stu-id="65206-170">The ContentPlaceHolder control sizes automatically based upon the content that it contains with one exception; if you place a ContentPlaceHolder control inside of a block element such as a table cell, it will size according to the size of the element.</span></span>

## <a name="lab-1-working-with-master-pages"></a><span data-ttu-id="65206-171">Testovací prostředí 1 pracuje se stránkami předlohy</span><span class="sxs-lookup"><span data-stu-id="65206-171">Lab 1 Working with Master Pages</span></span>

<span data-ttu-id="65206-172">V tomto testovacím prostředí vytvoříte novou stránku předlohy a definujete tři ovládací prvky ContentPlaceHolder.</span><span class="sxs-lookup"><span data-stu-id="65206-172">In this lab, you will create a new master page and define three ContentPlaceHolder controls.</span></span> <span data-ttu-id="65206-173">Pak vytvoříte novou stránku obsahu a nahradíte obsah alespoň jedním ovládacím prvkům ContentPlaceHolder.</span><span class="sxs-lookup"><span data-stu-id="65206-173">You will then create a new Content page and replace the content from at least one of the ContentPlaceHolder controls.</span></span>

1. <span data-ttu-id="65206-174">Vytvořte hlavní stránku a vložte ovládací prvky ContentPlaceHolder.</span><span class="sxs-lookup"><span data-stu-id="65206-174">Create a master page and insert ContentPlaceHolder controls.</span></span> 

    1. <span data-ttu-id="65206-175">Vytvořte novou stránku předlohy, jak je popsáno výše.</span><span class="sxs-lookup"><span data-stu-id="65206-175">Create a new master page as described above.</span></span>
    2. <span data-ttu-id="65206-176">Odstraní výchozí ovládací prvek ContentPlaceHolder.</span><span class="sxs-lookup"><span data-stu-id="65206-176">Delete the default ContentPlaceHolder control.</span></span>
    3. <span data-ttu-id="65206-177">Vyberte ovládací prvek ContentPlaceHolder tím, že kliknete na horní ohraničení ovládacího prvku a pak ho odstraníte stisknutím klávesy DEL na klávesnici.</span><span class="sxs-lookup"><span data-stu-id="65206-177">Select the ContentPlaceHolder control by clicking the shaded top border of the control and then delete it by hitting the DEL key on your keyboard.</span></span>
    4. <span data-ttu-id="65206-178">Vložte novou tabulku pomocí šablony *záhlaví a strany* , jak je znázorněno na obrázku 3.</span><span class="sxs-lookup"><span data-stu-id="65206-178">Insert a new table using the *Header and side* template as shown in figure 3.</span></span> <span data-ttu-id="65206-179">Změňte šířku a výšku na 90%, aby byla celá tabulka viditelná v návrháři.</span><span class="sxs-lookup"><span data-stu-id="65206-179">Change the width and height to 90% each so that the entire table is visible in the designer.</span></span>

![](master-pages/_static/image3.jpg)

<span data-ttu-id="65206-180">**Obrázek 3**</span><span class="sxs-lookup"><span data-stu-id="65206-180">**Figure 3**</span></span>

1. <span data-ttu-id="65206-181">Umístěte kurzor do každé buňky tabulky a nastavte vlastnost *VAlign* na *Top*.</span><span class="sxs-lookup"><span data-stu-id="65206-181">Place the cursor into each cell of the table and set the *valign* property to *top*.</span></span>
2. <span data-ttu-id="65206-182">V sadě nástrojů vložte ovládací prvek ContentPlaceHolder do horní buňky tabulky (buňka záhlaví).</span><span class="sxs-lookup"><span data-stu-id="65206-182">From the Toolbox, insert a ContentPlaceHolder control in the top cell of the table (the header cell.)</span></span>
3. <span data-ttu-id="65206-183">Když vložíte tento ovládací prvek ContentPlaceHolder, Všimněte si, že výška řádku bude trvat téměř celou stránku, jak je znázorněno na obrázku 4.</span><span class="sxs-lookup"><span data-stu-id="65206-183">When you insert this ContentPlaceHolder control, you will notice that the row height will take up almost the entire page as shown in figure 4.</span></span> <span data-ttu-id="65206-184">V tomto okamžiku se na to netýkají.</span><span class="sxs-lookup"><span data-stu-id="65206-184">Don't be concerned about that at this point.</span></span>

![Prázdné místo je ve stejné buňce jako ContentPlaceHolder](master-pages/_static/image1.gif)

<span data-ttu-id="65206-186">**Obrázek 4**: prázdné místo je ve stejné buňce jako prvek ContentPlaceHolder</span><span class="sxs-lookup"><span data-stu-id="65206-186">**Figure 4**: The empty space is in the same cell as the ContentPlaceHolder</span></span>

1. <span data-ttu-id="65206-187">Umístěte ovládací prvek ContentPlaceHolder do ostatních dvou buněk.</span><span class="sxs-lookup"><span data-stu-id="65206-187">Place a ContentPlaceHolder control in the other two cells.</span></span> <span data-ttu-id="65206-188">Po vložení dalších ovládacích prvků ContentPlaceHolder by měla být velikost buněk tabulky tak, jak byste očekávali.</span><span class="sxs-lookup"><span data-stu-id="65206-188">Once the other ContentPlaceHolder controls have been inserted, the size of the table cells should be as you would expect.</span></span> <span data-ttu-id="65206-189">Stránka by teď měla vypadat jako stránka zobrazená na **obrázku 5**.</span><span class="sxs-lookup"><span data-stu-id="65206-189">The page should now look like the page shown in **figure 5**.</span></span>

![Hlavní seznam se všemi ovládacími prvky ContentPlaceHolder.](master-pages/_static/image2.gif)

<span data-ttu-id="65206-192">**Obrázek 5**: hlavní seznam se všemi ovládacími prvky ContentPlaceHolder.</span><span class="sxs-lookup"><span data-stu-id="65206-192">**Figure 5**: The Master with all ContentPlaceHolder controls.</span></span> <span data-ttu-id="65206-193">Všimněte si, že výška buňky pro buňku záhlaví je teď.</span><span class="sxs-lookup"><span data-stu-id="65206-193">Notice that the cell height for the header cell is now what it should be</span></span>

1. <span data-ttu-id="65206-194">Zadejte nějaký text podle vlastního výběru do každého ze tří ovládacích prvků ContentPlaceHolder.</span><span class="sxs-lookup"><span data-stu-id="65206-194">Enter some text of your choice into each of the three ContentPlaceHolder controls.</span></span>
2. <span data-ttu-id="65206-195">Uložte stránku předlohy jako Exercise1. Master.</span><span class="sxs-lookup"><span data-stu-id="65206-195">Save the master page as exercise1.master.</span></span>
3. <span data-ttu-id="65206-196">Vytvořte nový webový formulář a přidružte jej k hlavní stránce Exercise1. Master.</span><span class="sxs-lookup"><span data-stu-id="65206-196">Create a new Web Form and associate it with the exercise1.master master page.</span></span>
4. <span data-ttu-id="65206-197">V aplikaci Visual Studio 2005 vyberte soubor, nový, soubor.</span><span class="sxs-lookup"><span data-stu-id="65206-197">Select File, New, File in Visual Studio 2005.</span></span>
5. <span data-ttu-id="65206-198">V dialogovém okně Přidat novou položku vyberte **webový formulář** .</span><span class="sxs-lookup"><span data-stu-id="65206-198">Select **Web Form** in the Add New Item dialog.</span></span>
6. <span data-ttu-id="65206-199">Ujistěte se, že je zaškrtnuto políčko vybrat hlavní stránku, jak je znázorněno na obrázku 6.</span><span class="sxs-lookup"><span data-stu-id="65206-199">Make sure that the Select master page checkbox is checked as shown in figure 6.</span></span>

![Přidání nové stránky obsahu](master-pages/_static/image3.gif)

<span data-ttu-id="65206-201">**Obrázek 6**: Přidání nové stránky obsahu</span><span class="sxs-lookup"><span data-stu-id="65206-201">**Figure 6**: Adding a new Content Page</span></span>

1. <span data-ttu-id="65206-202">Klikněte na Přidat.</span><span class="sxs-lookup"><span data-stu-id="65206-202">Click Add.</span></span>
2. <span data-ttu-id="65206-203">V dialogovém okně vybrat hlavní stránku vyberte Exercise1. Master, jak je znázorněno na obrázku 7.</span><span class="sxs-lookup"><span data-stu-id="65206-203">Select exercise1.master in the Select a master page dialog as shown in figure 7.</span></span>
3. <span data-ttu-id="65206-204">Kliknutím na tlačítko OK přidejte novou stránku obsahu.</span><span class="sxs-lookup"><span data-stu-id="65206-204">Click OK to add the new content page.</span></span>

<span data-ttu-id="65206-205">Stránka nový obsah se zobrazí v aplikaci Visual Studio s jedním ovládacím prvkem obsahu pro každý ovládací prvek ContentPlaceHolder na stránce předlohy.</span><span class="sxs-lookup"><span data-stu-id="65206-205">The new content page appears in Visual Studio with one Content control for each ContentPlaceHolder control on the master page.</span></span> <span data-ttu-id="65206-206">Ve výchozím nastavení jsou ovládací prvky obsahu prázdné, takže můžete přidat vlastní obsah.</span><span class="sxs-lookup"><span data-stu-id="65206-206">By default, the Content controls are empty so that you can add your own content.</span></span> <span data-ttu-id="65206-207">Pokud byste chtěli, aby používali obsah z ovládacího prvku ContentPlaceHolder na stránce předlohy, stačí kliknout na symbol inteligentní značky (malá černá šipka v pravém horním rohu ovládacího prvku) a zvolit možnost *výchozí pro hlavní obsah* z inteligentní značky, jak je znázorněno na **obrázku 8**.</span><span class="sxs-lookup"><span data-stu-id="65206-207">If you'd like for them to use the content from the ContentPlaceHolder control on the master page, simply click on the smart tag symbol (the small black arrow in the upper-right corner of the control) and choose *Default to Masters Content* from the smart tag as shown in **figure 8**.</span></span> <span data-ttu-id="65206-208">Když to uděláte, položka nabídky se změní a *vytvoří vlastní obsah*.</span><span class="sxs-lookup"><span data-stu-id="65206-208">When you do so, the menu item changes to *Create Custom Content*.</span></span> <span data-ttu-id="65206-209">Kliknutím na něj v tomto okamžiku odeberete obsah ze stránky předlohy, který vám umožní definovat vlastní obsah pro konkrétní ovládací prvek obsahu.</span><span class="sxs-lookup"><span data-stu-id="65206-209">Clicking it at that point removes the content from the master page allowing you to define custom content for that particular Content control.</span></span>

![Nastavení ovládacího prvku obsahu jako výchozího obsahu stránek předlohy](master-pages/_static/image4.gif)

<span data-ttu-id="65206-211">**Obrázek 7**: nastavení ovládacího prvku obsahu jako výchozího jako obsahu stránek předlohy</span><span class="sxs-lookup"><span data-stu-id="65206-211">**Figure 7**: Setting a Content Control to Default to the Master Pages Content</span></span>

## <a name="connecting-master-page-and-content-pages"></a><span data-ttu-id="65206-212">Připojení stránky předlohy a stránek obsahu</span><span class="sxs-lookup"><span data-stu-id="65206-212">Connecting Master Page and Content Pages</span></span>

<span data-ttu-id="65206-213">Přidružení mezi stránkou předlohy a stránkou obsahu lze nakonfigurovat jedním ze čtyř různých způsobů:</span><span class="sxs-lookup"><span data-stu-id="65206-213">The association between a master page and a content page can be configured in one of four different ways:</span></span>

- <span data-ttu-id="65206-214">Atribut <strong>MasterPageFile</strong> direktivy @Page</span><span class="sxs-lookup"><span data-stu-id="65206-214">The <strong>MasterPageFile</strong> attribute of the @Page directive</span></span>
- <span data-ttu-id="65206-215">Nastavení vlastnosti **Page. MasterPageFile** v kódu</span><span class="sxs-lookup"><span data-stu-id="65206-215">Setting the **Page.MasterPageFile** property in code.</span></span>
- <span data-ttu-id="65206-216">**&lt;stránky&gt;** elementu v konfiguračním souboru aplikace (Web. config v kořenové složce aplikace)</span><span class="sxs-lookup"><span data-stu-id="65206-216">The **&lt;pages&gt;** element in the applications configuration file (web.config in the root folder of the application)</span></span>
- <span data-ttu-id="65206-217">**&lt;stránky&gt;** elementu v konfiguračním souboru podsložek (Web. config v podsložce)</span><span class="sxs-lookup"><span data-stu-id="65206-217">The **&lt;pages&gt;** element in a subfolders configuration file (web.config in a subfolder)</span></span>

## <a name="masterpagefile-attribute"></a><span data-ttu-id="65206-218">MasterPageFile – atribut</span><span class="sxs-lookup"><span data-stu-id="65206-218">MasterPageFile Attribute</span></span>

<span data-ttu-id="65206-219">Atribut MasterPageFile usnadňuje použití stránky předlohy na konkrétní ASP.NET stránku.</span><span class="sxs-lookup"><span data-stu-id="65206-219">The MasterPageFile attribute makes it easy to apply a master page to a particular ASP.NET page.</span></span> <span data-ttu-id="65206-220">Je to také metoda, která se používá k použití stránky předlohy při zaškrtnutí políčka **Vybrat hlavní stránku** jako v cvičení 1.</span><span class="sxs-lookup"><span data-stu-id="65206-220">It is also the method used to apply the master page when you check the **Select Master Page** checkbox as you did in Exercise 1.</span></span>

## <a name="setting-pagemasterpagefile-in-code"></a><span data-ttu-id="65206-221">Nastavení stránky. MasterPageFile v kódu</span><span class="sxs-lookup"><span data-stu-id="65206-221">Setting Page.MasterPageFile in Code</span></span>

<span data-ttu-id="65206-222">Nastavením vlastnosti MasterPageFile v kódu můžete pro svůj obsah použít určitou stránku předlohy za běhu.</span><span class="sxs-lookup"><span data-stu-id="65206-222">By setting the MasterPageFile property in code, you can apply a particular master page to your content at runtime.</span></span> <span data-ttu-id="65206-223">To je užitečné v případech, kdy možná budete muset použít určitou hlavní stránku na základě role uživatelů nebo jiných kritérií.</span><span class="sxs-lookup"><span data-stu-id="65206-223">This is useful in cases where you may need to apply a specific master page based upon a users role or some other criteria.</span></span> <span data-ttu-id="65206-224">Vlastnost MasterPageFile musí být nastavena v metodě předinit.</span><span class="sxs-lookup"><span data-stu-id="65206-224">The MasterPageFile property must be set in the PreInit method.</span></span> <span data-ttu-id="65206-225">Pokud je nastavena po předinicializaci metody, bude vyvolána událost InvalidOperationException.</span><span class="sxs-lookup"><span data-stu-id="65206-225">If it is set after the PreInit method, an InvalidOperationException will be thrown.</span></span> <span data-ttu-id="65206-226">Stránka, na které je nastavena tato vlastnost, musí mít také ovládací prvek obsahu jako ovládací prvek nejvyšší úrovně stránky.</span><span class="sxs-lookup"><span data-stu-id="65206-226">The page on which this property is being set must also have a Content control as the top-level control for the page.</span></span> <span data-ttu-id="65206-227">V opačném případě bude při nastavení vlastnosti MasterPageFile vyvolána výjimka HttpException –.</span><span class="sxs-lookup"><span data-stu-id="65206-227">Otherwise an HttpException will be thrown when the MasterPageFile property is set.</span></span>

## <a name="using-the-ltpagesgt-element"></a><span data-ttu-id="65206-228">Použití &lt;stránek&gt; elementu</span><span class="sxs-lookup"><span data-stu-id="65206-228">Using the &lt;pages&gt; Element</span></span>

<span data-ttu-id="65206-229">Stránku předlohy pro stránky můžete nakonfigurovat nastavením atributu masterPageFile na stránkách &lt;&gt; elementu souboru Web. config.</span><span class="sxs-lookup"><span data-stu-id="65206-229">You can configure a master page for your pages by setting the masterPageFile attribute in the &lt;pages&gt; element of the web.config file.</span></span> <span data-ttu-id="65206-230">Při použití této metody mějte na paměti, že soubory Web. config nižší ve struktuře aplikace mohou toto nastavení přepsat.</span><span class="sxs-lookup"><span data-stu-id="65206-230">When using this method, keep in mind that web.config files lower in the application structure can override this setting.</span></span> <span data-ttu-id="65206-231">Toto nastavení se přepíše u všech atributů MasterPageFile nastavených v direktivě @Page.</span><span class="sxs-lookup"><span data-stu-id="65206-231">Any MasterPageFile attribute set in a @Page directive will also override this setting.</span></span> <span data-ttu-id="65206-232">Použití &lt;stránky&gt; elementu usnadňuje vytvoření *Hlavní* hlavní stránky, která může být v případě potřeby přepsána v určitých složkách nebo souborech.</span><span class="sxs-lookup"><span data-stu-id="65206-232">Using the &lt;pages&gt; element makes it simple to create a *master* master page that can be overridden if necessary in particular folders or files.</span></span>

## <a name="properties-in-master-pages"></a><span data-ttu-id="65206-233">Vlastnosti na stránkách předlohy</span><span class="sxs-lookup"><span data-stu-id="65206-233">Properties in Master Pages</span></span>

<span data-ttu-id="65206-234">Stránka předlohy může vystavovat vlastnosti pouhým nastavením těchto vlastností jako veřejných v rámci stránky předlohy.</span><span class="sxs-lookup"><span data-stu-id="65206-234">A master page can expose properties by simply making those properties public within the master page.</span></span> <span data-ttu-id="65206-235">Například následující kód definuje vlastnost s názvem SomeProperty:</span><span class="sxs-lookup"><span data-stu-id="65206-235">For example, the following code defines a property called SomeProperty:</span></span>

[!code-csharp[Main](master-pages/samples/sample2.cs)]

<span data-ttu-id="65206-236">Chcete-li získat přístup k vlastnosti SomeProperty ze stránky obsahu, bude nutné použít vlastnost Master, například:</span><span class="sxs-lookup"><span data-stu-id="65206-236">To access the SomeProperty property from the Content page, you will need to use the Master property like so:</span></span>

[!code-csharp[Main](master-pages/samples/sample3.cs)]

## <a name="nesting-master-pages"></a><span data-ttu-id="65206-237">Vnořování stránek předlohy</span><span class="sxs-lookup"><span data-stu-id="65206-237">Nesting Master Pages</span></span>

<span data-ttu-id="65206-238">Stránky předlohy představují dokonalé řešení, které zajišťuje běžný vzhled a chování napříč velkou webovou aplikací.</span><span class="sxs-lookup"><span data-stu-id="65206-238">Master pages are the perfect solution for ensuring a common look and feel across a large Web application.</span></span> <span data-ttu-id="65206-239">Nejedná se ale o společné rozhraní, aby některé části velké lokality sdílely společné rozhraní, zatímco jiné části sdílejí jiné rozhraní.</span><span class="sxs-lookup"><span data-stu-id="65206-239">However, it's not uncommon to have certain parts of a large site share a common interface while other parts share a different interface.</span></span> <span data-ttu-id="65206-240">Aby bylo možné tuto potřebu vyřešit, je k většímu řešení více stránek předlohy.</span><span class="sxs-lookup"><span data-stu-id="65206-240">To address that need, multiple master pages are the perfect solution.</span></span> <span data-ttu-id="65206-241">To však stále neřeší skutečnost, že velké aplikace mohou mít určité komponenty (například nabídku), které jsou sdíleny mezi všemi stránkami a dalšími komponentami, které jsou sdíleny pouze mezi některými oddíly webu.</span><span class="sxs-lookup"><span data-stu-id="65206-241">However, that still doesn't address the fact that a large application may have certain components (such as a menu, for example) that are shared among all pages and other components that are shared only among certain sections of the site.</span></span> <span data-ttu-id="65206-242">V takovém případě vnořené stránky předlohy doplňují nutnost v textu.</span><span class="sxs-lookup"><span data-stu-id="65206-242">For that type of situation, nested master pages fill the need nicely.</span></span> <span data-ttu-id="65206-243">Jak jste viděli, normální stránka předlohy se skládá ze stránky předlohy a obsahu stránky.</span><span class="sxs-lookup"><span data-stu-id="65206-243">As you've seen, a normal master page consists of a master page and a content page.</span></span> <span data-ttu-id="65206-244">V situaci vnořené stránky předlohy jsou k dispozici dvě stránky předlohy. nadřazený hlavní server a podřízená hlavní položka.</span><span class="sxs-lookup"><span data-stu-id="65206-244">In a nested master page situation, there are two master pages; a parent master and a child master.</span></span> <span data-ttu-id="65206-245">Podřízená stránka předlohy je také stránkou obsahu a její hlavní stránkou je nadřazená hlavní stránka.</span><span class="sxs-lookup"><span data-stu-id="65206-245">The child master page is also a content page and its master is the parent master page.</span></span>

<span data-ttu-id="65206-246">Zde je kód typické stránky předlohy:</span><span class="sxs-lookup"><span data-stu-id="65206-246">Here is the code for a typical master page:</span></span>

[!code-aspx[Main](master-pages/samples/sample4.aspx)]

<span data-ttu-id="65206-247">Ve vnořeném hlavním scénáři by to byl nadřazený hlavní server.</span><span class="sxs-lookup"><span data-stu-id="65206-247">In a nested master scenario, this would be the parent master.</span></span> <span data-ttu-id="65206-248">Jiná stránka předlohy by tuto stránku používala jako svou hlavní stránku a tento kód by vypadal takto:</span><span class="sxs-lookup"><span data-stu-id="65206-248">Another master page would use this page as its master page, and that code would look like this:</span></span>

[!code-aspx[Main](master-pages/samples/sample5.aspx)]

<span data-ttu-id="65206-249">Všimněte si, že v tomto scénáři je podřízená předloha také stránkou obsahu nadřazeného hlavního serveru.</span><span class="sxs-lookup"><span data-stu-id="65206-249">Note that in this scenario, the child master is also a content page for the parent master.</span></span> <span data-ttu-id="65206-250">Veškerý obsah podřízeného hlavního serveru se zobrazí uvnitř ovládacího prvku obsahu, který získá obsah z ovládacího prvku ContentPlaceHolder.</span><span class="sxs-lookup"><span data-stu-id="65206-250">All of the child master's content appears inside of a Content control that gets its content from the parent's ContentPlaceHolder control.</span></span>

> [!NOTE]
> <span data-ttu-id="65206-251">Podpora návrháře není pro vnořené stránky předlohy k dispozici.</span><span class="sxs-lookup"><span data-stu-id="65206-251">Designer support is not available for nested master pages.</span></span> <span data-ttu-id="65206-252">Při vývoji pomocí vnořených hlavních serverů bude nutné použít zobrazení zdroje.</span><span class="sxs-lookup"><span data-stu-id="65206-252">When you are developing using nested masters, you will need to use source view.</span></span>

<span data-ttu-id="65206-253">Toto video ukazuje návod pro použití vnořených stránek předlohy.</span><span class="sxs-lookup"><span data-stu-id="65206-253">This video shows a walkthrough of using nested master pages.</span></span>

![](master-pages/_static/image1.png)

[<span data-ttu-id="65206-254">Otevření videa na celé obrazovce</span><span class="sxs-lookup"><span data-stu-id="65206-254">Open Full-Screen Video</span></span>](master-pages/_static/nested1.wmv)

![Výběr stránky předlohy](master-pages/_static/image4.jpg)

<span data-ttu-id="65206-256">**Obrázek 8**: Výběr stránky předlohy</span><span class="sxs-lookup"><span data-stu-id="65206-256">**Figure 8**: Selecting a Master Page</span></span>
