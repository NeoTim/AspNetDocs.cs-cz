---
uid: web-forms/overview/deployment/configuring-server-environments-for-web-deployment/scenario-configuring-a-staging-environment-for-web-deployment
title: 'Scénář: Konfigurace přípravného prostředí pro nasazení webu | Microsoft Docs'
author: jrjlee
description: Toto téma popisuje Typický scénář nasazení webu pro pracovní prostředí a vysvětluje úkoly, které je potřeba provést, aby bylo možné nastavit podobnou obálku...
ms.author: riande
ms.date: 05/04/2012
ms.assetid: 5a8e49b7-5317-4125-b107-7e2466b47bb3
msc.legacyurl: /web-forms/overview/deployment/configuring-server-environments-for-web-deployment/scenario-configuring-a-staging-environment-for-web-deployment
msc.type: authoredcontent
ms.openlocfilehash: eaa61ca850817f8dd98955b59e94be93389bf256
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 03/06/2020
ms.locfileid: "78637842"
---
# <a name="scenario-configuring-a-staging-environment-for-web-deployment"></a><span data-ttu-id="dd6d6-103">Scénář: Konfigurace přípravného prostředí pro nasazení webu</span><span class="sxs-lookup"><span data-stu-id="dd6d6-103">Scenario: Configuring a Staging Environment for Web Deployment</span></span>

<span data-ttu-id="dd6d6-104">od [Jason Novák](https://github.com/jrjlee)</span><span class="sxs-lookup"><span data-stu-id="dd6d6-104">by [Jason Lee](https://github.com/jrjlee)</span></span>

[<span data-ttu-id="dd6d6-105">Stáhnout PDF</span><span class="sxs-lookup"><span data-stu-id="dd6d6-105">Download PDF</span></span>](https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/63/56/8130.DeployingWebAppsInEnterpriseScenarios.pdf)

> <span data-ttu-id="dd6d6-106">Toto téma popisuje Typický scénář nasazení webu pro přípravné prostředí a vysvětluje úkoly, které je potřeba provést, aby bylo možné nastavit podobné prostředí.</span><span class="sxs-lookup"><span data-stu-id="dd6d6-106">This topic describes a typical web deployment scenario for a staging environment and explains the tasks you need to complete in order to set up a similar environment.</span></span>

<span data-ttu-id="dd6d6-107">Spousta organizací používá pro náhled aktualizací webových aplikací nebo webů pracovní prostředí.</span><span class="sxs-lookup"><span data-stu-id="dd6d6-107">Lots of organizations use staging environments to preview updates to web applications or websites.</span></span> <span data-ttu-id="dd6d6-108">To uživatelům v organizaci umožní prozkoumat a zkontrolovat nové funkce nebo obsah před tím, než bude lokalita "v provozu" nebo jinými slovy nasazena v produkčním prostředí.</span><span class="sxs-lookup"><span data-stu-id="dd6d6-108">This gives people within the organization a chance to explore and review new functionality or content before the site "goes live," or in other words is deployed to a production environment.</span></span> <span data-ttu-id="dd6d6-109">Pracovní prostředí je navrženo tak, aby bylo co nejpřesněji replikované provozní prostředí, aby se zajistila reálná verze Preview.</span><span class="sxs-lookup"><span data-stu-id="dd6d6-109">The staging environment is designed to replicate the production environment as closely as possible, in order to provide a realistic preview.</span></span> <span data-ttu-id="dd6d6-110">Tento druh přípravného prostředí má obvykle tyto charakteristiky:</span><span class="sxs-lookup"><span data-stu-id="dd6d6-110">This kind of staging environment typically has these characteristics:</span></span>

- <span data-ttu-id="dd6d6-111">Prostředí se skládá z více webových serverů s vyrovnáváním zatížení a jednoho nebo více databázových serverů, často s Clustering s podporou převzetí služeb při selhání a zrcadlením databáze.</span><span class="sxs-lookup"><span data-stu-id="dd6d6-111">The environment consists of multiple load-balanced web servers and one or more database servers, often with failover clustering and database mirroring.</span></span>
- <span data-ttu-id="dd6d6-112">Aplikace mohou být nasazeny ručně vývojářským týmem nebo automaticky serverem sestavení týmu.</span><span class="sxs-lookup"><span data-stu-id="dd6d6-112">Applications may be deployed manually by a development team or automatically by a Team Build server.</span></span>
- <span data-ttu-id="dd6d6-113">Účty uživatelů nebo procesů, které nasazují aplikace, nemají pravděpodobně oprávnění správce na pracovních serverech.</span><span class="sxs-lookup"><span data-stu-id="dd6d6-113">The users or process accounts that deploy applications are unlikely to have administrator privileges on the staging servers.</span></span>
- <span data-ttu-id="dd6d6-114">Změny aplikací se nasazují často, takže prostředí musí podporovat nasazení v jednom kroku nebo automatizované.</span><span class="sxs-lookup"><span data-stu-id="dd6d6-114">Changes to applications are deployed on a frequent basis, so the environment needs to support single-step or automated deployment.</span></span>

> [!NOTE]
> <span data-ttu-id="dd6d6-115">Horizontální navýšení kapacity nasazení databáze napříč více servery je nad rámec tohoto kurzu.</span><span class="sxs-lookup"><span data-stu-id="dd6d6-115">Scaling out a database deployment across multiple servers is beyond the scope of this tutorial.</span></span> <span data-ttu-id="dd6d6-116">Další informace o této oblasti najdete v dokumentaci [SQL Server Books Online](https://technet.microsoft.com/library/ms130214.aspx).</span><span class="sxs-lookup"><span data-stu-id="dd6d6-116">For more information on this area, please consult [SQL Server Books Online](https://technet.microsoft.com/library/ms130214.aspx).</span></span>

<span data-ttu-id="dd6d6-117">Například v našem [scénáři kurzu](../deploying-web-applications-in-enterprise-scenarios/enterprise-web-deployment-scenario-overview.md)Team Foundation Server (TFS) spravuje řešení Contact Manager.</span><span class="sxs-lookup"><span data-stu-id="dd6d6-117">For example, in our [tutorial scenario](../deploying-web-applications-in-enterprise-scenarios/enterprise-web-deployment-scenario-overview.md), Team Foundation Server (TFS) manages the Contact Manager solution.</span></span> <span data-ttu-id="dd6d6-118">Správce TFS, Rob Walters, vytvořil definici sestavení, která vývojářům umožňuje aktivovat nasazení do přípravného prostředí podle potřeby.</span><span class="sxs-lookup"><span data-stu-id="dd6d6-118">The TFS administrator, Rob Walters, has created a build definition that lets developers trigger a deployment to the staging environment as required.</span></span>

![](scenario-configuring-a-staging-environment-for-web-deployment/_static/image1.png)

<span data-ttu-id="dd6d6-119">Všimněte si, že ve většině případů nebudete nutně chtít nasadit nejnovější sestavení do přípravného prostředí.</span><span class="sxs-lookup"><span data-stu-id="dd6d6-119">Note that in most cases, you won't necessarily want to deploy the latest build to the staging environment.</span></span> <span data-ttu-id="dd6d6-120">Místo toho je mnohem více pravděpodobnější, že budete chtít nasadit konkrétní sestavení, které již prošlo ověřením a ověřením v testovacím prostředí.</span><span class="sxs-lookup"><span data-stu-id="dd6d6-120">Instead, you're a lot more likely to want to deploy a specific build that has already undergone validation and verification in the test environment.</span></span>

## <a name="solution-overview"></a><span data-ttu-id="dd6d6-121">Přehled řešení</span><span class="sxs-lookup"><span data-stu-id="dd6d6-121">Solution Overview</span></span>

<span data-ttu-id="dd6d6-122">V tomto scénáři můžete tyto fakta odvodit z analýzy požadavků na nasazení:</span><span class="sxs-lookup"><span data-stu-id="dd6d6-122">In this scenario, you can deduce these facts from an analysis of the deployment requirements:</span></span>

- <span data-ttu-id="dd6d6-123">Účet uživatele nebo procesu, který provádí nasazení, nebude mít na pracovních serverech oprávnění správce, takže pracovní webové servery musí podporovat nasazení bez oprávnění správce.</span><span class="sxs-lookup"><span data-stu-id="dd6d6-123">The user or process account that performs the deployment won't have administrator privileges on the staging servers, so the staging web servers must support non-administrator deployment.</span></span> <span data-ttu-id="dd6d6-124">V takovém případě budete muset nakonfigurovat pracovní webové servery tak, aby používaly obslužnou rutinu Nasazení webu místo vzdáleného agenta.</span><span class="sxs-lookup"><span data-stu-id="dd6d6-124">As such, you'll need to configure the staging web servers to use the Web Deploy Handler rather than the remote agent.</span></span>
- <span data-ttu-id="dd6d6-125">Pracovní prostředí obsahuje několik webových serverů, ale je potřeba, aby podporovalo jedno kliknutí nebo automatizované nasazení, takže budete muset k vytvoření serverové farmy použít rozhraní Web Farm Framework (WFF).</span><span class="sxs-lookup"><span data-stu-id="dd6d6-125">The staging environment includes multiple web servers, but it needs to support one-click or automated deployment, so you'll need to use the Web Farm Framework (WFF) to create a server farm.</span></span> <span data-ttu-id="dd6d6-126">Pomocí tohoto přístupu můžete nasadit aplikaci na jeden webový server (primární server) a WFF bude replikovat nasazení na všech ostatních webových serverech v přípravném prostředí.</span><span class="sxs-lookup"><span data-stu-id="dd6d6-126">Using this approach, you can deploy an application to one web server (the primary server), and WFF will replicate the deployment on all the other web servers in the staging environment.</span></span>
- <span data-ttu-id="dd6d6-127">Účet uživatele nebo procesu, který provádí nasazení, musí mít oprávnění k vytváření databází.</span><span class="sxs-lookup"><span data-stu-id="dd6d6-127">The user or process account that performs the deployment must have permissions to create databases.</span></span> <span data-ttu-id="dd6d6-128">V takovém případě budete muset přidat účet do role serveru **dbcreator** na databázovém serveru kromě Konfigurace databázového serveru pro podporu vzdáleného přístupu a nasazení.</span><span class="sxs-lookup"><span data-stu-id="dd6d6-128">As such, you'll need to add the account to the **dbcreator** server role on the database server, in addition to configuring the database server to support remote access and deployment.</span></span>

<span data-ttu-id="dd6d6-129">Tato témata obsahují všechny informace, které potřebujete k dokončení těchto úloh:</span><span class="sxs-lookup"><span data-stu-id="dd6d6-129">These topics provide all the information you need in order to complete these tasks:</span></span>

- <span data-ttu-id="dd6d6-130">[Vytvořte serverovou farmu s architekturou web farmu](creating-a-server-farm-with-the-web-farm-framework.md).</span><span class="sxs-lookup"><span data-stu-id="dd6d6-130">[Create a Server Farm with the Web Farm Framework](creating-a-server-farm-with-the-web-farm-framework.md).</span></span> <span data-ttu-id="dd6d6-131">V tomto tématu se dozvíte, jak vytvořit a nakonfigurovat serverovou farmu pomocí WFF, takže se na více webových serverech s vyrovnáváním zatížení replikují aplikace a komponenty a součásti a webové platformy, nastavení konfigurace a weby a aplikace.</span><span class="sxs-lookup"><span data-stu-id="dd6d6-131">This topic describes how to create and configure a server farm using WFF, so that web platform products and components, configuration settings, and websites and applications are replicated across multiple load-balanced web servers.</span></span>
- <span data-ttu-id="dd6d6-132">[Konfigurace webového serveru pro publikování nasazení webu (obslužná rutina nasazení webu)](configuring-a-web-server-for-web-deploy-publishing-web-deploy-handler.md)</span><span class="sxs-lookup"><span data-stu-id="dd6d6-132">[Configure a Web Server for Web Deploy Publishing (Web Deploy Handler)](configuring-a-web-server-for-web-deploy-publishing-web-deploy-handler.md).</span></span> <span data-ttu-id="dd6d6-133">Toto téma popisuje, jak vytvořit webový server, který podporuje publikování Nasazení webu, pomocí přístupu vzdáleného agenta počínaje čistým sestavením systému Windows Server 2008 R2.</span><span class="sxs-lookup"><span data-stu-id="dd6d6-133">This topic describes how to build a web server that supports Web Deploy publishing, using the remote agent approach, starting from a clean Windows Server 2008 R2 build.</span></span>
- <span data-ttu-id="dd6d6-134">[Nakonfigurujte databázový server pro publikování nasazení webu](configuring-a-database-server-for-web-deploy-publishing.md).</span><span class="sxs-lookup"><span data-stu-id="dd6d6-134">[Configure a Database Server for Web Deploy Publishing](configuring-a-database-server-for-web-deploy-publishing.md).</span></span> <span data-ttu-id="dd6d6-135">Toto téma popisuje, jak nakonfigurovat databázový server pro podporu vzdáleného přístupu a nasazení, počínaje od výchozí instalace SQL Server 2008 R2.</span><span class="sxs-lookup"><span data-stu-id="dd6d6-135">This topic describes how to configure a database server to support remote access and deployment, starting from a default installation of SQL Server 2008 R2.</span></span>

## <a name="further-reading"></a><span data-ttu-id="dd6d6-136">Další čtení</span><span class="sxs-lookup"><span data-stu-id="dd6d6-136">Further Reading</span></span>

<span data-ttu-id="dd6d6-137">Pokyny ke konfiguraci typického testovacího prostředí pro vývojáře naleznete v tématu [scénář: konfigurace testovacího prostředí pro nasazení webu](scenario-configuring-a-test-environment-for-web-deployment.md).</span><span class="sxs-lookup"><span data-stu-id="dd6d6-137">For guidance on configuring a typical developer test environment, see [Scenario: Configuring a Test Environment for Web Deployment](scenario-configuring-a-test-environment-for-web-deployment.md).</span></span> <span data-ttu-id="dd6d6-138">Pokyny ke konfiguraci typického provozního prostředí najdete v tématu [scénář: Konfigurace provozního prostředí pro nasazení webu](scenario-configuring-a-production-environment-for-web-deployment.md).</span><span class="sxs-lookup"><span data-stu-id="dd6d6-138">For guidance on configuring a typical production environment, see [Scenario: Configuring a Production Environment for Web Deployment](scenario-configuring-a-production-environment-for-web-deployment.md).</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="dd6d6-139">[Předchozí](scenario-configuring-a-test-environment-for-web-deployment.md)
> [Další](scenario-configuring-a-production-environment-for-web-deployment.md)</span><span class="sxs-lookup"><span data-stu-id="dd6d6-139">[Previous](scenario-configuring-a-test-environment-for-web-deployment.md)
[Next](scenario-configuring-a-production-environment-for-web-deployment.md)</span></span>
