---
uid: web-forms/overview/deployment/configuring-server-environments-for-web-deployment/configuring-deployment-properties-for-a-target-environment
title: Konfigurace vlastností nasazeného cílového prostředí | Dokumentace Microsoftu
author: jrjlee
description: Toto téma popisuje postup konfigurace vlastností specifických pro prostředí k nasazení ukázkové řešení Správce kontaktů do určité cílové prostředí...
ms.author: riande
ms.date: 05/04/2012
ms.assetid: b5b86e03-b8ed-46e6-90fa-e1da88ef34e9
msc.legacyurl: /web-forms/overview/deployment/configuring-server-environments-for-web-deployment/configuring-deployment-properties-for-a-target-environment
msc.type: authoredcontent
ms.openlocfilehash: 74fc0f4cb7d3ed7d1ef091cdb8fa829091af5a7a
ms.sourcegitcommit: 0f1119340e4464720cfd16d0ff15764746ea1fea
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 04/09/2019
ms.locfileid: "59388683"
---
# <a name="configuring-deployment-properties-for-a-target-environment"></a><span data-ttu-id="505c3-103">Konfigurace vlastností nasazeného cílového prostředí</span><span class="sxs-lookup"><span data-stu-id="505c3-103">Configuring Deployment Properties for a Target Environment</span></span>

<span data-ttu-id="505c3-104">podle [Jason Lee](https://github.com/jrjlee)</span><span class="sxs-lookup"><span data-stu-id="505c3-104">by [Jason Lee](https://github.com/jrjlee)</span></span>

[<span data-ttu-id="505c3-105">Stáhnout PDF</span><span class="sxs-lookup"><span data-stu-id="505c3-105">Download PDF</span></span>](https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/63/56/8130.DeployingWebAppsInEnterpriseScenarios.pdf)

> <span data-ttu-id="505c3-106">Toto téma popisuje postup konfigurace vlastností specifických pro prostředí k nasazení ukázkové řešení Správce kontaktů do určité cílové prostředí.</span><span class="sxs-lookup"><span data-stu-id="505c3-106">This topic describes how to configure environment-specific properties in order to deploy the sample Contact Manager solution to a specific target environment.</span></span>


<span data-ttu-id="505c3-107">Toto téma je součástí série kurzů podle požadavků na nasazení enterprise fiktivní společnosti s názvem společnosti Fabrikam, Inc. V této sérii kurzů používá ukázkové řešení&#x2014; [Správce kontaktů](../web-deployment-in-the-enterprise/the-contact-manager-solution.md) řešení&#x2014;představující webovou aplikaci s realistické úroveň složitosti, včetně aplikace ASP.NET MVC 3, komunikace Windows Služba Foundation (WCF) a databázový projekt.</span><span class="sxs-lookup"><span data-stu-id="505c3-107">This topic forms part of a series of tutorials based around the enterprise deployment requirements of a fictional company named Fabrikam, Inc. This tutorial series uses a sample solution&#x2014;the [Contact Manager](../web-deployment-in-the-enterprise/the-contact-manager-solution.md) solution&#x2014;to represent a web application with a realistic level of complexity, including an ASP.NET MVC 3 application, a Windows Communication Foundation (WCF) service, and a database project.</span></span>

<span data-ttu-id="505c3-108">Metody nasazení v srdci těchto kurzů je založen na rozdělení přístupu soubor projektu je popsáno v [Principy procesu sestavení](../web-deployment-in-the-enterprise/understanding-the-build-process.md), ve které je řízena procesem sestavení dva soubory projektu&#x2014;jeden obsahující pokyny, které platí pro všechny cílové prostředí a jeden obsahuje nastavení pro konkrétní prostředí sestavení a nasazení pro sestavení.</span><span class="sxs-lookup"><span data-stu-id="505c3-108">The deployment method at the heart of these tutorials is based on the split project file approach described in [Understanding the Build Process](../web-deployment-in-the-enterprise/understanding-the-build-process.md), in which the build process is controlled by two project files&#x2014;one containing build instructions that apply to every destination environment, and one containing environment-specific build and deployment settings.</span></span> <span data-ttu-id="505c3-109">V okamžiku sestavení souboru projektu specifických pro prostředí se sloučí do souboru projektu bez ohledu na prostředí a vytvoří kompletní sadu pokynů sestavení.</span><span class="sxs-lookup"><span data-stu-id="505c3-109">At build time, the environment-specific project file is merged into the environment-agnostic project file to form a complete set of build instructions.</span></span>

## <a name="process-overview"></a><span data-ttu-id="505c3-110">Přehled procesu</span><span class="sxs-lookup"><span data-stu-id="505c3-110">Process Overview</span></span>

<span data-ttu-id="505c3-111">Soubor projektu, který použijete k vytvoření a nasazení řešení Správce kontaktů je rozdělený do dvou fyzických souborů:</span><span class="sxs-lookup"><span data-stu-id="505c3-111">The project file that you'll use to build and deploy the Contact Manager solution is split into two physical files:</span></span>

- <span data-ttu-id="505c3-112">Ten, který obsahuje univerzální sestavení nastavení a pokyny ( *Publish.proj* souboru).</span><span class="sxs-lookup"><span data-stu-id="505c3-112">One that contains universal build settings and instructions (the *Publish.proj* file).</span></span>
- <span data-ttu-id="505c3-113">Ten, který obsahuje konkrétní prostředí nastavení sestavení (*Env Dev.proj*, *Env Stage.proj*, a tak dále).</span><span class="sxs-lookup"><span data-stu-id="505c3-113">One that contains environment-specific build settings (*Env-Dev.proj*, *Env-Stage.proj*, and so on).</span></span>

<span data-ttu-id="505c3-114">V okamžiku sestavení souboru projektu odpovídající specifických pro prostředí se sloučí do univerzální *Publish.proj* souboru a vytvoří kompletní sadu pokynů sestavení.</span><span class="sxs-lookup"><span data-stu-id="505c3-114">At build time, the appropriate environment-specific project file is merged into the universal *Publish.proj* file to form a complete set of build instructions.</span></span> <span data-ttu-id="505c3-115">Vytvoření nebo přizpůsobení souborů projektu specifických pro prostředí s nastavením, které popisují vašemu scénáři nasazení můžete nakonfigurovat nasazení u konkrétního cílového prostředí.</span><span class="sxs-lookup"><span data-stu-id="505c3-115">You can configure deployment to specific destination environments by creating or customizing environment-specific project files with settings that describe your own deployment scenario.</span></span>

<span data-ttu-id="505c3-116">Mnoho z těchto hodnot se určují podle konfigurace cílového prostředí&#x2014;zejména, určuje, zda váš cílový webový server konfigurován pro použití služby agenta nasazení webu (vzdálený agent) nebo obslužné rutiny nasazení webu.</span><span class="sxs-lookup"><span data-stu-id="505c3-116">Lots of these values are determined by how your destination environment is configured&#x2014;in particular, whether your target web server is configured to use the Web Deployment Agent Service (the remote agent) or the Web Deploy Handler.</span></span> <span data-ttu-id="505c3-117">Další informace o těchto přístupů a pokyny pro výběr správného přístupu pro konkrétní prostředí, najdete v části [výběr právo přístupu k nasazení webu](choosing-the-right-approach-to-web-deployment.md).</span><span class="sxs-lookup"><span data-stu-id="505c3-117">For more information on these approaches, and for guidance on choosing the right approach for your own environment, see [Choosing the Right Approach to Web Deployment](choosing-the-right-approach-to-web-deployment.md).</span></span>

<span data-ttu-id="505c3-118">[Scénáře využití manažera kontaktu](../deploying-web-applications-in-enterprise-scenarios/enterprise-web-deployment-scenario-overview.md) vyžaduje dva soubory projektu pro konkrétní prostředí:</span><span class="sxs-lookup"><span data-stu-id="505c3-118">The [Contact Manager scenario](../deploying-web-applications-in-enterprise-scenarios/enterprise-web-deployment-scenario-overview.md) requires two environment-specific project files:</span></span>

- <span data-ttu-id="505c3-119">Nasazení do testovacího prostředí pro vývojáře (*Env Dev.proj*).</span><span class="sxs-lookup"><span data-stu-id="505c3-119">Deployment to a developer test environment (*Env-Dev.proj*).</span></span> <span data-ttu-id="505c3-120">Testovací prostředí pro vývojáře je nakonfigurovaný tak, aby přijímal vzdálené nasazení s využitím vzdáleného agenta, jak je popsáno v [scénář: Konfigurace testovacího prostředí pro nasazení webu](scenario-configuring-a-test-environment-for-web-deployment.md).</span><span class="sxs-lookup"><span data-stu-id="505c3-120">The developer test environment is configured to accept remote deployments using the remote agent, as described in [Scenario: Configuring a Test Environment for Web Deployment](scenario-configuring-a-test-environment-for-web-deployment.md).</span></span> <span data-ttu-id="505c3-121">Tento soubor je potřeba zadat vzdálený agent adresa koncového bodu, jakož i nastavení specifická pro umístění jako připojovací řetězce a koncových bodů služby.</span><span class="sxs-lookup"><span data-stu-id="505c3-121">This file needs to provide the remote agent endpoint address as well as location-specific settings like connection strings and service endpoints.</span></span>
- <span data-ttu-id="505c3-122">Nasazení do přípravného prostředí (*Env Stage.proj*).</span><span class="sxs-lookup"><span data-stu-id="505c3-122">Deployment to a staging environment (*Env-Stage.proj*).</span></span> <span data-ttu-id="505c3-123">Pracovní prostředí je nakonfigurované tak, aby přijímal vzdálená nasazení pomocí webové nasazení obslužné rutiny, jak je popsáno v [scénář: Konfigurace přípravného prostředí pro nasazení webu](scenario-configuring-a-staging-environment-for-web-deployment.md).</span><span class="sxs-lookup"><span data-stu-id="505c3-123">The staging environment is configured to accept remote deployments using the Web Deploy Handler, as described in [Scenario: Configuring a Staging Environment for Web Deployment](scenario-configuring-a-staging-environment-for-web-deployment.md).</span></span> <span data-ttu-id="505c3-124">Tento soubor je potřeba zadat adresu koncového bodu obslužné rutiny webu nasadit, stejně jako konkrétní umístění nastavení podobné připojovacím řetězcům a koncové body služby.</span><span class="sxs-lookup"><span data-stu-id="505c3-124">This file needs to provide the Web Deploy Handler endpoint address as well as location-specific settings like connection strings and service endpoints.</span></span>

<span data-ttu-id="505c3-125">Je důležité si uvědomit, že nastavení, které nakonfigurujete v souboru projektu specifických pro prostředí nemají vliv na obsah webového balíčku samotného&#x2014;místo toho, jakým se řídí způsob nasazení balíčku a jaké hodnoty parametrů jsou k dispozici po balíček extrahovat.</span><span class="sxs-lookup"><span data-stu-id="505c3-125">It's important to note that the settings you configure in the environment-specific project file don't affect the contents of the web package itself&#x2014;instead, they control how the package is deployed and what parameter values are provided when the package is extracted.</span></span> <span data-ttu-id="505c3-126">Webový balíček do produkčního prostředí při importu ručně, jak je popsáno v [scénář: Konfigurace provozního prostředí pro nasazení webu](scenario-configuring-a-production-environment-for-web-deployment.md) a [ruční instalace webových balíčků](../web-deployment-in-the-enterprise/manually-installing-web-packages.md), takže je jedno, jaká nastavení můžete použít v souboru projektu pro konkrétní prostředí při generování balíčku.</span><span class="sxs-lookup"><span data-stu-id="505c3-126">You're importing the web package into the production environment manually, as described in [Scenario: Configuring a Production Environment for Web Deployment](scenario-configuring-a-production-environment-for-web-deployment.md) and [Manually Installing Web Packages](../web-deployment-in-the-enterprise/manually-installing-web-packages.md), so it doesn't matter what settings you used in the environment-specific project file when you generated the package.</span></span> <span data-ttu-id="505c3-127">Správce Internetové informační služby (IIS) zobrazí výzvu pro jakékoli parametrizovaného hodnotu, například připojovací řetězce a koncové body služby, při importu balíčku ho.</span><span class="sxs-lookup"><span data-stu-id="505c3-127">Internet Information Services (IIS) Manager will prompt you for any parameterized values, like connection strings and service endpoints, when you import the package.</span></span>

<span data-ttu-id="505c3-128">Pokud chcete nasadit řešení Správce kontaktů na cílovém prostředí, můžete tento soubor upravit, nebo použít jako šablonu a vytvořte svůj vlastní soubor.</span><span class="sxs-lookup"><span data-stu-id="505c3-128">To deploy the Contact Manager solution to your own target environment, you can either customize this file or use it as a template and create your own file.</span></span>

**<span data-ttu-id="505c3-129">Konfigurace nastavení specifických pro prostředí nasazení pro řešení Správce kontaktů</span><span class="sxs-lookup"><span data-stu-id="505c3-129">To configure environment-specific deployment settings for the Contact Manager solution</span></span>**

1. <span data-ttu-id="505c3-130">Otevřete řešení ContactManager WCF v sadě Visual Studio 2010.</span><span class="sxs-lookup"><span data-stu-id="505c3-130">Open the ContactManager-WCF solution in Visual Studio 2010.</span></span>
2. <span data-ttu-id="505c3-131">V **Průzkumníku řešení** okna, rozbalte **publikovat** složky, rozbalte **EnvConfig** složku a poté dvojitým kliknutím **Env-Dev.proj**.</span><span class="sxs-lookup"><span data-stu-id="505c3-131">In the **Solution Explorer** window, expand the **Publish** folder, expand the **EnvConfig** folder, and then double-click **Env-Dev.proj**.</span></span>

    ![](configuring-deployment-properties-for-a-target-environment/_static/image1.png)
3. <span data-ttu-id="505c3-132">Nahraďte hodnoty vlastností v *Env Dev.proj* soubor s správné hodnoty pro testovací prostředí.</span><span class="sxs-lookup"><span data-stu-id="505c3-132">Replace the property values in the *Env-Dev.proj* file with the correct values for your own test environment.</span></span>

    > [!NOTE]
    > <span data-ttu-id="505c3-133">V tabulce, které následuje po tomto postupu poskytuje další informace o každé z těchto vlastností.</span><span class="sxs-lookup"><span data-stu-id="505c3-133">The table that follows this procedure provides more information on each of these properties.</span></span>
4. <span data-ttu-id="505c3-134">Uložte si práci a pak zavřete *Env Dev.proj* souboru.</span><span class="sxs-lookup"><span data-stu-id="505c3-134">Save your work, and then close the *Env-Dev.proj* file.</span></span>

## <a name="choosing-the-right-deployment-properties"></a><span data-ttu-id="505c3-135">Výběr vlastnosti správné nasazení</span><span class="sxs-lookup"><span data-stu-id="505c3-135">Choosing the Right Deployment Properties</span></span>

<span data-ttu-id="505c3-136">Tato tabulka popisuje účel každé vlastnosti v ukázkovém souboru projektu pro konkrétní prostředí, *Env Dev.proj*a najdete pokyny k hodnoty by měly poskytnout.</span><span class="sxs-lookup"><span data-stu-id="505c3-136">This table describes the purpose of each property in the sample environment-specific project file, *Env-Dev.proj*, and provides some guidance on the values you should provide.</span></span>


|                                                        <span data-ttu-id="505c3-137">Název vlastnosti</span><span class="sxs-lookup"><span data-stu-id="505c3-137">Property Name</span></span>                                                         |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <span data-ttu-id="505c3-138">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="505c3-138">Details</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
|------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|              <span data-ttu-id="505c3-139"><strong>MSDeployComputerName</strong> název cílového webového serveru nebo službě koncového bodu.</span><span class="sxs-lookup"><span data-stu-id="505c3-139"><strong>MSDeployComputerName</strong> The name of the destination web server or service endpoint.</span></span>               |                                                                                                                                                                                                                                              <span data-ttu-id="505c3-140">Pokud nasazujete službu vzdáleného agenta na cílový webový server, můžete zadat název cílového počítače (například <strong>TESTWEB1</strong> nebo <strong>TESTWEB1.fabrikam.net</strong>), nebo můžete zadat vzdálený koncový bod agenta (například `http://TESTWEB1/MSDEPLOYAGENTSERVICE`).</span><span class="sxs-lookup"><span data-stu-id="505c3-140">If you're deploying to the remote agent service on the destination web server, you can specify the target computer name (for example, <strong>TESTWEB1</strong> or <strong>TESTWEB1.fabrikam.net</strong>), or you can specify the remote agent endpoint (for example, `http://TESTWEB1/MSDEPLOYAGENTSERVICE`).</span></span> <span data-ttu-id="505c3-141">Nasazení funguje stejně v každém případě.</span><span class="sxs-lookup"><span data-stu-id="505c3-141">The deployment works the same way in each case.</span></span> <span data-ttu-id="505c3-142">Pokud nasazení provádíte do obslužné rutiny webu nasadit na cílový webový server, musí zadat koncový bod služby a obsahovat název webu služby IIS jako parametru řetězce dotazu (například `https://STAGEWEB1:8172/MSDeploy.axd?site=DemoSite`).</span><span class="sxs-lookup"><span data-stu-id="505c3-142">If you're deploying to the Web Deploy Handler on the destination web server, you should specify the service endpoint and include the name of the IIS website as a query string parameter (for example, `https://STAGEWEB1:8172/MSDeploy.axd?site=DemoSite`).</span></span>                                                                                                                                                                                                                                              |
|         <span data-ttu-id="505c3-143"><strong>MSDeployAuth</strong> metodu nasazení webu by měl používat k ověření na vzdáleném počítači.</span><span class="sxs-lookup"><span data-stu-id="505c3-143"><strong>MSDeployAuth</strong> The method that Web Deploy should use to authenticate to the remote computer.</span></span>          |                                                                                                                                                                                                                          <span data-ttu-id="505c3-144">To by mělo být nastavené <strong>NTLM</strong> nebo <strong>základní</strong>.</span><span class="sxs-lookup"><span data-stu-id="505c3-144">This should be set to <strong>NTLM</strong> or <strong>Basic</strong>.</span></span> <span data-ttu-id="505c3-145">Obvykle budete používat <strong>NTLM</strong> Pokud nasazení provádíte do služby vzdálený agent a <strong>základní</strong> Pokud nasazení provádíte do obslužné rutiny nasazení webu.</span><span class="sxs-lookup"><span data-stu-id="505c3-145">Typically, you'll use <strong>NTLM</strong> if you're deploying to the remote agent service and <strong>Basic</strong> if you're deploying to the Web Deploy Handler.</span></span> <span data-ttu-id="505c3-146">Pokud používáte základní ověřování, musíte také zadat uživatelské jméno a heslo, které nástroj nasazení webu služby IIS (Web Deploy) by měly vydávat se za účelem nasazení.</span><span class="sxs-lookup"><span data-stu-id="505c3-146">If you use basic authentication, you also need to specify the user name and password that the IIS Web Deployment Tool (Web Deploy) should impersonate in order to perform the deployment.</span></span> <span data-ttu-id="505c3-147">V tomto příkladu je zajišťována tyto hodnoty <strong>MSDeployUsername</strong> a <strong>MSDeployPassword</strong> vlastnosti.</span><span class="sxs-lookup"><span data-stu-id="505c3-147">In this example, these values are provided through the <strong>MSDeployUsername</strong> and <strong>MSDeployPassword</strong> properties.</span></span> <span data-ttu-id="505c3-148">Pokud používáte ověřování protokolem NTLM, můžete vynechat tyto vlastnosti nebo nechat prázdné.</span><span class="sxs-lookup"><span data-stu-id="505c3-148">If you use NTLM authentication, you can omit these properties or leave them blank.</span></span>                                                                                                                                                                                                                          |
| <span data-ttu-id="505c3-149"><strong>MSDeployUsername</strong> Pokud používáte základní ověřování, nasazení webu bude používat tento účet na vzdáleném počítači.</span><span class="sxs-lookup"><span data-stu-id="505c3-149"><strong>MSDeployUsername</strong> If you use basic authentication, Web Deploy will use this account on the remote computer.</span></span>  |                                                                                                                                                                                                                                                                                                                                                                                                                       <span data-ttu-id="505c3-150">To by měla mít podobu <em>domény</em>\*uživatelské jméno \* (například <strong>FABRIKAM\matt</strong>).</span><span class="sxs-lookup"><span data-stu-id="505c3-150">This should take the form <em>DOMAIN</em>\*username\* (for example, <strong>FABRIKAM\matt</strong>).</span></span> <span data-ttu-id="505c3-151">Tato hodnota se používá jenom při zadání základní ověřování.</span><span class="sxs-lookup"><span data-stu-id="505c3-151">This value is only used if you specify basic authentication.</span></span> <span data-ttu-id="505c3-152">Pokud používáte ověřování protokolem NTLM, vlastnost lze vynechat.</span><span class="sxs-lookup"><span data-stu-id="505c3-152">If you use NTLM authentication, the property can be omitted.</span></span> <span data-ttu-id="505c3-153">Pokud je zadána hodnota, bude se ignorovat.</span><span class="sxs-lookup"><span data-stu-id="505c3-153">If a value is supplied, it will be ignored.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                        |
| <span data-ttu-id="505c3-154"><strong>MSDeployPassword</strong> Pokud používáte základní ověřování, nasazení webu bude používat toto heslo na vzdáleném počítači.</span><span class="sxs-lookup"><span data-stu-id="505c3-154"><strong>MSDeployPassword</strong> If you use basic authentication, Web Deploy will use this password on the remote computer.</span></span> |                                                                                                                                                                                                                                                                                                                                                                                                                    <span data-ttu-id="505c3-155">Jedná se o heslo pro uživatelský účet, který jste zadali v <strong>MSDeployUsername</strong> vlastnost.</span><span class="sxs-lookup"><span data-stu-id="505c3-155">This is the password for the user account you specified in the <strong>MSDeployUsername</strong> property.</span></span> <span data-ttu-id="505c3-156">Tato hodnota se používá jenom při zadání základní ověřování.</span><span class="sxs-lookup"><span data-stu-id="505c3-156">This value is only used if you specify basic authentication.</span></span> <span data-ttu-id="505c3-157">Pokud používáte ověřování protokolem NTLM, vlastnost lze vynechat.</span><span class="sxs-lookup"><span data-stu-id="505c3-157">If you use NTLM authentication, the property can be omitted.</span></span> <span data-ttu-id="505c3-158">Pokud je zadána hodnota, bude se ignorovat.</span><span class="sxs-lookup"><span data-stu-id="505c3-158">If a value is supplied, it will be ignored.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                    |
|     <span data-ttu-id="505c3-159"><strong>ContactManagerIisPath</strong> ve službě IIS cesta, na kterém chcete nasadit aplikace MVC Správce kontaktů.</span><span class="sxs-lookup"><span data-stu-id="505c3-159"><strong>ContactManagerIisPath</strong> The IIS path on which you want to deploy the Contact Manager MVC application.</span></span>     |                                                                                                                                                                                                                                                                                                                                                                        <span data-ttu-id="505c3-160">Je třeba cesta, jak se zobrazuje ve Správci služby IIS ve formátu [<em>název webu služby IIS</em>] / [<em>webové</em><em>název_aplikace</em>].</span><span class="sxs-lookup"><span data-stu-id="505c3-160">This should be the path as it appears in IIS Manager, in the form [<em>IIS website name</em>]/[<em>web</em><em>application name</em>].</span></span> <span data-ttu-id="505c3-161">Mějte na paměti, že web služby IIS musí existovat před nasazením aplikace.</span><span class="sxs-lookup"><span data-stu-id="505c3-161">Remember that the IIS website needs to exist before you deploy your application.</span></span> <span data-ttu-id="505c3-162">Například pokud jste vytvořili na webu služby IIS s názvem DemoSite, budete moci zadat cestu ke službě IIS pro aplikaci MVC jako DemoSite/ContactManager.</span><span class="sxs-lookup"><span data-stu-id="505c3-162">For example, if you've created an IIS website named DemoSite, you could specify the IIS path for the MVC application as DemoSite/ContactManager.</span></span>                                                                                                                                                                                                                                                                                                                                                                        |
|   <span data-ttu-id="505c3-163"><strong>ContactManagerServiceIisPath</strong> ve službě IIS cesta, na kterém chcete nasadit službu WCF Správce kontaktů.</span><span class="sxs-lookup"><span data-stu-id="505c3-163"><strong>ContactManagerServiceIisPath</strong> The IIS path on which you want to deploy the Contact Manager WCF service.</span></span>    |                                                                                                                                                                                                                                                                                                                                                                                                                                                                          <span data-ttu-id="505c3-164">Například pokud jste vytvořili na webu služby IIS s názvem DemoSite, budete moci zadat cestu ke službě IIS pro službu WCF jako <strong>DemoSite/ContactManagerService</strong>.</span><span class="sxs-lookup"><span data-stu-id="505c3-164">For example, if you've created an IIS website named DemoSite, you could specify the IIS path for the WCF service as <strong>DemoSite/ContactManagerService</strong>.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
|                  <span data-ttu-id="505c3-165"><strong>ContactManagerTargetUrl</strong> adresa URL, na které se dá kontaktovat službu WCF.</span><span class="sxs-lookup"><span data-stu-id="505c3-165"><strong>ContactManagerTargetUrl</strong> The URL at which the WCF service can be reached.</span></span>                   |                                                                                                                                                     <span data-ttu-id="505c3-166">To bude mít podobu [<em>adresu URL kořenového webu služby IIS</em>] / [<em>název aplikace služby</em>] / [<em>koncový bod služby</em>].</span><span class="sxs-lookup"><span data-stu-id="505c3-166">This will take the form [<em>IIS website root URL</em>]/[<em>service application name</em>]/[<em>service endpoint</em>].</span></span> <span data-ttu-id="505c3-167">Například pokud jste vytvořili na webu služby IIS na portu 85, adresa URL by mít podobu `http://localhost:85/ContactManagerService/ContactService.svc`.</span><span class="sxs-lookup"><span data-stu-id="505c3-167">For example, if you've created an IIS website on port 85, the URL would take the form `http://localhost:85/ContactManagerService/ContactService.svc`.</span></span> <span data-ttu-id="505c3-168">Mějte na paměti, že aplikace MVC a služby WCF se nasadí na stejný server.</span><span class="sxs-lookup"><span data-stu-id="505c3-168">Remember that the MVC application and the WCF service are deployed to the same server.</span></span> <span data-ttu-id="505c3-169">V důsledku toho tato adresa URL vždy jen přistupovat z počítače, na kterém je nainstalována.</span><span class="sxs-lookup"><span data-stu-id="505c3-169">As a result, this URL is only ever accessed from the machine on which it's installed.</span></span> <span data-ttu-id="505c3-170">Z toho důvodu je vhodnější použít místního hostitele nebo IP adresu, nikoli název počítače nebo hlavičku hostitele v adrese URL.</span><span class="sxs-lookup"><span data-stu-id="505c3-170">Because of this, it's better to use localhost or the IP address, rather than the machine name or a host header, in the URL.</span></span> <span data-ttu-id="505c3-171">Pokud použijete název počítače nebo hlavičku hostitele [vrácení zpětné smyčky](https://go.microsoft.com/?linkid=9805131) funkce zabezpečení ve službě IIS může blokovat adresy URL a vrátit <strong>HTTP 401.1 – Neautorizováno</strong> chyby.</span><span class="sxs-lookup"><span data-stu-id="505c3-171">If you use the machine name or a host header, the [loopback check](https://go.microsoft.com/?linkid=9805131) security feature in IIS may block the URL and return an <strong>HTTP 401.1 - Unauthorized</strong> error.</span></span>                                                                                                                                                     |
|                  <span data-ttu-id="505c3-172"><strong>CmDatabaseConnectionString</strong> připojovací řetězec pro databázový server.</span><span class="sxs-lookup"><span data-stu-id="505c3-172"><strong>CmDatabaseConnectionString</strong> The connection string for the database server.</span></span>                  | <span data-ttu-id="505c3-173">Připojovací řetězec Určuje i přihlašovací údaje, které budou používat VSDBCMD kontaktovat server databáze a vytvořit databázi a přihlašovací údaje fondu aplikací webového serveru pomocí spojení se serverem databáze a interakci s databází.</span><span class="sxs-lookup"><span data-stu-id="505c3-173">The connection string determines both the credentials that VSDBCMD will use to contact the database server and create the database and the credentials that the web server application pool will use to contact the database server and interact with the database.</span></span> <span data-ttu-id="505c3-174">V podstatě máte dvě možnosti zde.</span><span class="sxs-lookup"><span data-stu-id="505c3-174">Essentially you have two choices here.</span></span> <span data-ttu-id="505c3-175">Můžete zadat <strong>Integrated Security = true</strong>, v takovém případě se používá integrované ověřování Windows: <strong>Zdroj dat = TESTDB1; Integrated Security = true</strong> v tomto případě se vytvoří databáze pomocí přihlašovacích údajů uživatele, který spustí spustitelný soubor VSDBCMD a aplikace bude přístup k databázi pomocí identity počítač webového serveru účet.</span><span class="sxs-lookup"><span data-stu-id="505c3-175">You can specify <strong>Integrated Security=true</strong>, in which case integrated Windows authentication is used: <strong>Data Source=TESTDB1;Integrated Security=true</strong> In this case, the database will be created using the credentials of the user who runs the VSDBCMD executable, and the application will access the database using the identity of the web server machine account.</span></span> <span data-ttu-id="505c3-176">Alternativně můžete zadat uživatelské jméno a heslo účtu systému SQL Server.</span><span class="sxs-lookup"><span data-stu-id="505c3-176">Alternatively, you can specify the user name and password of a SQL Server account.</span></span> <span data-ttu-id="505c3-177">V takovém případě se přihlašovací údaje SQL serveru používají VSDBCMD vytvoříte databázi i fond aplikací pro interakci s databází: <strong>Zdroj dat = TESTDB1; Id uživatele = ASqlUser; Heslo = Pa$ $w0rd</strong> názorné postupy v tomto tématu se předpokládá, že budete používat integrované ověřování Windows.</span><span class="sxs-lookup"><span data-stu-id="505c3-177">In this case, the SQL Server credentials are used both by VSDBCMD to create the database and by the application pool to interact with the database: <strong>Data Source=TESTDB1;User Id=ASqlUser; Password=Pa$$w0rd</strong> The walkthroughs in this topic assume that you'll use integrated Windows authentication.</span></span> |
|        <span data-ttu-id="505c3-178"><strong>CmTargetDatabase</strong> název, kterému chcete udělit databázi vytvoříte na serveru databáze.</span><span class="sxs-lookup"><span data-stu-id="505c3-178"><strong>CmTargetDatabase</strong> The name you want to give the database you'll create on the database server.</span></span>        |                                                                                                                                                                                                                                                                                                                                                                                                                                                     <span data-ttu-id="505c3-179">Hodnota, kterou tady zadáte, se přidá do příkazu VSDBCMD jako parametr.</span><span class="sxs-lookup"><span data-stu-id="505c3-179">The value you provide here is added to the VSDBCMD command as a parameter.</span></span> <span data-ttu-id="505c3-180">Používá se také sestavit úplný připojovací řetězec, fond aplikací na webovém serveru můžete použít k interakci s databází.</span><span class="sxs-lookup"><span data-stu-id="505c3-180">It's also used to build a full connection string that the application pool on the web server can use to interact with the database.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                     |

<span data-ttu-id="505c3-181">Tyto příklady ukazují, jak můžete konfigurovat tyto vlastnosti pro konkrétní scénáře nasazení.</span><span class="sxs-lookup"><span data-stu-id="505c3-181">These examples show how you might configure these properties for specific deployment scenarios.</span></span>

### <a name="example-1x2014deployment-to-the-remote-agent-service"></a><span data-ttu-id="505c3-182">Příklad 1&#x2014;nasazení tak, aby služba vzdáleného agenta</span><span class="sxs-lookup"><span data-stu-id="505c3-182">Example 1&#x2014;Deployment to the Remote Agent Service</span></span>

<span data-ttu-id="505c3-183">V tomto příkladu:</span><span class="sxs-lookup"><span data-stu-id="505c3-183">In this example:</span></span>

- <span data-ttu-id="505c3-184">Nasazujete do služby vzdálený agent na TESTWEB1.</span><span class="sxs-lookup"><span data-stu-id="505c3-184">You're deploying to the remote agent service on TESTWEB1.</span></span>
- <span data-ttu-id="505c3-185">Máte instruující, nasazení webu pro použití ověřování NTLM.</span><span class="sxs-lookup"><span data-stu-id="505c3-185">You're instructing Web Deploy to use NTLM authentication.</span></span> <span data-ttu-id="505c3-186">Nástroj nasazení webu se spustí pomocí přihlašovacích údajů, které jste použili k vyvolání Microsoft Build Engine (MSBuild).</span><span class="sxs-lookup"><span data-stu-id="505c3-186">Web Deploy will run using the credentials you used to invoke the Microsoft Build Engine (MSBuild).</span></span>
- <span data-ttu-id="505c3-187">Integrované ověřování používáte k nasazení **ContactManager** databáze TESTDB1.</span><span class="sxs-lookup"><span data-stu-id="505c3-187">You're using integrated authentication to deploy the **ContactManager** database to TESTDB1.</span></span> <span data-ttu-id="505c3-188">Databáze se nasadí pomocí přihlašovacích údajů, které jste použili k vyvolání MSBuild.</span><span class="sxs-lookup"><span data-stu-id="505c3-188">The database will be deployed using the credentials you used to invoke MSBuild.</span></span>


[!code-xml[Main](configuring-deployment-properties-for-a-target-environment/samples/sample1.xml)]


### <a name="example-2x2014deployment-to-the-web-deploy-handler-endpoint"></a><span data-ttu-id="505c3-189">Příklad 2&#x2014;nasazení na webu nasadit koncový bod obslužné rutiny</span><span class="sxs-lookup"><span data-stu-id="505c3-189">Example 2&#x2014;Deployment to the Web Deploy Handler Endpoint</span></span>

<span data-ttu-id="505c3-190">V tomto příkladu:</span><span class="sxs-lookup"><span data-stu-id="505c3-190">In this example:</span></span>

- <span data-ttu-id="505c3-191">Nasazujete do koncového bodu obslužná rutina nasazení webové služby v STAGEWEB1.</span><span class="sxs-lookup"><span data-stu-id="505c3-191">You're deploying to the Web Deploy Handler service endpoint on STAGEWEB1.</span></span>
- <span data-ttu-id="505c3-192">Máte instruující, Web Deploy používat základní ověřování.</span><span class="sxs-lookup"><span data-stu-id="505c3-192">You're instructing Web Deploy to use basic authentication.</span></span>
- <span data-ttu-id="505c3-193">Určujete, že nasazení webu by měl zosobnit účet FABRIKAM\stagingdeployer na vzdáleném počítači.</span><span class="sxs-lookup"><span data-stu-id="505c3-193">You're specifying that Web Deploy should impersonate the FABRIKAM\stagingdeployer account on the remote computer.</span></span>
- <span data-ttu-id="505c3-194">Ověřování serveru SQL Server používáte k nasazení **ContactManager** databáze STAGEDB1.</span><span class="sxs-lookup"><span data-stu-id="505c3-194">You're using SQL Server authentication to deploy the **ContactManager** database to STAGEDB1.</span></span>


[!code-xml[Main](configuring-deployment-properties-for-a-target-environment/samples/sample2.xml)]


## <a name="conclusion"></a><span data-ttu-id="505c3-195">Závěr</span><span class="sxs-lookup"><span data-stu-id="505c3-195">Conclusion</span></span>

<span data-ttu-id="505c3-196">V tomto okamžiku soubory projektu jsou plně nakonfigurované k vytvoření a nasazení řešení Správce kontaktů na jeden nebo více cílové prostředí.</span><span class="sxs-lookup"><span data-stu-id="505c3-196">At this point, your project files are fully configured to build and deploy the Contact Manager solution to one or more destination environments.</span></span>

<span data-ttu-id="505c3-197">Pokud chcete použít tyto soubory projektu jako součást procesu krokování a opakovatelným nasazení, je nutné provést *Publish.proj* soubor pomocí nástroje MSBuild a předejte mu umístění souboru projektu pro konkrétní prostředí jako parametr.</span><span class="sxs-lookup"><span data-stu-id="505c3-197">To use these project files as part of a single-step, repeatable deployment process, you need to execute the *Publish.proj* file using MSBuild and pass in the location of the environment-specific project file as a parameter.</span></span> <span data-ttu-id="505c3-198">Můžete to provést různými způsoby:</span><span class="sxs-lookup"><span data-stu-id="505c3-198">You can do this in various ways:</span></span>

- <span data-ttu-id="505c3-199">Přehled nástroje MSBuild a úvod do projektu vlastní soubory, naleznete v tématu [vysvětlení souboru projektu](../web-deployment-in-the-enterprise/understanding-the-project-file.md).</span><span class="sxs-lookup"><span data-stu-id="505c3-199">For an overview of MSBuild and an introduction to custom project files, see [Understanding the Project File](../web-deployment-in-the-enterprise/understanding-the-project-file.md).</span></span>
- <span data-ttu-id="505c3-200">Informace o tom, jak formulovat pomocí příkazu MSBuild, který provede vlastní soubory, naleznete v tématu [nasazení webových balíčků](../web-deployment-in-the-enterprise/deploying-web-packages.md).</span><span class="sxs-lookup"><span data-stu-id="505c3-200">For information on how to formulate an MSBuild command that executes your custom project files, see [Deploying Web Packages](../web-deployment-in-the-enterprise/deploying-web-packages.md).</span></span>
- <span data-ttu-id="505c3-201">Informace o tom, jak začlenit MSBuild příkazů do souboru příkazů krokování a opakovatelným nasazení najdete v tématu [vytvořením a spuštěním souboru příkazů k nasazení](../web-deployment-in-the-enterprise/creating-and-running-a-deployment-command-file.md).</span><span class="sxs-lookup"><span data-stu-id="505c3-201">For information on how to incorporate your MSBuild commands into a command file for single-step, repeatable deployments, see [Creating and Running a Deployment Command File](../web-deployment-in-the-enterprise/creating-and-running-a-deployment-command-file.md).</span></span>
- <span data-ttu-id="505c3-202">Informace o tom, jak provést vlastní projektu soubory z nástroje týmové sestavení, naleznete v tématu [vytvoření definice sestavení nasazení podporuje](../configuring-team-foundation-server-for-web-deployment/creating-a-build-definition-that-supports-deployment.md).</span><span class="sxs-lookup"><span data-stu-id="505c3-202">For information on how to execute your custom project files from Team Build, see [Creating a Build Definition that Supports Deployment](../configuring-team-foundation-server-for-web-deployment/creating-a-build-definition-that-supports-deployment.md).</span></span>

> [!div class="step-by-step"]
> [<span data-ttu-id="505c3-203">Předchozí</span><span class="sxs-lookup"><span data-stu-id="505c3-203">Previous</span></span>](creating-a-server-farm-with-the-web-farm-framework.md)
