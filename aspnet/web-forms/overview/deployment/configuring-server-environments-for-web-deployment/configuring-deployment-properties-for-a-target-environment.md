---
uid: web-forms/overview/deployment/configuring-server-environments-for-web-deployment/configuring-deployment-properties-for-a-target-environment
title: Konfigurace vlastností nasazení pro cílové prostředí | Microsoft Docs
author: jrjlee
description: Toto téma popisuje, jak nakonfigurovat vlastnosti specifické pro prostředí za účelem nasazení ukázkového řešení Contact Manageru do konkrétního cílového prostředí...
ms.author: riande
ms.date: 05/04/2012
ms.assetid: b5b86e03-b8ed-46e6-90fa-e1da88ef34e9
msc.legacyurl: /web-forms/overview/deployment/configuring-server-environments-for-web-deployment/configuring-deployment-properties-for-a-target-environment
msc.type: authoredcontent
ms.openlocfilehash: 9742be7d718384c1b108d5f2c0c43e8e8d4fe8a9
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 03/06/2020
ms.locfileid: "78636442"
---
# <a name="configuring-deployment-properties-for-a-target-environment"></a><span data-ttu-id="ee949-103">Konfigurace vlastností nasazeného cílového prostředí</span><span class="sxs-lookup"><span data-stu-id="ee949-103">Configuring Deployment Properties for a Target Environment</span></span>

<span data-ttu-id="ee949-104">od [Jason Novák](https://github.com/jrjlee)</span><span class="sxs-lookup"><span data-stu-id="ee949-104">by [Jason Lee](https://github.com/jrjlee)</span></span>

[<span data-ttu-id="ee949-105">Stáhnout PDF</span><span class="sxs-lookup"><span data-stu-id="ee949-105">Download PDF</span></span>](https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/63/56/8130.DeployingWebAppsInEnterpriseScenarios.pdf)

> <span data-ttu-id="ee949-106">Toto téma popisuje, jak nakonfigurovat vlastnosti specifické pro prostředí, aby bylo možné nasadit ukázkové řešení Contact Manageru do konkrétního cílového prostředí.</span><span class="sxs-lookup"><span data-stu-id="ee949-106">This topic describes how to configure environment-specific properties in order to deploy the sample Contact Manager solution to a specific target environment.</span></span>

<span data-ttu-id="ee949-107">Toto téma je součástí série kurzů založených na požadavcích podnikového nasazení fiktivní společnosti s názvem Fabrikam, Inc. Tato série kurzů používá ukázkové řešení&#x2014;, pomocí kterého řešení [](../web-deployment-in-the-enterprise/the-contact-manager-solution.md) &#x2014;správce kontaktů představuje webovou aplikaci s realistickou úrovní složitosti, včetně aplikace ASP.NET MVC 3, služby Windows Communication Foundation (WCF) a databázového projektu.</span><span class="sxs-lookup"><span data-stu-id="ee949-107">This topic forms part of a series of tutorials based around the enterprise deployment requirements of a fictional company named Fabrikam, Inc. This tutorial series uses a sample solution&#x2014;the [Contact Manager](../web-deployment-in-the-enterprise/the-contact-manager-solution.md) solution&#x2014;to represent a web application with a realistic level of complexity, including an ASP.NET MVC 3 application, a Windows Communication Foundation (WCF) service, and a database project.</span></span>

<span data-ttu-id="ee949-108">Metoda nasazení na srdce těchto výukových programů je založena na způsobu sestavení rozděleného projektu popsaných v tématu [Principy procesu sestavení](../web-deployment-in-the-enterprise/understanding-the-build-process.md), ve kterém je proces sestavení řízen dvěma soubory&#x2014;projektu jeden, který obsahuje pokyny pro sestavení, které platí pro každé cílové prostředí, a jedno obsahující nastavení sestavení a nasazení specifické pro prostředí.</span><span class="sxs-lookup"><span data-stu-id="ee949-108">The deployment method at the heart of these tutorials is based on the split project file approach described in [Understanding the Build Process](../web-deployment-in-the-enterprise/understanding-the-build-process.md), in which the build process is controlled by two project files&#x2014;one containing build instructions that apply to every destination environment, and one containing environment-specific build and deployment settings.</span></span> <span data-ttu-id="ee949-109">V době sestavení je soubor projektu specifický pro prostředí sloučen do souboru projektu prostředí – nezávislá a vytvoří kompletní sadu instrukcí pro sestavení.</span><span class="sxs-lookup"><span data-stu-id="ee949-109">At build time, the environment-specific project file is merged into the environment-agnostic project file to form a complete set of build instructions.</span></span>

## <a name="process-overview"></a><span data-ttu-id="ee949-110">Přehled procesu</span><span class="sxs-lookup"><span data-stu-id="ee949-110">Process Overview</span></span>

<span data-ttu-id="ee949-111">Soubor projektu, který budete používat k sestavení a nasazení řešení Contact Manager, je rozdělen do dvou fyzických souborů:</span><span class="sxs-lookup"><span data-stu-id="ee949-111">The project file that you'll use to build and deploy the Contact Manager solution is split into two physical files:</span></span>

- <span data-ttu-id="ee949-112">Ten, který obsahuje nastavení a pokyny pro univerzální sestavení (soubor *Publish. proj* ).</span><span class="sxs-lookup"><span data-stu-id="ee949-112">One that contains universal build settings and instructions (the *Publish.proj* file).</span></span>
- <span data-ttu-id="ee949-113">Ten, který obsahuje nastavení sestavení specifické pro prostředí (*ENV-dev. proj*, *ENV-Stage. proj atd.* ).</span><span class="sxs-lookup"><span data-stu-id="ee949-113">One that contains environment-specific build settings (*Env-Dev.proj*, *Env-Stage.proj*, and so on).</span></span>

<span data-ttu-id="ee949-114">V době sestavování se odpovídající soubor projektu specifický pro prostředí sloučí do souboru Universal *Publish. proj* a vytvoří kompletní sadu instrukcí pro sestavení.</span><span class="sxs-lookup"><span data-stu-id="ee949-114">At build time, the appropriate environment-specific project file is merged into the universal *Publish.proj* file to form a complete set of build instructions.</span></span> <span data-ttu-id="ee949-115">Nasazení můžete nakonfigurovat na konkrétní cílová prostředí tím, že vytvoříte nebo upravíte soubory projektu specifické pro prostředí s nastavením, které popisují vlastní scénář nasazení.</span><span class="sxs-lookup"><span data-stu-id="ee949-115">You can configure deployment to specific destination environments by creating or customizing environment-specific project files with settings that describe your own deployment scenario.</span></span>

<span data-ttu-id="ee949-116">Spousta těchto hodnot se určuje podle toho, jak je vaše cílové&#x2014;prostředí nakonfigurováno zejména v případě, že váš cílový webový server je nakonfigurován tak, aby používal službu Web Deployment Agent Service (vzdálený Agent) nebo obslužnou rutinu nasazení webu.</span><span class="sxs-lookup"><span data-stu-id="ee949-116">Lots of these values are determined by how your destination environment is configured&#x2014;in particular, whether your target web server is configured to use the Web Deployment Agent Service (the remote agent) or the Web Deploy Handler.</span></span> <span data-ttu-id="ee949-117">Další informace o těchto přístupů a pokyny k výběru správného přístupu pro vlastní prostředí najdete v tématu [Volba správného přístupu k nasazení webu](choosing-the-right-approach-to-web-deployment.md).</span><span class="sxs-lookup"><span data-stu-id="ee949-117">For more information on these approaches, and for guidance on choosing the right approach for your own environment, see [Choosing the Right Approach to Web Deployment](choosing-the-right-approach-to-web-deployment.md).</span></span>

<span data-ttu-id="ee949-118">[Scénář správce kontaktů](../deploying-web-applications-in-enterprise-scenarios/enterprise-web-deployment-scenario-overview.md) vyžaduje dva soubory projektu specifické pro prostředí:</span><span class="sxs-lookup"><span data-stu-id="ee949-118">The [Contact Manager scenario](../deploying-web-applications-in-enterprise-scenarios/enterprise-web-deployment-scenario-overview.md) requires two environment-specific project files:</span></span>

- <span data-ttu-id="ee949-119">Nasazení do testovacího prostředí pro vývojáře (*ENV-dev. proj*).</span><span class="sxs-lookup"><span data-stu-id="ee949-119">Deployment to a developer test environment (*Env-Dev.proj*).</span></span> <span data-ttu-id="ee949-120">Vývojové prostředí pro vývojáře je nakonfigurované tak, aby přijímalo vzdálená nasazení pomocí vzdáleného agenta, jak je popsáno v tématu [scénář: konfigurace testovacího prostředí pro nasazení webu](scenario-configuring-a-test-environment-for-web-deployment.md).</span><span class="sxs-lookup"><span data-stu-id="ee949-120">The developer test environment is configured to accept remote deployments using the remote agent, as described in [Scenario: Configuring a Test Environment for Web Deployment](scenario-configuring-a-test-environment-for-web-deployment.md).</span></span> <span data-ttu-id="ee949-121">Tento soubor musí poskytovat adresu koncového bodu vzdáleného agenta a také nastavení specifická pro umístění, jako jsou připojovací řetězce a koncové body služby.</span><span class="sxs-lookup"><span data-stu-id="ee949-121">This file needs to provide the remote agent endpoint address as well as location-specific settings like connection strings and service endpoints.</span></span>
- <span data-ttu-id="ee949-122">Nasazení do přípravného prostředí (*ENV-Stage. proj*).</span><span class="sxs-lookup"><span data-stu-id="ee949-122">Deployment to a staging environment (*Env-Stage.proj*).</span></span> <span data-ttu-id="ee949-123">Pracovní prostředí je nakonfigurované tak, aby přijímalo vzdálená nasazení pomocí obslužné rutiny Nasazení webu, jak je popsáno v tématu [scénář: Konfigurace přípravného prostředí pro nasazení webu](scenario-configuring-a-staging-environment-for-web-deployment.md).</span><span class="sxs-lookup"><span data-stu-id="ee949-123">The staging environment is configured to accept remote deployments using the Web Deploy Handler, as described in [Scenario: Configuring a Staging Environment for Web Deployment](scenario-configuring-a-staging-environment-for-web-deployment.md).</span></span> <span data-ttu-id="ee949-124">Tento soubor musí poskytovat adresu koncového bodu obslužné rutiny Nasazení webu a také nastavení specifická pro umístění, jako jsou připojovací řetězce a koncové body služby.</span><span class="sxs-lookup"><span data-stu-id="ee949-124">This file needs to provide the Web Deploy Handler endpoint address as well as location-specific settings like connection strings and service endpoints.</span></span>

<span data-ttu-id="ee949-125">Je důležité si uvědomit, že nastavení, které nakonfigurujete v souboru projektu konkrétního prostředí, neovlivní místo toho obsah samotného&#x2014;webového balíčku, řídí způsob nasazení balíčku a informace o tom, jaké hodnoty parametrů jsou při extrakci balíčku k dispozici.</span><span class="sxs-lookup"><span data-stu-id="ee949-125">It's important to note that the settings you configure in the environment-specific project file don't affect the contents of the web package itself&#x2014;instead, they control how the package is deployed and what parameter values are provided when the package is extracted.</span></span> <span data-ttu-id="ee949-126">Webový balíček importujete do produkčního prostředí ručně, jak je popsáno v části [scénář: Konfigurace produkčního prostředí pro nasazení webu](scenario-configuring-a-production-environment-for-web-deployment.md) a [Ruční instalace webových balíčků](../web-deployment-in-the-enterprise/manually-installing-web-packages.md), takže nezáleží na tom, jaká nastavení jste použili v souboru projektu specifického pro prostředí při vygenerování balíčku.</span><span class="sxs-lookup"><span data-stu-id="ee949-126">You're importing the web package into the production environment manually, as described in [Scenario: Configuring a Production Environment for Web Deployment](scenario-configuring-a-production-environment-for-web-deployment.md) and [Manually Installing Web Packages](../web-deployment-in-the-enterprise/manually-installing-web-packages.md), so it doesn't matter what settings you used in the environment-specific project file when you generated the package.</span></span> <span data-ttu-id="ee949-127">Správce služby Internetová informační služba (IIS) vás po importu balíčku vyzve k zadání parametrizovaných hodnot, jako jsou připojovací řetězce a koncové body služby.</span><span class="sxs-lookup"><span data-stu-id="ee949-127">Internet Information Services (IIS) Manager will prompt you for any parameterized values, like connection strings and service endpoints, when you import the package.</span></span>

<span data-ttu-id="ee949-128">K nasazení řešení Contact Manageru do vlastního cílového prostředí můžete tento soubor přizpůsobit nebo ho použít jako šablonu a vytvořit vlastní soubor.</span><span class="sxs-lookup"><span data-stu-id="ee949-128">To deploy the Contact Manager solution to your own target environment, you can either customize this file or use it as a template and create your own file.</span></span>

<span data-ttu-id="ee949-129">**Konfigurace nastavení nasazení specifických pro konkrétní prostředí pro řešení Správce kontaktů**</span><span class="sxs-lookup"><span data-stu-id="ee949-129">**To configure environment-specific deployment settings for the Contact Manager solution**</span></span>

1. <span data-ttu-id="ee949-130">Otevřete řešení ContactManager-WCF v aplikaci Visual Studio 2010.</span><span class="sxs-lookup"><span data-stu-id="ee949-130">Open the ContactManager-WCF solution in Visual Studio 2010.</span></span>
2. <span data-ttu-id="ee949-131">V okně **Průzkumník řešení** rozbalte složku **publikovat** , rozbalte složku **EnvConfig** a dvakrát klikněte na položku **env. dev. proj**.</span><span class="sxs-lookup"><span data-stu-id="ee949-131">In the **Solution Explorer** window, expand the **Publish** folder, expand the **EnvConfig** folder, and then double-click **Env-Dev.proj**.</span></span>

    ![](configuring-deployment-properties-for-a-target-environment/_static/image1.png)
3. <span data-ttu-id="ee949-132">Hodnoty vlastností v souboru *. proj pro vývoj ENV* nahraďte správnými hodnotami pro vlastní testovací prostředí.</span><span class="sxs-lookup"><span data-stu-id="ee949-132">Replace the property values in the *Env-Dev.proj* file with the correct values for your own test environment.</span></span>

    > [!NOTE]
    > <span data-ttu-id="ee949-133">Tabulka, která následuje tento postup, poskytuje další informace o každé z těchto vlastností.</span><span class="sxs-lookup"><span data-stu-id="ee949-133">The table that follows this procedure provides more information on each of these properties.</span></span>
4. <span data-ttu-id="ee949-134">Uložte svou práci a pak zavřete soubor *ENV-dev. proj* .</span><span class="sxs-lookup"><span data-stu-id="ee949-134">Save your work, and then close the *Env-Dev.proj* file.</span></span>

## <a name="choosing-the-right-deployment-properties"></a><span data-ttu-id="ee949-135">Výběr správných vlastností nasazení</span><span class="sxs-lookup"><span data-stu-id="ee949-135">Choosing the Right Deployment Properties</span></span>

<span data-ttu-id="ee949-136">Tato tabulka popisuje účel jednotlivých vlastností v ukázkovém souboru projektu specifického pro prostředí, *ENV-dev. proj*a poskytuje některé doprovodné materiály k hodnotám, které byste měli poskytnout.</span><span class="sxs-lookup"><span data-stu-id="ee949-136">This table describes the purpose of each property in the sample environment-specific project file, *Env-Dev.proj*, and provides some guidance on the values you should provide.</span></span>

|                                                        <span data-ttu-id="ee949-137">Název vlastnosti</span><span class="sxs-lookup"><span data-stu-id="ee949-137">Property Name</span></span>                                                         |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <span data-ttu-id="ee949-138">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="ee949-138">Details</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
|------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|              <span data-ttu-id="ee949-139"><strong>MSDeployComputerName</strong> Název cílového webového serveru nebo koncového bodu služby.</span><span class="sxs-lookup"><span data-stu-id="ee949-139"><strong>MSDeployComputerName</strong> The name of the destination web server or service endpoint.</span></span>               |                                                                                                                                                                                                                                              <span data-ttu-id="ee949-140">Pokud nasazujete do služby Remote Agent na cílovém webovém serveru, můžete zadat název cílového počítače (například <strong>TESTWEB1</strong> nebo <strong>TESTWEB1.fabrikam.NET</strong>), nebo můžete zadat koncový bod vzdáleného agenta (například `http://TESTWEB1/MSDEPLOYAGENTSERVICE`).</span><span class="sxs-lookup"><span data-stu-id="ee949-140">If you're deploying to the remote agent service on the destination web server, you can specify the target computer name (for example, <strong>TESTWEB1</strong> or <strong>TESTWEB1.fabrikam.net</strong>), or you can specify the remote agent endpoint (for example, `http://TESTWEB1/MSDEPLOYAGENTSERVICE`).</span></span> <span data-ttu-id="ee949-141">Nasazení funguje v každém případě stejným způsobem.</span><span class="sxs-lookup"><span data-stu-id="ee949-141">The deployment works the same way in each case.</span></span> <span data-ttu-id="ee949-142">Pokud nasazujete do obslužné rutiny Nasazení webu na cílovém webovém serveru, měli byste zadat koncový bod služby a zahrnout název webu IIS jako parametr řetězce dotazu (například `https://STAGEWEB1:8172/MSDeploy.axd?site=DemoSite`).</span><span class="sxs-lookup"><span data-stu-id="ee949-142">If you're deploying to the Web Deploy Handler on the destination web server, you should specify the service endpoint and include the name of the IIS website as a query string parameter (for example, `https://STAGEWEB1:8172/MSDeploy.axd?site=DemoSite`).</span></span>                                                                                                                                                                                                                                              |
|         <span data-ttu-id="ee949-143"><strong>MSDeployAuth</strong> Metoda, kterou Nasazení webu použít k ověření na vzdáleném počítači.</span><span class="sxs-lookup"><span data-stu-id="ee949-143"><strong>MSDeployAuth</strong> The method that Web Deploy should use to authenticate to the remote computer.</span></span>          |                                                                                                                                                                                                                          <span data-ttu-id="ee949-144">To by mělo být nastavené na <strong>NTLM</strong> nebo <strong>Basic</strong>.</span><span class="sxs-lookup"><span data-stu-id="ee949-144">This should be set to <strong>NTLM</strong> or <strong>Basic</strong>.</span></span> <span data-ttu-id="ee949-145">Pokud nasazujete do obslužné rutiny Nasazení webu, použijete <strong>protokol NTLM</strong> , pokud nasazujete do služby Remote Agent a <strong>Basic</strong> .</span><span class="sxs-lookup"><span data-stu-id="ee949-145">Typically, you'll use <strong>NTLM</strong> if you're deploying to the remote agent service and <strong>Basic</strong> if you're deploying to the Web Deploy Handler.</span></span> <span data-ttu-id="ee949-146">Pokud používáte základní ověřování, musíte také zadat uživatelské jméno a heslo, které má nástroj pro nasazení webu služby IIS (Nasazení webu) zosobnit, aby bylo možné provést nasazení.</span><span class="sxs-lookup"><span data-stu-id="ee949-146">If you use basic authentication, you also need to specify the user name and password that the IIS Web Deployment Tool (Web Deploy) should impersonate in order to perform the deployment.</span></span> <span data-ttu-id="ee949-147">V tomto příkladu jsou tyto hodnoty poskytovány prostřednictvím vlastností <strong>MSDeployUsername</strong> a <strong>MSDeployPassword</strong> .</span><span class="sxs-lookup"><span data-stu-id="ee949-147">In this example, these values are provided through the <strong>MSDeployUsername</strong> and <strong>MSDeployPassword</strong> properties.</span></span> <span data-ttu-id="ee949-148">Pokud používáte ověřování NTLM, můžete tyto vlastnosti vynechat nebo je nechat prázdné.</span><span class="sxs-lookup"><span data-stu-id="ee949-148">If you use NTLM authentication, you can omit these properties or leave them blank.</span></span>                                                                                                                                                                                                                          |
| <span data-ttu-id="ee949-149"><strong>MSDeployUsername</strong> Pokud použijete základní ověřování, Nasazení webu tento účet použít na vzdáleném počítači.</span><span class="sxs-lookup"><span data-stu-id="ee949-149"><strong>MSDeployUsername</strong> If you use basic authentication, Web Deploy will use this account on the remote computer.</span></span>  |                                                                                                                                                                                                                                                                                                                                                                                                                       <span data-ttu-id="ee949-150">To by mělo mít formu <em>\*username</em> \* (například <strong>FABRIKAM\matt</strong>).</span><span class="sxs-lookup"><span data-stu-id="ee949-150">This should take the form <em>DOMAIN</em>\*username\* (for example, <strong>FABRIKAM\matt</strong>).</span></span> <span data-ttu-id="ee949-151">Tato hodnota se používá pouze v případě, že zadáte základní ověřování.</span><span class="sxs-lookup"><span data-stu-id="ee949-151">This value is only used if you specify basic authentication.</span></span> <span data-ttu-id="ee949-152">Pokud používáte ověřování NTLM, může být vlastnost vynechána.</span><span class="sxs-lookup"><span data-stu-id="ee949-152">If you use NTLM authentication, the property can be omitted.</span></span> <span data-ttu-id="ee949-153">Pokud je zadána hodnota, bude ignorována.</span><span class="sxs-lookup"><span data-stu-id="ee949-153">If a value is supplied, it will be ignored.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                        |
| <span data-ttu-id="ee949-154"><strong>MSDeployPassword</strong> Použijete-li základní ověřování, Nasazení webu bude toto heslo používat na vzdáleném počítači.</span><span class="sxs-lookup"><span data-stu-id="ee949-154"><strong>MSDeployPassword</strong> If you use basic authentication, Web Deploy will use this password on the remote computer.</span></span> |                                                                                                                                                                                                                                                                                                                                                                                                                    <span data-ttu-id="ee949-155">Toto je heslo pro uživatelský účet, který jste zadali ve vlastnosti <strong>MSDeployUsername</strong> .</span><span class="sxs-lookup"><span data-stu-id="ee949-155">This is the password for the user account you specified in the <strong>MSDeployUsername</strong> property.</span></span> <span data-ttu-id="ee949-156">Tato hodnota se používá pouze v případě, že zadáte základní ověřování.</span><span class="sxs-lookup"><span data-stu-id="ee949-156">This value is only used if you specify basic authentication.</span></span> <span data-ttu-id="ee949-157">Pokud používáte ověřování NTLM, může být vlastnost vynechána.</span><span class="sxs-lookup"><span data-stu-id="ee949-157">If you use NTLM authentication, the property can be omitted.</span></span> <span data-ttu-id="ee949-158">Pokud je zadána hodnota, bude ignorována.</span><span class="sxs-lookup"><span data-stu-id="ee949-158">If a value is supplied, it will be ignored.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                    |
|     <span data-ttu-id="ee949-159"><strong>ContactManagerIisPath</strong> Cesta služby IIS, na které chcete nasadit aplikaci MVC správce kontaktů.</span><span class="sxs-lookup"><span data-stu-id="ee949-159"><strong>ContactManagerIisPath</strong> The IIS path on which you want to deploy the Contact Manager MVC application.</span></span>     |                                                                                                                                                                                                                                                                                                                                                                        <span data-ttu-id="ee949-160">Mělo by se jednat o cestu, která se zobrazí ve Správci služby IIS, ve formě [<em>název webu IIS</em>]/[název<em>webové</em><em>aplikace</em>].</span><span class="sxs-lookup"><span data-stu-id="ee949-160">This should be the path as it appears in IIS Manager, in the form [<em>IIS website name</em>]/[<em>web</em><em>application name</em>].</span></span> <span data-ttu-id="ee949-161">Nezapomeňte, že web IIS musí existovat před nasazením aplikace.</span><span class="sxs-lookup"><span data-stu-id="ee949-161">Remember that the IIS website needs to exist before you deploy your application.</span></span> <span data-ttu-id="ee949-162">Pokud jste například vytvořili web služby IIS s názvem DemoSite, mohli byste zadat cestu služby IIS pro aplikaci MVC jako DemoSite/ContactManager.</span><span class="sxs-lookup"><span data-stu-id="ee949-162">For example, if you've created an IIS website named DemoSite, you could specify the IIS path for the MVC application as DemoSite/ContactManager.</span></span>                                                                                                                                                                                                                                                                                                                                                                        |
|   <span data-ttu-id="ee949-163"><strong>ContactManagerServiceIisPath</strong> Cesta služby IIS, na které chcete nasadit službu WCF Contact Manager.</span><span class="sxs-lookup"><span data-stu-id="ee949-163"><strong>ContactManagerServiceIisPath</strong> The IIS path on which you want to deploy the Contact Manager WCF service.</span></span>    |                                                                                                                                                                                                                                                                                                                                                                                                                                                                          <span data-ttu-id="ee949-164">Pokud jste například vytvořili web služby IIS s názvem DemoSite, mohli byste zadat cestu služby WCF pro službu WCF jako <strong>DemoSite/ContactManagerService</strong>.</span><span class="sxs-lookup"><span data-stu-id="ee949-164">For example, if you've created an IIS website named DemoSite, you could specify the IIS path for the WCF service as <strong>DemoSite/ContactManagerService</strong>.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
|                  <span data-ttu-id="ee949-165"><strong>ContactManagerTargetUrl</strong> Adresa URL, na které je možné dosáhnout služby WCF.</span><span class="sxs-lookup"><span data-stu-id="ee949-165"><strong>ContactManagerTargetUrl</strong> The URL at which the WCF service can be reached.</span></span>                   |                                                                                                                                                     <span data-ttu-id="ee949-166">Tato akce bude mít formu [<em>kořenová adresa URL webu IIS</em>]/[<em>název aplikace služby</em>]/[<em>koncový bod služby</em>].</span><span class="sxs-lookup"><span data-stu-id="ee949-166">This will take the form [<em>IIS website root URL</em>]/[<em>service application name</em>]/[<em>service endpoint</em>].</span></span> <span data-ttu-id="ee949-167">Pokud jste například vytvořili web služby IIS na portu 85, adresa URL by měla podobu `http://localhost:85/ContactManagerService/ContactService.svc`.</span><span class="sxs-lookup"><span data-stu-id="ee949-167">For example, if you've created an IIS website on port 85, the URL would take the form `http://localhost:85/ContactManagerService/ContactService.svc`.</span></span> <span data-ttu-id="ee949-168">Pamatujte, že aplikace MVC a služba WCF jsou nasazeny na stejný server.</span><span class="sxs-lookup"><span data-stu-id="ee949-168">Remember that the MVC application and the WCF service are deployed to the same server.</span></span> <span data-ttu-id="ee949-169">V důsledku toho je tato adresa URL dostupná jenom z počítače, na kterém je nainstalovaná.</span><span class="sxs-lookup"><span data-stu-id="ee949-169">As a result, this URL is only ever accessed from the machine on which it's installed.</span></span> <span data-ttu-id="ee949-170">Z tohoto důvodu je vhodnější místo názvu počítače nebo hlavičky hostitele v adrese URL používat localhost nebo IP adresu.</span><span class="sxs-lookup"><span data-stu-id="ee949-170">Because of this, it's better to use localhost or the IP address, rather than the machine name or a host header, in the URL.</span></span> <span data-ttu-id="ee949-171">Použijete-li název počítače nebo hlavičku hostitele, funkce zabezpečení [kontroly zpětné smyčky](https://go.microsoft.com/?linkid=9805131) ve službě IIS může adresu URL blokovat a vracet chybu <strong>HTTP 401,1 – Neautorizováno</strong> .</span><span class="sxs-lookup"><span data-stu-id="ee949-171">If you use the machine name or a host header, the [loopback check](https://go.microsoft.com/?linkid=9805131) security feature in IIS may block the URL and return an <strong>HTTP 401.1 - Unauthorized</strong> error.</span></span>                                                                                                                                                     |
|                  <span data-ttu-id="ee949-172"><strong>CmDatabaseConnectionString</strong> Připojovací řetězec pro databázový server.</span><span class="sxs-lookup"><span data-stu-id="ee949-172"><strong>CmDatabaseConnectionString</strong> The connection string for the database server.</span></span>                  | <span data-ttu-id="ee949-173">Připojovací řetězec určuje jak přihlašovací údaje, které bude VSDBCMD používat pro kontaktování databázového serveru, a vytvoření databáze a přihlašovací údaje, které fond aplikací webového serveru použije pro kontaktování databázového serveru a interakci s databází.</span><span class="sxs-lookup"><span data-stu-id="ee949-173">The connection string determines both the credentials that VSDBCMD will use to contact the database server and create the database and the credentials that the web server application pool will use to contact the database server and interact with the database.</span></span> <span data-ttu-id="ee949-174">V podstatě máte dvě možnosti.</span><span class="sxs-lookup"><span data-stu-id="ee949-174">Essentially you have two choices here.</span></span> <span data-ttu-id="ee949-175">Můžete zadat <strong>Integrated Security = true</strong>. v takovém případě se používá integrované ověřování systému Windows: <strong>data source = TESTDB1; Integrated Security = true</strong> v tomto případě bude databáze vytvořena pomocí pověření uživatele, který spouští spustitelný soubor VSDBCMD, a aplikace bude přistupovat k databázi pomocí identity účtu počítače webového serveru.</span><span class="sxs-lookup"><span data-stu-id="ee949-175">You can specify <strong>Integrated Security=true</strong>, in which case integrated Windows authentication is used: <strong>Data Source=TESTDB1;Integrated Security=true</strong> In this case, the database will be created using the credentials of the user who runs the VSDBCMD executable, and the application will access the database using the identity of the web server machine account.</span></span> <span data-ttu-id="ee949-176">Případně můžete zadat uživatelské jméno a heslo účtu SQL Server.</span><span class="sxs-lookup"><span data-stu-id="ee949-176">Alternatively, you can specify the user name and password of a SQL Server account.</span></span> <span data-ttu-id="ee949-177">V tomto případě se přihlašovací údaje SQL Server používají VSDBCMD k vytvoření databáze a fondu aplikací pro interakci s databází: <strong>data source = TESTDB1; ID uživatele = ASqlUser; Password = PA $ $w 0rd</strong> postupy v tomto tématu předpokládají, že budete používat integrované ověřování systému Windows.</span><span class="sxs-lookup"><span data-stu-id="ee949-177">In this case, the SQL Server credentials are used both by VSDBCMD to create the database and by the application pool to interact with the database: <strong>Data Source=TESTDB1;User Id=ASqlUser; Password=Pa$$w0rd</strong> The walkthroughs in this topic assume that you'll use integrated Windows authentication.</span></span> |
|        <span data-ttu-id="ee949-178"><strong>CmTargetDatabase</strong> Název, který chcete databázi poskytnout, vytvoříte na databázovém serveru.</span><span class="sxs-lookup"><span data-stu-id="ee949-178"><strong>CmTargetDatabase</strong> The name you want to give the database you'll create on the database server.</span></span>        |                                                                                                                                                                                                                                                                                                                                                                                                                                                     <span data-ttu-id="ee949-179">Hodnota, kterou zde zadáte, se přidá do příkazu VSDBCMD jako parametr.</span><span class="sxs-lookup"><span data-stu-id="ee949-179">The value you provide here is added to the VSDBCMD command as a parameter.</span></span> <span data-ttu-id="ee949-180">Používá se také k vytvoření úplného připojovacího řetězce, který může fond aplikací na webovém serveru použít k interakci s databází.</span><span class="sxs-lookup"><span data-stu-id="ee949-180">It's also used to build a full connection string that the application pool on the web server can use to interact with the database.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                     |

<span data-ttu-id="ee949-181">Tyto příklady vám ukážou, jak můžete tyto vlastnosti nakonfigurovat pro konkrétní scénáře nasazení.</span><span class="sxs-lookup"><span data-stu-id="ee949-181">These examples show how you might configure these properties for specific deployment scenarios.</span></span>

### <a name="example-1x2014deployment-to-the-remote-agent-service"></a><span data-ttu-id="ee949-182">Příklad 1&#x2014;nasazení na službu vzdáleného agenta</span><span class="sxs-lookup"><span data-stu-id="ee949-182">Example 1&#x2014;Deployment to the Remote Agent Service</span></span>

<span data-ttu-id="ee949-183">V tomto příkladu:</span><span class="sxs-lookup"><span data-stu-id="ee949-183">In this example:</span></span>

- <span data-ttu-id="ee949-184">Nasazujete do služby Remote Agent v TESTWEB1.</span><span class="sxs-lookup"><span data-stu-id="ee949-184">You're deploying to the remote agent service on TESTWEB1.</span></span>
- <span data-ttu-id="ee949-185">Řídíte Nasazení webu, že se má používat ověřování NTLM.</span><span class="sxs-lookup"><span data-stu-id="ee949-185">You're instructing Web Deploy to use NTLM authentication.</span></span> <span data-ttu-id="ee949-186">Nasazení webu se spustí s použitím přihlašovacích údajů, které jste použili k vyvolání Microsoft Build Engine (MSBuild).</span><span class="sxs-lookup"><span data-stu-id="ee949-186">Web Deploy will run using the credentials you used to invoke the Microsoft Build Engine (MSBuild).</span></span>
- <span data-ttu-id="ee949-187">Pomocí integrovaného ověřování nasadíte databázi **ContactManager** do TESTDB1.</span><span class="sxs-lookup"><span data-stu-id="ee949-187">You're using integrated authentication to deploy the **ContactManager** database to TESTDB1.</span></span> <span data-ttu-id="ee949-188">Databáze bude nasazena s použitím přihlašovacích údajů, které jste použili k vyvolání nástroje MSBuild.</span><span class="sxs-lookup"><span data-stu-id="ee949-188">The database will be deployed using the credentials you used to invoke MSBuild.</span></span>

[!code-xml[Main](configuring-deployment-properties-for-a-target-environment/samples/sample1.xml)]

### <a name="example-2x2014deployment-to-the-web-deploy-handler-endpoint"></a><span data-ttu-id="ee949-189">Příklad 2&#x2014;nasazení na koncový bod obslužné rutiny nasazení webu</span><span class="sxs-lookup"><span data-stu-id="ee949-189">Example 2&#x2014;Deployment to the Web Deploy Handler Endpoint</span></span>

<span data-ttu-id="ee949-190">V tomto příkladu:</span><span class="sxs-lookup"><span data-stu-id="ee949-190">In this example:</span></span>

- <span data-ttu-id="ee949-191">Nasazujete do koncového bodu služby obslužné rutiny Nasazení webu v STAGEWEB1.</span><span class="sxs-lookup"><span data-stu-id="ee949-191">You're deploying to the Web Deploy Handler service endpoint on STAGEWEB1.</span></span>
- <span data-ttu-id="ee949-192">Řídíte Nasazení webu, že se má používat základní ověřování.</span><span class="sxs-lookup"><span data-stu-id="ee949-192">You're instructing Web Deploy to use basic authentication.</span></span>
- <span data-ttu-id="ee949-193">Určujete, že Nasazení webu by měl zosobnit účet FABRIKAM\stagingdeployer na vzdáleném počítači.</span><span class="sxs-lookup"><span data-stu-id="ee949-193">You're specifying that Web Deploy should impersonate the FABRIKAM\stagingdeployer account on the remote computer.</span></span>
- <span data-ttu-id="ee949-194">Pomocí ověřování SQL Server nasadíte databázi **ContactManager** do STAGEDB1.</span><span class="sxs-lookup"><span data-stu-id="ee949-194">You're using SQL Server authentication to deploy the **ContactManager** database to STAGEDB1.</span></span>

[!code-xml[Main](configuring-deployment-properties-for-a-target-environment/samples/sample2.xml)]

## <a name="conclusion"></a><span data-ttu-id="ee949-195">Závěr</span><span class="sxs-lookup"><span data-stu-id="ee949-195">Conclusion</span></span>

<span data-ttu-id="ee949-196">V tuto chvíli jsou soubory projektu plně nakonfigurované pro sestavení a nasazení řešení Contact Manageru do jednoho nebo více cílových prostředí.</span><span class="sxs-lookup"><span data-stu-id="ee949-196">At this point, your project files are fully configured to build and deploy the Contact Manager solution to one or more destination environments.</span></span>

<span data-ttu-id="ee949-197">Chcete-li použít tyto soubory projektu jako součást jednoduchého a opakujícího se procesu nasazení, je nutné spustit soubor *Publish. proj* pomocí nástroje MSBuild a předat do umístění soubor projektu specifický pro prostředí jako parametr.</span><span class="sxs-lookup"><span data-stu-id="ee949-197">To use these project files as part of a single-step, repeatable deployment process, you need to execute the *Publish.proj* file using MSBuild and pass in the location of the environment-specific project file as a parameter.</span></span> <span data-ttu-id="ee949-198">Můžete to udělat různými způsoby:</span><span class="sxs-lookup"><span data-stu-id="ee949-198">You can do this in various ways:</span></span>

- <span data-ttu-id="ee949-199">Přehled nástroje MSBuild a Úvod do vlastních souborů projektu naleznete v tématu [Principy souboru projektu](../web-deployment-in-the-enterprise/understanding-the-project-file.md).</span><span class="sxs-lookup"><span data-stu-id="ee949-199">For an overview of MSBuild and an introduction to custom project files, see [Understanding the Project File](../web-deployment-in-the-enterprise/understanding-the-project-file.md).</span></span>
- <span data-ttu-id="ee949-200">Informace o tom, jak formulovat příkaz MSBuild, který spouští vaše vlastní soubory projektu, najdete v tématu [nasazení webových balíčků](../web-deployment-in-the-enterprise/deploying-web-packages.md).</span><span class="sxs-lookup"><span data-stu-id="ee949-200">For information on how to formulate an MSBuild command that executes your custom project files, see [Deploying Web Packages](../web-deployment-in-the-enterprise/deploying-web-packages.md).</span></span>
- <span data-ttu-id="ee949-201">Informace o tom, jak začlenit příkazy nástroje MSBuild do souboru příkazů pro jedno a opakující se nasazení, naleznete v tématu [Vytvoření a spuštění souboru příkazů nasazení](../web-deployment-in-the-enterprise/creating-and-running-a-deployment-command-file.md).</span><span class="sxs-lookup"><span data-stu-id="ee949-201">For information on how to incorporate your MSBuild commands into a command file for single-step, repeatable deployments, see [Creating and Running a Deployment Command File](../web-deployment-in-the-enterprise/creating-and-running-a-deployment-command-file.md).</span></span>
- <span data-ttu-id="ee949-202">Informace o tom, jak spustit vlastní soubory projektu z týmového sestavení, naleznete v tématu [Vytvoření definice sestavení, která podporuje nasazení](../configuring-team-foundation-server-for-web-deployment/creating-a-build-definition-that-supports-deployment.md).</span><span class="sxs-lookup"><span data-stu-id="ee949-202">For information on how to execute your custom project files from Team Build, see [Creating a Build Definition that Supports Deployment](../configuring-team-foundation-server-for-web-deployment/creating-a-build-definition-that-supports-deployment.md).</span></span>

> [!div class="step-by-step"]
> [<span data-ttu-id="ee949-203">Předchozí</span><span class="sxs-lookup"><span data-stu-id="ee949-203">Previous</span></span>](creating-a-server-farm-with-the-web-farm-framework.md)
