---
uid: web-forms/overview/deployment/web-deployment-in-the-enterprise/deploying-web-packages
title: Nasazení webových balíčků | Microsoft Docs
author: jrjlee
description: Toto téma popisuje, jak můžete publikovat balíčky pro nasazení webu na vzdáleném serveru pomocí nástroje pro nasazení webu Internetová informační služba (IIS) (Web...
ms.author: riande
ms.date: 05/04/2012
ms.assetid: a5c5eed2-8683-40a5-a2e1-35c9f8d17c29
msc.legacyurl: /web-forms/overview/deployment/web-deployment-in-the-enterprise/deploying-web-packages
msc.type: authoredcontent
ms.openlocfilehash: 91b99e6e250342851aea6860164b6f6af54818d1
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 03/06/2020
ms.locfileid: "78575948"
---
# <a name="deploying-web-packages"></a><span data-ttu-id="5a1c3-103">Nasazení webových balíčků</span><span class="sxs-lookup"><span data-stu-id="5a1c3-103">Deploying Web Packages</span></span>

<span data-ttu-id="5a1c3-104">od [Jason Novák](https://github.com/jrjlee)</span><span class="sxs-lookup"><span data-stu-id="5a1c3-104">by [Jason Lee](https://github.com/jrjlee)</span></span>

[<span data-ttu-id="5a1c3-105">Stáhnout PDF</span><span class="sxs-lookup"><span data-stu-id="5a1c3-105">Download PDF</span></span>](https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/63/56/8130.DeployingWebAppsInEnterpriseScenarios.pdf)

> <span data-ttu-id="5a1c3-106">Toto téma popisuje, jak můžete publikovat balíčky pro nasazení webu na vzdáleném serveru pomocí nástroje pro nasazení webu Internetová informační služba (IIS) (Nasazení webu) 2,0.</span><span class="sxs-lookup"><span data-stu-id="5a1c3-106">This topic describes how you can publish web deployment packages to a remote server by using the Internet Information Services (IIS) Web Deployment Tool (Web Deploy) 2.0.</span></span>
> 
> <span data-ttu-id="5a1c3-107">Existují dva hlavní způsoby, kterými můžete nasadit webový balíček na vzdálený server:</span><span class="sxs-lookup"><span data-stu-id="5a1c3-107">There are two main ways in which you can deploy a web package to a remote server:</span></span>
> 
> - <span data-ttu-id="5a1c3-108">Můžete použít nástroj příkazového řádku MSDeploy. exe přímo.</span><span class="sxs-lookup"><span data-stu-id="5a1c3-108">You can use the MSDeploy.exe command-line utility directly.</span></span>
> - <span data-ttu-id="5a1c3-109">Můžete spustit soubor *[název projektu]. deploy. cmd* , který generuje proces sestavení.</span><span class="sxs-lookup"><span data-stu-id="5a1c3-109">You can run the *[project name].deploy.cmd* file that the build process generates.</span></span>
> 
> <span data-ttu-id="5a1c3-110">Konečný výsledek je stejný bez ohledu na to, který přístup používáte.</span><span class="sxs-lookup"><span data-stu-id="5a1c3-110">The end result is the same regardless of which approach you use.</span></span> <span data-ttu-id="5a1c3-111">V podstatě se souborem *. deploy. cmd* spouští soubor MSDeploy. exe s některými předem určenými hodnotami, takže nemusíte poskytovat tolik informací, než aby bylo možné balíček nasadit.</span><span class="sxs-lookup"><span data-stu-id="5a1c3-111">Essentially, all the *.deploy.cmd* file does is to run MSDeploy.exe with some predetermined values, so that you don't have to provide as much information in order to deploy the package.</span></span> <span data-ttu-id="5a1c3-112">Tím se zjednoduší proces nasazení.</span><span class="sxs-lookup"><span data-stu-id="5a1c3-112">This simplifies the deployment process.</span></span> <span data-ttu-id="5a1c3-113">Na druhé straně použití souboru MSDeploy. exe přímo přináší větší flexibilitu nad přesně tím, jak je balíček nasazený.</span><span class="sxs-lookup"><span data-stu-id="5a1c3-113">On the other hand, using MSDeploy.exe directly gives you a lot more flexibility over exactly how your package is deployed.</span></span>
> 
> <span data-ttu-id="5a1c3-114">To, jaký přístup použijete, bude záviset na nejrůznějších faktorech, včetně toho, kolik ovládacích prvků vyžadujete v rámci procesu nasazení a zda cílíte na Nasazení webu službu vzdáleného agenta nebo obslužnou rutinu Nasazení webu.</span><span class="sxs-lookup"><span data-stu-id="5a1c3-114">Which approach you use will depend on a variety of factors, including how much control you require over the deployment process and whether you're targeting the Web Deploy Remote Agent service or the Web Deploy Handler.</span></span> <span data-ttu-id="5a1c3-115">Toto téma vysvětluje, jak použít jednotlivé postupy a které identifikují, kdy je každý přístup vhodný.</span><span class="sxs-lookup"><span data-stu-id="5a1c3-115">This topic explains how to use each approach and identifies when each approach is appropriate.</span></span>
> 
> <span data-ttu-id="5a1c3-116">V úlohách a návodech v tomto tématu se předpokládá, že:</span><span class="sxs-lookup"><span data-stu-id="5a1c3-116">The tasks and walkthroughs in this topic assume that:</span></span>
> 
> - <span data-ttu-id="5a1c3-117">Vaše webová aplikace je sestavená a zabalená, jak je popsáno v tématu [sestavování a balení projektů webových aplikací](building-and-packaging-web-application-projects.md).</span><span class="sxs-lookup"><span data-stu-id="5a1c3-117">You've built and packaged your web application, as described in [Building and Packaging Web Application Projects](building-and-packaging-web-application-projects.md).</span></span>
> - <span data-ttu-id="5a1c3-118">Změnili jste soubor *SetParameters. XML* , který poskytuje správné hodnoty parametrů pro cílové prostředí, jak je popsáno v tématu [Konfigurace parametrů pro nasazení webového balíčku](configuring-parameters-for-web-package-deployment.md).</span><span class="sxs-lookup"><span data-stu-id="5a1c3-118">You've modified the *SetParameters.xml* file to provide the right parameter values for your target environment, as described in [Configuring Parameters for Web Package Deployment](configuring-parameters-for-web-package-deployment.md).</span></span>

<span data-ttu-id="5a1c3-119">Spuštění souboru [*název projektu*] *. deploy. cmd* je nejjednodušší způsob, jak nasadit webový balíček.</span><span class="sxs-lookup"><span data-stu-id="5a1c3-119">Running the [*project name*]*.deploy.cmd* file is the simplest way to deploy a web package.</span></span> <span data-ttu-id="5a1c3-120">Konkrétně použití souboru *. deploy. cmd* nabízí tyto výhody při použití nástroje msdeploy. exe přímo:</span><span class="sxs-lookup"><span data-stu-id="5a1c3-120">In particular, using the *.deploy.cmd* file offers these advantages over using MSDeploy.exe directly:</span></span>

- <span data-ttu-id="5a1c3-121">Není nutné zadávat umístění balíčku&#x2014;pro nasazení webu. *Deploy. cmd* již ví, kde se nachází.</span><span class="sxs-lookup"><span data-stu-id="5a1c3-121">You don't need to specify the location of the web deployment package&#x2014;the *.deploy.cmd* file already knows where it is.</span></span>
- <span data-ttu-id="5a1c3-122">Nemusíte určovat umístění souboru&#x2014; *SetParameters. XML* , který soubor *. deploy. cmd* již ví, kde je.</span><span class="sxs-lookup"><span data-stu-id="5a1c3-122">You don't need to specify the location of the *SetParameters.xml* file&#x2014;the *.deploy.cmd* file already knows where it is.</span></span>
- <span data-ttu-id="5a1c3-123">Nemusíte určovat zdrojový a cílový poskytovatelé&#x2014;MSDeploy, který soubor *. deploy. cmd* už ví, které hodnoty se mají použít.</span><span class="sxs-lookup"><span data-stu-id="5a1c3-123">You don't need to specify source and destination MSDeploy providers&#x2014;the *.deploy.cmd* file already knows which values to use.</span></span>
- <span data-ttu-id="5a1c3-124">Nemusíte určovat nastavení&#x2014;operace MSDeploy. soubor *. deploy. cmd* přidá obvykle požadované hodnoty do příkazu MSDeploy. exe automaticky.</span><span class="sxs-lookup"><span data-stu-id="5a1c3-124">You don't need to specify MSDeploy operation settings&#x2014;the *.deploy.cmd* file adds the commonly required values to the MSDeploy.exe command automatically.</span></span>

<span data-ttu-id="5a1c3-125">Předtím, než použijete soubor *. deploy. cmd* k nasazení webového balíčku, je nutné zajistit, aby:</span><span class="sxs-lookup"><span data-stu-id="5a1c3-125">Before you use the *.deploy.cmd* file to deploy a web package, you should ensure that:</span></span>

- <span data-ttu-id="5a1c3-126">Soubor *. deploy. cmd* , [*název projektu*]. *SetParameters. XML* soubor a webový balíček ([*název projektu*]. *zip*) jsou ve stejné složce.</span><span class="sxs-lookup"><span data-stu-id="5a1c3-126">The *.deploy.cmd* file, the [*project name*].*SetParameters.xml* file, and the web package ([*project name*].*zip*) are in the same folder.</span></span>
- <span data-ttu-id="5a1c3-127">V počítači se spuštěným souborem *. deploy. cmd* je nainstalovaná nasazení webu (msdeploy. exe).</span><span class="sxs-lookup"><span data-stu-id="5a1c3-127">Web Deploy (MSDeploy.exe) is installed on the computer that runs the *.deploy.cmd* file.</span></span>

<span data-ttu-id="5a1c3-128">Soubor *. deploy. cmd* podporuje různé možnosti příkazového řádku.</span><span class="sxs-lookup"><span data-stu-id="5a1c3-128">The *.deploy.cmd* file supports various command-line options.</span></span> <span data-ttu-id="5a1c3-129">Když soubor spustíte z příkazového řádku, jedná se o základní syntaxi:</span><span class="sxs-lookup"><span data-stu-id="5a1c3-129">When you run the file from a command prompt, this is the basic syntax:</span></span>

[!code-console[Main](deploying-web-packages/samples/sample1.cmd)]

<span data-ttu-id="5a1c3-130">Je nutné zadat příznak **/t** nebo příznak **/y** , aby bylo možné určit, zda chcete provést zkušební spuštění nebo živé nasazení (nepoužívejte oba příznaky ve stejném příkazu).</span><span class="sxs-lookup"><span data-stu-id="5a1c3-130">You must specify either a **/T** flag or a **/Y** flag, to indicate whether you want to perform a trial run or a live deployment respectively (don't use both flags in the same command).</span></span> <span data-ttu-id="5a1c3-131">Tato tabulka vysvětluje účel každého z těchto příznaků.</span><span class="sxs-lookup"><span data-stu-id="5a1c3-131">This table explains the purpose of each of these flags.</span></span>

| <span data-ttu-id="5a1c3-132">Příznak</span><span class="sxs-lookup"><span data-stu-id="5a1c3-132">Flag</span></span> | <span data-ttu-id="5a1c3-133">Popis</span><span class="sxs-lookup"><span data-stu-id="5a1c3-133">Description</span></span> |
| --- | --- |
| <span data-ttu-id="5a1c3-134">**Parametr**</span><span class="sxs-lookup"><span data-stu-id="5a1c3-134">**/T**</span></span> | <span data-ttu-id="5a1c3-135">Volá MSDeploy. exe s příznakem **-whatIf** , který indikuje zkušební běh.</span><span class="sxs-lookup"><span data-stu-id="5a1c3-135">Calls MSDeploy.exe with the **–whatif** flag, which indicates a trial run.</span></span> <span data-ttu-id="5a1c3-136">Místo nasazení balíčku vytvoří zprávu o tom, co se stane, když jste balíček nasadili.</span><span class="sxs-lookup"><span data-stu-id="5a1c3-136">Rather than deploying the package, it creates a report of what would happen if you did deploy the package.</span></span> |
| <span data-ttu-id="5a1c3-137">**/Y**</span><span class="sxs-lookup"><span data-stu-id="5a1c3-137">**/Y**</span></span> | <span data-ttu-id="5a1c3-138">Zavolá MSDeploy. exe bez příznaku **– whatIf** .</span><span class="sxs-lookup"><span data-stu-id="5a1c3-138">Calls MSDeploy.exe without the **–whatif** flag.</span></span> <span data-ttu-id="5a1c3-139">Tím se balíček nasadí do místního počítače nebo na určený cílový server.</span><span class="sxs-lookup"><span data-stu-id="5a1c3-139">This deploys the package to the local computer or the specified destination server.</span></span> |
| <span data-ttu-id="5a1c3-140">**Řetězec**</span><span class="sxs-lookup"><span data-stu-id="5a1c3-140">**/M**</span></span> | <span data-ttu-id="5a1c3-141">Určuje název cílového serveru nebo adresu URL služby.</span><span class="sxs-lookup"><span data-stu-id="5a1c3-141">Specifies the destination server name or service URL.</span></span> <span data-ttu-id="5a1c3-142">Další informace o hodnotách, které tady můžete zadat, najdete v části věnované **hlediskům koncových bodů** v tomto tématu.</span><span class="sxs-lookup"><span data-stu-id="5a1c3-142">For more information on the values you can provide here, see the **Endpoint Considerations** section in this topic.</span></span> <span data-ttu-id="5a1c3-143">Pokud vynecháte příznak **/m** , balíček se nasadí do místního počítače.</span><span class="sxs-lookup"><span data-stu-id="5a1c3-143">If you omit the **/M** flag, the package will be deployed to the local computer.</span></span> |
| <span data-ttu-id="5a1c3-144">**Parametr**</span><span class="sxs-lookup"><span data-stu-id="5a1c3-144">**/A**</span></span> | <span data-ttu-id="5a1c3-145">Určuje typ ověřování, který má soubor MSDeploy. exe použít k provedení nasazení.</span><span class="sxs-lookup"><span data-stu-id="5a1c3-145">Specifies the authentication type that MSDeploy.exe should use to perform the deployment.</span></span> <span data-ttu-id="5a1c3-146">Možné hodnoty jsou **NTLM** a **Basic**.</span><span class="sxs-lookup"><span data-stu-id="5a1c3-146">Possible values are **NTLM** and **Basic**.</span></span> <span data-ttu-id="5a1c3-147">Pokud vynecháte příznak **/a** , typ ověřování se ve výchozím nastavení použije na **NTLM** pro nasazení do služby nasazení webu vzdáleného agenta a na **Basic** pro nasazení do nasazení webu obslužné rutiny.</span><span class="sxs-lookup"><span data-stu-id="5a1c3-147">If you omit the **/A** flag, the authentication type defaults to **NTLM** for deployment to the Web Deploy Remote Agent service and to **Basic** for deployment to the Web Deploy Handler.</span></span> |
| <span data-ttu-id="5a1c3-148">**Přepínač**</span><span class="sxs-lookup"><span data-stu-id="5a1c3-148">**/U**</span></span> | <span data-ttu-id="5a1c3-149">Určuje uživatelské jméno.</span><span class="sxs-lookup"><span data-stu-id="5a1c3-149">Specifies the user name.</span></span> <span data-ttu-id="5a1c3-150">To platí jenom v případě, že používáte základní ověřování.</span><span class="sxs-lookup"><span data-stu-id="5a1c3-150">This applies only if you're using basic authentication.</span></span> |
| <span data-ttu-id="5a1c3-151">**/P**</span><span class="sxs-lookup"><span data-stu-id="5a1c3-151">**/P**</span></span> | <span data-ttu-id="5a1c3-152">Určuje heslo.</span><span class="sxs-lookup"><span data-stu-id="5a1c3-152">Specifies the password.</span></span> <span data-ttu-id="5a1c3-153">To platí jenom v případě, že používáte základní ověřování.</span><span class="sxs-lookup"><span data-stu-id="5a1c3-153">This applies only if you're using basic authentication.</span></span> |
| <span data-ttu-id="5a1c3-154">**/L**</span><span class="sxs-lookup"><span data-stu-id="5a1c3-154">**/L**</span></span> | <span data-ttu-id="5a1c3-155">Označuje, že balíček by měl být nasazený do místní instance IIS Express.</span><span class="sxs-lookup"><span data-stu-id="5a1c3-155">Indicates that the package should be deployed to the local IIS Express instance.</span></span> |
| <span data-ttu-id="5a1c3-156">**/G**</span><span class="sxs-lookup"><span data-stu-id="5a1c3-156">**/G**</span></span> | <span data-ttu-id="5a1c3-157">Určuje, že je balíček nasazený pomocí [Nastavení poskytovatele tempAgent](https://technet.microsoft.com/library/ee517345(WS.10).aspx).</span><span class="sxs-lookup"><span data-stu-id="5a1c3-157">Specifies that the package is deployed using the [tempAgent provider setting](https://technet.microsoft.com/library/ee517345(WS.10).aspx).</span></span> <span data-ttu-id="5a1c3-158">Vynecháte-li příznak **/g** , hodnota je nastavena na hodnotu **false**.</span><span class="sxs-lookup"><span data-stu-id="5a1c3-158">If you omit the **/G** flag, the value defaults to **false**.</span></span> |

> [!NOTE]
> <span data-ttu-id="5a1c3-159">Pokaždé, když proces sestavení vytvoří webový balíček, vytvoří také soubor s názvem *[název projektu]. deploy-Readme. txt* , který tyto možnosti nasazení vysvětluje.</span><span class="sxs-lookup"><span data-stu-id="5a1c3-159">Every time the build process creates a web package, it also creates a file named *[project name].deploy-readme.txt* that explains these deployment options.</span></span>

<span data-ttu-id="5a1c3-160">Kromě těchto příznaků můžete zadat nastavení operace Nasazení webu jako další parametry *. deploy. cmd* .</span><span class="sxs-lookup"><span data-stu-id="5a1c3-160">In addition to these flags, you can specify Web Deploy operation settings as additional *.deploy.cmd* parameters.</span></span> <span data-ttu-id="5a1c3-161">Všechna další nastavení, která zadáte, se jednoduše přenesou do základního příkazu MSDeploy. exe.</span><span class="sxs-lookup"><span data-stu-id="5a1c3-161">Any additional settings you specify are simply passed through to the underlying MSDeploy.exe command.</span></span> <span data-ttu-id="5a1c3-162">Další informace o těchto nastaveních najdete v tématu [nastavení operace nasazení webu](https://technet.microsoft.com/library/dd569089(WS.10).aspx).</span><span class="sxs-lookup"><span data-stu-id="5a1c3-162">For more information on these settings, see [Web Deploy Operation Settings](https://technet.microsoft.com/library/dd569089(WS.10).aspx).</span></span>

<span data-ttu-id="5a1c3-163">Předpokládejme, že chcete nasadit projekt webové aplikace ContactManager. Mvc do testovacího prostředí spuštěním souboru *. deploy. cmd* .</span><span class="sxs-lookup"><span data-stu-id="5a1c3-163">Suppose you want to deploy the ContactManager.Mvc web application project to a test environment by running the *.deploy.cmd* file.</span></span> <span data-ttu-id="5a1c3-164">Vaše testovací prostředí je nakonfigurované tak, aby používalo službu Nasazení webu Remote Agent, jak je popsáno v tématu [Konfigurace webového serveru pro nasazení webu publikování (vzdálený Agent)](../configuring-server-environments-for-web-deployment/configuring-a-web-server-for-web-deploy-publishing-remote-agent.md).</span><span class="sxs-lookup"><span data-stu-id="5a1c3-164">Your test environment is configured to use the Web Deploy Remote Agent service, as described in [Configure a Web Server for Web Deploy Publishing (Remote Agent)](../configuring-server-environments-for-web-deployment/configuring-a-web-server-for-web-deploy-publishing-remote-agent.md).</span></span> <span data-ttu-id="5a1c3-165">Chcete-li nasadit webovou aplikaci, je nutné provést následující kroky.</span><span class="sxs-lookup"><span data-stu-id="5a1c3-165">To deploy the web application, you need to complete the next steps.</span></span>

<span data-ttu-id="5a1c3-166">**Nasazení webové aplikace pomocí souboru. deploy. cmd**</span><span class="sxs-lookup"><span data-stu-id="5a1c3-166">**To deploy a web application using the .deploy.cmd file**</span></span>

1. <span data-ttu-id="5a1c3-167">Sestavte a zabalit projekt webové aplikace, jak je popsáno v tématu [sestavování a balení projektů webových aplikací](building-and-packaging-web-application-projects.md).</span><span class="sxs-lookup"><span data-stu-id="5a1c3-167">Build and package the web application project, as described in [Building and Packaging Web Application Projects](building-and-packaging-web-application-projects.md).</span></span>
2. <span data-ttu-id="5a1c3-168">Upravte soubor *ContactManager. Mvc. SetParameters. XML* tak, aby obsahoval správné hodnoty parametrů pro testovací prostředí, jak je popsáno v tématu [Konfigurace parametrů pro nasazení webového balíčku](configuring-parameters-for-web-package-deployment.md).</span><span class="sxs-lookup"><span data-stu-id="5a1c3-168">Modify the *ContactManager.Mvc.SetParameters.xml* file to contain the correct parameter values for your test environment, as described in [Configuring Parameters for Web Package Deployment](configuring-parameters-for-web-package-deployment.md).</span></span>
3. <span data-ttu-id="5a1c3-169">Otevřete okno příkazového řádku a přejděte do umístění souboru *ContactManager. Mvc. deploy. cmd* .</span><span class="sxs-lookup"><span data-stu-id="5a1c3-169">Open a Command Prompt window and navigate to the location of the *ContactManager.Mvc.deploy.cmd* file.</span></span>
4. <span data-ttu-id="5a1c3-170">Zadejte tento příkaz a stiskněte klávesu ENTER:</span><span class="sxs-lookup"><span data-stu-id="5a1c3-170">Type this command, and then press Enter:</span></span>

    [!code-console[Main](deploying-web-packages/samples/sample2.cmd)]

<span data-ttu-id="5a1c3-171">V tomto příkladu:</span><span class="sxs-lookup"><span data-stu-id="5a1c3-171">In this example:</span></span>

- <span data-ttu-id="5a1c3-172">Příznak **/y** označuje, že chcete balíček skutečně nasadit, nikoli provést zkušební spuštění.</span><span class="sxs-lookup"><span data-stu-id="5a1c3-172">The **/Y** flag indicates that you want to actually deploy the package, rather than doing a trial run.</span></span>
- <span data-ttu-id="5a1c3-173">Příznak **/m** označuje, že chcete balíček nasadit na server s názvem TESTWEB1.</span><span class="sxs-lookup"><span data-stu-id="5a1c3-173">The **/M** flag indicates that you want to deploy the package to the server named TESTWEB1.</span></span> <span data-ttu-id="5a1c3-174">Z této hodnoty se nástroj MSDeploy. exe pokusí nasadit balíček do služby Nasazení webu Vzdálený agent na http://TESTWEB1/MSDeployAgentService.</span><span class="sxs-lookup"><span data-stu-id="5a1c3-174">From this value, MSDeploy.exe will attempt to deploy the package to the Web Deploy Remote Agent service at http://TESTWEB1/MSDeployAgentService.</span></span>
- <span data-ttu-id="5a1c3-175">Příznak **/a** označuje, že chcete použít ověřování NTLM.</span><span class="sxs-lookup"><span data-stu-id="5a1c3-175">The **/A** flag indicates that you want to use NTLM authentication.</span></span> <span data-ttu-id="5a1c3-176">V takovém případě nemusíte zadávat uživatelské jméno a heslo.</span><span class="sxs-lookup"><span data-stu-id="5a1c3-176">As such, you don't need to specify a user name and password.</span></span>

<span data-ttu-id="5a1c3-177">K ilustraci, jak použít soubor *. deploy. cmd* zjednodušuje proces nasazení, se podívejte na příkaz msdeploy. exe, který se vygeneroval a spustí při spuštění *ContactManager. Mvc. deploy. cmd* pomocí výše uvedených možností.</span><span class="sxs-lookup"><span data-stu-id="5a1c3-177">To illustrate how using the *.deploy.cmd* file simplifies the deployment process, take a look at the MSDeploy.exe command that gets generated and executed when you run *ContactManager.Mvc.deploy.cmd* using the options shown above.</span></span>

[!code-console[Main](deploying-web-packages/samples/sample3.cmd)]

<span data-ttu-id="5a1c3-178">Další informace o použití souboru *. deploy. cmd* pro nasazení webového balíčku naleznete v tématu [How to: install a Deployment Package by using a Deploy. cmd File](https://msdn.microsoft.com/library/ff356104.aspx).</span><span class="sxs-lookup"><span data-stu-id="5a1c3-178">For more information on using the *.deploy.cmd* file to deploy a web package, see [How to: Install a Deployment Package Using the deploy.cmd File](https://msdn.microsoft.com/library/ff356104.aspx).</span></span>

## <a name="using-msdeployexe"></a><span data-ttu-id="5a1c3-179">Použití souboru MSDeploy. exe</span><span class="sxs-lookup"><span data-stu-id="5a1c3-179">Using MSDeploy.exe</span></span>

<span data-ttu-id="5a1c3-180">I když použití souboru *. deploy. cmd* obecně zjednodušuje proces nasazení, existují situace, kdy je vhodnější použít soubor MSDeploy. exe přímo.</span><span class="sxs-lookup"><span data-stu-id="5a1c3-180">Although using the *.deploy.cmd* file generally simplifies the deployment process, there are some situations when it's preferable to use MSDeploy.exe directly.</span></span> <span data-ttu-id="5a1c3-181">Příklad:</span><span class="sxs-lookup"><span data-stu-id="5a1c3-181">For example:</span></span>

- <span data-ttu-id="5a1c3-182">Pokud chcete nasadit do obslužné rutiny Nasazení webu jako uživatel bez oprávnění správce, nemůžete použít soubor *. deploy. cmd* .</span><span class="sxs-lookup"><span data-stu-id="5a1c3-182">If you want to deploy to the Web Deploy Handler as a non-administrator user, you can't use the *.deploy.cmd* file.</span></span> <span data-ttu-id="5a1c3-183">Důvodem je chyba v Nasazení webu 2,0, jak je popsáno v části **požadavky na koncový bod**.</span><span class="sxs-lookup"><span data-stu-id="5a1c3-183">This is due to a bug in Web Deploy 2.0, as described under **Endpoint Considerations**.</span></span>
- <span data-ttu-id="5a1c3-184">Pokud chcete ručně přepínat mezi různými soubory *SetParameters. XML* v různých umístěních, můžete chtít použít soubor MSDeploy. exe přímo.</span><span class="sxs-lookup"><span data-stu-id="5a1c3-184">If you want to manually switch between different *SetParameters.xml* files in different locations, you may prefer to use MSDeploy.exe directly.</span></span>
- <span data-ttu-id="5a1c3-185">Pokud chcete přepsat několik argumentů příkazového řádku MSDeploy. exe, můžete chtít použít soubor MSDeploy. exe přímo.</span><span class="sxs-lookup"><span data-stu-id="5a1c3-185">If you want to override several MSDeploy.exe command-line arguments, you may prefer to use MSDeploy.exe directly.</span></span>

<span data-ttu-id="5a1c3-186">Pokud používáte soubor MSDeploy. exe, je třeba zadat tři klíčové informace:</span><span class="sxs-lookup"><span data-stu-id="5a1c3-186">When you use MSDeploy.exe, you need to provide three key pieces of information:</span></span>

- <span data-ttu-id="5a1c3-187">Parametr **– source** , který určuje, odkud data pocházejí.</span><span class="sxs-lookup"><span data-stu-id="5a1c3-187">A **–source** parameter that indicates where your data is coming from.</span></span>
- <span data-ttu-id="5a1c3-188">Parametr **– cílový** , který označuje, kde se data budou.</span><span class="sxs-lookup"><span data-stu-id="5a1c3-188">A **–dest** parameter that indicates where your data is going to.</span></span>
- <span data-ttu-id="5a1c3-189">A **– parametr příkazu** , který určuje [operaci](https://technet.microsoft.com/library/dd568989(WS.10).aspx) , kterou chcete provést.</span><span class="sxs-lookup"><span data-stu-id="5a1c3-189">A **–verb** parameter that indicates the [operation](https://technet.microsoft.com/library/dd568989(WS.10).aspx) you want to perform.</span></span>

<span data-ttu-id="5a1c3-190">MSDeploy. exe spoléhá na [zprostředkovatele nasazení webu](https://technet.microsoft.com/library/dd569040(WS.10).aspx) pro zpracování zdrojových a cílových dat.</span><span class="sxs-lookup"><span data-stu-id="5a1c3-190">MSDeploy.exe relies on [Web Deploy providers](https://technet.microsoft.com/library/dd569040(WS.10).aspx) to process source and destination data.</span></span> <span data-ttu-id="5a1c3-191">Nasazení webu obsahuje velké množství poskytovatelů, kteří představují rozsah aplikací a zdrojů dat, které může pracovat&#x2014;, například existují poskytovatelé pro databáze SQL Server, webové servery služby IIS, certifikáty, sestavení globální mezipaměti sestavení (GAC), různé různé konfigurační soubory a spoustu jiných typů dat.</span><span class="sxs-lookup"><span data-stu-id="5a1c3-191">Web Deploy includes a lot of providers that represent the range of applications and data sources it can work with&#x2014;for example, there are providers for SQL Server databases, IIS web servers, certificates, global assembly cache (GAC) assemblies, various different configuration files, and lots of other types of data.</span></span> <span data-ttu-id="5a1c3-192">Parametr **– source** i parametr **-cíl** musí určovat zprostředkovatele ve formě **– zdroj**: [*ProviderName*] = [*Location*].</span><span class="sxs-lookup"><span data-stu-id="5a1c3-192">Both the **–source** parameter and the **–dest** parameter must specify a provider, in the form **–source**:[*providerName*]=[*location*].</span></span> <span data-ttu-id="5a1c3-193">Pokud nasazujete webový balíček na web služby IIS, měli byste použít tyto hodnoty:</span><span class="sxs-lookup"><span data-stu-id="5a1c3-193">When you're deploying a web package to an IIS website, you should use these values:</span></span>

- <span data-ttu-id="5a1c3-194">Poskytovatel **– zdroj** je vždycky [zabalit](https://technet.microsoft.com/library/dd569019(WS.10).aspx).</span><span class="sxs-lookup"><span data-stu-id="5a1c3-194">The **–source** provider is always [package](https://technet.microsoft.com/library/dd569019(WS.10).aspx).</span></span> <span data-ttu-id="5a1c3-195">Příklad:</span><span class="sxs-lookup"><span data-stu-id="5a1c3-195">For example:</span></span>

    [!code-console[Main](deploying-web-packages/samples/sample4.cmd)]
- <span data-ttu-id="5a1c3-196">Poskytovatel **– cíl** je vždycky [Automatický](https://technet.microsoft.com/library/dd569016(WS.10).aspx). Například:</span><span class="sxs-lookup"><span data-stu-id="5a1c3-196">The **–dest** provider is always [auto](https://technet.microsoft.com/library/dd569016(WS.10).aspx). For example:</span></span>

    [!code-console[Main](deploying-web-packages/samples/sample5.cmd)]
- <span data-ttu-id="5a1c3-197">**Příkaz – příkaz** je vždy **Synchronizovaný**.</span><span class="sxs-lookup"><span data-stu-id="5a1c3-197">The **–verb** is always **sync**.</span></span>

    [!code-console[Main](deploying-web-packages/samples/sample6.cmd)]

<span data-ttu-id="5a1c3-198">Kromě toho budete muset zadat různá [nastavení specifická pro konkrétního poskytovatele](https://technet.microsoft.com/library/dd569001(WS.10).aspx) a obecná [Nastavení operací](https://technet.microsoft.com/library/dd569089(WS.10).aspx).</span><span class="sxs-lookup"><span data-stu-id="5a1c3-198">In addition, you'll need to specify various other [provider-specific settings](https://technet.microsoft.com/library/dd569001(WS.10).aspx) and general [operation settings](https://technet.microsoft.com/library/dd569089(WS.10).aspx).</span></span> <span data-ttu-id="5a1c3-199">Předpokládejme například, že chcete nasadit webovou aplikaci ContactManager. Mvc do přípravného prostředí.</span><span class="sxs-lookup"><span data-stu-id="5a1c3-199">For example, suppose you want to deploy the ContactManager.Mvc web application to a staging environment.</span></span> <span data-ttu-id="5a1c3-200">Nasazení bude zacíleno na obslužnou rutinu Nasazení webu a musí používat základní ověřování.</span><span class="sxs-lookup"><span data-stu-id="5a1c3-200">The deployment will target the Web Deploy Handler and must use basic authentication.</span></span> <span data-ttu-id="5a1c3-201">Chcete-li nasadit webovou aplikaci, je nutné provést následující kroky.</span><span class="sxs-lookup"><span data-stu-id="5a1c3-201">To deploy the web application, you need to complete the next steps.</span></span>

<span data-ttu-id="5a1c3-202">**Nasazení webové aplikace pomocí nástroje MSDeploy. exe**</span><span class="sxs-lookup"><span data-stu-id="5a1c3-202">**To deploy a web application using MSDeploy.exe**</span></span>

1. <span data-ttu-id="5a1c3-203">Sestavte a zabalit projekt webové aplikace, jak je popsáno v tématu [sestavování a balení projektů webových aplikací](building-and-packaging-web-application-projects.md).</span><span class="sxs-lookup"><span data-stu-id="5a1c3-203">Build and package the web application project, as described in [Building and Packaging Web Application Projects](building-and-packaging-web-application-projects.md).</span></span>
2. <span data-ttu-id="5a1c3-204">Upravte soubor *ContactManager. Mvc. SetParameters. XML* tak, aby obsahoval správné hodnoty parametrů vašeho přípravného prostředí, jak je popsáno v tématu [Konfigurace parametrů pro nasazení webového balíčku](configuring-parameters-for-web-package-deployment.md).</span><span class="sxs-lookup"><span data-stu-id="5a1c3-204">Modify the *ContactManager.Mvc.SetParameters.xml* file to contain the correct parameter values for your staging environment, as described in [Configuring Parameters for Web Package Deployment](configuring-parameters-for-web-package-deployment.md).</span></span>
3. <span data-ttu-id="5a1c3-205">Otevřete okno příkazového řádku a přejděte do umístění souboru MSDeploy. exe.</span><span class="sxs-lookup"><span data-stu-id="5a1c3-205">Open a Command Prompt window and browse to the location of MSDeploy.exe.</span></span> <span data-ttu-id="5a1c3-206">Obvykle se jedná o%PROGRAMFILES%\IIS\Microsoft Nasazení webu V2\msdeploy.exe.</span><span class="sxs-lookup"><span data-stu-id="5a1c3-206">This is typically at %PROGRAMFILES%\IIS\Microsoft Web Deploy V2\msdeploy.exe.</span></span>
4. <span data-ttu-id="5a1c3-207">Zadejte tento příkaz a potom stiskněte klávesu ENTER (neberete zalomení řádků):</span><span class="sxs-lookup"><span data-stu-id="5a1c3-207">Type this command, and then press Enter (disregard the line breaks):</span></span>

    [!code-console[Main](deploying-web-packages/samples/sample7.cmd)]

<span data-ttu-id="5a1c3-208">V tomto příkladu:</span><span class="sxs-lookup"><span data-stu-id="5a1c3-208">In this example:</span></span>

- <span data-ttu-id="5a1c3-209">Parametr **– source** Určuje poskytovatele **balíčku** a označuje umístění webového balíčku.</span><span class="sxs-lookup"><span data-stu-id="5a1c3-209">The **–source** parameter specifies the **package** provider and indicates the location of the web package.</span></span>
- <span data-ttu-id="5a1c3-210">Parametr **– cíl** Určuje **automatického** zprostředkovatele.</span><span class="sxs-lookup"><span data-stu-id="5a1c3-210">The **–dest** parameter specifies the **auto** provider.</span></span> <span data-ttu-id="5a1c3-211">Nastavení **ComputerName** poskytuje adresu URL služby nasazení webu obslužné rutiny na cílovém serveru.</span><span class="sxs-lookup"><span data-stu-id="5a1c3-211">The **computerName** setting provides the service URL of the Web Deploy Handler on the destination server.</span></span> <span data-ttu-id="5a1c3-212">Nastavení **typ authType** označuje, že chcete použít základní ověřování a že je třeba zadat **uživatelské jméno** a **heslo**.</span><span class="sxs-lookup"><span data-stu-id="5a1c3-212">The **authtype** setting indicates that you want to use basic authentication, and as such you need to provide a **username** and a **password**.</span></span> <span data-ttu-id="5a1c3-213">Nakonec nastavení **includeAcls = "false"** znamená, že nechcete kopírovat seznamy řízení přístupu (ACL) souborů ve zdrojové webové aplikaci na cílový server.</span><span class="sxs-lookup"><span data-stu-id="5a1c3-213">Finally, the **includeAcls="False"** setting indicates that you don't want to copy the access control lists (ACLs) of the files in your source web application to the destination server.</span></span>
- <span data-ttu-id="5a1c3-214">Argument **– příkaz: Sync** označuje, že chcete replikovat zdrojový obsah na cílovém serveru.</span><span class="sxs-lookup"><span data-stu-id="5a1c3-214">The **–verb:sync** argument indicates that you want to replicate the source content on the destination server.</span></span>
- <span data-ttu-id="5a1c3-215">Argumenty **– disableLink** označují, že nechcete replikovat fondy aplikací, konfiguraci virtuálních adresářů nebo SSL (Secure SOCKETS Layer) (SSL) na cílovém serveru.</span><span class="sxs-lookup"><span data-stu-id="5a1c3-215">The **–disableLink** arguments indicate that you don't want to replicate application pools, virtual directory configuration, or Secure Sockets Layer (SSL) certificates on the destination server.</span></span> <span data-ttu-id="5a1c3-216">Další informace najdete v tématu [rozšíření nasazení webu Links](https://technet.microsoft.com/library/dd569028(WS.10).aspx).</span><span class="sxs-lookup"><span data-stu-id="5a1c3-216">For more information, see [Web Deploy Link Extensions](https://technet.microsoft.com/library/dd569028(WS.10).aspx).</span></span>
- <span data-ttu-id="5a1c3-217">Parametr **– setParamFile** poskytuje umístění souboru *SetParameters. XML* .</span><span class="sxs-lookup"><span data-stu-id="5a1c3-217">The **–setParamFile** parameter provides the location of the *SetParameters.xml* file.</span></span>
- <span data-ttu-id="5a1c3-218">Přepínač **– allowUntrusted** označuje, že nasazení webu by měl přijímat certifikáty SSL, které nebyly vydané důvěryhodnou certifikační autoritou.</span><span class="sxs-lookup"><span data-stu-id="5a1c3-218">The **–allowUntrusted** switch indicates that Web Deploy should accept SSL certificates that were not issued by a trusted certification authority.</span></span> <span data-ttu-id="5a1c3-219">Pokud nasazujete do obslužné rutiny Nasazení webu a k zabezpečení adresy URL služby jste použili certifikát podepsaný svým držitelem, je nutné tento přepínač zahrnout.</span><span class="sxs-lookup"><span data-stu-id="5a1c3-219">If you're deploying to the Web Deploy Handler, and you've used a self-signed certificate to secure the service URL, you need to include this switch.</span></span>

## <a name="automating-web-package-deployment"></a><span data-ttu-id="5a1c3-220">Automatizace nasazení webového balíčku</span><span class="sxs-lookup"><span data-stu-id="5a1c3-220">Automating Web Package Deployment</span></span>

<span data-ttu-id="5a1c3-221">V rozsáhlých podnikových scénářích budete chtít nasadit webové balíčky jako součást rozsáhlejšího nebo automatizovaného nasazení.</span><span class="sxs-lookup"><span data-stu-id="5a1c3-221">In a lot of enterprise scenarios, you'll want to deploy your web packages as part of a larger single-step or automated deployment.</span></span> <span data-ttu-id="5a1c3-222">Bez ohledu na to, zda se rozhodnete nasadit webové balíčky, spuštěním souboru *. deploy. cmd* nebo pomocí příkazu MSDeploy. exe přímo, můžete příkazy parametrizovat a volat z cíle v souboru projektu Microsoft Build Engine (MSBuild).</span><span class="sxs-lookup"><span data-stu-id="5a1c3-222">Regardless of whether you choose to deploy your web packages by running the *.deploy.cmd* file or by using MSDeploy.exe directly, you can parameterize your commands and call them from a target in a Microsoft Build Engine (MSBuild) project file.</span></span>

<span data-ttu-id="5a1c3-223">V ukázkovém řešení Contact Manageru se podívejte na cíl **PublishWebPackages** v souboru *Publish. proj* .</span><span class="sxs-lookup"><span data-stu-id="5a1c3-223">In the Contact Manager sample solution, take a look at the **PublishWebPackages** target in the *Publish.proj* file.</span></span> <span data-ttu-id="5a1c3-224">Tento cíl se spustí jednou pro každý soubor *. deploy. cmd* identifikovaný seznamem položek s názvem **PublishPackages**.</span><span class="sxs-lookup"><span data-stu-id="5a1c3-224">This target runs once for each *.deploy.cmd* file identified by an item list named **PublishPackages**.</span></span> <span data-ttu-id="5a1c3-225">Cíl pomocí vlastností a metadat položky sestaví úplnou sadu hodnot argumentů pro každý soubor *. deploy. cmd* a poté pomocí úlohy **exec** spustí příkaz.</span><span class="sxs-lookup"><span data-stu-id="5a1c3-225">The target uses properties and item metadata to build up a full set of argument values for each *.deploy.cmd* file and then uses the **Exec** task to run the command.</span></span>

[!code-xml[Main](deploying-web-packages/samples/sample8.xml)]

> [!NOTE]
> <span data-ttu-id="5a1c3-226">Další informace o modelu projektu projektu v ukázkovém řešení a Úvod do vlastních souborů projektu obecně naleznete v tématu [porozumění souboru projektu](understanding-the-project-file.md) a [porozumění procesu sestavení](understanding-the-build-process.md).</span><span class="sxs-lookup"><span data-stu-id="5a1c3-226">For a broader overview of the project file model in the sample solution, and an introduction to custom project files in general, see [Understanding the Project File](understanding-the-project-file.md) and [Understanding the Build Process](understanding-the-build-process.md).</span></span>

## <a name="endpoint-considerations"></a><span data-ttu-id="5a1c3-227">Předpoklady pro koncové body</span><span class="sxs-lookup"><span data-stu-id="5a1c3-227">Endpoint Considerations</span></span>

<span data-ttu-id="5a1c3-228">Bez ohledu na to, zda nasazujete webový balíček spuštěním souboru *. deploy. cmd* nebo pomocí příkazu MSDeploy. exe přímo, je nutné zadat název počítače nebo koncový bod služby pro nasazení.</span><span class="sxs-lookup"><span data-stu-id="5a1c3-228">Regardless of whether you deploy your web package by running the *.deploy.cmd* file or by using MSDeploy.exe directly, you need to specify a computer name or a service endpoint for your deployment.</span></span>

<span data-ttu-id="5a1c3-229">Pokud je cílový webový server nakonfigurovaný pro nasazení pomocí služby Nasazení webu vzdáleného agenta, zadáte cílovou adresu URL služby jako cíl.</span><span class="sxs-lookup"><span data-stu-id="5a1c3-229">If the destination web server is configured for deployment using the Web Deploy Remote Agent service, you specify the target service URL as your destination.</span></span>

[!code-console[Main](deploying-web-packages/samples/sample9.cmd)]

<span data-ttu-id="5a1c3-230">Případně můžete zadat název serveru samostatně jako cíl a Nasazení webu odvodit adresu URL služby vzdáleného agenta.</span><span class="sxs-lookup"><span data-stu-id="5a1c3-230">Alternatively, you can specify the server name alone as your destination, and Web Deploy will infer the remote agent service URL.</span></span>

[!code-console[Main](deploying-web-packages/samples/sample10.cmd)]

<span data-ttu-id="5a1c3-231">Pokud je cílový webový server nakonfigurovaný pro nasazení pomocí obslužné rutiny Nasazení webu, musíte jako cíl zadat adresu koncového bodu služby IIS Web Management (WMSvc).</span><span class="sxs-lookup"><span data-stu-id="5a1c3-231">If the destination web server is configured for deployment using the Web Deploy Handler, you need to specify the endpoint address of the IIS Web Management Service (WMSvc) as your destination.</span></span> <span data-ttu-id="5a1c3-232">Ve výchozím nastavení má podobu:</span><span class="sxs-lookup"><span data-stu-id="5a1c3-232">By default, this takes the form:</span></span>

[!code-console[Main](deploying-web-packages/samples/sample11.cmd)]

<span data-ttu-id="5a1c3-233">Libovolný z těchto koncových bodů můžete cílit přímo pomocí souboru *. deploy. cmd* nebo MSDeploy. exe.</span><span class="sxs-lookup"><span data-stu-id="5a1c3-233">You can target any of these endpoints using either the *.deploy.cmd* file or MSDeploy.exe directly.</span></span> <span data-ttu-id="5a1c3-234">Pokud však chcete nasadit do obslužné rutiny Nasazení webu jako uživatel bez oprávnění správce, jak je popsáno v tématu [Konfigurace webového serveru pro nasazení webu publikování (nasazení webu obslužné rutiny)](../configuring-server-environments-for-web-deployment/configuring-a-web-server-for-web-deploy-publishing-web-deploy-handler.md), je nutné přidat řetězec dotazu do adresy koncového bodu služby.</span><span class="sxs-lookup"><span data-stu-id="5a1c3-234">However, if you want to deploy to the Web Deploy Handler as a non-administrator user, as described in [Configure a Web Server for Web Deploy Publishing (Web Deploy Handler)](../configuring-server-environments-for-web-deployment/configuring-a-web-server-for-web-deploy-publishing-web-deploy-handler.md), you need to add a query string to the service endpoint address.</span></span>

[!code-console[Main](deploying-web-packages/samples/sample12.cmd)]

<span data-ttu-id="5a1c3-235">Důvodem je to, že uživatel bez oprávnění správce nemá přístup na úrovni serveru ke službě IIS. má přístup jenom k určitému webu IIS.</span><span class="sxs-lookup"><span data-stu-id="5a1c3-235">This is because the non-administrator user doesn't have server-level access to IIS; he or she only has access to a specific IIS website.</span></span> <span data-ttu-id="5a1c3-236">V době psaní se v důsledku chyby v kanálu publikování na webu (WPP) nedá spustit soubor *. deploy. cmd* pomocí adresy koncového bodu, která obsahuje řetězec dotazu.</span><span class="sxs-lookup"><span data-stu-id="5a1c3-236">At the time of writing, due to a bug in the Web Publishing Pipeline (WPP), you can't run the *.deploy.cmd* file using an endpoint address that includes a query string.</span></span> <span data-ttu-id="5a1c3-237">V tomto scénáři je nutné nasadit webový balíček přímo pomocí souboru MSDeploy. exe.</span><span class="sxs-lookup"><span data-stu-id="5a1c3-237">In this scenario, you need to deploy your web package by using MSDeploy.exe directly.</span></span>

> [!NOTE]
> <span data-ttu-id="5a1c3-238">Další informace o Nasazení webu službě vzdáleného agenta a obslužné rutině Nasazení webu najdete v tématu [Volba správného přístupu k nasazení webu](../configuring-server-environments-for-web-deployment/choosing-the-right-approach-to-web-deployment.md).</span><span class="sxs-lookup"><span data-stu-id="5a1c3-238">For more information on the Web Deploy Remote Agent service and the Web Deploy Handler, see [Choosing the Right Approach to Web Deployment](../configuring-server-environments-for-web-deployment/choosing-the-right-approach-to-web-deployment.md).</span></span> <span data-ttu-id="5a1c3-239">Pokyny ke konfiguraci souborů projektu specifických pro prostředí pro nasazení do těchto koncových bodů najdete v tématu [Konfigurace vlastností nasazení pro cílové prostředí](../configuring-server-environments-for-web-deployment/configuring-deployment-properties-for-a-target-environment.md).</span><span class="sxs-lookup"><span data-stu-id="5a1c3-239">For guidance on how to configure your environment-specific project files to deploy to these endpoints, see [Configure Deployment Properties for a Target Environment](../configuring-server-environments-for-web-deployment/configuring-deployment-properties-for-a-target-environment.md).</span></span>

## <a name="authentication-considerations"></a><span data-ttu-id="5a1c3-240">Požadavky na ověření</span><span class="sxs-lookup"><span data-stu-id="5a1c3-240">Authentication Considerations</span></span>

<span data-ttu-id="5a1c3-241">Bez ohledu na to, zda nasazujete webový balíček spuštěním souboru *. deploy. cmd* nebo pomocí příkazu MSDeploy. exe přímo, je nutné zadat typ ověřování.</span><span class="sxs-lookup"><span data-stu-id="5a1c3-241">Regardless of whether you deploy your web package by running the *.deploy.cmd* file or by using MSDeploy.exe directly, you need to specify an authentication type.</span></span> <span data-ttu-id="5a1c3-242">Nasazení webu přijímá dvě možné hodnoty: **NTLM** nebo **Basic**.</span><span class="sxs-lookup"><span data-stu-id="5a1c3-242">Web Deploy accepts two possible values: **NTLM** or **Basic**.</span></span> <span data-ttu-id="5a1c3-243">Pokud zadáte základní ověřování, musíte také zadat uživatelské jméno a heslo.</span><span class="sxs-lookup"><span data-stu-id="5a1c3-243">If you specify basic authentication, you also need to provide a user name and password.</span></span> <span data-ttu-id="5a1c3-244">Když vyberete typ ověřování, musíte mít na paměti různé faktory:</span><span class="sxs-lookup"><span data-stu-id="5a1c3-244">There are various factors you need to be aware of when you select an authentication type:</span></span>

- <span data-ttu-id="5a1c3-245">Pokud nasazujete do služby Nasazení webu Vzdálený agent, musíte použít ověřování NTLM.</span><span class="sxs-lookup"><span data-stu-id="5a1c3-245">If you're deploying to the Web Deploy Remote Agent service, you must use NTLM authentication.</span></span> <span data-ttu-id="5a1c3-246">Služba Vzdálený agent nepřijímá přihlašovací údaje základního ověřování.</span><span class="sxs-lookup"><span data-stu-id="5a1c3-246">The remote agent service doesn't accept basic authentication credentials.</span></span>
- <span data-ttu-id="5a1c3-247">Pokud nasazujete do obslužné rutiny Nasazení webu, můžete použít buď ověřování NTLM, nebo základní ověřování.</span><span class="sxs-lookup"><span data-stu-id="5a1c3-247">If you're deploying to the Web Deploy Handler, you can use either NTLM or basic authentication.</span></span> <span data-ttu-id="5a1c3-248">Výchozím nastavením je základní ověřování.</span><span class="sxs-lookup"><span data-stu-id="5a1c3-248">The default setting is basic authentication.</span></span> <span data-ttu-id="5a1c3-249">I když základní ověřování spoléhá na uživatelská jména a hesla přenášená v prostém textu, vaše přihlašovací údaje jsou chráněné, protože Nasazení webu obslužná rutina vždy používá šifrování SSL.</span><span class="sxs-lookup"><span data-stu-id="5a1c3-249">Although basic authentication relies on user names and passwords being transmitted in plain text, your credentials are protected as the Web Deploy Handler always uses SSL encryption.</span></span>
- <span data-ttu-id="5a1c3-250">Pokud váš webový balíček obsahuje databázi a webový server a databázový server jsou samostatné počítače, nebudete moci nasadit databázi pomocí ověřování NTLM z důvodu [omezení "dvojího směrování NTLM](https://go.microsoft.com/?linkid=9805120)".</span><span class="sxs-lookup"><span data-stu-id="5a1c3-250">If your web package includes a database, and the web server and database server are separate machines, you won't be able to deploy the database using NTLM authentication due to the [NTLM "double-hop" limitation](https://go.microsoft.com/?linkid=9805120).</span></span> <span data-ttu-id="5a1c3-251">Musíte použít SQL Server přihlašovací údaje v připojovacím řetězci nasazení nebo zadat přihlašovací údaje pro základní ověřování, které Nasazení webu.</span><span class="sxs-lookup"><span data-stu-id="5a1c3-251">You need to either use SQL Server credentials in your deployment connection string or supply basic authentication credentials to Web Deploy.</span></span> <span data-ttu-id="5a1c3-252">Tento problém je podrobněji popsaný v tématu [nasazení databází členství v podnikových prostředích](../advanced-enterprise-web-deployment/deploying-membership-databases-to-enterprise-environments.md).</span><span class="sxs-lookup"><span data-stu-id="5a1c3-252">This issue is described in more detail in [Deploying Membership Databases to Enterprise Environments](../advanced-enterprise-web-deployment/deploying-membership-databases-to-enterprise-environments.md).</span></span>

## <a name="conclusion"></a><span data-ttu-id="5a1c3-253">Závěr</span><span class="sxs-lookup"><span data-stu-id="5a1c3-253">Conclusion</span></span>

<span data-ttu-id="5a1c3-254">Toto téma popisuje, jak lze nasadit webový balíček buď spuštěním souboru *. deploy. cmd* nebo pomocí nástroje msdeploy. exe přímo.</span><span class="sxs-lookup"><span data-stu-id="5a1c3-254">This topic described how you can deploy a web package either by running the *.deploy.cmd* file or by using MSDeploy.exe directly.</span></span> <span data-ttu-id="5a1c3-255">Vysvětluje, kdy může být každý přístup vhodný, a popisuje, jak můžete parametrizovat a spustit příkaz pro nasazení v rámci většího jednoho kroku nebo procesu automatického sestavování.</span><span class="sxs-lookup"><span data-stu-id="5a1c3-255">It explained when each approach might be appropriate, and it described how you can parameterize and run a deployment command as part of a larger single-step or automated build process.</span></span>

## <a name="further-reading"></a><span data-ttu-id="5a1c3-256">Další čtení</span><span class="sxs-lookup"><span data-stu-id="5a1c3-256">Further Reading</span></span>

<span data-ttu-id="5a1c3-257">Pokyny k vytvoření a použití webového balíčku pro nasazení najdete v tématu [sestavování a zabalení projektů webových aplikací](building-and-packaging-web-application-projects.md) a [Konfigurace parametrů pro nasazení webového balíčku](configuring-parameters-for-web-package-deployment.md).</span><span class="sxs-lookup"><span data-stu-id="5a1c3-257">For guidance on how to create and parameterize a web deployment package, see [Building and Packaging Web Application Projects](building-and-packaging-web-application-projects.md) and [Configuring Parameters for Web Package Deployment](configuring-parameters-for-web-package-deployment.md).</span></span> <span data-ttu-id="5a1c3-258">Pokyny k vytváření a nasazování webových balíčků z instance Team Foundation Server (TFS) najdete v tématu [konfigurace Team Foundation Server pro automatizované nasazení webu](../configuring-team-foundation-server-for-web-deployment/configuring-team-foundation-server-for-web-deployment.md).</span><span class="sxs-lookup"><span data-stu-id="5a1c3-258">For guidance on how to build and deploy web packages from a Team Foundation Server (TFS) instance, see [Configuring Team Foundation Server for Automated Web Deployment](../configuring-team-foundation-server-for-web-deployment/configuring-team-foundation-server-for-web-deployment.md).</span></span> <span data-ttu-id="5a1c3-259">Informace o tom, jak přizpůsobit a řešit potíže s procesem nasazení, najdete v tématu [vyloučení souborů a složek z nasazení](../advanced-enterprise-web-deployment/excluding-files-and-folders-from-deployment.md).</span><span class="sxs-lookup"><span data-stu-id="5a1c3-259">For information on how to customize and troubleshoot the deployment process, see [Excluding Files and Folders from Deployment](../advanced-enterprise-web-deployment/excluding-files-and-folders-from-deployment.md).</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="5a1c3-260">[Předchozí](configuring-parameters-for-web-package-deployment.md)
> [Další](deploying-database-projects.md)</span><span class="sxs-lookup"><span data-stu-id="5a1c3-260">[Previous](configuring-parameters-for-web-package-deployment.md)
[Next](deploying-database-projects.md)</span></span>
