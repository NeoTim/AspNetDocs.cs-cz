---
uid: web-forms/overview/deployment/web-deployment-in-the-enterprise/configuring-parameters-for-web-package-deployment
title: Konfigurace parametrů nasazení webového balíčku | Dokumentace Microsoftu
author: jrjlee
description: Toto téma popisuje, jak nastavit hodnoty parametrů, jako jsou názvy webových aplikací Internetové informační služby (IIS), připojovacích řetězců a koncové body služby...
ms.author: riande
ms.date: 05/04/2012
ms.assetid: 37947d79-ab1e-4ba9-9017-52e7a2757414
msc.legacyurl: /web-forms/overview/deployment/web-deployment-in-the-enterprise/configuring-parameters-for-web-package-deployment
msc.type: authoredcontent
ms.openlocfilehash: f738d1c0b3cd99bb6df5f8b24dca907fa0b31f4d
ms.sourcegitcommit: 0f1119340e4464720cfd16d0ff15764746ea1fea
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 04/09/2019
ms.locfileid: "59413097"
---
# <a name="configuring-parameters-for-web-package-deployment"></a><span data-ttu-id="21b1e-103">Konfigurace parametrů nasazení webového balíčku</span><span class="sxs-lookup"><span data-stu-id="21b1e-103">Configuring Parameters for Web Package Deployment</span></span>

<span data-ttu-id="21b1e-104">podle [Jason Lee](https://github.com/jrjlee)</span><span class="sxs-lookup"><span data-stu-id="21b1e-104">by [Jason Lee](https://github.com/jrjlee)</span></span>

[<span data-ttu-id="21b1e-105">Stáhnout PDF</span><span class="sxs-lookup"><span data-stu-id="21b1e-105">Download PDF</span></span>](https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/63/56/8130.DeployingWebAppsInEnterpriseScenarios.pdf)

> <span data-ttu-id="21b1e-106">Toto téma popisuje, jak nastavit hodnoty parametrů, jako jsou názvy webových aplikací Internetové informační služby (IIS), připojovacích řetězců a koncové body služby, při nasazení webového balíčku do vzdáleného webového serveru služby IIS.</span><span class="sxs-lookup"><span data-stu-id="21b1e-106">This topic describes how to set parameter values, like Internet Information Services (IIS) web application names, connection strings, and service endpoints, when you deploy a web package to a remote IIS web server.</span></span>


<span data-ttu-id="21b1e-107">Při sestavení projektu webové aplikace, sestavení a procesem vytváření balíčku generuje tři soubory klíčů:</span><span class="sxs-lookup"><span data-stu-id="21b1e-107">When you build a web application project, the build and packaging process generates three key files:</span></span>

- <span data-ttu-id="21b1e-108">A *[název projektu] ZIP* souboru.</span><span class="sxs-lookup"><span data-stu-id="21b1e-108">A *[project name].zip* file.</span></span> <span data-ttu-id="21b1e-109">Toto je balíčku pro nasazení webu pro váš projekt webové aplikace.</span><span class="sxs-lookup"><span data-stu-id="21b1e-109">This is the web deployment package for your web application project.</span></span> <span data-ttu-id="21b1e-110">Tento balíček obsahuje všechny sestavení, soubory, skripty databáze a prostředků potřebných pro opětovné vytvoření webové aplikace na vzdáleném serveru webové služby IIS.</span><span class="sxs-lookup"><span data-stu-id="21b1e-110">This package contains all the assemblies, files, database scripts, and resources required to recreate your web application on a remote IIS web server.</span></span>
- <span data-ttu-id="21b1e-111">A *[název projektu].deploy.cmd* souboru.</span><span class="sxs-lookup"><span data-stu-id="21b1e-111">A *[project name].deploy.cmd* file.</span></span> <span data-ttu-id="21b1e-112">Tato položka obsahuje sadu nasazení webu (MSDeploy.exe) příkazy s parametry, které publikují balíčku pro nasazení webu na vzdáleného webového serveru služby IIS.</span><span class="sxs-lookup"><span data-stu-id="21b1e-112">This contains a set of parameterized Web Deploy (MSDeploy.exe) commands that publish your web deployment package to a remote IIS web server.</span></span>
- <span data-ttu-id="21b1e-113">A *[název projektu]. SetParameters.xml* souboru.</span><span class="sxs-lookup"><span data-stu-id="21b1e-113">A *[project name].SetParameters.xml* file.</span></span> <span data-ttu-id="21b1e-114">To poskytuje sadu hodnot parametrů příkazu MSDeploy.exe.</span><span class="sxs-lookup"><span data-stu-id="21b1e-114">This provides a set of parameter values to the MSDeploy.exe command.</span></span> <span data-ttu-id="21b1e-115">Můžete aktualizovat hodnoty v tomto souboru a předat ji pro nástroj nasazení webu jako parametr příkazového řádku při nasazení webového balíčku.</span><span class="sxs-lookup"><span data-stu-id="21b1e-115">You can update the values in this file and pass it to Web Deploy as a command-line parameter when you deploy your web package.</span></span>

> [!NOTE]
> <span data-ttu-id="21b1e-116">Další informace o sestavení a procesem vytváření balíčku naleznete v tématu [sestavení a balení projektů webových aplikací](building-and-packaging-web-application-projects.md).</span><span class="sxs-lookup"><span data-stu-id="21b1e-116">For more information on the build and packaging process, see [Building and Packaging Web Application Projects](building-and-packaging-web-application-projects.md).</span></span>


<span data-ttu-id="21b1e-117">*SetParameters.xml* souboru generuje dynamicky ze souboru projektu vaší webové aplikace a všechny konfigurační soubory v rámci svého projektu.</span><span class="sxs-lookup"><span data-stu-id="21b1e-117">The *SetParameters.xml* file is dynamically generated from your web application project file and any configuration files within your project.</span></span> <span data-ttu-id="21b1e-118">Při sestavení a zabalení webové publikování kanálu (WPP) projektu budou automaticky zjišťovat velké množství proměnné, které se budou pravděpodobně měnit mezi prostředími nasazení, jako cíl služby IIS webová aplikace a připojovacích řetězců databáze.</span><span class="sxs-lookup"><span data-stu-id="21b1e-118">When you build and package your project, the Web Publishing Pipeline (WPP) will automatically detect lots of the variables that are likely to change between deployment environments, like the destination IIS web application and any database connection strings.</span></span> <span data-ttu-id="21b1e-119">Tyto hodnoty jsou automaticky v balíčku pro nasazení webu s parametry a přidat do *SetParameters.xml* souboru.</span><span class="sxs-lookup"><span data-stu-id="21b1e-119">These values are automatically parameterized in the web deployment package and added to the *SetParameters.xml* file.</span></span> <span data-ttu-id="21b1e-120">Například, pokud chcete přidat připojovací řetězec pro *web.config* soubor v projektu webové aplikace, proces sestavení tuto změnu zjistí a přidá záznam, tím *SetParameters.xml* souboru odpovídajícím způsobem.</span><span class="sxs-lookup"><span data-stu-id="21b1e-120">For example, if you add a connection string to the *web.config* file in your web application project, the build process will detect this change and will add an entry to the *SetParameters.xml* file accordingly.</span></span>

<span data-ttu-id="21b1e-121">V mnoha případech budou tato automatická Parametrizace dostatečné.</span><span class="sxs-lookup"><span data-stu-id="21b1e-121">In a lot of cases, this automatic parameterization will be sufficient.</span></span> <span data-ttu-id="21b1e-122">Ale pokud vaši uživatelé potřebují k odlišení další nastavení mezi prostředími nasazení, jako je nastavení aplikace nebo adresy URL koncového bodu služby, budete muset říct WPP parametrizovat tyto hodnoty v balíčku pro nasazení a přidejte odpovídající položky *SetParameters.xml* souboru.</span><span class="sxs-lookup"><span data-stu-id="21b1e-122">However, if your users need to vary other settings between deployment environments, like application settings or service endpoint URLs, you need to tell the WPP to parameterize these values in the deployment package and add corresponding entries to the *SetParameters.xml* file.</span></span> <span data-ttu-id="21b1e-123">Následující části popisují, jak to provést.</span><span class="sxs-lookup"><span data-stu-id="21b1e-123">The sections that follow explain how to do this.</span></span>

### <a name="automatic-parameterization"></a><span data-ttu-id="21b1e-124">Automatické Parametrizace</span><span class="sxs-lookup"><span data-stu-id="21b1e-124">Automatic Parameterization</span></span>

<span data-ttu-id="21b1e-125">Při sestavení a zabalení webové aplikace, bude WPP automaticky parametrizovat Tyhle věci:</span><span class="sxs-lookup"><span data-stu-id="21b1e-125">When you build and package a web application, the WPP will automatically parameterize these things:</span></span>

- <span data-ttu-id="21b1e-126">Cíl služby IIS webová název a cesta k aplikaci.</span><span class="sxs-lookup"><span data-stu-id="21b1e-126">The destination IIS web application path and name.</span></span>
- <span data-ttu-id="21b1e-127">Žádné připojovací řetězce ve vaší *web.config* souboru.</span><span class="sxs-lookup"><span data-stu-id="21b1e-127">Any connection strings in your *web.config* file.</span></span>
- <span data-ttu-id="21b1e-128">Připojovací řetězce pro všechny databáze, které přidáte **balení/publikování kódu SQL** karty na stránkách vlastností projektu.</span><span class="sxs-lookup"><span data-stu-id="21b1e-128">Connection strings for any databases you add to the **Package/Publish SQL** tab in the project property pages.</span></span>

<span data-ttu-id="21b1e-129">Například, pokud chcete sestavit a zabalit [Správce kontaktů](the-contact-manager-solution.md) toto ukázkové řešení bez zásahu do procesu Parametrizace žádným způsobem, WPP vygenerují *ContactManager.Mvc.SetParameters.xml* souboru:</span><span class="sxs-lookup"><span data-stu-id="21b1e-129">For example, if you were to build and package the [Contact Manager](the-contact-manager-solution.md) sample solution without touching the parameterization process in any way, the WPP would generate this *ContactManager.Mvc.SetParameters.xml* file:</span></span>


[!code-xml[Main](configuring-parameters-for-web-package-deployment/samples/sample1.xml)]


<span data-ttu-id="21b1e-130">V tomto případě:</span><span class="sxs-lookup"><span data-stu-id="21b1e-130">In this case:</span></span>

- <span data-ttu-id="21b1e-131">**Název webové aplikace IIS** parametrem je cesta služby IIS, ve které chcete nasadit webovou aplikaci.</span><span class="sxs-lookup"><span data-stu-id="21b1e-131">The **IIS Web Application Name** parameter is the IIS path where you want to deploy the web application.</span></span> <span data-ttu-id="21b1e-132">Výchozí hodnota je založena **balení/publikování webu** stránky na stránkách vlastností projektu.</span><span class="sxs-lookup"><span data-stu-id="21b1e-132">The default value is taken from the **Package/Publish Web** page in the project property pages.</span></span>
- <span data-ttu-id="21b1e-133">**ApplicationServices Web.config připojovací řetězec** parametru byla vygenerována z **connectionStrings nebo přidat** element v *web.config* souboru.</span><span class="sxs-lookup"><span data-stu-id="21b1e-133">The **ApplicationServices-Web.config Connection String** parameter was generated from a **connectionStrings/add** element in the *web.config* file.</span></span> <span data-ttu-id="21b1e-134">Představuje připojovací řetězec, který by aplikace měla použít pro kontaktování databáze členství.</span><span class="sxs-lookup"><span data-stu-id="21b1e-134">It represents the connection string that the application should use to contact the membership database.</span></span> <span data-ttu-id="21b1e-135">Hodnota, které zadáte tady, se nahradí nasazených *web.config* souboru.</span><span class="sxs-lookup"><span data-stu-id="21b1e-135">The value you provide here will be substituted into the deployed *web.config* file.</span></span> <span data-ttu-id="21b1e-136">Výchozí hodnota je převzata z před nasazením *web.config* souboru.</span><span class="sxs-lookup"><span data-stu-id="21b1e-136">The default value is taken from the pre-deployment *web.config* file.</span></span>

<span data-ttu-id="21b1e-137">WPP parametrizuje také tyto vlastnosti v balíčku pro nasazení, který generuje.</span><span class="sxs-lookup"><span data-stu-id="21b1e-137">The WPP also parameterizes these properties in the deployment package it generates.</span></span> <span data-ttu-id="21b1e-138">Při instalaci balíčku pro nasazení, můžete zadat hodnoty pro tyto vlastnosti.</span><span class="sxs-lookup"><span data-stu-id="21b1e-138">You can provide values for these properties when you install the deployment package.</span></span> <span data-ttu-id="21b1e-139">Pokud nainstalujete balíček ručně pomocí Správce služby IIS, jak je popsáno v [ruční instalace webových balíčků](manually-installing-web-packages.md), Průvodce instalací vás vyzve k zadání hodnot všech parametrů.</span><span class="sxs-lookup"><span data-stu-id="21b1e-139">If you install the package manually through IIS Manager, as described in [Manually Installing Web Packages](manually-installing-web-packages.md), the installation wizard prompts you to provide values for any parameters.</span></span> <span data-ttu-id="21b1e-140">Při instalaci balíčku vzdáleně pomocí *. deploy.cmd* sdílené, jak je popsáno v [nasazení webových balíčků](deploying-web-packages.md), nasazení webu bude vypadat na tuto *SetParameters.xml* do souboru Zadejte hodnoty parametrů.</span><span class="sxs-lookup"><span data-stu-id="21b1e-140">If you install the package remotely using the *.deploy.cmd* file, as described in [Deploying Web Packages](deploying-web-packages.md), Web Deploy will look to this *SetParameters.xml* file to provide the parameter values.</span></span> <span data-ttu-id="21b1e-141">Můžete upravit hodnoty *SetParameters.xml* soubor ručně nebo ho můžete přizpůsobit jako součást automatizovaného procesu sestavení a nasazení.</span><span class="sxs-lookup"><span data-stu-id="21b1e-141">You can edit the values in the *SetParameters.xml* file manually, or you can customize the file as part of an automated build and deployment process.</span></span> <span data-ttu-id="21b1e-142">Tento proces je popsán dále v tomto tématu podrobněji.</span><span class="sxs-lookup"><span data-stu-id="21b1e-142">This process is described in more detail later in this topic.</span></span>

### <a name="custom-parameterization"></a><span data-ttu-id="21b1e-143">Vlastní Parametrizace</span><span class="sxs-lookup"><span data-stu-id="21b1e-143">Custom Parameterization</span></span>

<span data-ttu-id="21b1e-144">Ve složitějších scénářích nasazení bude často potřeba parametrizovat další vlastnosti, před nasazením do projektu.</span><span class="sxs-lookup"><span data-stu-id="21b1e-144">In more complex deployment scenarios, you'll often want to parameterize additional properties before you deploy your project.</span></span> <span data-ttu-id="21b1e-145">Obecně řečeno by měl parametrizovat všechny vlastnosti a nastavení, která se liší mezi cílové prostředí.</span><span class="sxs-lookup"><span data-stu-id="21b1e-145">Generally speaking, you should parameterize any properties and settings that will vary between destination environments.</span></span> <span data-ttu-id="21b1e-146">Můžou mezi ně patří:</span><span class="sxs-lookup"><span data-stu-id="21b1e-146">These can include:</span></span>

- <span data-ttu-id="21b1e-147">Koncové body v služby *web.config* souboru.</span><span class="sxs-lookup"><span data-stu-id="21b1e-147">Service endpoints in the *web.config* file.</span></span>
- <span data-ttu-id="21b1e-148">Nastavení aplikace v *web.config* souboru.</span><span class="sxs-lookup"><span data-stu-id="21b1e-148">Application settings in the *web.config* file.</span></span>
- <span data-ttu-id="21b1e-149">Všechny deklarativní vlastnosti, které chcete vyzvat uživatele k zadání.</span><span class="sxs-lookup"><span data-stu-id="21b1e-149">Any other declarative properties that you want to prompt users to specify.</span></span>

<span data-ttu-id="21b1e-150">Nejjednodušší způsob, jak parametrizovat těchto vlastností je přidat *parameters.xml* soubor do kořenové složky projektu webové aplikace.</span><span class="sxs-lookup"><span data-stu-id="21b1e-150">The easiest way to parameterize these properties is to add a *parameters.xml* file to the root folder of your web application project.</span></span> <span data-ttu-id="21b1e-151">Například v řešení Správce kontaktů obsahuje projekt ContactManager.Mvc *parameters.xml* soubor v kořenové složce.</span><span class="sxs-lookup"><span data-stu-id="21b1e-151">For example, in the Contact Manager solution, the ContactManager.Mvc project includes a *parameters.xml* file in the root folder.</span></span>

![](configuring-parameters-for-web-package-deployment/_static/image1.png)

<span data-ttu-id="21b1e-152">Pokud tento soubor otevřít, uvidíte, že obsahuje jediný **parametr** položka.</span><span class="sxs-lookup"><span data-stu-id="21b1e-152">If you open this file, you'll see that it contains a single **parameter** entry.</span></span> <span data-ttu-id="21b1e-153">Položka pomocí dotazu jazyka XML cesta (XPath) vyhledá a Parametrizace adresy URL koncového bodu služby ContactService Windows Communication Foundation (WCF) v *web.config* souboru.</span><span class="sxs-lookup"><span data-stu-id="21b1e-153">The entry uses an XML Path Language (XPath) query to locate and parameterize the endpoint URL of the ContactService Windows Communication Foundation (WCF) service in the *web.config* file.</span></span>


[!code-xml[Main](configuring-parameters-for-web-package-deployment/samples/sample2.xml)]


<span data-ttu-id="21b1e-154">Kromě Parametrizace adresu URL koncového bodu v balíčku pro nasazení, WPP přidá také odpovídající záznam do *SetParameters.xml* soubor, který získá vygenerována, společně s balíčku pro nasazení.</span><span class="sxs-lookup"><span data-stu-id="21b1e-154">In addition to parameterizing the endpoint URL in the deployment package, the WPP also adds a corresponding entry to the *SetParameters.xml* file that gets generated alongside the deployment package.</span></span>


[!code-xml[Main](configuring-parameters-for-web-package-deployment/samples/sample3.xml)]


<span data-ttu-id="21b1e-155">Pokud ručně nainstalovat balíček pro nasazení, Správce služby IIS zobrazí výzvu pro adresu koncového bodu služby vedle vlastnosti, které byly parametrizované automaticky.</span><span class="sxs-lookup"><span data-stu-id="21b1e-155">If you install the deployment package manually, IIS Manager will prompt you for the service endpoint address alongside the properties that were parameterized automatically.</span></span> <span data-ttu-id="21b1e-156">Pokud nainstalujete spuštěním balíčku pro nasazení *. deploy.cmd* soubor, můžete upravit *SetParameters.xml* souboru zadejte hodnotu pro adresu koncového bodu služby spolu s hodnotami pro vlastnosti, které byly automaticky parametrizovány.</span><span class="sxs-lookup"><span data-stu-id="21b1e-156">If you install the deployment package by running the *.deploy.cmd* file, you can edit the *SetParameters.xml* file to provide a value for the service endpoint address together with values for the properties that were parameterized automatically.</span></span>

<span data-ttu-id="21b1e-157">Úplné podrobnosti o tom, jak vytvořit *parameters.xml* souborů naleznete v tématu [jak: Použití parametrů ke konfiguraci nastavení když balíček pro nasazení je nainstalován](https://msdn.microsoft.com/library/ff398068.aspx).</span><span class="sxs-lookup"><span data-stu-id="21b1e-157">For full details on how to create a *parameters.xml* file, see [How to: Use Parameters to Configure Deployment Settings When a Package is Installed](https://msdn.microsoft.com/library/ff398068.aspx).</span></span> <span data-ttu-id="21b1e-158">Postup s názvem **používat parametry nasazení pro nastavení souboru Web.config** obsahuje podrobné pokyny.</span><span class="sxs-lookup"><span data-stu-id="21b1e-158">The procedure named **To use deployment parameters for Web.config file settings** provides step-by-step instructions.</span></span>

## <a name="modifying-the-setparametersxml-file"></a><span data-ttu-id="21b1e-159">Úprava souboru SetParameters.xml</span><span class="sxs-lookup"><span data-stu-id="21b1e-159">Modifying the SetParameters.xml File</span></span>

<span data-ttu-id="21b1e-160">Pokud plánujete nasadit balíček webových aplikací ručně&#x2014;buď spuštěním *. deploy.cmd* souboru nebo spuštěním MSDeploy.exe z příkazového řádku&#x2014;není nutné nic vám ruční úpravy  *SetParameters.xml* souboru předcházející nasazení.</span><span class="sxs-lookup"><span data-stu-id="21b1e-160">If you plan to deploy the web application package manually&#x2014;either by running the *.deploy.cmd* file or by running MSDeploy.exe from the command line&#x2014;there's nothing to stop you manually editing the *SetParameters.xml* file prior to the deployment.</span></span> <span data-ttu-id="21b1e-161">Nicméně pokud pracujete v řešení podnikové úrovni, budete muset nasadit balíček webových aplikací jako součást větší, automatizovaného procesu sestavení a nasazení.</span><span class="sxs-lookup"><span data-stu-id="21b1e-161">However, if you're working on an enterprise-scale solution, you may need to deploy a web application package as part of a larger, automated build and deployment process.</span></span> <span data-ttu-id="21b1e-162">V tomto scénáři budete potřebovat Microsoft Build Engine (MSBuild) Chcete-li změnit *SetParameters.xml* souboru za vás.</span><span class="sxs-lookup"><span data-stu-id="21b1e-162">In this scenario, you need the Microsoft Build Engine (MSBuild) to modify the *SetParameters.xml* file for you.</span></span> <span data-ttu-id="21b1e-163">Můžete to provést pomocí MSBuild **xmlpoke –** úloh.</span><span class="sxs-lookup"><span data-stu-id="21b1e-163">You can do this by using the MSBuild **XmlPoke** task.</span></span>

<span data-ttu-id="21b1e-164">[Ukázkové řešení Správce kontaktů](the-contact-manager-solution.md) tento proces.</span><span class="sxs-lookup"><span data-stu-id="21b1e-164">The [Contact Manager sample solution](the-contact-manager-solution.md) illustrates this process.</span></span> <span data-ttu-id="21b1e-165">Chcete-li zobrazit podrobnosti, které jsou relevantní pro tento příklad se upravily příklady kódu, které následují.</span><span class="sxs-lookup"><span data-stu-id="21b1e-165">The code examples that follow have been edited to show only the details that are relevant to this example.</span></span>

> [!NOTE]
> <span data-ttu-id="21b1e-166">Širší přehled modelu soubor projektu v ukázkovém řešení a úvod do projektu vlastní soubory v obecné, najdete v tématu [vysvětlení souboru projektu](understanding-the-project-file.md) a [Principy procesu sestavení](understanding-the-build-process.md).</span><span class="sxs-lookup"><span data-stu-id="21b1e-166">For a broader overview of the project file model in the sample solution, and an introduction to custom project files in general, see [Understanding the Project File](understanding-the-project-file.md) and [Understanding the Build Process](understanding-the-build-process.md).</span></span>


<span data-ttu-id="21b1e-167">Nejprve hodnoty parametrů, které vás zajímají jsou definovány jako vlastnosti v souboru projektu specifických pro prostředí (například *Env Dev.proj*).</span><span class="sxs-lookup"><span data-stu-id="21b1e-167">First, the parameter values of interest are defined as properties in the environment-specific project file (for example, *Env-Dev.proj*).</span></span>


[!code-xml[Main](configuring-parameters-for-web-package-deployment/samples/sample4.xml)]


> [!NOTE]
> <span data-ttu-id="21b1e-168">Pokyny k přizpůsobení souborů projektu specifických pro prostředí pro prostředí serveru, naleznete v tématu [nakonfigurovat vlastnosti nasazení pro cílové prostředí](../configuring-server-environments-for-web-deployment/configuring-deployment-properties-for-a-target-environment.md).</span><span class="sxs-lookup"><span data-stu-id="21b1e-168">For guidance on how to customize the environment-specific project files for your own server environments, see [Configure Deployment Properties for a Target Environment](../configuring-server-environments-for-web-deployment/configuring-deployment-properties-for-a-target-environment.md).</span></span>


<span data-ttu-id="21b1e-169">Dále *Publish.proj* import souboru tyto vlastnosti.</span><span class="sxs-lookup"><span data-stu-id="21b1e-169">Next, the *Publish.proj* file imports these properties.</span></span> <span data-ttu-id="21b1e-170">Protože každý *SetParameters.xml* je přidružené k souboru *. deploy.cmd* souboru a My trváme na soubor projektu pro každé vyvolání *. deploy.cmd* souboru projektu Vytvoří soubor MSBuild *položky* pro každou *. deploy.cmd* souboru a definuje vlastnosti, které vás zajímají jako *metadata položky*.</span><span class="sxs-lookup"><span data-stu-id="21b1e-170">Because each *SetParameters.xml* file is associated with a *.deploy.cmd* file, and we ultimately want the project file to invoke each *.deploy.cmd* file, the project file creates an MSBuild *item* for each *.deploy.cmd* file and defines the properties of interest as *item metadata*.</span></span>


[!code-xml[Main](configuring-parameters-for-web-package-deployment/samples/sample5.xml)]


<span data-ttu-id="21b1e-171">V tomto případě:</span><span class="sxs-lookup"><span data-stu-id="21b1e-171">In this case:</span></span>

- <span data-ttu-id="21b1e-172">**ParametersXml** metadat hodnota označuje umístění *SetParameters.xml* souboru.</span><span class="sxs-lookup"><span data-stu-id="21b1e-172">The **ParametersXml** metadata value indicates the location of the *SetParameters.xml* file.</span></span>
- <span data-ttu-id="21b1e-173">**IisWebAppName** hodnota je cesta služby IIS, do které chcete nasadit webovou aplikaci.</span><span class="sxs-lookup"><span data-stu-id="21b1e-173">The **IisWebAppName** value is the IIS path to which you want to deploy the web application.</span></span>
- <span data-ttu-id="21b1e-174">**MembershipDBConnectionString** hodnotu připojovacího řetězce pro databázi členství a **MembershipDBConnectionName** hodnotu **název** atribut odpovídajícího parametru ve *SetParameters.xml* souboru.</span><span class="sxs-lookup"><span data-stu-id="21b1e-174">The **MembershipDBConnectionString** value is the connection string for the membership database, and the **MembershipDBConnectionName** value is the **name** attribute of the corresponding parameter in the *SetParameters.xml* file.</span></span>
- <span data-ttu-id="21b1e-175">**ServiceEndpointValue** hodnota je adresa koncového bodu pro služby WCF na cílovém serveru a **ServiceEndpointParamName** hodnotu atributu název příslušného parametru v *SetParameters.xml* souboru.</span><span class="sxs-lookup"><span data-stu-id="21b1e-175">The **ServiceEndpointValue** value is the endpoint address for the WCF service on the destination server, and the **ServiceEndpointParamName** value is the name attribute of the corresponding parameter in the *SetParameters.xml* file.</span></span>

<span data-ttu-id="21b1e-176">Nakonec v *Publish.proj* soubor, **PublishWebPackages** cílit používá **xmlpoke –** úloh k úpravě tyto hodnoty *SetParameters.xml* souboru.</span><span class="sxs-lookup"><span data-stu-id="21b1e-176">Finally, in the *Publish.proj* file, the **PublishWebPackages** target uses the **XmlPoke** task to modify these values in the *SetParameters.xml* file.</span></span>


[!code-xml[Main](configuring-parameters-for-web-package-deployment/samples/sample6.xml)]


<span data-ttu-id="21b1e-177">Můžete si všimnout, že každá **xmlpoke –** úloha určuje čtyři hodnoty atributů:</span><span class="sxs-lookup"><span data-stu-id="21b1e-177">You'll notice that each **XmlPoke** task specifies four attribute values:</span></span>

- <span data-ttu-id="21b1e-178">**XmlInputPath** atribut oznamuje úkolu, kde najít soubor, který chcete upravit.</span><span class="sxs-lookup"><span data-stu-id="21b1e-178">The **XmlInputPath** attribute tells the task where to find the file you want to modify.</span></span>
- <span data-ttu-id="21b1e-179">**Dotazu** atribut je dotaz XPath, který identifikuje uzel XML, který chcete změnit.</span><span class="sxs-lookup"><span data-stu-id="21b1e-179">The **Query** attribute is an XPath query that identifies the XML node you want to change.</span></span>
- <span data-ttu-id="21b1e-180">**Hodnotu** atribut je nová hodnota chcete vložit do vybraného uzlu XML.</span><span class="sxs-lookup"><span data-stu-id="21b1e-180">The **Value** attribute is the new value you want to insert into the selected XML node.</span></span>
- <span data-ttu-id="21b1e-181">**Podmínku** atribut je kritéria, na kterých by měl spustit nebo nepoběží úkolu.</span><span class="sxs-lookup"><span data-stu-id="21b1e-181">The **Condition** attribute is the criteria on which the task should run or not run.</span></span> <span data-ttu-id="21b1e-182">V těchto případech podmínka zajistí, že není pokusíte vložit hodnotu null nebo prázdný do *SetParameters.xml* souboru.</span><span class="sxs-lookup"><span data-stu-id="21b1e-182">In these cases, the condition ensures that you don't try to insert a null or empty value into the *SetParameters.xml* file.</span></span>

## <a name="conclusion"></a><span data-ttu-id="21b1e-183">Závěr</span><span class="sxs-lookup"><span data-stu-id="21b1e-183">Conclusion</span></span>

<span data-ttu-id="21b1e-184">Toto téma popisuje role *SetParameters.xml* souboru a vysvětlení, jak se vygeneruje, když vytváříte projekt webové aplikace.</span><span class="sxs-lookup"><span data-stu-id="21b1e-184">This topic described the role of the *SetParameters.xml* file and explained how it's generated when you build a web application project.</span></span> <span data-ttu-id="21b1e-185">Je vysvětleno, jak můžete parametrizovat další nastavení tak, že přidáte *parameters.xml* soubor do projektu.</span><span class="sxs-lookup"><span data-stu-id="21b1e-185">It explained how you can parameterize additional settings by adding a *parameters.xml* file to your project.</span></span> <span data-ttu-id="21b1e-186">Také popisuje, jak můžete upravit *SetParameters.xml* souboru jako součást procesu sestavení větší, automatizované, s použitím **xmlpoke –** úloh v souborech projektu.</span><span class="sxs-lookup"><span data-stu-id="21b1e-186">It also described how you can modify the *SetParameters.xml* file as part of a larger, automated build process, by using the **XmlPoke** task in your project files.</span></span>

<span data-ttu-id="21b1e-187">Dalším tématu s názvem [nasazení webových balíčků](deploying-web-packages.md), popisuje, jak nasadit webový balíček buď spuštěním *. deploy.cmd* souboru nebo pomocí MSDeploy.exe příkazy přímo.</span><span class="sxs-lookup"><span data-stu-id="21b1e-187">The next topic, [Deploying Web Packages](deploying-web-packages.md), describes how you can deploy a web package either by running the *.deploy.cmd* file or by using MSDeploy.exe commands directly.</span></span> <span data-ttu-id="21b1e-188">V obou případech můžete zadat vaše *SetParameters.xml* soubor jako parametr nasazení.</span><span class="sxs-lookup"><span data-stu-id="21b1e-188">In both cases, you can specify your *SetParameters.xml* file as a deployment parameter.</span></span>

## <a name="further-reading"></a><span data-ttu-id="21b1e-189">Další čtení</span><span class="sxs-lookup"><span data-stu-id="21b1e-189">Further Reading</span></span>

<span data-ttu-id="21b1e-190">Informace o tom, jak vytvořit webových balíčků naleznete v tématu [sestavení a balení projektů webových aplikací](building-and-packaging-web-application-projects.md).</span><span class="sxs-lookup"><span data-stu-id="21b1e-190">For information on how to create web packages, see [Building and Packaging Web Application Projects](building-and-packaging-web-application-projects.md).</span></span> <span data-ttu-id="21b1e-191">Informace o tom, jak ve skutečnosti nasazení webového balíčku najdete v tématu [nasazení webových balíčků](deploying-web-packages.md).</span><span class="sxs-lookup"><span data-stu-id="21b1e-191">For guidance on how to actually deploy a web package, see [Deploying Web Packages](deploying-web-packages.md).</span></span> <span data-ttu-id="21b1e-192">Podrobný názorný postup pro vytvoření *parameters.xml* souborů naleznete v tématu [jak: Použití parametrů ke konfiguraci nastavení když balíček pro nasazení je nainstalován](https://msdn.microsoft.com/library/ff398068.aspx).</span><span class="sxs-lookup"><span data-stu-id="21b1e-192">For a step-by-step walkthrough on how to create a *parameters.xml* file, see [How to: Use Parameters to Configure Deployment Settings When a Package is Installed](https://msdn.microsoft.com/library/ff398068.aspx).</span></span>

<span data-ttu-id="21b1e-193">Další obecné informace o parametrizaci v nasazení webu, naleznete v tématu [webové nasazení Parametrizace v akci](https://go.microsoft.com/?linkid=9805119) (příspěvek na blogu).</span><span class="sxs-lookup"><span data-stu-id="21b1e-193">For more general information on parameterization in Web Deploy, see [Web Deploy Parameterization in Action](https://go.microsoft.com/?linkid=9805119) (blog post).</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="21b1e-194">[Předchozí](building-and-packaging-web-application-projects.md)
> [další](deploying-web-packages.md)</span><span class="sxs-lookup"><span data-stu-id="21b1e-194">[Previous](building-and-packaging-web-application-projects.md)
[Next](deploying-web-packages.md)</span></span>
