---
uid: web-forms/overview/deployment/advanced-enterprise-web-deployment/performing-a-what-if-deployment
title: Probíhá nasazení What If | Microsoft Docs
author: jrjlee
description: Toto téma popisuje, jak pomocí nástroje pro nasazení webu Internetová informační služba (IIS) (Nasazení webu) a V V systému provést nasazení typu "co if" (nebo simulované)...
ms.author: riande
ms.date: 05/04/2012
ms.assetid: c711b453-01ac-4e65-a48c-93d99bf22e58
msc.legacyurl: /web-forms/overview/deployment/advanced-enterprise-web-deployment/performing-a-what-if-deployment
msc.type: authoredcontent
ms.openlocfilehash: 73a0e038cc0d4ebae0ffc8ed3fd2de4c9dad673c
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 03/06/2020
ms.locfileid: "78628889"
---
# <a name="performing-a-what-if-deployment"></a><span data-ttu-id="8cb09-103">Nasazení typu „What If“</span><span class="sxs-lookup"><span data-stu-id="8cb09-103">Performing a "What If" Deployment</span></span>

<span data-ttu-id="8cb09-104">od [Jason Novák](https://github.com/jrjlee)</span><span class="sxs-lookup"><span data-stu-id="8cb09-104">by [Jason Lee](https://github.com/jrjlee)</span></span>

[<span data-ttu-id="8cb09-105">Stáhnout PDF</span><span class="sxs-lookup"><span data-stu-id="8cb09-105">Download PDF</span></span>](https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/63/56/8130.DeployingWebAppsInEnterpriseScenarios.pdf)

> <span data-ttu-id="8cb09-106">V tomto tématu se dozvíte, jak pomocí Nasazení webu nástroje pro nasazení webu Internetová informační služba (IIS) a VSDBCMD provádět nasazení typu "Co když" (nebo simulované).</span><span class="sxs-lookup"><span data-stu-id="8cb09-106">This topic describes how to perform "what if" (or simulated) deployments using the Internet Information Services (IIS) Web Deployment Tool (Web Deploy) and VSDBCMD.</span></span> <span data-ttu-id="8cb09-107">To vám umožní určit důsledky logiky nasazení v konkrétním cílovém prostředí před samotným nasazením aplikace.</span><span class="sxs-lookup"><span data-stu-id="8cb09-107">This lets you determine the effects of your deployment logic on a particular target environment before you actually deploy your application.</span></span>

<span data-ttu-id="8cb09-108">Toto téma je součástí série kurzů založených na požadavcích podnikového nasazení fiktivní společnosti s názvem Fabrikam, Inc. Tato série kurzů používá ukázkové řešení&#x2014;, pomocí kterého [řešení](../web-deployment-in-the-enterprise/the-contact-manager-solution.md)&#x2014;správce kontaktů představuje webovou aplikaci s realistickou úrovní složitosti, včetně aplikace ASP.NET MVC 3, služby Windows Communication Foundation (WCF) a databázového projektu.</span><span class="sxs-lookup"><span data-stu-id="8cb09-108">This topic forms part of a series of tutorials based around the enterprise deployment requirements of a fictional company named Fabrikam, Inc. This tutorial series uses a sample solution&#x2014;the [Contact Manager solution](../web-deployment-in-the-enterprise/the-contact-manager-solution.md)&#x2014;to represent a web application with a realistic level of complexity, including an ASP.NET MVC 3 application, a Windows Communication Foundation (WCF) service, and a database project.</span></span>

<span data-ttu-id="8cb09-109">Metoda nasazení na srdce těchto kurzů je založena na způsobu rozdělení souboru projektu popsaného v tématu [Principy souboru projektu](../web-deployment-in-the-enterprise/understanding-the-project-file.md), ve kterém je proces sestavení a nasazení řízen dvěma soubory&#x2014;projektu, které obsahují pokyny pro sestavení, které platí pro každé cílové prostředí, a jedno obsahující nastavení sestavení a nasazení specifické pro konkrétní prostředí.</span><span class="sxs-lookup"><span data-stu-id="8cb09-109">The deployment method at the heart of these tutorials is based on the split project file approach described in [Understanding the Project File](../web-deployment-in-the-enterprise/understanding-the-project-file.md), in which the build and deployment process is controlled by two project files&#x2014;one containing build instructions that apply to every destination environment, and one containing environment-specific build and deployment settings.</span></span> <span data-ttu-id="8cb09-110">V době sestavení je soubor projektu specifický pro prostředí sloučen do souboru projektu prostředí – nezávislá a vytvoří kompletní sadu instrukcí pro sestavení.</span><span class="sxs-lookup"><span data-stu-id="8cb09-110">At build time, the environment-specific project file is merged into the environment-agnostic project file to form a complete set of build instructions.</span></span>

## <a name="performing-a-what-if-deployment-for-web-packages"></a><span data-ttu-id="8cb09-111">Provádění nasazení What If pro webové balíčky</span><span class="sxs-lookup"><span data-stu-id="8cb09-111">Performing a "What If" Deployment for Web Packages</span></span>

<span data-ttu-id="8cb09-112">Nasazení webu obsahuje funkce, které vám umožní provádět nasazení v režimu "co if" (nebo zkušebního).</span><span class="sxs-lookup"><span data-stu-id="8cb09-112">Web Deploy includes functionality that lets you perform deployments in "what if" (or trial) mode.</span></span> <span data-ttu-id="8cb09-113">Když v režimu "co if" nasadíte artefakty, Nasazení webu vygeneruje soubor protokolu, jako kdyby jste provedli nasazení, ale ve skutečnosti se na cílovém serveru nemění cokoli.</span><span class="sxs-lookup"><span data-stu-id="8cb09-113">When you deploy artifacts in "what if" mode, Web Deploy generates a log file as if you had performed the deployment, but it doesn't actually change anything on the destination server.</span></span> <span data-ttu-id="8cb09-114">Kontrola souboru protokolu vám může pomáhat pochopit, jaký dopad má vaše nasazení na cílový server, zejména:</span><span class="sxs-lookup"><span data-stu-id="8cb09-114">Reviewing the log file can help you to understand what impact your deployment will have on the destination server, in particular:</span></span>

- <span data-ttu-id="8cb09-115">Co se přidá.</span><span class="sxs-lookup"><span data-stu-id="8cb09-115">What will get added.</span></span>
- <span data-ttu-id="8cb09-116">Co se aktualizuje.</span><span class="sxs-lookup"><span data-stu-id="8cb09-116">What will get updated.</span></span>
- <span data-ttu-id="8cb09-117">Co se odstraní.</span><span class="sxs-lookup"><span data-stu-id="8cb09-117">What will get deleted.</span></span>

<span data-ttu-id="8cb09-118">Vzhledem k tomu, že nasazení "citlivostní změny" ve skutečnosti na cílovém serveru nemění cokoli, co nemůže vždycky udělat, je předpověď bez ohledu na to, jestli se nasazení nezdaří.</span><span class="sxs-lookup"><span data-stu-id="8cb09-118">Because a "what if" deployment doesn't actually change anything on the destination server, what it can't always do is predict whether a deployment will succeed.</span></span>

<span data-ttu-id="8cb09-119">Jak je popsáno v tématu [nasazení webových balíčků](../web-deployment-in-the-enterprise/deploying-web-packages.md), můžete nasadit webové balíčky pomocí nasazení webu dvěma způsoby&#x2014;pomocí nástroje příkazového řádku MSDeploy. exe přímo nebo spuštěním souboru *. deploy. cmd* , který generuje proces sestavení.</span><span class="sxs-lookup"><span data-stu-id="8cb09-119">As described in [Deploying Web Packages](../web-deployment-in-the-enterprise/deploying-web-packages.md), you can deploy web packages using Web Deploy in two ways&#x2014;by using the MSDeploy.exe command-line utility directly or by running the *.deploy.cmd* file that the build process generates.</span></span>

<span data-ttu-id="8cb09-120">Pokud používáte soubor MSDeploy. exe přímo, můžete spustit nasazení "Co když" přidáním příznaku **– whatIf** do příkazu.</span><span class="sxs-lookup"><span data-stu-id="8cb09-120">If you're using MSDeploy.exe directly, you can run a "what if" deployment by adding the **–whatif** flag to your command.</span></span> <span data-ttu-id="8cb09-121">Například pro vyhodnocení toho, co se stane, když jste nasadili balíček ContactManager. Mvc. zip do přípravného prostředí, příkaz MSDeploy by měl vypadat takto:</span><span class="sxs-lookup"><span data-stu-id="8cb09-121">For example, to evaluate what would happen if you deployed the ContactManager.Mvc.zip package to a staging environment, the MSDeploy command should resemble this:</span></span>

[!code-console[Main](performing-a-what-if-deployment/samples/sample1.cmd)]

<span data-ttu-id="8cb09-122">Až budete spokojeni s výsledky nasazení "citlivostní zpracování", můžete odebrat příznak **– whatIf** pro spuštění živého nasazení.</span><span class="sxs-lookup"><span data-stu-id="8cb09-122">When you're satisfied with the results of your "what if" deployment, you can remove the **–whatif** flag to run a live deployment.</span></span>

> [!NOTE]
> <span data-ttu-id="8cb09-123">Další informace o možnostech příkazového řádku pro soubor MSDeploy. exe najdete v tématu [nastavení operace nasazení webu](https://technet.microsoft.com/library/dd569089(WS.10).aspx).</span><span class="sxs-lookup"><span data-stu-id="8cb09-123">For more information on command-line options for MSDeploy.exe, see [Web Deploy Operation Settings](https://technet.microsoft.com/library/dd569089(WS.10).aspx).</span></span>

<span data-ttu-id="8cb09-124">Pokud používáte soubor *. deploy. cmd* , můžete v příkazu spustit místo příznaku **/y** ("Ano," nebo režim aktualizace) příznak "citlivostní aktualizace", a to pomocí příznaku **/t** (režim zkušebního režimu).</span><span class="sxs-lookup"><span data-stu-id="8cb09-124">If you're using the *.deploy.cmd* file, you can run a "what if" deployment by including the **/t** flag (trial mode) flag instead of the **/y** flag ("yes," or update mode) in your command.</span></span> <span data-ttu-id="8cb09-125">Například pro vyhodnocení toho, co se stane, když nasadíte balíček ContactManager. Mvc. zip spuštěním souboru *. deploy. cmd* , váš příkaz by měl vypadat takto:</span><span class="sxs-lookup"><span data-stu-id="8cb09-125">For example, to evaluate what would happen if you deployed the ContactManager.Mvc.zip package by running the *.deploy.cmd* file, your command should resemble this:</span></span>

[!code-console[Main](performing-a-what-if-deployment/samples/sample2.cmd)]

<span data-ttu-id="8cb09-126">Až budete spokojeni s výsledky nasazení zkušebního režimu, můžete nahradit příznak **/t** pomocí příznaku **/y** pro spuštění nasazení v reálném čase:</span><span class="sxs-lookup"><span data-stu-id="8cb09-126">When you're satisfied with the results of your "trial mode" deployment, you can replace the **/t** flag with a **/y** flag to run a live deployment:</span></span>

[!code-console[Main](performing-a-what-if-deployment/samples/sample3.cmd)]

> [!NOTE]
> <span data-ttu-id="8cb09-127">Další informace o možnostech příkazového řádku pro soubory *. deploy. cmd* naleznete v tématu [How to: install a Deployment Package by using a Deploy. cmd File](https://msdn.microsoft.com/library/ff356104.aspx).</span><span class="sxs-lookup"><span data-stu-id="8cb09-127">For more information on command-line options for *.deploy.cmd* files, see [How to: Install a Deployment Package Using the deploy.cmd File](https://msdn.microsoft.com/library/ff356104.aspx).</span></span> <span data-ttu-id="8cb09-128">Pokud spustíte soubor *. deploy. cmd* bez zadání příznaků, příkazový řádek zobrazí seznam dostupných příznaků.</span><span class="sxs-lookup"><span data-stu-id="8cb09-128">If you run the *.deploy.cmd* file without specifying any flags, the command prompt will display a list of available flags.</span></span>

## <a name="performing-a-what-if-deployment-for-databases"></a><span data-ttu-id="8cb09-129">Provádění nasazení "What If" pro databáze</span><span class="sxs-lookup"><span data-stu-id="8cb09-129">Performing a "What If" Deployment for Databases</span></span>

<span data-ttu-id="8cb09-130">V této části se předpokládá, že používáte nástroj VSDBCMD k provádění přírůstkového nasazení databáze založené na schématu.</span><span class="sxs-lookup"><span data-stu-id="8cb09-130">This section assumes that you're using the VSDBCMD utility to perform incremental, schema-based database deployment.</span></span> <span data-ttu-id="8cb09-131">Tento přístup je podrobněji popsán v tématu [nasazení databázových projektů](../web-deployment-in-the-enterprise/deploying-database-projects.md).</span><span class="sxs-lookup"><span data-stu-id="8cb09-131">This approach is described in more detail in [Deploying Database Projects](../web-deployment-in-the-enterprise/deploying-database-projects.md).</span></span> <span data-ttu-id="8cb09-132">Doporučujeme, abyste se seznámili s tímto tématem dřív, než použijete níže popsané koncepty.</span><span class="sxs-lookup"><span data-stu-id="8cb09-132">We recommend that you familiarize yourself with this topic before you apply the concepts described here.</span></span>

<span data-ttu-id="8cb09-133">Při použití VSDBCMD v režimu **nasazení** můžete pomocí příznaku **/DD** (nebo **/DEPLOYTODATABASE**) řídit, zda VSDBCMD skutečně nasadí databázi nebo pouze generuje skript nasazení.</span><span class="sxs-lookup"><span data-stu-id="8cb09-133">When you use VSDBCMD in **Deploy** mode, you can use the **/dd** (or **/DeployToDatabase**) flag to control whether VSDBCMD actually deploys the database or just generates a deployment script.</span></span> <span data-ttu-id="8cb09-134">Pokud nasazujete soubor. dbschema, jedná se o chování:</span><span class="sxs-lookup"><span data-stu-id="8cb09-134">If you're deploying a .dbschema file, this is the behavior:</span></span>

- <span data-ttu-id="8cb09-135">Pokud zadáte **/DD +** nebo **/DD**, VSDBCMD vygeneruje skript nasazení a nasadí databázi.</span><span class="sxs-lookup"><span data-stu-id="8cb09-135">If you specify **/dd+** or **/dd**, VSDBCMD will generate a deployment script and deploy the database.</span></span>
- <span data-ttu-id="8cb09-136">Pokud zadáte **/DD-** nebo vynecháte přepínač, vytvoří VSDBCMD pouze skript nasazení.</span><span class="sxs-lookup"><span data-stu-id="8cb09-136">If you specify **/dd-** or omit the switch, VSDBCMD will generate a deployment script only.</span></span>

> [!NOTE]
> <span data-ttu-id="8cb09-137">Pokud nasazujete soubor. DeployManifest namísto souboru. dbschema, chování přepínače **/DD** je mnohem složitější.</span><span class="sxs-lookup"><span data-stu-id="8cb09-137">If you're deploying a .deploymanifest file rather than a .dbschema file, the behavior of the **/dd** switch is a lot more complicated.</span></span> <span data-ttu-id="8cb09-138">V podstatě bude VSDBCMD ignorovat hodnotu přepínače **/DD** , pokud soubor. DeployManifest obsahuje prvek **DeployToDatabase** s hodnotou **true**.</span><span class="sxs-lookup"><span data-stu-id="8cb09-138">Essentially, VSDBCMD will ignore the value of the **/dd** switch if the .deploymanifest file includes a **DeployToDatabase** element with a value of **True**.</span></span> <span data-ttu-id="8cb09-139">[Nasazení databázových projektů](../web-deployment-in-the-enterprise/deploying-database-projects.md) popisuje toto chování v plném rozsahu.</span><span class="sxs-lookup"><span data-stu-id="8cb09-139">[Deploying Database Projects](../web-deployment-in-the-enterprise/deploying-database-projects.md) describes this behavior in full.</span></span>

<span data-ttu-id="8cb09-140">Chcete-li například vygenerovat skript nasazení pro databázi **ContactManager** bez toho, aby byla databáze skutečně nasazena, příkaz VSDBCMD by měl vypadat takto:</span><span class="sxs-lookup"><span data-stu-id="8cb09-140">For example, to generate a deployment script for the **ContactManager** database without actually deploying the database, your VSDBCMD command should resemble this:</span></span>

[!code-console[Main](performing-a-what-if-deployment/samples/sample4.cmd)]

<span data-ttu-id="8cb09-141">VSDBCMD je rozdílový Nástroj pro nasazení databáze a takový skript nasazení se dynamicky generuje tak, aby obsahoval všechny příkazy SQL, které jsou nutné k aktualizaci aktuální databáze, pokud existuje, do zadaného schématu.</span><span class="sxs-lookup"><span data-stu-id="8cb09-141">VSDBCMD is a differential database deployment tool, and as such the deployment script is dynamically generated to contain all the SQL commands necessary to update the current database, if one exists, to the specified schema.</span></span> <span data-ttu-id="8cb09-142">Kontrola skriptu nasazení je užitečný způsob, jak určit, jaký dopad má vaše nasazení na aktuální databázi a data, která obsahuje.</span><span class="sxs-lookup"><span data-stu-id="8cb09-142">Reviewing the deployment script is a useful way to determine what impact your deployment will have on the current database and the data it contains.</span></span> <span data-ttu-id="8cb09-143">Můžete například chtít určit:</span><span class="sxs-lookup"><span data-stu-id="8cb09-143">For example, you might want to determine:</span></span>

- <span data-ttu-id="8cb09-144">Zda budou odebrány všechny existující tabulky a zda budou mít za následek ztrátu dat.</span><span class="sxs-lookup"><span data-stu-id="8cb09-144">Whether any existing tables will be removed, and whether that will result in data loss.</span></span>
- <span data-ttu-id="8cb09-145">Určuje, zda pořadí operací přenese riziko ztráty dat, například pokud provádíte rozdělení nebo sloučení tabulek.</span><span class="sxs-lookup"><span data-stu-id="8cb09-145">Whether the order of operations carries a risk of data loss, for example, if you're splitting or merging tables.</span></span>

<span data-ttu-id="8cb09-146">Pokud jste s skriptem nasazení spokojeni, můžete VSDBCMD opakovat pomocí příznaku **/DD +** , aby se změny provedly.</span><span class="sxs-lookup"><span data-stu-id="8cb09-146">If you're happy with the deployment script, you can repeat the VSDBCMD with a **/dd+** flag to make the changes.</span></span> <span data-ttu-id="8cb09-147">Případně můžete upravit skript nasazení tak, aby splňoval vaše požadavky, a pak ho spustit ručně na databázovém serveru.</span><span class="sxs-lookup"><span data-stu-id="8cb09-147">Alternatively, you can edit the deployment script to meet your requirements and then execute it manually on the database server.</span></span>

## <a name="integrating-what-if-functionality-into-custom-project-files"></a><span data-ttu-id="8cb09-148">Integrace funkce "What If" do vlastních souborů projektu</span><span class="sxs-lookup"><span data-stu-id="8cb09-148">Integrating "What If" Functionality into Custom Project Files</span></span>

<span data-ttu-id="8cb09-149">Ve složitějších scénářích nasazení budete chtít použít vlastní soubor projektu Microsoft Build Engine (MSBuild) k zapouzdření logiky sestavení a nasazení, jak je popsáno v tématu [Principy souboru projektu](../web-deployment-in-the-enterprise/understanding-the-project-file.md).</span><span class="sxs-lookup"><span data-stu-id="8cb09-149">In more complex deployment scenarios, you'll want to use a custom Microsoft Build Engine (MSBuild) project file to encapsulate your build and deployment logic, as described in [Understanding the Project File](../web-deployment-in-the-enterprise/understanding-the-project-file.md).</span></span> <span data-ttu-id="8cb09-150">Například v ukázkovém řešení [Contact Manageru](../web-deployment-in-the-enterprise/the-contact-manager-solution.md) soubor *Publish. proj* :</span><span class="sxs-lookup"><span data-stu-id="8cb09-150">For example, in the [Contact Manager](../web-deployment-in-the-enterprise/the-contact-manager-solution.md) sample solution, the *Publish.proj* file:</span></span>

- <span data-ttu-id="8cb09-151">Sestavení řešení.</span><span class="sxs-lookup"><span data-stu-id="8cb09-151">Builds the solution.</span></span>
- <span data-ttu-id="8cb09-152">Používá Nasazení webu k zabalení a nasazení aplikace ContactManager. Mvc.</span><span class="sxs-lookup"><span data-stu-id="8cb09-152">Uses Web Deploy to package and deploy the ContactManager.Mvc application.</span></span>
- <span data-ttu-id="8cb09-153">Nástroj používá Nasazení webu k zabalení a nasazení aplikace ContactManager. Service.</span><span class="sxs-lookup"><span data-stu-id="8cb09-153">Uses Web Deploy to package and deploy the ContactManager.Service application.</span></span>
- <span data-ttu-id="8cb09-154">Nasadí databázi **ContactManager** .</span><span class="sxs-lookup"><span data-stu-id="8cb09-154">Deploys the **ContactManager** database.</span></span>

<span data-ttu-id="8cb09-155">Když integruje nasazení více webových balíčků a/nebo databází do procesu s jedním krokem tímto způsobem, může být také vhodné provést celé nasazení v režimu "co if".</span><span class="sxs-lookup"><span data-stu-id="8cb09-155">When you integrate the deployment of multiple web packages and/or databases into a single-step process in this way, you may also want the option of performing the entire deployment in a "what if" mode.</span></span>

<span data-ttu-id="8cb09-156">Soubor *Publish. proj* ukazuje, jak to lze provést.</span><span class="sxs-lookup"><span data-stu-id="8cb09-156">The *Publish.proj* file demonstrates how you can do this.</span></span> <span data-ttu-id="8cb09-157">Nejprve je třeba vytvořit vlastnost pro uložení hodnoty "citlivostní informace":</span><span class="sxs-lookup"><span data-stu-id="8cb09-157">First, you need to create a property to store the "what if" value:</span></span>

[!code-xml[Main](performing-a-what-if-deployment/samples/sample5.xml)]

<span data-ttu-id="8cb09-158">V tomto případě jste vytvořili vlastnost s názvem **whatIf** s výchozí hodnotou **false**.</span><span class="sxs-lookup"><span data-stu-id="8cb09-158">In this case, you've created a property named **WhatIf** with a default value of **false**.</span></span> <span data-ttu-id="8cb09-159">Uživatelé mohou tuto hodnotu přepsat nastavením vlastnosti na **hodnotu true** v parametru příkazového řádku, protože se zobrazí krátce.</span><span class="sxs-lookup"><span data-stu-id="8cb09-159">Users can override this value by setting the property to **true** in a command-line parameter, as you'll see shortly.</span></span>

<span data-ttu-id="8cb09-160">Další fází je parametrizovat jakékoli příkazy Nasazení webu a VSDBCMD, aby příznaky odrážely hodnotu vlastnosti **whatIf** .</span><span class="sxs-lookup"><span data-stu-id="8cb09-160">The next stage is to parameterize any Web Deploy and VSDBCMD commands so that the flags reflect the **WhatIf** property value.</span></span> <span data-ttu-id="8cb09-161">Například další cíl (pořízený ze souboru *Publish. proj* a zjednodušená) spustí soubor *. deploy. cmd* pro nasazení webového balíčku.</span><span class="sxs-lookup"><span data-stu-id="8cb09-161">For example, the next target (taken from the *Publish.proj* file and simplified) runs the *.deploy.cmd* file to deploy a web package.</span></span> <span data-ttu-id="8cb09-162">Ve výchozím nastavení příkaz obsahuje přepínač **/y** ("Ano" nebo režim aktualizace).</span><span class="sxs-lookup"><span data-stu-id="8cb09-162">By default, the command includes a **/Y** switch ("yes," or update mode).</span></span> <span data-ttu-id="8cb09-163">Pokud je vlastnost **whatIf** nastavená na **hodnotu true**, nahradí se tento parametr přepínačem **/t** (zkušební verze nebo "Co kdyby").</span><span class="sxs-lookup"><span data-stu-id="8cb09-163">If **WhatIf** is set to **true**, this is replaced by a **/T** switch (trial, or "what if" mode).</span></span>

[!code-xml[Main](performing-a-what-if-deployment/samples/sample6.xml)]

<span data-ttu-id="8cb09-164">Podobně další cíl používá nástroj VSDBCMD k nasazení databáze.</span><span class="sxs-lookup"><span data-stu-id="8cb09-164">Similarly, the next target uses the VSDBCMD utility to deploy a database.</span></span> <span data-ttu-id="8cb09-165">Ve výchozím nastavení není k dispozici přepínač **/DD** .</span><span class="sxs-lookup"><span data-stu-id="8cb09-165">By default, a **/dd** switch is not included.</span></span> <span data-ttu-id="8cb09-166">To znamená, že VSDBCMD vygeneruje skript nasazení, ale neimplementuje databázi&#x2014;jinými slovy, scénář "Co je potřeba".</span><span class="sxs-lookup"><span data-stu-id="8cb09-166">This means that VSDBCMD will generate a deployment script but will not deploy the database&#x2014;in other words, a "what if" scenario.</span></span> <span data-ttu-id="8cb09-167">Pokud vlastnost **whatIf** není nastavena na **hodnotu true**, je přidán přepínač **/DD** a VSDBCMD bude nasazena databáze.</span><span class="sxs-lookup"><span data-stu-id="8cb09-167">If the **WhatIf** property is not set to **true**, a **/dd** switch is added and VSDBCMD will deploy the database.</span></span>

[!code-xml[Main](performing-a-what-if-deployment/samples/sample7.xml)]

<span data-ttu-id="8cb09-168">Stejný přístup můžete použít k použití parametrizovat všechny relevantní příkazy v souboru projektu.</span><span class="sxs-lookup"><span data-stu-id="8cb09-168">You can use the same approach to parameterize all the relevant commands in your project file.</span></span> <span data-ttu-id="8cb09-169">Pokud chcete spustit nasazení "Co je potřeba", můžete jednoduše zadat hodnotu vlastnosti **whatIf** z příkazového řádku:</span><span class="sxs-lookup"><span data-stu-id="8cb09-169">When you want to run a "what if" deployment, you can then simply provide a **WhatIf** property value from the command line:</span></span>

[!code-console[Main](performing-a-what-if-deployment/samples/sample8.cmd)]

<span data-ttu-id="8cb09-170">Tímto způsobem můžete spustit nasazení "to if" pro všechny komponenty projektu v jednom kroku.</span><span class="sxs-lookup"><span data-stu-id="8cb09-170">In this way, you can run a "what if" deployment for all your project components in a single step.</span></span>

## <a name="conclusion"></a><span data-ttu-id="8cb09-171">Závěr</span><span class="sxs-lookup"><span data-stu-id="8cb09-171">Conclusion</span></span>

<span data-ttu-id="8cb09-172">Toto téma popisuje, jak pomocí Nasazení webu, VSDBCMD a MSBuild spustit nasazení "Co je potřeba".</span><span class="sxs-lookup"><span data-stu-id="8cb09-172">This topic described how to run "what if" deployments using Web Deploy, VSDBCMD, and MSBuild.</span></span> <span data-ttu-id="8cb09-173">Nasazení "Co když je" umožňuje vyhodnotit dopad navrhovaného nasazení před tím, než ve skutečnosti provedete změny v cílovém prostředí.</span><span class="sxs-lookup"><span data-stu-id="8cb09-173">A "what if" deployment lets you evaluate the impact of a proposed deployment before you actually make any changes to the destination environment.</span></span>

## <a name="further-reading"></a><span data-ttu-id="8cb09-174">Další čtení</span><span class="sxs-lookup"><span data-stu-id="8cb09-174">Further Reading</span></span>

<span data-ttu-id="8cb09-175">Další informace o Nasazení webu syntaxi příkazového řádku najdete v tématu [nasazení webu nastavení operací](https://technet.microsoft.com/library/dd569089(WS.10).aspx).</span><span class="sxs-lookup"><span data-stu-id="8cb09-175">For more information on Web Deploy command-line syntax, see [Web Deploy Operation Settings](https://technet.microsoft.com/library/dd569089(WS.10).aspx).</span></span> <span data-ttu-id="8cb09-176">Pokyny k možnostem příkazového řádku při použití souboru *. deploy. cmd* naleznete v tématu [How to: install a Deployment Package by using a Deploy. cmd File](https://msdn.microsoft.com/library/ff356104.aspx).</span><span class="sxs-lookup"><span data-stu-id="8cb09-176">For guidance on command-line options when you use the *.deploy.cmd* file, see [How to: Install a Deployment Package Using the deploy.cmd File](https://msdn.microsoft.com/library/ff356104.aspx).</span></span> <span data-ttu-id="8cb09-177">Pokyny k syntaxi příkazového řádku VSDBCMD najdete v tématu [Reference k příkazovému řádku pro VSDBCMD. EXE (nasazení a import schématu)](https://msdn.microsoft.com/library/dd193283.aspx).</span><span class="sxs-lookup"><span data-stu-id="8cb09-177">For guidance on VSDBCMD command-line syntax, see [Command-Line Reference for VSDBCMD.EXE (Deployment and Schema Import)](https://msdn.microsoft.com/library/dd193283.aspx).</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="8cb09-178">[Předchozí](advanced-enterprise-web-deployment.md)
> [Další](customizing-database-deployments-for-multiple-environments.md)</span><span class="sxs-lookup"><span data-stu-id="8cb09-178">[Previous](advanced-enterprise-web-deployment.md)
[Next](customizing-database-deployments-for-multiple-environments.md)</span></span>
