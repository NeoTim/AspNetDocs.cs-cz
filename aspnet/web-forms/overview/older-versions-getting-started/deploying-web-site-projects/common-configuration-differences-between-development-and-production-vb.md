---
uid: web-forms/overview/older-versions-getting-started/deploying-web-site-projects/common-configuration-differences-between-development-and-production-vb
title: Běžné rozdíly v konfiguraci mezi vývojem a výrobou (VB) | Microsoft Docs
author: rick-anderson
description: V předchozích kurzech jsme nasadili náš web kopírováním všech relevantních souborů z vývojového prostředí do provozního prostředí. Ale i...
ms.author: riande
ms.date: 04/01/2009
ms.assetid: 548e75f6-4d6c-4cb4-8da8-417915eb8393
msc.legacyurl: /web-forms/overview/older-versions-getting-started/deploying-web-site-projects/common-configuration-differences-between-development-and-production-vb
msc.type: authoredcontent
ms.openlocfilehash: cc65af6eb4fca8b3b805e11e26da468a958a4221
ms.sourcegitcommit: 22fbd8863672c4ad6693b8388ad5c8e753fb41a2
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 11/28/2019
ms.locfileid: "74619960"
---
# <a name="common-configuration-differences-between-development-and-production-vb"></a><span data-ttu-id="f3b40-104">Nejčastější rozdíly mezi vývojovou a produkční konfigurací (VB)</span><span class="sxs-lookup"><span data-stu-id="f3b40-104">Common Configuration Differences Between Development and Production (VB)</span></span>

<span data-ttu-id="f3b40-105">[Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="f3b40-105">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

[<span data-ttu-id="f3b40-106">Stáhnout PDF</span><span class="sxs-lookup"><span data-stu-id="f3b40-106">Download PDF</span></span>](https://download.microsoft.com/download/E/8/9/E8920AE6-D441-41A7-8A77-9EF8FF970D8B/aspnet_tutorial05_ConfigDifferences_vb.pdf)

> <span data-ttu-id="f3b40-107">V předchozích kurzech jsme nasadili náš web kopírováním všech relevantních souborů z vývojového prostředí do provozního prostředí.</span><span class="sxs-lookup"><span data-stu-id="f3b40-107">In earlier tutorials we deployed our website by copying all of the pertinent files from the development environment to the production environment.</span></span> <span data-ttu-id="f3b40-108">Nejedná se ale o rozdíl mezi tím, že existují rozdíly v konfiguraci mezi prostředími, což vyžaduje, aby každé prostředí mělo jedinečný soubor Web. config.</span><span class="sxs-lookup"><span data-stu-id="f3b40-108">However, it is not uncommon for there to be configuration differences between environments, which necessitates that each environment have a unique Web.config file.</span></span> <span data-ttu-id="f3b40-109">V tomto kurzu se podíváme na typické rozdíly v konfiguraci a vyhledáte strategie pro udržování samostatných informací o konfiguraci.</span><span class="sxs-lookup"><span data-stu-id="f3b40-109">This tutorial examines typical configuration differences and looks at strategies for maintaining separate configuration information.</span></span>

## <a name="introduction"></a><span data-ttu-id="f3b40-110">Úvod</span><span class="sxs-lookup"><span data-stu-id="f3b40-110">Introduction</span></span>

<span data-ttu-id="f3b40-111">Poslední dva kurzy vás provedl prostřednictvím nasazení jednoduché webové aplikace.</span><span class="sxs-lookup"><span data-stu-id="f3b40-111">The last two tutorials walked through deploying a simple web application.</span></span> <span data-ttu-id="f3b40-112">Kurz [*nasazení webu pomocí klienta FTP*](deploying-your-site-using-an-ftp-client-vb.md) ukázal použití samostatného klienta FTP ke zkopírování potřebných souborů z vývojového prostředí až po produkční prostředí.</span><span class="sxs-lookup"><span data-stu-id="f3b40-112">The [*Deploying Your Site Using an FTP Client*](deploying-your-site-using-an-ftp-client-vb.md) tutorial showed how to use a stand-alone FTP client to copy the necessary files from the development environment up to production.</span></span> <span data-ttu-id="f3b40-113">V předchozím kurzu, [*nasazení webu pomocí sady Visual Studio*](deploying-your-site-using-visual-studio-vb.md), prohlédlo se do nasazení pomocí nástroje pro kopírování webu sady Visual Studio a možnosti publikování.</span><span class="sxs-lookup"><span data-stu-id="f3b40-113">The preceding tutorial, [*Deploying Your Site Using Visual Studio*](deploying-your-site-using-visual-studio-vb.md), looked at deployment using Visual Studio's Copy Web Site tool and Publish option.</span></span> <span data-ttu-id="f3b40-114">V obou kurzech byl každý soubor v produkčním prostředí kopií souboru ve vývojovém prostředí.</span><span class="sxs-lookup"><span data-stu-id="f3b40-114">In both tutorials every file in the production environment was a copy of a file on the development environment.</span></span> <span data-ttu-id="f3b40-115">Není to ale běžné pro konfigurační soubory v produkčním prostředí, aby se lišily od těch ve vývojovém prostředí.</span><span class="sxs-lookup"><span data-stu-id="f3b40-115">However, it is not uncommon for configuration files in the production environment to differ from those in the development environment.</span></span> <span data-ttu-id="f3b40-116">Konfigurace webové aplikace je uložena v souboru `Web.config` a obvykle obsahuje informace o externích prostředcích, jako jsou databáze, webové a e-mailové servery.</span><span class="sxs-lookup"><span data-stu-id="f3b40-116">A web application's configuration is stored in the `Web.config` file and typically includes information about external resources, such as database, web, and email servers.</span></span> <span data-ttu-id="f3b40-117">Také naplní chování aplikace v určitých situacích, například v případě, že je třeba provést akci, když dojde k neošetřené výjimce.</span><span class="sxs-lookup"><span data-stu-id="f3b40-117">It also spells out the behavior of the application in certain situations, such as the course of action to take when an unhandled exception occurs.</span></span>

<span data-ttu-id="f3b40-118">Při nasazení webové aplikace je důležité, aby byly správné informace o konfiguraci v produkčním prostředí.</span><span class="sxs-lookup"><span data-stu-id="f3b40-118">When deploying a web application it is important that the correct configuration information end up in the production environment.</span></span> <span data-ttu-id="f3b40-119">Ve většině případů se `Web.config` soubor ve vývojovém prostředí nedá zkopírovat do produkčního prostředí tak, jak je.</span><span class="sxs-lookup"><span data-stu-id="f3b40-119">In most cases the `Web.config` file in the development environment cannot be copied to the production environment as-is.</span></span> <span data-ttu-id="f3b40-120">Místo toho je potřeba nahrát přizpůsobenou verzi `Web.config` do produkčního prostředí.</span><span class="sxs-lookup"><span data-stu-id="f3b40-120">Instead, a customized version of `Web.config` needs to be uploaded to production.</span></span> <span data-ttu-id="f3b40-121">V tomto kurzu se krátce posuzuje některé z častých rozdílů v konfiguraci. shrnuje také některé techniky pro zachování různých konfiguračních informací mezi prostředími.</span><span class="sxs-lookup"><span data-stu-id="f3b40-121">This tutorial briefly reviews some of the more common configuration differences; it also summarizes some techniques for maintaining different configuration information between the environments.</span></span>

## <a name="typical-configuration-differences-between-the-development-and-production-environments"></a><span data-ttu-id="f3b40-122">Typické rozdíly v konfiguraci mezi vývojovým a produkčním prostředím</span><span class="sxs-lookup"><span data-stu-id="f3b40-122">Typical Configuration Differences Between the Development and Production Environments</span></span>

<span data-ttu-id="f3b40-123">`Web.config` soubor obsahuje řadu informací o konfiguraci pro ASP.NET aplikaci.</span><span class="sxs-lookup"><span data-stu-id="f3b40-123">The `Web.config` file includes an assortment of configuration information for an ASP.NET application.</span></span> <span data-ttu-id="f3b40-124">Některé z těchto informací o konfiguraci jsou stejné bez ohledu na prostředí.</span><span class="sxs-lookup"><span data-stu-id="f3b40-124">Some of this configuration information is the same regardless of the environment.</span></span> <span data-ttu-id="f3b40-125">Například nastavení ověřování a autorizační pravidla URL, která jsou popsaná v `<authentication>` `Web.config` souboru a `<authorization>` prvky jsou obvykle stejné bez ohledu na prostředí.</span><span class="sxs-lookup"><span data-stu-id="f3b40-125">For instance, the authentication settings and URL authorization rules spelled out in the `Web.config` file's `<authentication>` and `<authorization>` elements are usually the same regardless of the environment.</span></span> <span data-ttu-id="f3b40-126">Jiné konfigurační informace, například informace o externích prostředcích, se obvykle liší v závislosti na prostředí.</span><span class="sxs-lookup"><span data-stu-id="f3b40-126">But other configuration information - such as information about external resources - typically differs depending on the environment.</span></span>

<span data-ttu-id="f3b40-127">Řetězce připojení databáze představují základní příklad informací o konfiguraci, které se liší v závislosti na prostředí.</span><span class="sxs-lookup"><span data-stu-id="f3b40-127">Database connections strings are a prime example of configuration information that differs based on the environment.</span></span> <span data-ttu-id="f3b40-128">Když webová aplikace komunikuje s databázovým serverem, musí nejdřív navázat připojení a dosáhnout pomocí [připojovacího řetězce](http://www.connectionstrings.com/Articles/Show/what-is-a-connection-string).</span><span class="sxs-lookup"><span data-stu-id="f3b40-128">When a web application communicates with a database server it must first establish a connection, and that is achieved through a [connection string](http://www.connectionstrings.com/Articles/Show/what-is-a-connection-string).</span></span> <span data-ttu-id="f3b40-129">Přestože je možné pevný kód databázového připojovacího řetězce přímo na webových stránkách nebo v kódu, který se připojuje k databázi, je nejlepší umístit `Web.config`[`<connectionStrings>` prvek](https://msdn.microsoft.com/library/bf7sd233.aspx) tak, aby informace o připojovacím řetězci byly v jediném, centralizovaném umístění.</span><span class="sxs-lookup"><span data-stu-id="f3b40-129">While it is possible to hard-code the database connection string directly in the web pages or the code that connects to the database, it is best to place it `Web.config`'s [`<connectionStrings>` element](https://msdn.microsoft.com/library/bf7sd233.aspx) so that the connection string information is in a single, centralized location.</span></span> <span data-ttu-id="f3b40-130">Často se během vývoje používá jiná databáze, než se používá v produkčním prostředí. v důsledku toho musí být informace o připojovacím řetězci jedinečné pro každé prostředí.</span><span class="sxs-lookup"><span data-stu-id="f3b40-130">Oftentimes a different database is used during development than is used in production; consequently, the connection string information must be unique for each environment.</span></span>

> [!NOTE]
> <span data-ttu-id="f3b40-131">V budoucích kurzech se dozvíte, jak nasazovat aplikace řízené daty. v tomto okamžiku se podrobně do konkrétních údajů o tom, jak se databázové připojovací řetězce ukládají do konfiguračního souboru.</span><span class="sxs-lookup"><span data-stu-id="f3b40-131">Future tutorials explore deploying data-driven applications, at which point we'll dive into the specifics of how database connection strings are stored in the configuration file.</span></span>

<span data-ttu-id="f3b40-132">Zamýšlené chování vývojových a produkčních prostředí se podstatně liší.</span><span class="sxs-lookup"><span data-stu-id="f3b40-132">The intended behavior of the development and production environments differs substantially.</span></span> <span data-ttu-id="f3b40-133">Webová aplikace ve vývojovém prostředí je vytvářena, testována a Laděna malou skupinou vývojářů.</span><span class="sxs-lookup"><span data-stu-id="f3b40-133">A web application in the development environment is being created, tested, and debugged by a small group of developers.</span></span> <span data-ttu-id="f3b40-134">V produkčním prostředí je stejná aplikace navštívená mnoha různými souběžnými uživateli.</span><span class="sxs-lookup"><span data-stu-id="f3b40-134">In the production environment that same application is being visited by many different simultaneous users.</span></span> <span data-ttu-id="f3b40-135">ASP.NET obsahuje řadu funkcí, které vývojářům pomůžou při testování a ladění aplikace, ale tyto funkce by se měly zakázat z důvodů výkonu a zabezpečení v produkčním prostředí.</span><span class="sxs-lookup"><span data-stu-id="f3b40-135">ASP.NET includes a number of features that help developers in testing and debugging an application, but these features should be disabled for performance and security reasons when in the production environment.</span></span> <span data-ttu-id="f3b40-136">Pojďme se podívat na několik takových nastavení konfigurace.</span><span class="sxs-lookup"><span data-stu-id="f3b40-136">Let's look at a few such configuration settings.</span></span>

### <a name="configuration-settings-that-impact-performance"></a><span data-ttu-id="f3b40-137">Nastavení konfigurace, která mají vliv na výkon</span><span class="sxs-lookup"><span data-stu-id="f3b40-137">Configuration Settings That Impact Performance</span></span>

<span data-ttu-id="f3b40-138">Pokud je stránka ASP.NET navštívena poprvé (nebo při prvním provedení změny), je nutné její deklarativní označení převést na třídu a tato třída musí být zkompilována.</span><span class="sxs-lookup"><span data-stu-id="f3b40-138">When an ASP.NET page is visited for the first time (or the first time after it has changed), its declarative markup must be converted into a class and this class must be compiled.</span></span> <span data-ttu-id="f3b40-139">Pokud webová aplikace používá automatickou kompilaci, musí být zkompilována také třída kódu na pozadí stránky.</span><span class="sxs-lookup"><span data-stu-id="f3b40-139">If the web application uses automatic compilation then the page's code-behind class needs to be compiled, too.</span></span> <span data-ttu-id="f3b40-140">Můžete nakonfigurovat sortiment možností kompilace prostřednictvím [`<compilation>` elementu](https://msdn.microsoft.com/library/s10awwz0.aspx)`Web.config` souboru.</span><span class="sxs-lookup"><span data-stu-id="f3b40-140">You can configure an assortment of compilation options via the `Web.config` file's [`<compilation>` element](https://msdn.microsoft.com/library/s10awwz0.aspx).</span></span>

<span data-ttu-id="f3b40-141">Atribut debug je jedním z nejdůležitějších atributů v prvku `<compilation>`.</span><span class="sxs-lookup"><span data-stu-id="f3b40-141">The debug attribute is one of the most important attributes in the `<compilation>` element.</span></span> <span data-ttu-id="f3b40-142">Pokud je atribut `debug` nastaven na hodnotu "true", zkompilované sestavení obsahují symboly ladění, které jsou potřeba při ladění aplikace v sadě Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="f3b40-142">If the `debug` attribute is set to "true" then the compiled assemblies include debug symbols, which are needed when debugging an application in Visual Studio.</span></span> <span data-ttu-id="f3b40-143">Ale symboly ladění zvyšují velikost sestavení a při spuštění kódu nastavují další požadavky na paměť.</span><span class="sxs-lookup"><span data-stu-id="f3b40-143">But debug symbols increase the size of the assembly and impose additional memory requirements when running the code.</span></span> <span data-ttu-id="f3b40-144">Pokud je navíc atribut `debug` nastaven na hodnotu "true", jakýkoli obsah vrácený `WebResource.axd` není uložen do mezipaměti, což znamená, že pokaždé, když uživatel navštíví stránku, bude muset znovu stáhnout statický obsah vrácený `WebResource.axd`.</span><span class="sxs-lookup"><span data-stu-id="f3b40-144">Furthermore, when the `debug` attribute is set to "true" any content returned by `WebResource.axd` is not cached, meaning that each time a user visits a page they will need to re-download the static content returned by `WebResource.axd`.</span></span>

> [!NOTE]
> <span data-ttu-id="f3b40-145">`WebResource.axd` je vestavěná obslužná rutina protokolu HTTP představená v ASP.NET 2,0, kterou serverové ovládací prvky používají k načtení integrovaných prostředků, jako jsou soubory skriptu, obrázky, soubory CSS a další obsah.</span><span class="sxs-lookup"><span data-stu-id="f3b40-145">`WebResource.axd` is a built-in HTTP Handler introduced in ASP.NET 2.0 that server controls use to retrieve embedded resources, such as script files, images, CSS files, and other content.</span></span> <span data-ttu-id="f3b40-146">Další informace o tom, jak `WebResource.axd` funguje a jak je můžete použít pro přístup k vloženým prostředkům z vlastních serverových ovládacích prvků, najdete v tématu [přístup k integrovaným prostředkům přes adresu URL pomocí `WebResource.axd`](http://aspnet.4guysfromrolla.com/articles/080906-1.aspx).</span><span class="sxs-lookup"><span data-stu-id="f3b40-146">For more information on how `WebResource.axd` works and how you can use it to access embedded resources from your custom server controls, see [Accessing Embedded Resources Through a URL Using `WebResource.axd`](http://aspnet.4guysfromrolla.com/articles/080906-1.aspx).</span></span>

<span data-ttu-id="f3b40-147">Atribut `debug` elementu `<compilation>` je obvykle ve vývojovém prostředí nastaven na hodnotu "true".</span><span class="sxs-lookup"><span data-stu-id="f3b40-147">The `<compilation>` element's `debug` attribute is usually set to "true" in the development environment.</span></span> <span data-ttu-id="f3b40-148">Ve skutečnosti musí být tento atribut nastaven na hodnotu "true", aby bylo možné ladit webovou aplikaci. Pokud se pokusíte ladit aplikaci ASP.NET ze sady Visual Studio a atribut `debug` je nastaven na hodnotu "false", sada Visual Studio zobrazí zprávu s vysvětlením, že aplikaci nelze ladit, dokud není atribut `debug` nastaven na hodnotu "true" a nabídne tuto změnu pro vás.</span><span class="sxs-lookup"><span data-stu-id="f3b40-148">In fact, this attribute must be set to "true" in order to debug a web application; if you try to debug an ASP.NET application from Visual Studio and the `debug` attribute is set to "false", Visual Studio will display a message explaining that the application cannot be debugged until the `debug` attribute is set to "true" and will offer to make this change for you.</span></span>

<span data-ttu-id="f3b40-149">V produkčním prostředí by **nikdy** neměl být atribut `debug` nastaven na hodnotu "true", protože má vliv na výkon.</span><span class="sxs-lookup"><span data-stu-id="f3b40-149">You should **never** have the `debug` attribute set to "true" in a production environment because of its impact on performance.</span></span> <span data-ttu-id="f3b40-150">Podrobnější diskusi k tomuto tématu najdete v blogovém příspěvku [Scott Guthrie](https://weblogs.asp.net/scottgu/). [nespouštějte produkční aplikace ASP.NET s povoleným `debug="true"`](https://weblogs.asp.net/scottgu/442448).</span><span class="sxs-lookup"><span data-stu-id="f3b40-150">For a more thorough discussion on this topic, refer to [Scott Guthrie](https://weblogs.asp.net/scottgu/)'s blog post, [Don't Run Production ASP.NET Applications With `debug="true"` Enabled](https://weblogs.asp.net/scottgu/442448).</span></span>

### <a name="custom-errors-and-tracing"></a><span data-ttu-id="f3b40-151">Vlastní chyby a trasování</span><span class="sxs-lookup"><span data-stu-id="f3b40-151">Custom Errors and Tracing</span></span>

<span data-ttu-id="f3b40-152">V případě, že dojde k neošetřené výjimce v aplikaci ASP.NET, zobrazí se s modulem runtime až do doby, kdy se stane jedna ze tří věcí:</span><span class="sxs-lookup"><span data-stu-id="f3b40-152">When an unhandled exception occurs in an ASP.NET application it bubbles up to the runtime at which point one of three things happens:</span></span>

- <span data-ttu-id="f3b40-153">Zobrazí se obecná chybová zpráva modulu runtime.</span><span class="sxs-lookup"><span data-stu-id="f3b40-153">A generic runtime error message is displayed.</span></span> <span data-ttu-id="f3b40-154">Tato stránka informuje uživatele o tom, že došlo k chybě za běhu, ale neposkytuje žádné podrobnosti o této chybě.</span><span class="sxs-lookup"><span data-stu-id="f3b40-154">This page informs the user that there was a runtime error, but does not provide any details about the error.</span></span>
- <span data-ttu-id="f3b40-155">Zobrazí se zpráva s podrobnostmi o výjimce, která obsahuje informace o výjimce, která byla právě vyvolána.</span><span class="sxs-lookup"><span data-stu-id="f3b40-155">An exception details message is displayed, which includes information on the exception that was just thrown.</span></span>
- <span data-ttu-id="f3b40-156">Zobrazí se vlastní chybová stránka, což je ASP.NET stránka, kterou vytvoříte, která zobrazuje jakoukoli zprávu, kterou si přejete.</span><span class="sxs-lookup"><span data-stu-id="f3b40-156">A custom error page is displayed, which is an ASP.NET page that you create that displays any message you desire.</span></span>

<span data-ttu-id="f3b40-157">Co se stane na tváři neošetřené výjimky, závisí na [`<customErrors>` oddílu](https://msdn.microsoft.com/library/h0hfz6fc.aspx)`Web.config` souboru.</span><span class="sxs-lookup"><span data-stu-id="f3b40-157">What happens in the face of an unhandled exception depends on the `Web.config` file's [`<customErrors>` section](https://msdn.microsoft.com/library/h0hfz6fc.aspx).</span></span>

<span data-ttu-id="f3b40-158">Při vývoji a testování aplikace pomáhá zobrazit podrobnosti o jakékoli výjimce v prohlížeči.</span><span class="sxs-lookup"><span data-stu-id="f3b40-158">When developing and testing an application it helps to see details of any exception in the browser.</span></span> <span data-ttu-id="f3b40-159">Zobrazení podrobností o výjimce v aplikaci v produkčním prostředí je však potenciální bezpečnostní riziko.</span><span class="sxs-lookup"><span data-stu-id="f3b40-159">However, showing exception details in an application on production is a potential security risk.</span></span> <span data-ttu-id="f3b40-160">Navíc je unflattering a váš web vypadá neprofesionálně.</span><span class="sxs-lookup"><span data-stu-id="f3b40-160">Moreover, it's unflattering and makes your website look unprofessional.</span></span> <span data-ttu-id="f3b40-161">V ideálním případě v případě neošetřené výjimky zobrazí webová aplikace ve vývojovém prostředí podrobnosti o výjimce, zatímco stejná aplikace v produkčním prostředí zobrazí vlastní chybovou stránku.</span><span class="sxs-lookup"><span data-stu-id="f3b40-161">Ideally, in the event of an unhandled exception a web application in the development environment will show the exception's details while the same application in production will show a custom error page.</span></span>

> [!NOTE]
> <span data-ttu-id="f3b40-162">Výchozí nastavení oddílu `<customErrors>` zobrazuje zprávu o podrobnostech výjimky pouze v případě, že stránka je navštívena prostřednictvím místního hostitele, a v opačném případě zobrazuje chybovou stránku Obecné za běhu.</span><span class="sxs-lookup"><span data-stu-id="f3b40-162">The default `<customErrors>` section setting shows the exception details message only when the page is being visited through localhost, and shows the generic runtime error page otherwise.</span></span> <span data-ttu-id="f3b40-163">To není ideální, ale zajišťuje, že výchozí chování neodhalí podrobnosti o výjimce nemístním návštěvníkům.</span><span class="sxs-lookup"><span data-stu-id="f3b40-163">This isn't ideal, but it's assuring to know that the default behavior doesn't reveal exception details to non-local visitors.</span></span> <span data-ttu-id="f3b40-164">Budoucí kurz podrobněji prověřuje část `<customErrors>` podrobněji a ukazuje, jak mít vlastní chybovou stránku zobrazenou v případě, že dojde k chybě v produkčním prostředí.</span><span class="sxs-lookup"><span data-stu-id="f3b40-164">A future tutorial examines the `<customErrors>` section in more detail and shows how to have a custom error page shown when an error occurs in production.</span></span>

<span data-ttu-id="f3b40-165">Další funkcí ASP.NET, která je užitečná při vývoji, je trasování.</span><span class="sxs-lookup"><span data-stu-id="f3b40-165">Another ASP.NET feature that is useful during development is tracing.</span></span> <span data-ttu-id="f3b40-166">Trasování, pokud je povoleno, zaznamenává informace o jednotlivých příchozích žádostech a poskytuje speciální webovou stránku `Trace.axd`pro zobrazení posledních podrobností žádosti.</span><span class="sxs-lookup"><span data-stu-id="f3b40-166">Tracing, if enabled, records information about each incoming request and provides a special web page, `Trace.axd`, for viewing recent request details.</span></span> <span data-ttu-id="f3b40-167">Trasování můžete zapnout a nakonfigurovat pomocí [elementu`<trace>`](https://msdn.microsoft.com/library/6915t83k.aspx) v `Web.config`.</span><span class="sxs-lookup"><span data-stu-id="f3b40-167">You can turn on and configure tracing via the [`<trace>` element](https://msdn.microsoft.com/library/6915t83k.aspx) in `Web.config`.</span></span>

<span data-ttu-id="f3b40-168">Pokud povolíte trasování, ujistěte se, že je v produkčním prostředí zakázané.</span><span class="sxs-lookup"><span data-stu-id="f3b40-168">If you enable tracing make sure that it is disabled in production.</span></span> <span data-ttu-id="f3b40-169">Vzhledem k tomu, že informace o trasování zahrnují soubory cookie, data relace a další potenciálně citlivé informace, je důležité zakázat trasování v produkčním prostředí.</span><span class="sxs-lookup"><span data-stu-id="f3b40-169">Because the trace information includes cookies, session data, and other potentially sensitive information, it is important to disable tracing in production.</span></span> <span data-ttu-id="f3b40-170">Dobrá zpráva je, že ve výchozím nastavení je trasování zakázané a `Trace.axd` soubor je dostupný jenom přes localhost.</span><span class="sxs-lookup"><span data-stu-id="f3b40-170">The good news is that, by default, tracing is disabled and the `Trace.axd` file is only accessible through localhost.</span></span> <span data-ttu-id="f3b40-171">Pokud toto výchozí nastavení změníte při vývoji, ujistěte se, že jsou v produkčním prostředí zase vypnuté.</span><span class="sxs-lookup"><span data-stu-id="f3b40-171">If you change these default settings in development make sure that they are turned back off in production.</span></span>

## <a name="techniques-for-maintaining-separate-configuration-information"></a><span data-ttu-id="f3b40-172">Techniky správy oddělených informací o konfiguraci</span><span class="sxs-lookup"><span data-stu-id="f3b40-172">Techniques for Maintaining Separate Configuration Information</span></span>

<span data-ttu-id="f3b40-173">Různá nastavení konfigurace ve vývojovém a produkčním prostředí ztěžuje proces nasazení.</span><span class="sxs-lookup"><span data-stu-id="f3b40-173">Having different configuration settings in the development and production environments complicates the deployment process.</span></span> <span data-ttu-id="f3b40-174">V předchozích dvou kurzech se během procesu nasazení zkopírovaly všechny nezbytné soubory z vývoje do produkčního prostředí, ale tento přístup funguje jenom v případě, že konfigurační informace jsou v obou prostředích stejné.</span><span class="sxs-lookup"><span data-stu-id="f3b40-174">In the previous two tutorials the deployment process involved copying all of the necessary files from development to production, but that approach only works if the configuration information is the same in both environments.</span></span> <span data-ttu-id="f3b40-175">Existuje řada technik pro nasazení aplikace s různými konfiguračními informacemi.</span><span class="sxs-lookup"><span data-stu-id="f3b40-175">There are a variety of techniques for deploying an application with varying configuration information.</span></span> <span data-ttu-id="f3b40-176">Pojďme tyto možnosti zařadit do katalogu pro hostované webové aplikace.</span><span class="sxs-lookup"><span data-stu-id="f3b40-176">Let's catalog some of these options for hosted web applications.</span></span>

### <a name="manually-deploying-the-production-environment-configuration-file"></a><span data-ttu-id="f3b40-177">Ruční nasazení konfiguračního souboru produkčního prostředí</span><span class="sxs-lookup"><span data-stu-id="f3b40-177">Manually Deploying the Production Environment Configuration File</span></span>

<span data-ttu-id="f3b40-178">Nejjednodušším přístupem je udržovat dvě verze `Web.config` souboru: jeden pro vývojové prostředí a jeden pro produkční prostředí.</span><span class="sxs-lookup"><span data-stu-id="f3b40-178">The simplest approach is to maintain two versions of the `Web.config` file: one for the development environment and one for the production environment.</span></span> <span data-ttu-id="f3b40-179">Nasazení lokality do provozu zahrnuje kopírování všech souborů na provozní server ve vývojovém prostředí *s výjimkou* `Web.config` souboru.</span><span class="sxs-lookup"><span data-stu-id="f3b40-179">Deploying a site to production entails copying all of the files to the production server in the development environment *except* for the `Web.config` file.</span></span> <span data-ttu-id="f3b40-180">Místo toho se do produkčního souboru zkopíruje soubor `Web.config` specifický pro produkční prostředí.</span><span class="sxs-lookup"><span data-stu-id="f3b40-180">Instead, the production environment-specific `Web.config` file would be copied to production.</span></span>

<span data-ttu-id="f3b40-181">Tento přístup není příliš složitý, ale je možné jej snadno implementovat, protože informace o konfiguraci se nečasto mění.</span><span class="sxs-lookup"><span data-stu-id="f3b40-181">This approach is not very sophisticated, but it is easy to implement because configuration information changes infrequently.</span></span> <span data-ttu-id="f3b40-182">Funguje nejlépe pro aplikace s malým vývojovým týmem, který je hostovaný na jednom webovém serveru a jehož konfigurační informace se zřídka mění.</span><span class="sxs-lookup"><span data-stu-id="f3b40-182">It works best for applications with a small development team that are hosted on a single web server and whose configuration information is infrequently changed.</span></span> <span data-ttu-id="f3b40-183">Při ručním nasazování souborů aplikace pomocí samostatného klienta FTP se jedná o většinu Tenable.</span><span class="sxs-lookup"><span data-stu-id="f3b40-183">It's most tenable when manually deploying the application files using a stand-alone FTP client.</span></span> <span data-ttu-id="f3b40-184">Když použijete nástroj pro kopírování webu sady Visual Studio nebo možnost publikování, budete muset před nasazením nejprve vyměňovat soubor `Web.config` specifický pro nasazení s konkrétní výrobou a pak je po dokončení nasazení znovu zaměnit.</span><span class="sxs-lookup"><span data-stu-id="f3b40-184">When using Visual Studio's Copy Web Site tool or Publish option you'll need to first swap out the deployment-specific `Web.config` file with the production-specific one before deploying, and then swap them back after deployment completes.</span></span>

### <a name="change-the-configuration-during-the-build-or-deployment-process"></a><span data-ttu-id="f3b40-185">Změna konfigurace během procesu sestavení nebo nasazení</span><span class="sxs-lookup"><span data-stu-id="f3b40-185">Change the Configuration During the Build or Deployment Process</span></span>

<span data-ttu-id="f3b40-186">V dosavadních diskuzích se předpokládá proces sestavení a nasazení ad hoc.</span><span class="sxs-lookup"><span data-stu-id="f3b40-186">The discussions thus far have assumed an ad-hoc build and deployment process.</span></span> <span data-ttu-id="f3b40-187">Mnoho větších softwarových projektů má více formálních procesů, které využívají open source nástroje nebo nástroje třetích stran.</span><span class="sxs-lookup"><span data-stu-id="f3b40-187">Many larger software projects have more formalized processes that make use of open-source, home-grown, or third-party tools.</span></span> <span data-ttu-id="f3b40-188">V takových projektech si pravděpodobně můžete přizpůsobit proces sestavení nebo nasazení a odpovídajícím způsobem upravit informace o konfiguraci před jejich odesláním do produkčního prostředí.</span><span class="sxs-lookup"><span data-stu-id="f3b40-188">For such projects you can likely customize the build or deployment process to appropriately modify the configuration information before it is pushed to production.</span></span> <span data-ttu-id="f3b40-189">Pokud sestavíte webovou aplikaci pomocí nástroje [MSBuild](http://en.wikipedia.org/wiki/MSBuild), [NAnt](http://nant.sourceforge.net/)nebo nějakého jiného nástroje sestavení, můžete přidat krok sestavení, který upraví soubor `Web.config` tak, aby zahrnoval nastavení specifické pro určitou provozní hodnotu.</span><span class="sxs-lookup"><span data-stu-id="f3b40-189">If you build your web application using [MSBuild](http://en.wikipedia.org/wiki/MSBuild), [NAnt](http://nant.sourceforge.net/), or some other build tool, you can likely add a build step to modify the `Web.config` file to include the production-specific settings.</span></span> <span data-ttu-id="f3b40-190">Pracovní postup nasazení by se mohl programově připojit k serveru správy zdrojového kódu a načíst příslušný soubor `Web.config`.</span><span class="sxs-lookup"><span data-stu-id="f3b40-190">Or your deployment workflow could programmatically connect to the source control server and retrieve the appropriate `Web.config` file.</span></span>

<span data-ttu-id="f3b40-191">Skutečný přístup k tomu, aby se informace o konfiguraci do provozu získaly, se výrazně liší v závislosti na vašich nástrojích a pracovním postupu.</span><span class="sxs-lookup"><span data-stu-id="f3b40-191">The actual approach for getting the appropriate configuration information to production varies widely based on your tools and workflow.</span></span> <span data-ttu-id="f3b40-192">V takovém případě nebudeme dál do tohoto tématu dohlížet.</span><span class="sxs-lookup"><span data-stu-id="f3b40-192">As such, we will not delve into this topic further.</span></span> <span data-ttu-id="f3b40-193">Pokud používáte oblíbený nástroj sestavení, jako je MSBuild nebo NAnt, můžete najít články týkající se nasazení a kurzy specifické pro tyto nástroje prostřednictvím vyhledávání na webu.</span><span class="sxs-lookup"><span data-stu-id="f3b40-193">If you are using a popular build tool like MSBuild or NAnt you can find deployment articles and tutorials specific to these tools through a web search.</span></span>

### <a name="managing-configuration-differences-via-the-web-deployment-project-add-in"></a><span data-ttu-id="f3b40-194">Správa rozdílů v konfiguraci prostřednictvím doplňku projektu nasazení webu</span><span class="sxs-lookup"><span data-stu-id="f3b40-194">Managing Configuration Differences via the Web Deployment Project Add-In</span></span>

<span data-ttu-id="f3b40-195">V 2006 společnost Microsoft vydala doplněk projektu pro vývoj webu pro Visual Studio 2005.</span><span class="sxs-lookup"><span data-stu-id="f3b40-195">In 2006 Microsoft released the Web Development Project Add-In for Visual Studio 2005.</span></span> <span data-ttu-id="f3b40-196">Doplněk pro Visual Studio 2008 byl vydaný v 2008.</span><span class="sxs-lookup"><span data-stu-id="f3b40-196">An Add-In for Visual Studio 2008 was released in 2008.</span></span> <span data-ttu-id="f3b40-197">Tento doplněk umožňuje vývojářům v ASP.NET vytvořit samostatný projekt webového nasazení společně se svým projektem webové aplikace, který při sestavení explicitně zkompiluje webovou aplikaci a zkopíruje soubory pro nasazení do místního výstupního adresáře.</span><span class="sxs-lookup"><span data-stu-id="f3b40-197">This Add-In allows for ASP.NET developers to create a separate Web Deployment Project alongside their web application project that, when built, explicitly compiles the web application and copies the files to deploy to a local output directory.</span></span> <span data-ttu-id="f3b40-198">Projekt webové aplikace používá MSBuild na pozadí.</span><span class="sxs-lookup"><span data-stu-id="f3b40-198">The Web Application Project uses MSBuild behind the scenes.</span></span>

<span data-ttu-id="f3b40-199">Ve výchozím nastavení je soubor `Web.config` vývojového prostředí zkopírován do výstupního adresáře, ale můžete nastavit projekt nasazení webu pro přizpůsobení</span><span class="sxs-lookup"><span data-stu-id="f3b40-199">By default, the development environment's `Web.config` file is copied to the output directory, but you can setup the Web Deployment Project to customize the</span></span>

<span data-ttu-id="f3b40-200">informace o konfiguraci, které se zkopírují do tohoto adresáře, následujícími způsoby:</span><span class="sxs-lookup"><span data-stu-id="f3b40-200">configuration information that gets copied to this directory in the following ways:</span></span>

- <span data-ttu-id="f3b40-201">Pomocí `Web.config` nahrazení oddílu souboru, ve kterém zadáte oddíl, který se má nahradit, a soubor XML, který obsahuje nahrazující text.</span><span class="sxs-lookup"><span data-stu-id="f3b40-201">Via `Web.config` file section replacement, in which you specify the section to replace and an XML file that contains the replacement text.</span></span>
- <span data-ttu-id="f3b40-202">Zadáním cesty k externímu zdrojovému souboru konfigurace.</span><span class="sxs-lookup"><span data-stu-id="f3b40-202">By providing a path to an external configuration source file.</span></span> <span data-ttu-id="f3b40-203">Když je tato možnost vybraná, projekt nasazení webu zkopíruje určitý soubor `Web.config` do výstupního adresáře (místo `Web.config` souboru používaného ve vývojovém prostředí).</span><span class="sxs-lookup"><span data-stu-id="f3b40-203">With this option selected, the Web Deployment Project copies a particular `Web.config` file to the output directory (rather than the `Web.config` file used in the development environment).</span></span>
- <span data-ttu-id="f3b40-204">Přidáním vlastních pravidel do souboru MSBuild používaného projektem nasazení webu.</span><span class="sxs-lookup"><span data-stu-id="f3b40-204">By adding custom rules to the MSBuild file used by the Web Deployment Project.</span></span>

<span data-ttu-id="f3b40-205">Chcete-li nasadit webovou aplikaci, sestavte projekt nasazení webu a potom zkopírujte soubory z výstupní složky projektu do produkčního prostředí.</span><span class="sxs-lookup"><span data-stu-id="f3b40-205">To deploy the web application build the Web Deployment Project and then copy the files from the project's output folder to the production environment.</span></span>

<span data-ttu-id="f3b40-206">Další informace o používání projektu nasazení webu najdete v [tomto článku o projektech nasazení webu](https://msdn.microsoft.com/magazine/cc163448.aspx) od vydání 2007. dubna na [webu MSDN Magazine](https://msdn.microsoft.com/magazine/default.aspx)nebo si Projděte odkazy v části Další informace na konci tohoto kurzu.</span><span class="sxs-lookup"><span data-stu-id="f3b40-206">To learn more about using the Web Deployment Project check out [this Web Deployment Projects article](https://msdn.microsoft.com/magazine/cc163448.aspx) from the April 2007 issue of [MSDN Magazine](https://msdn.microsoft.com/magazine/default.aspx), or consult the links in the Further Reading section at the end of this tutorial.</span></span>

> [!NOTE]
> <span data-ttu-id="f3b40-207">Projekt nasazení webu se sadou Visual Web Developer nelze použít, protože projekt nasazení webu je implementován jako doplněk sady Visual Studio a edice Visual Studio Express (včetně aplikace Visual Web Developer) nepodporují doplňky.</span><span class="sxs-lookup"><span data-stu-id="f3b40-207">You cannot use the Web Deployment Project with Visual Web Developer because the Web Deployment Project is implemented as a Visual Studio Add-In and the Visual Studio Express Editions (including Visual Web Developer) do not support Add-Ins.</span></span>

## <a name="summary"></a><span data-ttu-id="f3b40-208">Přehled</span><span class="sxs-lookup"><span data-stu-id="f3b40-208">Summary</span></span>

<span data-ttu-id="f3b40-209">Externí prostředky a chování webové aplikace ve vývoji se obvykle liší od situace, kdy je stejná aplikace v produkčním prostředí.</span><span class="sxs-lookup"><span data-stu-id="f3b40-209">The external resources and behavior of a web application in development are typically different than when the same application is in production.</span></span> <span data-ttu-id="f3b40-210">Například databázové připojovací řetězce, možnosti kompilace a chování, když dojde k neošetřené výjimce, se obvykle liší mezi prostředími.</span><span class="sxs-lookup"><span data-stu-id="f3b40-210">For instance, database connection strings, compilation options, and the behavior when an unhandled exception occurs commonly differ between environments.</span></span> <span data-ttu-id="f3b40-211">Proces nasazení musí vyhovovat těmto rozdílům.</span><span class="sxs-lookup"><span data-stu-id="f3b40-211">The deployment process must accommodate these differences.</span></span> <span data-ttu-id="f3b40-212">Jak je popsáno v tomto kurzu, nejjednodušší způsob je ruční zkopírování alternativního konfiguračního souboru do produkčního prostředí.</span><span class="sxs-lookup"><span data-stu-id="f3b40-212">As we discussed in this tutorial, the simplest approach is to manually copy an alternate configuration file to the production environment.</span></span> <span data-ttu-id="f3b40-213">Při použití doplňku projektu nasazení webu nebo s více formálními procesy sestavení nebo nasazení, které mohou přizpůsobit taková přizpůsobení, jsou k dispozici další elegantní řešení.</span><span class="sxs-lookup"><span data-stu-id="f3b40-213">More elegant solutions are possible when using the Web Deployment Project Add-In or with a more formalized build or deployment process that can accommodate such customizations.</span></span>

<span data-ttu-id="f3b40-214">Šťastné programování!</span><span class="sxs-lookup"><span data-stu-id="f3b40-214">Happy Programming!</span></span>

### <a name="further-reading"></a><span data-ttu-id="f3b40-215">Další čtení</span><span class="sxs-lookup"><span data-stu-id="f3b40-215">Further Reading</span></span>

<span data-ttu-id="f3b40-216">Další informace o tématech popsaných v tomto kurzu najdete v následujících zdrojích informací:</span><span class="sxs-lookup"><span data-stu-id="f3b40-216">For more information on the topics discussed in this tutorial, refer to the following resources:</span></span>

- [<span data-ttu-id="f3b40-217">Vysvětlení připojovacích řetězců</span><span class="sxs-lookup"><span data-stu-id="f3b40-217">Connection Strings Explained</span></span>](http://www.connectionstrings.com/Articles/Show/what-is-a-connection-string)
- [<span data-ttu-id="f3b40-218">Připojovací řetězce databáze @ ConnectionStrings.com</span><span class="sxs-lookup"><span data-stu-id="f3b40-218">Database Connection Strings @ ConnectionStrings.com</span></span>](http://www.connectionstrings.com/)
- [<span data-ttu-id="f3b40-219">Nespouštějte produkční aplikace v ASP.NET s povoleným `debug="true"`</span><span class="sxs-lookup"><span data-stu-id="f3b40-219">Don't Run Production ASP.NET Applications with `debug="true"` Enabled</span></span>](https://weblogs.asp.net/scottgu/Don_1920_t-run-production-ASP.NET-Applications-with-debug_3D001D20_true_1D20_-enabled)
- [<span data-ttu-id="f3b40-220">Řádné reakce na neošetřené výjimky – zobrazení uživatelsky přívětivých chybových stránek</span><span class="sxs-lookup"><span data-stu-id="f3b40-220">Gracefully Responding to Unhandled Exceptions - Displaying User-Friendly Error Pages</span></span>](http://aspnet.4guysfromrolla.com/articles/090606-1.aspx)
- [<span data-ttu-id="f3b40-221">Jak můžu: použít projekt nasazení webu sady Visual Studio 2008?</span><span class="sxs-lookup"><span data-stu-id="f3b40-221">How Do I: Use a Visual Studio 2008 Web Deployment Project?</span></span>](../../../videos/how-do-i/how-do-i-use-a-visual-studio-2008-web-deployment-project.md)
- [<span data-ttu-id="f3b40-222">Nastavení konfigurace klíče při nasazení databáze</span><span class="sxs-lookup"><span data-stu-id="f3b40-222">Key Configuration Settings When Deploying a Database</span></span>](http://aspnet.4guysfromrolla.com/articles/121008-1.aspx)
- <span data-ttu-id="f3b40-223">[Projekty nasazení webu sady Visual studio 2008 stáhnout](https://www.microsoft.com/downloads/details.aspx?FamilyId=0AA30AE8-C73B-4BDD-BB1B-FE697256C459&amp;displaylang=en) | [projekty nasazení sady Visual Studio 2005 stáhnout](https://download.microsoft.com/download/9/4/9/9496adc4-574e-4043-bb70-bc841e27f13c/WebDeploymentSetup.msi)</span><span class="sxs-lookup"><span data-stu-id="f3b40-223">[Visual Studio 2008 Web Deployment Projects Download](https://www.microsoft.com/downloads/details.aspx?FamilyId=0AA30AE8-C73B-4BDD-BB1B-FE697256C459&amp;displaylang=en) | [Visual Studio 2005 Web Deployment Projects Download](https://download.microsoft.com/download/9/4/9/9496adc4-574e-4043-bb70-bc841e27f13c/WebDeploymentSetup.msi)</span></span>
- <span data-ttu-id="f3b40-224">[Projekty nasazení webu vs 2008](https://weblogs.asp.net/scottgu/archive/2005/11/06/429723.aspx) | [a podpora projektů nasazení webu vs 2008](https://weblogs.asp.net/scottgu/archive/2008/01/28/vs-2008-web-deployment-project-support-released.aspx)</span><span class="sxs-lookup"><span data-stu-id="f3b40-224">[VS 2008 Web Deployment Projects](https://weblogs.asp.net/scottgu/archive/2005/11/06/429723.aspx) | [VS 2008 Web Deployment Project Support Released](https://weblogs.asp.net/scottgu/archive/2008/01/28/vs-2008-web-deployment-project-support-released.aspx)</span></span>
- [<span data-ttu-id="f3b40-225">Projekty nasazení webu</span><span class="sxs-lookup"><span data-stu-id="f3b40-225">Web Deployment Projects</span></span>](https://msdn.microsoft.com/magazine/cc163448.aspx)

> [!div class="step-by-step"]
> <span data-ttu-id="f3b40-226">[Předchozí](deploying-your-site-using-visual-studio-vb.md)
> [Další](core-differences-between-iis-and-the-asp-net-development-server-vb.md)</span><span class="sxs-lookup"><span data-stu-id="f3b40-226">[Previous](deploying-your-site-using-visual-studio-vb.md)
[Next](core-differences-between-iis-and-the-asp-net-development-server-vb.md)</span></span>
