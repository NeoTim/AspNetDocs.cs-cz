---
uid: web-forms/overview/older-versions-getting-started/master-pages/specifying-the-master-page-programmatically-cs
title: Programové určení stránky předlohy (C#) | Dokumentace Microsoftu
author: rick-anderson
description: Vyhledá v nastavení obsahu stránky hlavní stránku prostřednictvím kódu programu přes PreInit obslužné rutiny události.
ms.author: riande
ms.date: 07/28/2008
ms.assetid: 7c4a3445-2440-4aee-b9fd-779c05e6abb2
msc.legacyurl: /web-forms/overview/older-versions-getting-started/master-pages/specifying-the-master-page-programmatically-cs
msc.type: authoredcontent
ms.openlocfilehash: 58ecd01a8a18cd7dcf9eba96313e40d881d90af5
ms.sourcegitcommit: 24b1f6decbb17bb22a45166e5fdb0845c65af498
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 03/01/2019
ms.locfileid: "57078367"
---
<a name="specifying-the-master-page-programmatically-c"></a><span data-ttu-id="618a6-103">Programové určení stránky předlohy (C#)</span><span class="sxs-lookup"><span data-stu-id="618a6-103">Specifying the Master Page Programmatically (C#)</span></span>
====================
<span data-ttu-id="618a6-104">podle [Scott Meisnerová](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="618a6-104">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="618a6-105">[Stáhněte si kód](http://download.microsoft.com/download/d/6/6/d66ad554-afdd-409e-a5c3-201b774fbb31/ASPNET_MasterPages_Tutorial_09_CS.zip) nebo [stahovat PDF](http://download.microsoft.com/download/d/6/6/d66ad554-afdd-409e-a5c3-201b774fbb31/ASPNET_MasterPages_Tutorial_09_CS.pdf)</span><span class="sxs-lookup"><span data-stu-id="618a6-105">[Download Code](http://download.microsoft.com/download/d/6/6/d66ad554-afdd-409e-a5c3-201b774fbb31/ASPNET_MasterPages_Tutorial_09_CS.zip) or [Download PDF](http://download.microsoft.com/download/d/6/6/d66ad554-afdd-409e-a5c3-201b774fbb31/ASPNET_MasterPages_Tutorial_09_CS.pdf)</span></span>

> <span data-ttu-id="618a6-106">Vyhledá v nastavení obsahu stránky hlavní stránku prostřednictvím kódu programu přes PreInit obslužné rutiny události.</span><span class="sxs-lookup"><span data-stu-id="618a6-106">Looks at setting the content page's master page programmatically via the PreInit event handler.</span></span>


## <a name="introduction"></a><span data-ttu-id="618a6-107">Úvod</span><span class="sxs-lookup"><span data-stu-id="618a6-107">Introduction</span></span>

<span data-ttu-id="618a6-108">Od zahajovací příklad v [ *vytváření webu rozložení pomocí stránek předlohy*](creating-a-site-wide-layout-using-master-pages-cs.md), veškerý obsah stránky neodkazujete jejich stránky předlohy deklarativně prostřednictvím `MasterPageFile` atribut `@Page`směrnice.</span><span class="sxs-lookup"><span data-stu-id="618a6-108">Since the inaugural example in [*Creating a Site-Wide Layout Using Master Pages*](creating-a-site-wide-layout-using-master-pages-cs.md), all content pages have referenced their master page declaratively via the `MasterPageFile` attribute in the `@Page` directive.</span></span> <span data-ttu-id="618a6-109">Například následující `@Page` – direktiva odkazuje stránky obsahu na stránce předlohy `Site.master`:</span><span class="sxs-lookup"><span data-stu-id="618a6-109">For example, the following `@Page` directive links the content page to the master page `Site.master`:</span></span>


[!code-aspx[Main](specifying-the-master-page-programmatically-cs/samples/sample1.aspx)]

<span data-ttu-id="618a6-110">[ `Page` Třídy](https://msdn.microsoft.com/library/system.web.ui.page.aspx) v `System.Web.UI` obsahuje obor názvů [ `MasterPageFile` vlastnost](https://msdn.microsoft.com/library/system.web.ui.page.masterpagefile.aspx) , který vrací cestu ke stránce hlavní stránky obsahu, je tato vlastnost nastavená `@Page` směrnice.</span><span class="sxs-lookup"><span data-stu-id="618a6-110">The [`Page` class](https://msdn.microsoft.com/library/system.web.ui.page.aspx) in the `System.Web.UI` namespace includes a [`MasterPageFile` property](https://msdn.microsoft.com/library/system.web.ui.page.masterpagefile.aspx) that returns the path to the content page's master page; it is this property that is set by the `@Page` directive.</span></span> <span data-ttu-id="618a6-111">Tuto vlastnost lze také programové určení stránky předlohy stránku obsahu.</span><span class="sxs-lookup"><span data-stu-id="618a6-111">This property can also be used to programmatically specify the content page's master page.</span></span> <span data-ttu-id="618a6-112">Tento přístup je užitečný, pokud chcete dynamicky přiřazovat hlavní stránku založenou na vnější faktory, jako je například uživatel na stránce.</span><span class="sxs-lookup"><span data-stu-id="618a6-112">This approach is useful if you want to dynamically assign the master page based on external factors, such as the user visiting the page.</span></span>

<span data-ttu-id="618a6-113">V tomto kurzu přidáme hlavní strana na náš web a dynamicky rozhodnout, které stránky předlohy k použití v době běhu.</span><span class="sxs-lookup"><span data-stu-id="618a6-113">In this tutorial we add a second master page to our website and dynamically decide which master page to use at runtime.</span></span>

## <a name="step-1-a-look-at-the-page-lifecycle"></a><span data-ttu-id="618a6-114">Krok 1: Podívejte se na životní cyklus stránky</span><span class="sxs-lookup"><span data-stu-id="618a6-114">Step 1: A Look at the Page Lifecycle</span></span>

<span data-ttu-id="618a6-115">Pokaždé, když je přijat požadavek na webovém serveru, který je stránku obsahu stránky ASP.NET, modul ASP.NET musí prověřování na stránce obsahu odpovídající ovládací prvky ContentPlaceHolder ovládacích prvků do stránky předlohy.</span><span class="sxs-lookup"><span data-stu-id="618a6-115">Whenever a request arrives at the web server for an ASP.NET page that is a content page, the ASP.NET engine must fuse the page's Content controls into the master page's corresponding ContentPlaceHolder controls.</span></span> <span data-ttu-id="618a6-116">Tato fusion vytvoří hierarchii jeden ovládací prvek, který lze potom pokračujte životního cyklu stránky.</span><span class="sxs-lookup"><span data-stu-id="618a6-116">This fusion creates a single control hierarchy that can then proceed through the typical page lifecycle.</span></span>

<span data-ttu-id="618a6-117">Obrázek 1 znázorňuje tuto fusion.</span><span class="sxs-lookup"><span data-stu-id="618a6-117">Figure 1 illustrates this fusion.</span></span> <span data-ttu-id="618a6-118">Krok 1 na obrázku 1 zobrazí původní obsah a hierarchie ovládací prvek stránky předlohy.</span><span class="sxs-lookup"><span data-stu-id="618a6-118">Step 1 in Figure 1 shows the initial content and master page control hierarchies.</span></span> <span data-ttu-id="618a6-119">Na konci ocáskem fázi PreInit obsah jsou ovládací prvky na stránce přidány do odpovídajících prvků ContentPlaceHolder na stránce předlohy (krok 2).</span><span class="sxs-lookup"><span data-stu-id="618a6-119">At the tail end of the PreInit stage the Content controls in the page are added to the corresponding ContentPlaceHolders in the master page (Step 2).</span></span> <span data-ttu-id="618a6-120">Po tomto fusion stránky předlohy slouží jako kořenový hierarchii roztaveného ovládacích prvků.</span><span class="sxs-lookup"><span data-stu-id="618a6-120">After this fusion, the master page serves as the root of the fused control hierarchy.</span></span> <span data-ttu-id="618a6-121">Tento ovládací prvek začleněny hierarchie se pak přidá do stránky a vytvoření hierarchie dokončené ovládacího prvku (krok 3).</span><span class="sxs-lookup"><span data-stu-id="618a6-121">This fused control hierarchy is then added to the page to produce the finalized control hierarchy (Step 3).</span></span> <span data-ttu-id="618a6-122">Net výsledkem je, že na stránce ovládacího prvku hierarchie obsahuje hierarchii roztaveného ovládacích prvků.</span><span class="sxs-lookup"><span data-stu-id="618a6-122">The net result is that the page's control hierarchy includes the fused control hierarchy.</span></span>


<span data-ttu-id="618a6-123">[![Stránky předlohy a stránky obsahu ovládacího prvku hierarchií jsou začleněny společně během fáze PreInit](specifying-the-master-page-programmatically-cs/_static/image2.png)](specifying-the-master-page-programmatically-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="618a6-123">[![The Master Page and Content Page's Control Hierarchies are Fused Together during the PreInit Stage](specifying-the-master-page-programmatically-cs/_static/image2.png)](specifying-the-master-page-programmatically-cs/_static/image1.png)</span></span>

<span data-ttu-id="618a6-124">**Obrázek 01**: Stránky předlohy a stránky obsahu ovládacího prvku hierarchií jsou začleněny společně během fáze PreInit ([kliknutím ji zobrazíte obrázek v plné velikosti](specifying-the-master-page-programmatically-cs/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="618a6-124">**Figure 01**: The Master Page and Content Page's Control Hierarchies are Fused Together during the PreInit Stage ([Click to view full-size image](specifying-the-master-page-programmatically-cs/_static/image3.png))</span></span>


## <a name="step-2-setting-themasterpagefileproperty-from-code"></a><span data-ttu-id="618a6-125">Krok 2: Nastavení`MasterPageFile`vlastnost z kódu</span><span class="sxs-lookup"><span data-stu-id="618a6-125">Step 2: Setting the`MasterPageFile`Property from Code</span></span>

<span data-ttu-id="618a6-126">Jaké stránky předlohy partakes v tomto fusion závisí na hodnotě `Page` objektu `MasterPageFile` vlastnost.</span><span class="sxs-lookup"><span data-stu-id="618a6-126">What master page partakes in this fusion depends on the value of the `Page` object's `MasterPageFile` property.</span></span> <span data-ttu-id="618a6-127">Nastavení `MasterPageFile` atribut `@Page` direktiva nemá čistým důsledkem toho přiřazení `Page`společnosti `MasterPageFile` vlastnost během fáze inicializace je úplně první fáze životního cyklu stránky.</span><span class="sxs-lookup"><span data-stu-id="618a6-127">Setting the `MasterPageFile` attribute in the `@Page` directive has the net effect of assigning the `Page`'s `MasterPageFile` property during the Initialization stage, which is the very first stage of the page's lifecycle.</span></span> <span data-ttu-id="618a6-128">Tuto vlastnost jsme také můžete nastavit prostřednictvím kódu programu.</span><span class="sxs-lookup"><span data-stu-id="618a6-128">We can alternatively set this property programmatically.</span></span> <span data-ttu-id="618a6-129">Nicméně je nutné nastavit tuto vlastnost než fusion na obrázku 1.</span><span class="sxs-lookup"><span data-stu-id="618a6-129">However, it is imperative that this property be set before the fusion in Figure 1 takes place.</span></span>

<span data-ttu-id="618a6-130">Na začátku fáze PreInit `Page` objektu vyvolá jeho [ `PreInit` události](https://msdn.microsoft.com/library/system.web.ui.page.preinit.aspx) a volá jeho [ `OnPreInit` metoda](https://msdn.microsoft.com/library/system.web.ui.page.onpreinit.aspx).</span><span class="sxs-lookup"><span data-stu-id="618a6-130">At the start of the PreInit stage the `Page` object raises its [`PreInit` event](https://msdn.microsoft.com/library/system.web.ui.page.preinit.aspx) and calls its [`OnPreInit` method](https://msdn.microsoft.com/library/system.web.ui.page.onpreinit.aspx).</span></span> <span data-ttu-id="618a6-131">Programové nastavení stránky předlohy, pak můžeme buď vytvořit obslužnou rutinu události pro `PreInit` události nebo přepsání `OnPreInit` metody.</span><span class="sxs-lookup"><span data-stu-id="618a6-131">To set the master page programmatically, then, we can either create an event handler for the `PreInit` event or override the `OnPreInit` method.</span></span> <span data-ttu-id="618a6-132">Podívejme se na oba přístupy.</span><span class="sxs-lookup"><span data-stu-id="618a6-132">Let's look at both approaches.</span></span>

<span data-ttu-id="618a6-133">Začněte otevřením `Default.aspx.cs`, soubor třídy modelu code-behind náš web domovské stránky.</span><span class="sxs-lookup"><span data-stu-id="618a6-133">Start by opening `Default.aspx.cs`, the code-behind class file for our site's homepage.</span></span> <span data-ttu-id="618a6-134">Přidat obslužnou rutinu události pro danou stránku `PreInit` události tak, že zadáte následující kód:</span><span class="sxs-lookup"><span data-stu-id="618a6-134">Add an event handler for the page's `PreInit` event by typing in the following code:</span></span>


[!code-csharp[Main](specifying-the-master-page-programmatically-cs/samples/sample2.cs)]

<span data-ttu-id="618a6-135">Tady jsme nastavili `MasterPageFile` vlastnost.</span><span class="sxs-lookup"><span data-stu-id="618a6-135">From here we can set the `MasterPageFile` property.</span></span> <span data-ttu-id="618a6-136">Aktualizovat kód tak, aby přiřadí hodnotu "~ / Site.master" k `MasterPageFile` vlastnost.</span><span class="sxs-lookup"><span data-stu-id="618a6-136">Update the code so that it assigns the value "~/Site.master" to the `MasterPageFile` property.</span></span>


[!code-csharp[Main](specifying-the-master-page-programmatically-cs/samples/sample3.cs)]

<span data-ttu-id="618a6-137">Pokud nastavíte zarážku a, který začíná ladění vám zobrazí pokaždé, když `Default.aspx` navštívené stránky nebo pokaždé, když se zpětného odeslání na tuto stránku `Page_PreInit` spustí obslužnou rutinu události a `MasterPageFile` je přiřazená vlastnost "~ / Site.master".</span><span class="sxs-lookup"><span data-stu-id="618a6-137">If you set a breakpoint and start with debugging you'll see that whenever the `Default.aspx` page is visited or whenever there's a postback to this page, the `Page_PreInit` event handler executes and the `MasterPageFile` property is assigned to "~/Site.master".</span></span>

<span data-ttu-id="618a6-138">Alternativně můžete přepsat `Page` třídy `OnPreInit` metoda a nastavte `MasterPageFile` existuje vlastnost.</span><span class="sxs-lookup"><span data-stu-id="618a6-138">Alternatively, you can override the `Page` class's `OnPreInit` method and set the `MasterPageFile` property there.</span></span> <span data-ttu-id="618a6-139">V tomto příkladu teď není nastavený na hlavní stránce v konkrétní stránce, ale spíše z `BasePage`.</span><span class="sxs-lookup"><span data-stu-id="618a6-139">For this example, let's not set the master page in a particular page, but rather from `BasePage`.</span></span> <span data-ttu-id="618a6-140">Si možná Vzpomínáte, že jsme vytvořili vlastní stránku základní třídu (`BasePage`) zpátky [ *zadáním názvu, metaznaček a ostatní hlaviček HTML na stránce předlohy* ](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs.md) kurzu.</span><span class="sxs-lookup"><span data-stu-id="618a6-140">Recall that we created a custom base page class (`BasePage`) back in the [*Specifying the Title, Meta Tags, and Other HTML Headers in the Master Page*](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs.md) tutorial.</span></span> <span data-ttu-id="618a6-141">Aktuálně `BasePage` přepsání `Page` třídy `OnLoadComplete` metody, kde se nastaví na stránce `Title` vlastnost podle data mapy webu.</span><span class="sxs-lookup"><span data-stu-id="618a6-141">Currently `BasePage` overrides the `Page` class's `OnLoadComplete` method, where it sets the page's `Title` property based on the site map data.</span></span> <span data-ttu-id="618a6-142">Aktualizujme `BasePage` také přepsat `OnPreInit` metoda programové určení stránky předlohy.</span><span class="sxs-lookup"><span data-stu-id="618a6-142">Let's update `BasePage` to also override the `OnPreInit` method to programmatically specify the master page.</span></span>


[!code-csharp[Main](specifying-the-master-page-programmatically-cs/samples/sample4.cs)]

<span data-ttu-id="618a6-143">Protože všechny naše obsahu stránky odvozen od `BasePage`, všechny nyní mají jejich hlavní stránku prostřednictvím kódu programu přiřazen.</span><span class="sxs-lookup"><span data-stu-id="618a6-143">Because all our content pages derive from `BasePage`, all of them now have their master page programmatically assigned.</span></span> <span data-ttu-id="618a6-144">V tomto okamžiku `PreInit` obslužné rutině událostí ve `Default.aspx.cs` je nadbytečný; můžete bez obav ho odstranit.</span><span class="sxs-lookup"><span data-stu-id="618a6-144">At this point the `PreInit` event handler in `Default.aspx.cs` is superfluous; feel free to remove it.</span></span>

### <a name="what-about-thepagedirective"></a><span data-ttu-id="618a6-145">Co`@Page`– direktiva?</span><span class="sxs-lookup"><span data-stu-id="618a6-145">What About the`@Page`Directive?</span></span>

<span data-ttu-id="618a6-146">Co může být trochu matoucí je, že stránky obsahu `MasterPageFile` vlastnosti jsou nyní určenými na dvou místech: programově v `BasePage` třídy `OnPreInit` metoda také prostřednictvím `MasterPageFile` atribut v každé obsahu stránky `@Page` směrnice.</span><span class="sxs-lookup"><span data-stu-id="618a6-146">What may be a little confusing is that the content pages' `MasterPageFile` properties are now being specified in two places: programmatically in the `BasePage` class's `OnPreInit` method as well as through the `MasterPageFile` attribute in each content page's `@Page` directive.</span></span>

<span data-ttu-id="618a6-147">První fázi životního cyklu stránky je fáze inicializace.</span><span class="sxs-lookup"><span data-stu-id="618a6-147">The first stage in the page lifecycle is the Initialization stage.</span></span> <span data-ttu-id="618a6-148">Během této fáze `Page` objektu `MasterPageFile` vlastnost je přiřazena hodnota `MasterPageFile` atribut `@Page` – direktiva (Pokud je zadáno).</span><span class="sxs-lookup"><span data-stu-id="618a6-148">During this stage the `Page` object's `MasterPageFile` property is assigned the value of the `MasterPageFile` attribute in the `@Page` directive (if it is provided).</span></span> <span data-ttu-id="618a6-149">Fáze PreInit sleduje fáze inicializace a je zde kde jsme programově nastavit `Page` objektu `MasterPageFile` vlastnost, a tím přepsat hodnoty přiřazené, z `@Page` směrnice.</span><span class="sxs-lookup"><span data-stu-id="618a6-149">The PreInit stage follows the Initialization stage, and it is here where we programmatically set the `Page` object's `MasterPageFile` property, thereby overwriting the value assigned from the `@Page` directive.</span></span> <span data-ttu-id="618a6-150">Protože jsme nastavujete `Page` objektu `MasterPageFile` vlastnost prostřednictvím kódu programu, může Odebereme `MasterPageFile` atribut z `@Page` direktiv, aniž by to ovlivnilo činnost koncového uživatele.</span><span class="sxs-lookup"><span data-stu-id="618a6-150">Because we are setting the `Page` object's `MasterPageFile` property programmatically, we could remove the `MasterPageFile` attribute from the `@Page` directive without affecting the end user's experience.</span></span> <span data-ttu-id="618a6-151">Sami sobě tohoto přesvědčit, pokračujte a odebrat `MasterPageFile` atribut z `@Page` direktiv v `Default.aspx` a pak na stránce prostřednictvím prohlížeče.</span><span class="sxs-lookup"><span data-stu-id="618a6-151">To convince yourself of this, go ahead and remove the `MasterPageFile` attribute from the `@Page` directive in `Default.aspx` and then visit the page through a browser.</span></span> <span data-ttu-id="618a6-152">Dle očekávání, výstup je stejný jako, než byl odebrán atribut.</span><span class="sxs-lookup"><span data-stu-id="618a6-152">As you would expect, the output is the same as before the attribute was removed.</span></span>

<span data-ttu-id="618a6-153">Zda `MasterPageFile` je nastavena prostřednictvím `@Page` – direktiva nebo prostřednictvím kódu programu je bezvýznamnými činnost koncového uživatele.</span><span class="sxs-lookup"><span data-stu-id="618a6-153">Whether the `MasterPageFile` property is set via the `@Page` directive or programmatically is inconsequential to the end user's experience.</span></span> <span data-ttu-id="618a6-154">Ale `MasterPageFile` atribut `@Page` – direktiva se používá sada Visual Studio v době návrhu, vytvoří WYSIWYG zobrazení v návrháři.</span><span class="sxs-lookup"><span data-stu-id="618a6-154">However, the `MasterPageFile` attribute in the `@Page` directive is used by Visual Studio during design-time to produce the WYSIWYG view in the Designer.</span></span> <span data-ttu-id="618a6-155">Je-li se vrátit k `Default.aspx` v sadě Visual Studio a přejděte do návrháře se zobrazí zpráva, "stránka předlohy Chyba: Na stránce má ovládací prvky, které vyžadují odkaz na stránku předlohy, ale není zadaný žádný"(viz obrázek 2).</span><span class="sxs-lookup"><span data-stu-id="618a6-155">If you return to `Default.aspx` in Visual Studio and navigate to the Designer you'll see the message, "Master Page error: The page has controls that require a Master Page reference, but none is specified" (see Figure 2).</span></span>

<span data-ttu-id="618a6-156">Stručně řečeno, je potřeba nechat `MasterPageFile` atribut `@Page` směrnice mohli využívat bohaté možnosti návrhu v sadě Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="618a6-156">In short, you need to leave the `MasterPageFile` attribute in the `@Page` directive to enjoy a rich design-time experience in Visual Studio.</span></span>


<span data-ttu-id="618a6-157">[![Použití sady Visual Studio @Page atribut direktivy MasterPageFile k vykreslení zobrazení návrhu](specifying-the-master-page-programmatically-cs/_static/image5.png)](specifying-the-master-page-programmatically-cs/_static/image4.png)</span><span class="sxs-lookup"><span data-stu-id="618a6-157">[![Visual Studio Uses the @Page Directive's MasterPageFile Attribute to Render the Design View](specifying-the-master-page-programmatically-cs/_static/image5.png)](specifying-the-master-page-programmatically-cs/_static/image4.png)</span></span>

<span data-ttu-id="618a6-158">**Obrázek 02**: Visual Studio používá `@Page` direktivy `MasterPageFile` atribut k vykreslení zobrazení Návrh ([kliknutím ji zobrazíte obrázek v plné velikosti](specifying-the-master-page-programmatically-cs/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="618a6-158">**Figure 02**: Visual Studio Uses the `@Page` Directive's `MasterPageFile` Attribute to Render the Design View  ([Click to view full-size image](specifying-the-master-page-programmatically-cs/_static/image6.png))</span></span>


## <a name="step-3-creating-an-alternative-master-page"></a><span data-ttu-id="618a6-159">Krok 3: Vytvoření stránky předlohy alternativní</span><span class="sxs-lookup"><span data-stu-id="618a6-159">Step 3: Creating an Alternative Master Page</span></span>

<span data-ttu-id="618a6-160">Protože stránce hlavní stránky obsahu lze nastavit programově v době běhu je možné dynamicky načíst konkrétní stránky předlohy podle kritérií externí.</span><span class="sxs-lookup"><span data-stu-id="618a6-160">Because a content page's master page can be set programmatically at runtime it's possible to dynamically load a particular master page based on some external criteria.</span></span> <span data-ttu-id="618a6-161">Tato funkce může být užitečné v situacích, kde rozložení tohoto webu je potřeba se liší podle uživatele.</span><span class="sxs-lookup"><span data-stu-id="618a6-161">This functionality can be useful in situations where the site's layout needs to vary based on the user.</span></span> <span data-ttu-id="618a6-162">Například blogu modul webové aplikace mohou povolit jeho uživatelům si vybrat rozložení pro jejich blogu, kde každý rozložení souvisí s jinou stránku předlohy.</span><span class="sxs-lookup"><span data-stu-id="618a6-162">For instance, a blog engine web application may allow its users to choose a layout for their blog, where each layout is associated with a different master page.</span></span> <span data-ttu-id="618a6-163">Za běhu když návštěvník prohlíží blog uživatele webové aplikace potřebuje určit rozložení na blogu a dynamicky přidružit odpovídající stránky předlohy se stránkou obsahu.</span><span class="sxs-lookup"><span data-stu-id="618a6-163">At runtime, when a visitor is viewing a user's blog, the web application would need to determine the blog's layout and dynamically associate the corresponding master page with the content page.</span></span>

<span data-ttu-id="618a6-164">Podívejme se na tom, jak dynamicky načíst stránku předlohy za běhu na základě některé externí kritérií.</span><span class="sxs-lookup"><span data-stu-id="618a6-164">Let's examine how to dynamically load a master page at runtime based on some external criteria.</span></span> <span data-ttu-id="618a6-165">Náš web aktuálně obsahuje pouze jednu stránku předlohy (`Site.master`).</span><span class="sxs-lookup"><span data-stu-id="618a6-165">Our website currently contains just one master page (`Site.master`).</span></span> <span data-ttu-id="618a6-166">Budeme potřebovat jiné stránky předlohy pro ilustraci zvolíte stránku předlohy za běhu.</span><span class="sxs-lookup"><span data-stu-id="618a6-166">We need another master page to illustrate choosing a master page at runtime.</span></span> <span data-ttu-id="618a6-167">Tento krok se zaměřuje na vytvoření a konfigurace nové stránky předlohy.</span><span class="sxs-lookup"><span data-stu-id="618a6-167">This step focuses on creating and configuring the new master page.</span></span> <span data-ttu-id="618a6-168">Krok 4 zjistí určující, jaké stránky předlohy k použití v době běhu.</span><span class="sxs-lookup"><span data-stu-id="618a6-168">Step 4 looks at determining what master page to use at runtime.</span></span>

<span data-ttu-id="618a6-169">Vytvoření nové stránky předlohy v kořenové složce s názvem `Alternate.master`.</span><span class="sxs-lookup"><span data-stu-id="618a6-169">Create a new master page in the root folder named `Alternate.master`.</span></span> <span data-ttu-id="618a6-170">Přidat nové šablony stylů také na web s názvem `AlternateStyles.css`.</span><span class="sxs-lookup"><span data-stu-id="618a6-170">Also add a new style sheet to the website named `AlternateStyles.css`.</span></span>


<span data-ttu-id="618a6-171">[![Přidejte další stránky předlohy a šablon stylů CSS soubor na web](specifying-the-master-page-programmatically-cs/_static/image8.png)](specifying-the-master-page-programmatically-cs/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="618a6-171">[![Add Another Master Page and CSS File to the Website](specifying-the-master-page-programmatically-cs/_static/image8.png)](specifying-the-master-page-programmatically-cs/_static/image7.png)</span></span>

<span data-ttu-id="618a6-172">**Obrázek 03**: Přidat jiné stránky předlohy a souborů CSS na web ([kliknutím ji zobrazíte obrázek v plné velikosti](specifying-the-master-page-programmatically-cs/_static/image9.png))</span><span class="sxs-lookup"><span data-stu-id="618a6-172">**Figure 03**: Add Another Master Page and CSS File to the Website ([Click to view full-size image](specifying-the-master-page-programmatically-cs/_static/image9.png))</span></span>


<span data-ttu-id="618a6-173">Jsme navrhli tak `Alternate.master` stránku předlohy, která mají název zobrazený v horní části stránky, na střed a na navy na pozadí.</span><span class="sxs-lookup"><span data-stu-id="618a6-173">I've designed the `Alternate.master` master page to have the title displayed at the top of the page, centered and on a navy background.</span></span> <span data-ttu-id="618a6-174">Jsme distribuován levého sloupce a přesunout obsah pod `MainContent` ovládací prvek ContentPlaceHolder, který teď pokrývá celou šířku stránky.</span><span class="sxs-lookup"><span data-stu-id="618a6-174">I've dispensed of the left column and moved that content beneath the `MainContent` ContentPlaceHolder control, which now spans the entire width of the page.</span></span> <span data-ttu-id="618a6-175">Kromě toho nixed neuspořádaný seznam poznatky a nahradili jsme ho s vodorovné seznamu výše `MainContent`.</span><span class="sxs-lookup"><span data-stu-id="618a6-175">Furthermore, I nixed the unordered Lessons list and replaced it with a horizontal list above `MainContent`.</span></span> <span data-ttu-id="618a6-176">Jsem také aktualizovat písma a barvy použité na hlavní stránce (a při rozšíření i pro její obsahu stránky).</span><span class="sxs-lookup"><span data-stu-id="618a6-176">I also updated the fonts and colors used by the master page (and, by extension, its content pages).</span></span> <span data-ttu-id="618a6-177">Obrázek 4 ukazuje `Default.aspx` při použití `Alternate.master` stránky předlohy.</span><span class="sxs-lookup"><span data-stu-id="618a6-177">Figure 4 shows `Default.aspx` when using the `Alternate.master` master page.</span></span>

> [!NOTE]
> <span data-ttu-id="618a6-178">Technologie ASP.NET obsahuje schopnost definovat *motivy*.</span><span class="sxs-lookup"><span data-stu-id="618a6-178">ASP.NET includes the ability to define *Themes*.</span></span> <span data-ttu-id="618a6-179">Motiv je kolekce obrázků, souborů CSS a styl související webové nastavení vlastností ovládacího prvku, které se můžou uplatnit na stránky v době běhu.</span><span class="sxs-lookup"><span data-stu-id="618a6-179">A Theme is a collection of images, CSS files, and style-related Web control property settings that can be applied to a page at runtime.</span></span> <span data-ttu-id="618a6-180">Motivy jsou způsob, jak přejít, pokud váš web rozložení se liší pouze v obrázcích zobrazí a jejich pravidla šablon stylů CSS.</span><span class="sxs-lookup"><span data-stu-id="618a6-180">Themes are the way to go if your site's layouts differ only in the images displayed and by their CSS rules.</span></span> <span data-ttu-id="618a6-181">V případě rozložení více podstatně liší například pomocí jiné webové ovládací prvky nebo s výrazně jiné rozložení, je potřeba používat samostatné stránky předlohy.</span><span class="sxs-lookup"><span data-stu-id="618a6-181">If the layouts differ more substantially, such as using different Web controls or having a radically different layout, then you will need to use separate master pages.</span></span> <span data-ttu-id="618a6-182">Na konci tohoto kurzu pro další informace o motivech najdete v části Další čtení.</span><span class="sxs-lookup"><span data-stu-id="618a6-182">Consult the Further Reading section at the end of this tutorial for more information on Themes.</span></span>


<span data-ttu-id="618a6-183">[![Stránek s obsahem teď můžete použít nový vzhled a chování](specifying-the-master-page-programmatically-cs/_static/image11.png)](specifying-the-master-page-programmatically-cs/_static/image10.png)</span><span class="sxs-lookup"><span data-stu-id="618a6-183">[![Our Content Pages Can Now Use a New Look and Feel](specifying-the-master-page-programmatically-cs/_static/image11.png)](specifying-the-master-page-programmatically-cs/_static/image10.png)</span></span>

<span data-ttu-id="618a6-184">**Obrázek 04**: Stránek s obsahem teď můžete použít nový vzhled a chování ([kliknutím ji zobrazíte obrázek v plné velikosti](specifying-the-master-page-programmatically-cs/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="618a6-184">**Figure 04**: Our Content Pages Can Now Use a New Look and Feel ([Click to view full-size image](specifying-the-master-page-programmatically-cs/_static/image12.png))</span></span>


<span data-ttu-id="618a6-185">Když jsou začleněny předlohy a obsahu stránek kódu, `MasterPage` třídy kontroluje, ujistěte se, že každý obsah ovládacího prvku obsahu stránce odkazuje ContentPlaceHolder na stránce předlohy.</span><span class="sxs-lookup"><span data-stu-id="618a6-185">When the master and content pages' markup are fused, the `MasterPage` class checks to ensure that every Content control in the content page references a ContentPlaceHolder in the master page.</span></span> <span data-ttu-id="618a6-186">Pokud je nalezen ovládací prvek obsahu, který odkazuje na neexistující ContentPlaceHolder, je vyvolána výjimka.</span><span class="sxs-lookup"><span data-stu-id="618a6-186">An exception is thrown if a Content control that references a non-existent ContentPlaceHolder is found.</span></span> <span data-ttu-id="618a6-187">Jinými slovy, je nutné, že stránka předlohy přiřazení obsahu stránky mít ContentPlaceHolder pro každý ovládací prvek na stránce obsahu obsahu.</span><span class="sxs-lookup"><span data-stu-id="618a6-187">In other words, it is imperative that the master page being assigned to the content page have a ContentPlaceHolder for each Content control in the content page.</span></span>

<span data-ttu-id="618a6-188">`Site.master` Hlavní stránka obsahuje čtyři ovládací prvky ContentPlaceHolder:</span><span class="sxs-lookup"><span data-stu-id="618a6-188">The `Site.master` master page includes four ContentPlaceHolder controls:</span></span>

- `head`
- `MainContent`
- `QuickLoginUI`
- `LeftColumnContent`

<span data-ttu-id="618a6-189">Stránky obsahu v našem webu patří jen jeden nebo dva ovládací prvky obsahu; pro každý dostupný prvků ContentPlaceHolder ty další zahrnují ovládací prvek obsahu.</span><span class="sxs-lookup"><span data-stu-id="618a6-189">Some of the content pages in our website include just one or two Content controls; others include a Content control for each of the available ContentPlaceHolders.</span></span> <span data-ttu-id="618a6-190">Pokud naše nové stránky předlohy (`Alternate.master`) může být přiřazeno obsahu stránek, které mají ovládací prvky obsahu u všech prvků ContentPlaceHolder v `Site.master` je nezbytné, který `Alternate.master` obsahovat také stejné ovládací prvky ContentPlaceHolder jako `Site.master`.</span><span class="sxs-lookup"><span data-stu-id="618a6-190">If our new master page (`Alternate.master`) may ever be assigned to those content pages that have Content controls for all of the ContentPlaceHolders in `Site.master` then it is essential that `Alternate.master` also include the same ContentPlaceHolder controls as `Site.master`.</span></span>

<span data-ttu-id="618a6-191">Chcete-li získat vaše `Alternate.master` stránku předlohy, která vypadat podobně jako dolovat (viz obrázek 4), začněte tím, že definice stylů stránky předlohy v `AlternateStyles.css` šablony stylů.</span><span class="sxs-lookup"><span data-stu-id="618a6-191">To get your `Alternate.master` master page to look similar to mine (see Figure 4), start by defining the master page's styles in the `AlternateStyles.css` style sheet.</span></span> <span data-ttu-id="618a6-192">Přidat následující pravidla do `AlternateStyles.css`:</span><span class="sxs-lookup"><span data-stu-id="618a6-192">Add the following rules into `AlternateStyles.css`:</span></span>


[!code-css[Main](specifying-the-master-page-programmatically-cs/samples/sample5.css)]

<span data-ttu-id="618a6-193">V dalším kroku přidejte následující deklarativní k `Alternate.master`.</span><span class="sxs-lookup"><span data-stu-id="618a6-193">Next, add the following declarative markup to `Alternate.master`.</span></span> <span data-ttu-id="618a6-194">Jak je vidět, `Alternate.master` obsahuje čtyři ovládací prvky ContentPlaceHolder se stejným `ID` hodnoty jako ovládací prvky ContentPlaceHolder `Site.master`.</span><span class="sxs-lookup"><span data-stu-id="618a6-194">As you can see, `Alternate.master` contains four ContentPlaceHolder controls with the same `ID` values as the ContentPlaceHolder controls in `Site.master`.</span></span> <span data-ttu-id="618a6-195">Kromě toho obsahuje ovládací prvek ScriptManager, což je nezbytné pro tyto stránky na našem webu, které používají rozhraní ASP.NET AJAX framework.</span><span class="sxs-lookup"><span data-stu-id="618a6-195">Moreover, it includes a ScriptManager control, which is necessary for those pages in our website that use the ASP.NET AJAX framework.</span></span>


[!code-aspx[Main](specifying-the-master-page-programmatically-cs/samples/sample6.aspx)]

### <a name="testing-the-new-master-page"></a><span data-ttu-id="618a6-196">Testování nová stránka předlohy</span><span class="sxs-lookup"><span data-stu-id="618a6-196">Testing the New Master Page</span></span>

<span data-ttu-id="618a6-197">K otestování této nové aktualizace stránky předlohy `BasePage` třídy `OnPreInit` metodu tak, aby `MasterPageFile` vlastnost je přiřazena hodnota "~ / Alternate.master" a potom přejděte na webovou stránku.</span><span class="sxs-lookup"><span data-stu-id="618a6-197">To test this new master page update the `BasePage` class's `OnPreInit` method so that the `MasterPageFile` property is assigned the value "~/Alternate.master" and then visit the website.</span></span> <span data-ttu-id="618a6-198">Každé stránky by mělo fungovat bez chyb s výjimkou dvou: `~/Admin/AddProduct.aspx` a `~/Admin/Products.aspx`.</span><span class="sxs-lookup"><span data-stu-id="618a6-198">Every page should function without error except for two: `~/Admin/AddProduct.aspx` and `~/Admin/Products.aspx`.</span></span> <span data-ttu-id="618a6-199">Přidání produktu do ovládacího prvku DetailsView v `~/Admin/AddProduct.aspx` vede `NullReferenceException` z řádku kódu, který se pokouší nastavit na hlavní stránce `GridMessageText` vlastnost.</span><span class="sxs-lookup"><span data-stu-id="618a6-199">Adding a product to the DetailsView in `~/Admin/AddProduct.aspx` results in a `NullReferenceException` from the line of code that attempts to set the master page's `GridMessageText` property.</span></span> <span data-ttu-id="618a6-200">Při návštěvě `~/Admin/Products.aspx` `InvalidCastException` je vyvolána při načtení stránky s touto zprávou: "Nelze přetypovat objekt typu" ASP.alternate\_hlavní ' na typ ' ASP.site\_předlohy "."</span><span class="sxs-lookup"><span data-stu-id="618a6-200">When visiting `~/Admin/Products.aspx` an `InvalidCastException` is thrown on page load with the message: "Unable to cast object of type 'ASP.alternate\_master' to type 'ASP.site\_master'."</span></span>

<span data-ttu-id="618a6-201">K těmto chybám, protože `Site.master` použití modelu code-behind třída zahrnuje veřejné události, vlastnosti a metody, které nejsou definovány v `Alternate.master`.</span><span class="sxs-lookup"><span data-stu-id="618a6-201">These errors occur because the `Site.master` code-behind class includes public events, properties, and methods that are not defined in `Alternate.master`.</span></span> <span data-ttu-id="618a6-202">Část značky tyto dvě stránky mají `@MasterType` direktiva, která odkazuje `Site.master` stránky předlohy.</span><span class="sxs-lookup"><span data-stu-id="618a6-202">The markup portion of these two pages have a `@MasterType` directive that references the `Site.master` master page.</span></span>


[!code-aspx[Main](specifying-the-master-page-programmatically-cs/samples/sample7.aspx)]

<span data-ttu-id="618a6-203">Navíc prvku DetailsView `ItemInserted` obslužné rutině událostí ve `~/Admin/AddProduct.aspx` zahrnuje kód, který se vrhá volného typu `Page.Master` vlastnost na objekt typu `Site`.</span><span class="sxs-lookup"><span data-stu-id="618a6-203">Also, the DetailsView's `ItemInserted` event handler in `~/Admin/AddProduct.aspx` includes code that casts the loosely-typed `Page.Master` property to an object of type `Site`.</span></span> <span data-ttu-id="618a6-204">`@MasterType` – Direktiva (používané tímto způsobem) a přetypování v `ItemInserted` pevně spojuje obslužné rutiny události `~/Admin/AddProduct.aspx` a `~/Admin/Products.aspx` stránky `Site.master` stránky předlohy.</span><span class="sxs-lookup"><span data-stu-id="618a6-204">The `@MasterType` directive (used this way) and the cast in the `ItemInserted` event handler tightly couples the `~/Admin/AddProduct.aspx` and `~/Admin/Products.aspx` pages to the `Site.master` master page.</span></span>

<span data-ttu-id="618a6-205">Přerušit tento určitou úzkou svázanost můžeme nechat `Site.master` a `Alternate.master` odvozovat obecnou základní třídu, která obsahuje definice veřejných členů.</span><span class="sxs-lookup"><span data-stu-id="618a6-205">To break this tight coupling we can have `Site.master` and `Alternate.master` derive from a common base class that contains definitions for the public members.</span></span> <span data-ttu-id="618a6-206">Pod, abychom mohli aktualizovat `@MasterType` směrnice odkazují na tento typ běžné základní.</span><span class="sxs-lookup"><span data-stu-id="618a6-206">Following that, we can update the `@MasterType` directive to reference this common base type.</span></span>

### <a name="creating-a-custom-base-master-page-class"></a><span data-ttu-id="618a6-207">Vytvoření třídy hlavního vlastní základní stránky</span><span class="sxs-lookup"><span data-stu-id="618a6-207">Creating a Custom Base Master Page Class</span></span>

<span data-ttu-id="618a6-208">Přidejte nový soubor třídy do `App_Code` složku s názvem `BaseMasterPage.cs` a jeho odvozovat `System.Web.UI.MasterPage`.</span><span class="sxs-lookup"><span data-stu-id="618a6-208">Add a new class file to the `App_Code` folder named `BaseMasterPage.cs` and have it derive from `System.Web.UI.MasterPage`.</span></span> <span data-ttu-id="618a6-209">Budeme muset definovat `RefreshRecentProductsGrid` metoda a `GridMessageText` vlastnost v `BaseMasterPage`, ale nelze přesunout jednoduše je tam z `Site.master` vzhledem k tomu, že tyto členy, pracovat s webové ovládací prvky, které jsou specifické pro `Site.master` hlavní stránky ( `RecentProducts` GridView a `GridMessage` popisku).</span><span class="sxs-lookup"><span data-stu-id="618a6-209">We need to define the `RefreshRecentProductsGrid` method and the `GridMessageText` property in `BaseMasterPage`, but we can't simply move them there from `Site.master` because these members work with Web controls that are specific to the `Site.master` master page (the `RecentProducts` GridView and `GridMessage` Label).</span></span>

<span data-ttu-id="618a6-210">Co musíme udělat, je nakonfigurovat `BaseMasterPage` tak, že jsou definované tyto členy, ale ve skutečnosti jsou implementované `BaseMasterPage`v odvozených třídách (`Site.master` a `Alternate.master`).</span><span class="sxs-lookup"><span data-stu-id="618a6-210">What we need to do is configure `BaseMasterPage` in such a way that these members are defined there, but are actually implemented by `BaseMasterPage`'s derived classes (`Site.master` and `Alternate.master`).</span></span> <span data-ttu-id="618a6-211">Tento druh dědičnosti je možné označením třídy a její členy jako `abstract`.</span><span class="sxs-lookup"><span data-stu-id="618a6-211">This type of inheritance is possible by marking the class and its members as `abstract`.</span></span> <span data-ttu-id="618a6-212">Stručně řečeno, přidání `abstract` – klíčové slovo pro tyto dva členy, které oznamuje `BaseMasterPage` neimplementoval `RefreshRecentProductsGrid` a `GridMessageText`, ale, že se její odvozené třídy.</span><span class="sxs-lookup"><span data-stu-id="618a6-212">In short, adding the `abstract` keyword to these two members announces that `BaseMasterPage` hasn't implemented `RefreshRecentProductsGrid` and `GridMessageText`, but that its derived classes will.</span></span>

<span data-ttu-id="618a6-213">Můžeme také muset definovat `PricesDoubled` událost v `BaseMasterPage` a poskytují prostředky z odvozených tříd pro vyvolání události.</span><span class="sxs-lookup"><span data-stu-id="618a6-213">We also need to define the `PricesDoubled` event in `BaseMasterPage` and provide a means by the derived classes to raise the event.</span></span> <span data-ttu-id="618a6-214">Vzor použitý v rozhraní .NET Framework pro usnadnění tohoto chování je vytvořit veřejná událost v základní třídě a přidat chráněné, `virtual` metodu s názvem `OnEventName`.</span><span class="sxs-lookup"><span data-stu-id="618a6-214">The pattern used in the .NET Framework to facilitate this behavior is to create a public event in the base class and add a protected, `virtual` method named `OnEventName`.</span></span> <span data-ttu-id="618a6-215">Odvozené třídy provést zavoláním této metody pro vyvolání události nebo můžete přepsat spustit kód bezprostředně před nebo po vyvolání události.</span><span class="sxs-lookup"><span data-stu-id="618a6-215">Derived classes can then call this method to raise the event or can override it to execute code immediately before or after the event is raised.</span></span>

<span data-ttu-id="618a6-216">Aktualizace vašeho `BaseMasterPage` třídy tak, aby obsahoval následující kód:</span><span class="sxs-lookup"><span data-stu-id="618a6-216">Update your `BaseMasterPage` class so that it contains the following code:</span></span>


[!code-csharp[Main](specifying-the-master-page-programmatically-cs/samples/sample8.cs)]

<span data-ttu-id="618a6-217">Dále přejděte `Site.master` použití modelu code-behind třídy a nechat ji odvodit z `BaseMasterPage`.</span><span class="sxs-lookup"><span data-stu-id="618a6-217">Next, go to the `Site.master` code-behind class and have it derive from `BaseMasterPage`.</span></span> <span data-ttu-id="618a6-218">Protože `BaseMasterPage` je `abstract` musíme mají přednost před akcemi `abstract` členy v `Site.master`.</span><span class="sxs-lookup"><span data-stu-id="618a6-218">Because `BaseMasterPage` is `abstract` we need to override those `abstract` members here in `Site.master`.</span></span> <span data-ttu-id="618a6-219">Přidat `override` – klíčové slovo do definice metody a vlastnosti.</span><span class="sxs-lookup"><span data-stu-id="618a6-219">Add the `override` keyword to the method and property definitions.</span></span> <span data-ttu-id="618a6-220">Také aktualizovat kód, který vyvolá `PricesDoubled` událost v `DoublePrice` tlačítka `Click` obslužné rutiny události pomocí volání na základní třídu `OnPricesDoubled` metody.</span><span class="sxs-lookup"><span data-stu-id="618a6-220">Also update the code that raises the `PricesDoubled` event in the `DoublePrice` Button's `Click` event handler with a call to the base class's `OnPricesDoubled` method.</span></span>

<span data-ttu-id="618a6-221">Po změnách `Site.master` použití modelu code-behind třída by měla obsahovat následující kód:</span><span class="sxs-lookup"><span data-stu-id="618a6-221">After these modifications the `Site.master` code-behind class should contain the following code:</span></span>


[!code-csharp[Main](specifying-the-master-page-programmatically-cs/samples/sample9.cs)]

<span data-ttu-id="618a6-222">Musíme také aktualizovat `Alternate.master`na použití modelu code-behind třídy odvozovat z `BaseMasterPage` a přepsat dva `abstract` členy.</span><span class="sxs-lookup"><span data-stu-id="618a6-222">We also need to update `Alternate.master`'s code-behind class to derive from `BaseMasterPage` and override the two `abstract` members.</span></span> <span data-ttu-id="618a6-223">Ale protože `Alternate.master` neobsahuje GridView, že seznamy nejnovější produkty ani popisek, který zobrazí zprávu po nového produktu je přidána do databáze, tyto metody není nutné nic dělat.</span><span class="sxs-lookup"><span data-stu-id="618a6-223">But because `Alternate.master` does not contain a GridView that lists the most recent products nor a Label that displays a message after a new product is added to the database, these methods do not need to do anything.</span></span>


[!code-csharp[Main](specifying-the-master-page-programmatically-cs/samples/sample10.cs)]

### <a name="referencing-the-base-master-page-class"></a><span data-ttu-id="618a6-224">Odkazování na třídy Base hlavní stránky</span><span class="sxs-lookup"><span data-stu-id="618a6-224">Referencing the Base Master Page Class</span></span>

<span data-ttu-id="618a6-225">Teď, když jsme dokončili `BaseMasterPage` třídy a naše dvě hlavní stránky rozšíření, posledním krokem je aktualizovat `~/Admin/AddProduct.aspx` a `~/Admin/Products.aspx` stránky, které odkazují na tento společný typ.</span><span class="sxs-lookup"><span data-stu-id="618a6-225">Now that we have completed the `BaseMasterPage` class and have our two master pages extending it, our final step is to update the `~/Admin/AddProduct.aspx` and `~/Admin/Products.aspx` pages to refer to this common type.</span></span> <span data-ttu-id="618a6-226">Začněte změnou `@MasterType` direktiv v obou stránky:</span><span class="sxs-lookup"><span data-stu-id="618a6-226">Start by changing the `@MasterType` directive in both pages from:</span></span>


[!code-aspx[Main](specifying-the-master-page-programmatically-cs/samples/sample11.aspx)]

<span data-ttu-id="618a6-227">Do:</span><span class="sxs-lookup"><span data-stu-id="618a6-227">To:</span></span>


[!code-aspx[Main](specifying-the-master-page-programmatically-cs/samples/sample12.aspx)]

<span data-ttu-id="618a6-228">Namísto odkazování na cestu k souboru `@MasterType` vlastnosti nyní odkazuje na základní typ (`BaseMasterPage`).</span><span class="sxs-lookup"><span data-stu-id="618a6-228">Rather than referencing a file path, the `@MasterType` property now references the base type (`BaseMasterPage`).</span></span> <span data-ttu-id="618a6-229">V důsledku toho silnými typy `Master` vlastnost použitá ve třídách modelu code-behind obě stránky je nyní typu `BaseMasterPage` (místo typu `Site`).</span><span class="sxs-lookup"><span data-stu-id="618a6-229">Consequently, the strongly-typed `Master` property used in both pages' code-behind classes is now of type `BaseMasterPage` (instead of type `Site`).</span></span> <span data-ttu-id="618a6-230">Díky této změně na místě návštěvě `~/Admin/Products.aspx`.</span><span class="sxs-lookup"><span data-stu-id="618a6-230">With this change in place revisit `~/Admin/Products.aspx`.</span></span> <span data-ttu-id="618a6-231">Dříve to bylo způsobeno chybu přetypování vzhledem k tomu, že na stránce je nakonfigurován pro použití `Alternate.master` stránky předlohy, ale `@MasterType` směrnice odkazuje `Site.master` souboru.</span><span class="sxs-lookup"><span data-stu-id="618a6-231">Previously, this resulted in a casting error because the page is configured to use the `Alternate.master` master page, but the `@MasterType` directive referenced the `Site.master` file.</span></span> <span data-ttu-id="618a6-232">Ale nyní vykreslí stránku bez chyb.</span><span class="sxs-lookup"><span data-stu-id="618a6-232">But now the page renders without error.</span></span> <span data-ttu-id="618a6-233">Důvodem je, že `Alternate.master` hlavní stránky může být převeden na objekt typu `BaseMasterPage` (protože ji rozšiřuje).</span><span class="sxs-lookup"><span data-stu-id="618a6-233">This is because the `Alternate.master` master page can be cast to an object of type `BaseMasterPage` (since it extends it).</span></span>

<span data-ttu-id="618a6-234">Je jeden menší změnu, kterou je potřeba provést v `~/Admin/AddProduct.aspx`.</span><span class="sxs-lookup"><span data-stu-id="618a6-234">There's one small change that needs to be made in `~/Admin/AddProduct.aspx`.</span></span> <span data-ttu-id="618a6-235">Ovládací prvek DetailsView `ItemInserted` obslužná rutina události používá i silných `Master` vlastnosti a volného typu `Page.Master` vlastnost.</span><span class="sxs-lookup"><span data-stu-id="618a6-235">The DetailsView control's `ItemInserted` event handler uses both the strongly-typed `Master` property and the loosely-typed `Page.Master` property.</span></span> <span data-ttu-id="618a6-236">Opravili jsme silného typu odkazu, když jsme aktualizovali `@MasterType` směrnice, ale stále potřeba aktualizovat volného typu odkazu.</span><span class="sxs-lookup"><span data-stu-id="618a6-236">We fixed the strongly-typed reference when we updated the `@MasterType` directive, but we still need to update the loosely-typed reference.</span></span> <span data-ttu-id="618a6-237">Nahraďte následující řádek kódu:</span><span class="sxs-lookup"><span data-stu-id="618a6-237">Replace the following line of code:</span></span>


[!code-csharp[Main](specifying-the-master-page-programmatically-cs/samples/sample13.cs)]

<span data-ttu-id="618a6-238">Následujícím kódem a která přetypovává `Page.Master` základní typ:</span><span class="sxs-lookup"><span data-stu-id="618a6-238">With the following, which casts `Page.Master` to the base type:</span></span>


[!code-csharp[Main](specifying-the-master-page-programmatically-cs/samples/sample14.cs)]

## <a name="step-4-determining-what-master-page-to-bind-to-the-content-pages"></a><span data-ttu-id="618a6-239">Krok 4: Určení, jaké stránky předlohy metody Bind obsahu stránky</span><span class="sxs-lookup"><span data-stu-id="618a6-239">Step 4: Determining What Master Page to Bind to the Content Pages</span></span>

<span data-ttu-id="618a6-240">Naše `BasePage` třídy aktuálně nastaví všechny obsahu stránek `MasterPageFile` vlastnosti na hodnotu pevně zakódované v PreInit fázi životního cyklu stránky.</span><span class="sxs-lookup"><span data-stu-id="618a6-240">Our `BasePage` class currently sets all content pages' `MasterPageFile` properties to a hard-coded value in the PreInit stage of the page lifecycle.</span></span> <span data-ttu-id="618a6-241">Abychom mohli aktualizovat tento kód na základní stránce předlohy na některé externí faktor.</span><span class="sxs-lookup"><span data-stu-id="618a6-241">We can update this code to base the master page on some external factor.</span></span> <span data-ttu-id="618a6-242">Možná na hlavní stránce načíst závisí na předvolby aktuálně přihlášeného uživatele.</span><span class="sxs-lookup"><span data-stu-id="618a6-242">Perhaps the master page to load depends on the preferences of the currently logged on user.</span></span> <span data-ttu-id="618a6-243">V takovém případě budeme muset psát kód ve `OnPreInit` metoda ve `BasePage` , který vyhledá aktuálně hostujícími uživatelova stránky předlohy.</span><span class="sxs-lookup"><span data-stu-id="618a6-243">In that case, we'd need to write code in the `OnPreInit` method in `BasePage` that looks up the currently visiting user's master page preferences.</span></span>

<span data-ttu-id="618a6-244">Pojďme vytvořit webovou stránku, která umožňuje uživateli zvolit hlavní na stránce, které se má použít – `Site.master` nebo `Alternate.master` – a uložte tento výběr do proměnné relace.</span><span class="sxs-lookup"><span data-stu-id="618a6-244">Let's create a web page that allows the user to choose which master page to use - `Site.master` or `Alternate.master` - and save this choice in a Session variable.</span></span> <span data-ttu-id="618a6-245">Začněte tím, že vytvoříte novou webovou stránku v kořenovém adresáři s názvem `ChooseMasterPage.aspx`.</span><span class="sxs-lookup"><span data-stu-id="618a6-245">Start by creating a new web page in the root directory named `ChooseMasterPage.aspx`.</span></span> <span data-ttu-id="618a6-246">Při vytváření této stránce (nebo jakékoli jiné stránky obsahu od nynějška) nemusíte vázat na stránku předlohy, protože nastavený prostřednictvím kódu programu na hlavní stránce `BasePage`.</span><span class="sxs-lookup"><span data-stu-id="618a6-246">When creating this page (or any other content pages henceforth) you don't need to bind it to a master page because the master page is set programmatically in `BasePage`.</span></span> <span data-ttu-id="618a6-247">Ale pokud vazbu na novou stránku na stránku předlohy pak nová stránka výchozí deklarativní obsahuje webový formulář a další obsah, který poskytl stránky předlohy.</span><span class="sxs-lookup"><span data-stu-id="618a6-247">However, if you do not bind the new page to a master page then the new page's default declarative markup contains a Web Form and other content supplied by the master page.</span></span> <span data-ttu-id="618a6-248">Bude nutné ručně nahradit tento kód se odpovídající ovládací prvky obsahu.</span><span class="sxs-lookup"><span data-stu-id="618a6-248">You'll need to manually replace this markup with the appropriate Content controls.</span></span> <span data-ttu-id="618a6-249">Z tohoto důvodu můžu jednodušší svázat nová stránka technologie ASP.NET na stránku předlohy.</span><span class="sxs-lookup"><span data-stu-id="618a6-249">For that reason, I find it easier to bind the new ASP.NET page to a master page.</span></span>

> [!NOTE]
> <span data-ttu-id="618a6-250">Protože `Site.master` a `Alternate.master` mají stejnou sadu ovládacích prvků ContentPlaceHolder nebude vadit, jaké stránky předlohy, zvolte při vytváření nového obsahu stránky.</span><span class="sxs-lookup"><span data-stu-id="618a6-250">Because `Site.master` and `Alternate.master` have the same set of ContentPlaceHolder controls it doesn't matter what master page you choose when creating the new content page.</span></span> <span data-ttu-id="618a6-251">Pro zajištění konzistence, můžu Navrhněte pomocí `Site.master`.</span><span class="sxs-lookup"><span data-stu-id="618a6-251">For consistency, I'd suggest using `Site.master`.</span></span>


<span data-ttu-id="618a6-252">[![Přidejte novou stránku obsahu na web](specifying-the-master-page-programmatically-cs/_static/image14.png)](specifying-the-master-page-programmatically-cs/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="618a6-252">[![Add a New Content Page to the Website](specifying-the-master-page-programmatically-cs/_static/image14.png)](specifying-the-master-page-programmatically-cs/_static/image13.png)</span></span>

<span data-ttu-id="618a6-253">**Obrázek 05**: Přidejte novou stránku obsahu na web ([kliknutím ji zobrazíte obrázek v plné velikosti](specifying-the-master-page-programmatically-cs/_static/image15.png))</span><span class="sxs-lookup"><span data-stu-id="618a6-253">**Figure 05**: Add a New Content Page to the Website ([Click to view full-size image](specifying-the-master-page-programmatically-cs/_static/image15.png))</span></span>


<span data-ttu-id="618a6-254">Aktualizace `Web.sitemap` soubor zahrnout položku pro tento účel.</span><span class="sxs-lookup"><span data-stu-id="618a6-254">Update the `Web.sitemap` file to include an entry for this lesson.</span></span> <span data-ttu-id="618a6-255">Přidejte následující kód pod `<siteMapNode>` pro stránky předlohy a ASP.NET AJAX lekce:</span><span class="sxs-lookup"><span data-stu-id="618a6-255">Add the following markup beneath the `<siteMapNode>` for the Master Pages and ASP.NET AJAX lesson:</span></span>


[!code-xml[Main](specifying-the-master-page-programmatically-cs/samples/sample15.xml)]

<span data-ttu-id="618a6-256">Před přidáním libovolný obsah `ChooseMasterPage.aspx` stránku využít k aktualizaci modelu code-behind třídy stránky tak, aby se odvozuje od `BasePage` (spíše než `System.Web.UI.Page`).</span><span class="sxs-lookup"><span data-stu-id="618a6-256">Before adding any content to the `ChooseMasterPage.aspx` page take a moment to update the page's code-behind class so that it derives from `BasePage` (rather than `System.Web.UI.Page`).</span></span> <span data-ttu-id="618a6-257">V dalším kroku přidejte ovládací prvek DropDownList na stránku, nastavte jeho `ID` vlastnost `MasterPageChoice`, a přidejte dvě položky ListItems s `Text` hodnoty "~ / Site.master" a "~ / Alternate.master".</span><span class="sxs-lookup"><span data-stu-id="618a6-257">Next, add a DropDownList control to the page, set its `ID` property to `MasterPageChoice`, and add two ListItems with the `Text` values of "~/Site.master" and "~/Alternate.master".</span></span>

<span data-ttu-id="618a6-258">Přidání ovládacího prvku tlačítko Web na stránku a nastavit jeho `ID` a `Text` vlastností `SaveLayout` a "Uložit rozložení výběru", v uvedeném pořadí.</span><span class="sxs-lookup"><span data-stu-id="618a6-258">Add a Button Web control to the page and set its `ID` and `Text` properties to `SaveLayout` and "Save Layout Choice", respectively.</span></span> <span data-ttu-id="618a6-259">Na stránce deklarativní v tuto chvíli by měl vypadat nějak takto:</span><span class="sxs-lookup"><span data-stu-id="618a6-259">At this point your page's declarative markup should look similar to the following:</span></span>


[!code-aspx[Main](specifying-the-master-page-programmatically-cs/samples/sample16.aspx)]

<span data-ttu-id="618a6-260">Při první návštěvě stránky budeme potřebovat zobrazit aktuálně vybrané stránce předlohy podle volby uživatele.</span><span class="sxs-lookup"><span data-stu-id="618a6-260">When the page is first visited we need to display the user's currently selected master page choice.</span></span> <span data-ttu-id="618a6-261">Vytvoření `Page_Load` obslužné rutiny události a přidejte následující kód:</span><span class="sxs-lookup"><span data-stu-id="618a6-261">Create a `Page_Load` event handler and add the following code:</span></span>


[!code-csharp[Main](specifying-the-master-page-programmatically-cs/samples/sample17.cs)]

<span data-ttu-id="618a6-262">Výše uvedený kód provede pouze při první návštěvě stránky (a ne na následné postbacky).</span><span class="sxs-lookup"><span data-stu-id="618a6-262">The above code executes only on the first page visit (and not on subsequent postbacks).</span></span> <span data-ttu-id="618a6-263">Nejprve zkontroluje a zjistěte, jestli proměnné relace `MyMasterPage` existuje.</span><span class="sxs-lookup"><span data-stu-id="618a6-263">It first checks to see if the Session variable `MyMasterPage` exists.</span></span> <span data-ttu-id="618a6-264">Pokud ano, pokusí se najít odpovídající ListItem v `MasterPageChoice` DropDownList.</span><span class="sxs-lookup"><span data-stu-id="618a6-264">If it does, it attempts to find the matching ListItem in the `MasterPageChoice` DropDownList.</span></span> <span data-ttu-id="618a6-265">Pokud je nalezen odpovídající ListItem, jeho `Selected` je nastavena na `true`.</span><span class="sxs-lookup"><span data-stu-id="618a6-265">If a matching ListItem is found, its `Selected` property is set to `true`.</span></span>

<span data-ttu-id="618a6-266">Potřebujeme kód, který uloží výběru uživatele do `MyMasterPage` proměnné relace.</span><span class="sxs-lookup"><span data-stu-id="618a6-266">We also need code that saves the user's choice into the `MyMasterPage` Session variable.</span></span> <span data-ttu-id="618a6-267">Vytvořte obslužnou rutinu události pro `SaveLayout` tlačítka `Click` událostí a přidejte následující kód:</span><span class="sxs-lookup"><span data-stu-id="618a6-267">Create an event handler for the `SaveLayout` Button's `Click` event and add the following code:</span></span>


[!code-csharp[Main](specifying-the-master-page-programmatically-cs/samples/sample18.cs)]

> [!NOTE]
> <span data-ttu-id="618a6-268">Časem `Click` spustí obslužnou rutinu události na zpětné volání, již byla vybrána na stránce předlohy.</span><span class="sxs-lookup"><span data-stu-id="618a6-268">By the time the `Click` event handler executes on postback, the master page has already been selected.</span></span> <span data-ttu-id="618a6-269">Proto rozevíracího seznamu výběru uživatele nebudou platit až do přejděte na další stránku.</span><span class="sxs-lookup"><span data-stu-id="618a6-269">Therefore, the user's drop-down list selection won't be in effect until the next page visit.</span></span> <span data-ttu-id="618a6-270">`Response.Redirect` Prohlížeč znovu požádat o `ChooseMasterPage.aspx`.</span><span class="sxs-lookup"><span data-stu-id="618a6-270">The `Response.Redirect` forces the browser to re-request `ChooseMasterPage.aspx`.</span></span>


<span data-ttu-id="618a6-271">S `ChooseMasterPage.aspx` stránka dokončení našich posledním úkolu je, aby `BasePage` přiřadit `MasterPageFile` nastavenou na hodnotu `MyMasterPage` proměnné relace.</span><span class="sxs-lookup"><span data-stu-id="618a6-271">With the `ChooseMasterPage.aspx` page complete, our final task is to have `BasePage` assign the `MasterPageFile` property based on the value of the `MyMasterPage` Session variable.</span></span> <span data-ttu-id="618a6-272">Pokud není nastavena proměnná relace `BasePage` ve výchozím nastavení `Site.master`.</span><span class="sxs-lookup"><span data-stu-id="618a6-272">If the Session variable is not set have `BasePage` default to `Site.master`.</span></span>


[!code-csharp[Main](specifying-the-master-page-programmatically-cs/samples/sample19.cs)]

> [!NOTE]
> <span data-ttu-id="618a6-273">Přestěhoval jsem se kód, který se přiřadí `Page` objektu `MasterPageFile` vlastnost z celkového počtu `OnPreInit` obslužné rutiny události a do dvou samostatných metod.</span><span class="sxs-lookup"><span data-stu-id="618a6-273">I moved the code that assigns the `Page` object's `MasterPageFile` property out of the `OnPreInit` event handler and into two separate methods.</span></span> <span data-ttu-id="618a6-274">Tato metoda první `SetMasterPageFile`, přiřadí `MasterPageFile` vlastnost na hodnotu vrácenou příkazem druhá metoda `GetMasterPageFileFromSession`.</span><span class="sxs-lookup"><span data-stu-id="618a6-274">This first method, `SetMasterPageFile`, assigns the `MasterPageFile` property to the value returned by the second method, `GetMasterPageFileFromSession`.</span></span> <span data-ttu-id="618a6-275">Byla vytvořena `SetMasterPageFile` metoda `virtual` tak, že budoucí třídy, které rozšiřují `BasePage` můžete volitelně přepsat implementaci vlastní logiky, v případě potřeby.</span><span class="sxs-lookup"><span data-stu-id="618a6-275">I made the `SetMasterPageFile` method `virtual` so that future classes that extend `BasePage` can optionally override it to implement custom logic, if needed.</span></span> <span data-ttu-id="618a6-276">Ukážeme příklad přepsání `BasePage`společnosti `SetMasterPageFile` vlastnost v dalším kurzu.</span><span class="sxs-lookup"><span data-stu-id="618a6-276">We'll see an example of overriding `BasePage`'s `SetMasterPageFile` property in the next tutorial.</span></span>


<span data-ttu-id="618a6-277">S tímto kódem na místě, přejděte `ChooseMasterPage.aspx` stránky.</span><span class="sxs-lookup"><span data-stu-id="618a6-277">With this code in place, visit the `ChooseMasterPage.aspx` page.</span></span> <span data-ttu-id="618a6-278">Na začátku `Site.master` je vybrané (viz obrázek 6) stránka předlohy, ale uživatel může vybrat různé stránky předlohy z rozevíracího seznamu.</span><span class="sxs-lookup"><span data-stu-id="618a6-278">Initially, the `Site.master` master page is selected (see Figure 6), but the user can pick a different master page from the drop-down list.</span></span>


<span data-ttu-id="618a6-279">[![Stránky obsahu se zobrazí na stránce předlohy Site.master](specifying-the-master-page-programmatically-cs/_static/image17.png)](specifying-the-master-page-programmatically-cs/_static/image16.png)</span><span class="sxs-lookup"><span data-stu-id="618a6-279">[![Content Pages are Displayed Using the Site.master Master Page](specifying-the-master-page-programmatically-cs/_static/image17.png)](specifying-the-master-page-programmatically-cs/_static/image16.png)</span></span>

<span data-ttu-id="618a6-280">**Obrázek 06**: Obsah stránky se zobrazí pomocí `Site.master` stránky předlohy ([kliknutím ji zobrazíte obrázek v plné velikosti](specifying-the-master-page-programmatically-cs/_static/image18.png))</span><span class="sxs-lookup"><span data-stu-id="618a6-280">**Figure 06**: Content Pages are Displayed Using the `Site.master` Master Page ([Click to view full-size image](specifying-the-master-page-programmatically-cs/_static/image18.png))</span></span>


<span data-ttu-id="618a6-281">[![Stránky obsahu se teď zobrazují používající stránku předlohy Alternate.master](specifying-the-master-page-programmatically-cs/_static/image20.png)](specifying-the-master-page-programmatically-cs/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="618a6-281">[![Content Pages are Now Displayed Using the Alternate.master Master Page](specifying-the-master-page-programmatically-cs/_static/image20.png)](specifying-the-master-page-programmatically-cs/_static/image19.png)</span></span>

<span data-ttu-id="618a6-282">**Obrázek 07**: Obsah stránky jsou nyní zobrazeny pomocí `Alternate.master` stránky předlohy ([kliknutím ji zobrazíte obrázek v plné velikosti](specifying-the-master-page-programmatically-cs/_static/image21.png))</span><span class="sxs-lookup"><span data-stu-id="618a6-282">**Figure 07**: Content Pages are Now Displayed Using the `Alternate.master` Master Page ([Click to view full-size image](specifying-the-master-page-programmatically-cs/_static/image21.png))</span></span>


## <a name="summary"></a><span data-ttu-id="618a6-283">Souhrn</span><span class="sxs-lookup"><span data-stu-id="618a6-283">Summary</span></span>

<span data-ttu-id="618a6-284">Při návštěvě stránky obsahu jeho ovládací prvky obsahu jsou začleněny s ovládacími prvky ContentPlaceHolder jeho hlavní stránky.</span><span class="sxs-lookup"><span data-stu-id="618a6-284">When a content page is visited, its Content controls are fused with its master page's ContentPlaceHolder controls.</span></span> <span data-ttu-id="618a6-285">Označuje symbolem stránce hlavní stránky obsahu `Page` třídy `MasterPageFile` vlastnosti, které je přiřazeno k `@Page` direktivy `MasterPageFile` atribut během fáze inicializace.</span><span class="sxs-lookup"><span data-stu-id="618a6-285">The content page's master page is denoted by the `Page` class's `MasterPageFile` property, which is assigned to the `@Page` directive's `MasterPageFile` attribute during the Initialization stage.</span></span> <span data-ttu-id="618a6-286">Jako tento kurz vám ukázal, My je můžeme přiřadit hodnotu, která `MasterPageFile` vlastnost, dokud uděláme před koncem PreInit fázi.</span><span class="sxs-lookup"><span data-stu-id="618a6-286">As this tutorial showed, we can assign a value to the `MasterPageFile` property as long as we do so before the end of the PreInit stage.</span></span> <span data-ttu-id="618a6-287">Schopnost programové určení stránky předlohy otevře dveře pro pokročilejší scénáře, jako je dynamické vazby obsahu stránky na stránku předlohy založené na externí faktory.</span><span class="sxs-lookup"><span data-stu-id="618a6-287">Being able to programmatically specify the master page opens the door for more advanced scenarios, such as dynamically binding a content page to a master page based on external factors.</span></span>

<span data-ttu-id="618a6-288">Všechno nejlepší programování!</span><span class="sxs-lookup"><span data-stu-id="618a6-288">Happy Programming!</span></span>

### <a name="further-reading"></a><span data-ttu-id="618a6-289">Další čtení</span><span class="sxs-lookup"><span data-stu-id="618a6-289">Further Reading</span></span>

<span data-ttu-id="618a6-290">Další informace o tématech, které jsou popsané v tomto kurzu najdete na následujících odkazech:</span><span class="sxs-lookup"><span data-stu-id="618a6-290">For more information on the topics discussed in this tutorial, refer to the following resources:</span></span>

- [<span data-ttu-id="618a6-291">Diagram životního cyklu stránky ASP.NET</span><span class="sxs-lookup"><span data-stu-id="618a6-291">ASP.NET Page Lifecycle Diagram</span></span>](http://emanish.googlepages.com/Asp.Net2.0Lifecycle.PNG)
- [<span data-ttu-id="618a6-292">Přehled životního cyklu stránky ASP.NET</span><span class="sxs-lookup"><span data-stu-id="618a6-292">ASP.NET Page Lifecycle Overview</span></span>](https://msdn.microsoft.com/library/ms178472.aspx)
- [<span data-ttu-id="618a6-293">Přehled skinů v šablonách a motivů ASP.NET</span><span class="sxs-lookup"><span data-stu-id="618a6-293">ASP.NET Themes and Skins Overview</span></span>](https://msdn.microsoft.com/library/ykzx33wh.aspx)
- [<span data-ttu-id="618a6-294">Hlavní stránky: Tipy, triky a depeše</span><span class="sxs-lookup"><span data-stu-id="618a6-294">Master Pages: Tips, Tricks, and Traps</span></span>](http://www.odetocode.com/articles/450.aspx)
- [<span data-ttu-id="618a6-295">Motivy obsažené v ASP.NET</span><span class="sxs-lookup"><span data-stu-id="618a6-295">Themes in ASP.NET</span></span>](http://www.odetocode.com/articles/423.aspx)

### <a name="about-the-author"></a><span data-ttu-id="618a6-296">O autorovi</span><span class="sxs-lookup"><span data-stu-id="618a6-296">About the Author</span></span>

<span data-ttu-id="618a6-297">[Scott Meisnerová](http://www.4guysfromrolla.com/ScottMitchell.shtml), Autor více ASP/ASP.NET knih a Zakladatel 4GuysFromRolla.com pracuje s Microsoft webových technologií od roku 1998.</span><span class="sxs-lookup"><span data-stu-id="618a6-297">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of multiple ASP/ASP.NET books and founder of 4GuysFromRolla.com, has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="618a6-298">Scott funguje jako nezávislý konzultant, trainer a zapisovače.</span><span class="sxs-lookup"><span data-stu-id="618a6-298">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="618a6-299">Jeho nejnovější knihy [ *Edice nakladatelství Sams naučit sami technologie ASP.NET 3.5 za 24 hodin*](https://www.amazon.com/exec/obidos/ASIN/0672329972/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="618a6-299">His latest book is [*Sams Teach Yourself ASP.NET 3.5 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672329972/4guysfromrollaco).</span></span> <span data-ttu-id="618a6-300">Scott může být dostupný na adrese [ mitchell@4GuysFromRolla.com ](mailto:mitchell@4GuysFromRolla.com) nebo prostřednictvím na svém blogu [ http://ScottOnWriting.NET ](http://scottonwriting.net/).</span><span class="sxs-lookup"><span data-stu-id="618a6-300">Scott can be reached at [mitchell@4GuysFromRolla.com](mailto:mitchell@4GuysFromRolla.com) or via his blog at [http://ScottOnWriting.NET](http://scottonwriting.net/).</span></span>

### <a name="special-thanks-to"></a><span data-ttu-id="618a6-301">Speciální k</span><span class="sxs-lookup"><span data-stu-id="618a6-301">Special Thanks To</span></span>

<span data-ttu-id="618a6-302">V této sérii kurzů byl recenzován uživatelem mnoho užitečných revidující.</span><span class="sxs-lookup"><span data-stu-id="618a6-302">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="618a6-303">Vedoucí kontrolor pro účely tohoto kurzu byla Suchi Banerjee.</span><span class="sxs-lookup"><span data-stu-id="618a6-303">Lead reviewer for this tutorial was Suchi Banerjee.</span></span> <span data-ttu-id="618a6-304">Zajímat téma Moje nadcházejících článcích MSDN?</span><span class="sxs-lookup"><span data-stu-id="618a6-304">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="618a6-305">Pokud ano, vyřaďte mě řádek na [mitchell@4GuysFromRolla.com](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="618a6-305">If so, drop me a line at [mitchell@4GuysFromRolla.com](mailto:mitchell@4GuysFromRolla.com)</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="618a6-306">[Předchozí](master-pages-and-asp-net-ajax-cs.md)
> [další](nested-master-pages-cs.md)</span><span class="sxs-lookup"><span data-stu-id="618a6-306">[Previous](master-pages-and-asp-net-ajax-cs.md)
[Next](nested-master-pages-cs.md)</span></span>
