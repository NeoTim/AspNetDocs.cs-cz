---
uid: web-forms/overview/older-versions-getting-started/master-pages/master-pages-and-asp-net-ajax-cs
title: Stránky předlohy a ASP.NET AJAX (C#) | Microsoft Docs
author: rick-anderson
description: Popisuje možnosti pro použití ASP.NET AJAX a stránek předlohy. Podívá se na použití třídy ScriptManagerProxy; Popisuje, jak jsou načteny různé soubory JS v závislosti na...
ms.author: riande
ms.date: 07/11/2008
ms.assetid: 0c55eb66-ba44-4d49-98e8-5c87fd9b1111
msc.legacyurl: /web-forms/overview/older-versions-getting-started/master-pages/master-pages-and-asp-net-ajax-cs
msc.type: authoredcontent
ms.openlocfilehash: 8cd1d57b4d2aa01654da53ab2b1cc01f71ad8a87
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 03/06/2020
ms.locfileid: "78629162"
---
# <a name="master-pages-and-aspnet-ajax-c"></a><span data-ttu-id="e1a3e-104">Stránky předlohy a ASP.NET AJAX (C#)</span><span class="sxs-lookup"><span data-stu-id="e1a3e-104">Master Pages and ASP.NET AJAX (C#)</span></span>

<span data-ttu-id="e1a3e-105">[Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="e1a3e-105">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="e1a3e-106">[Stažení kódu](https://download.microsoft.com/download/1/8/4/184e24fa-fcc8-47fa-ac99-4b6a52d41e97/ASPNET_MasterPages_Tutorial_08_CS.zip) nebo [stažení PDF](https://download.microsoft.com/download/e/b/4/eb4abb10-c416-4ba4-9899-32577715b1bd/ASPNET_MasterPages_Tutorial_08_CS.pdf)</span><span class="sxs-lookup"><span data-stu-id="e1a3e-106">[Download Code](https://download.microsoft.com/download/1/8/4/184e24fa-fcc8-47fa-ac99-4b6a52d41e97/ASPNET_MasterPages_Tutorial_08_CS.zip) or [Download PDF](https://download.microsoft.com/download/e/b/4/eb4abb10-c416-4ba4-9899-32577715b1bd/ASPNET_MasterPages_Tutorial_08_CS.pdf)</span></span>

> <span data-ttu-id="e1a3e-107">Popisuje možnosti pro použití ASP.NET AJAX a stránek předlohy.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-107">Discusses options for using ASP.NET AJAX and master pages.</span></span> <span data-ttu-id="e1a3e-108">Podívá se na použití třídy ScriptManagerProxy; Popisuje, jak jsou načteny různé soubory JS v závislosti na tom, zda je ovládací uzel ScriptManager použit na stránce předlohy nebo na stránce obsahu.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-108">Looks at using the ScriptManagerProxy class; discusses how the various JS files are loaded depending on whether the ScriptManager is used in the Master page or Content page.</span></span>

## <a name="introduction"></a><span data-ttu-id="e1a3e-109">Úvod</span><span class="sxs-lookup"><span data-stu-id="e1a3e-109">Introduction</span></span>

<span data-ttu-id="e1a3e-110">V posledních několika letech více a více vývojářů sestavuje webové aplikace s podporou [AJAX](http://en.wikipedia.org/wiki/Ajax_(programming)).</span><span class="sxs-lookup"><span data-stu-id="e1a3e-110">Over the past several years, more and more developers have been building [AJAX](http://en.wikipedia.org/wiki/Ajax_(programming))-enabled web applications.</span></span> <span data-ttu-id="e1a3e-111">Web s podporou jazyka AJAX používá řadu souvisejících webových technologií, které nabízí větší možnosti reakce uživatelů.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-111">An AJAX-enabled website uses a number of related web technologies to offer a more responsive user experience.</span></span> <span data-ttu-id="e1a3e-112">Vytváření aplikací ASP.NET podporujících technologii AJAX je úžasné díky [architektuře AJAX](../../../../ajax/index.md)společnosti Microsoft pro ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-112">Creating AJAX-enabled ASP.NET applications is amazingly easy thanks to Microsoft's [ASP.NET AJAX framework](../../../../ajax/index.md).</span></span> <span data-ttu-id="e1a3e-113">ASP.NET AJAX je integrováno do ASP.NET 3,5 a Visual Studio 2008; je k dispozici také jako samostatné stažení pro aplikace ASP.NET 2,0.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-113">ASP.NET AJAX is built into ASP.NET 3.5 and Visual Studio 2008; it is also available as a separate download for ASP.NET 2.0 applications.</span></span>

<span data-ttu-id="e1a3e-114">Při sestavování webových stránek s podporou jazyka AJAX s rozhraním ASP.NET AJAX je nutné přidat přesně jeden [ovládací prvek ScriptManager](https://msdn.microsoft.com/library/bb398863.aspx) do každé a všechny stránky, které používají rozhraní.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-114">When building AJAX-enabled web pages with the ASP.NET AJAX framework, you must add precisely one [ScriptManager control](https://msdn.microsoft.com/library/bb398863.aspx) to each and every page that uses the framework.</span></span> <span data-ttu-id="e1a3e-115">Jak název naznačuje, ovládací prvku ScriptManager spravuje skript na straně klienta, který se používá na webových stránkách s podporou AJAX.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-115">As its name implies, the ScriptManager manages the client-side script used in AJAX-enabled web pages.</span></span> <span data-ttu-id="e1a3e-116">Přinejmenším ovládací objekt ScriptManager vygeneruje kód HTML, který instruuje prohlížeč, aby stahoval soubory JavaScriptu, které strukturu klientskou knihovnu ASP.NET AJAX.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-116">At a minimum, the ScriptManager emits HTML that instructs the browser to download the JavaScript files that makeup the ASP.NET AJAX Client Library.</span></span> <span data-ttu-id="e1a3e-117">Dá se použít i k registraci vlastních souborů JavaScriptu, webových služeb s povoleným skriptem a vlastních funkcí aplikační služby.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-117">It can also be used to register custom JavaScript files, script-enabled web services, and custom application service functionality.</span></span>

<span data-ttu-id="e1a3e-118">Pokud vaše lokalita používá stránky předlohy (tak, jak by měla), nemusíte nutně přidávat ovládací prvek ScriptManager na všechny stránky s jedním obsahem. místo toho můžete do stránky předlohy přidat ovládací prvek ScriptManager.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-118">If your site uses master pages (as it should), you do not necessarily need to add a ScriptManager control to every single content page; rather, you can add a ScriptManager control to the master page.</span></span> <span data-ttu-id="e1a3e-119">V tomto kurzu se dozvíte, jak přidat ovládací prvek ScriptManager do hlavní stránky.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-119">This tutorial shows how to add the ScriptManager control to the master page.</span></span> <span data-ttu-id="e1a3e-120">Také se podíváme na to, jak pomocí ovládacího prvku ScriptManagerProxy zaregistrovat vlastní skripty a skriptovací služby na konkrétní stránku obsahu.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-120">It also looks at how to use the ScriptManagerProxy control to register custom scripts and script services in a specific content page.</span></span>

> [!NOTE]
> <span data-ttu-id="e1a3e-121">V tomto kurzu se nezabývá návrhem a vytvářením webových aplikací s podporou jazyka AJAX s rozhraním ASP.NET AJAX.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-121">This tutorial does not explore designing or building AJAX-enabled web applications with the ASP.NET AJAX framework.</span></span> <span data-ttu-id="e1a3e-122">Další informace o používání AJAX najdete v [výukových programech a kurzech](../aspnet-ajax/understanding-partial-page-updates-with-asp-net-ajax.md) [ASP.NET AJAX](../../../videos/aspnet-ajax/index.md) a také na těchto prostředcích uvedených v části Další informace na konci tohoto kurzu.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-122">For more information on using AJAX consult the [ASP.NET AJAX videos](../../../videos/aspnet-ajax/index.md) and [tutorials](../aspnet-ajax/understanding-partial-page-updates-with-asp-net-ajax.md), as well as those resources listed in the Further Reading section at the end of this tutorial.</span></span>

## <a name="examining-the-markup-emitted-by-the-scriptmanager-control"></a><span data-ttu-id="e1a3e-123">Kontrola značek vygenerovaných ovládacím prvkem ScriptManager</span><span class="sxs-lookup"><span data-stu-id="e1a3e-123">Examining the Markup Emitted by the ScriptManager Control</span></span>

<span data-ttu-id="e1a3e-124">Ovládací prvek ScriptManager vygeneruje kód, který instruuje prohlížeč ke stažení souborů JavaScriptu, které strukturu klientskou knihovnu ASP.NET AJAX.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-124">The ScriptManager control emits markup that instructs the browser to download the JavaScript files that makeup the ASP.NET AJAX Client Library.</span></span> <span data-ttu-id="e1a3e-125">Přidá také bitovou kopii vloženého JavaScriptu na stránku, která inicializuje tuto knihovnu.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-125">It also adds a bit of inline JavaScript to the page that initializes this library.</span></span> <span data-ttu-id="e1a3e-126">Následující kód ukazuje obsah, který je přidán do vykresleného výstupu stránky, který obsahuje ovládací prvek ScriptManager:</span><span class="sxs-lookup"><span data-stu-id="e1a3e-126">The following markup shows the content that is added to the rendered output of a page that includes a ScriptManager control:</span></span>

[!code-html[Main](master-pages-and-asp-net-ajax-cs/samples/sample1.html)]

<span data-ttu-id="e1a3e-127">Značky `<script src="url"></script>` přidávají prohlížeči pokyn ke stažení a spuštění souboru JavaScriptu na *adrese URL*.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-127">The `<script src="url"></script>` tags instruct the browser to download and execute the JavaScript file at *url*.</span></span> <span data-ttu-id="e1a3e-128">Ovládací prvku ScriptManager generuje tři takové značky; jeden odkazuje na soubor `WebResource.axd`, zatímco druhý dva odkazují na soubor `ScriptResource.axd`.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-128">The ScriptManager emits three such tags; one references the file `WebResource.axd`, while the other two reference the file `ScriptResource.axd`.</span></span> <span data-ttu-id="e1a3e-129">Tyto soubory ve skutečnosti neexistují jako soubory na webu.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-129">These files do not actually exist as files in your website.</span></span> <span data-ttu-id="e1a3e-130">Místo toho, když požadavek na jeden z těchto souborů dorazí na webový server, stroj ASP.NET prověřuje dotaz QueryString a vrátí příslušný obsah JavaScriptu.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-130">Instead, when a request for either one of these files arrives at the web server, the ASP.NET engine examines the querystring and returns the appropriate JavaScript content.</span></span> <span data-ttu-id="e1a3e-131">Skript, který poskytuje tyto tři externí soubory JavaScriptu, tvoří klientskou knihovnu ASP.NET AJAX Framework.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-131">The script provided by these three external JavaScript files constitute the ASP.NET AJAX framework's Client Library.</span></span> <span data-ttu-id="e1a3e-132">Ostatní značky `<script>` generované nástrojem ScriptManager zahrnují vložený skript, který inicializuje tuto knihovnu.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-132">The other `<script>` tags emitted by the ScriptManager include inline script that initializes this library.</span></span>

<span data-ttu-id="e1a3e-133">Odkazy na externí skripty a vložený skript vysílané ovládacím prvku ScriptManager jsou nezbytné pro stránku, která používá ASP.NET AJAX Framework, ale není potřebná pro stránky, které rozhraní nepoužívají.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-133">The external script references and inline script emitted by the ScriptManager are essential for a page that uses the ASP.NET AJAX framework, but is not needed for pages that do not use the framework.</span></span> <span data-ttu-id="e1a3e-134">Proto je možné, že je ideální pro přidání prvku ScriptManager pouze do těch stránek, které používají architekturu ASP.NET AJAX.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-134">Therefore, you might reason that it is ideal to only add a ScriptManager to those pages that use the ASP.NET AJAX framework.</span></span> <span data-ttu-id="e1a3e-135">A to je dostatečné, ale pokud máte mnoho stránek, které používají rozhraní, skončíte tím, že přidáváte ovládací prvek ScriptManager na všechny stránky – opakující se úkol, aby bylo co nejméně.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-135">And this is sufficient, but if you have many pages that use the framework you'll end up adding the ScriptManager control to all pages - a repetitive task, to say the least.</span></span> <span data-ttu-id="e1a3e-136">Alternativně můžete přidat ScriptManager na stránku předlohy, která pak vloží tento nezbytný skript do všech stránek obsahu.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-136">Alternatively, you can add a ScriptManager to the master page, which then injects this necessary script into all content pages.</span></span> <span data-ttu-id="e1a3e-137">Pomocí tohoto přístupu není nutné pamatovat na přidání prvku ScriptManager na novou stránku, která používá rozhraní ASP.NET AJAX Framework, protože je již zahrnuta v rámci hlavní stránky.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-137">With this approach, you do not need to remember to add a ScriptManager to a new page that uses the ASP.NET AJAX framework because it is already included by the master page.</span></span> <span data-ttu-id="e1a3e-138">Krok 1 vás provede přidáním ovládacího prvku ScriptManager na stránku předlohy.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-138">Step 1 walks through adding a ScriptManager to the master page.</span></span>

> [!NOTE]
> <span data-ttu-id="e1a3e-139">Pokud plánujete zahrnutí funkcí AJAX v uživatelském rozhraní stránky předlohy, pak v takovém případě nemusíte nic volit – musíte do stránky předlohy přidat ScriptManager.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-139">If you plan on including AJAX functionality within the user interface of your master page, then you have no choice in the matter - you must include the ScriptManager in the master page.</span></span>

<span data-ttu-id="e1a3e-140">Jedním z Nevýhodou přidávání ovládacího prvku ScriptManager na stránku předlohy je, že výše uvedený skript je vygenerován na *každé* stránce bez ohledu na to, zda je to potřeba.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-140">One downside of adding the ScriptManager to the master page is that the above script is emitted in *every* page, regardless of whether its needed.</span></span> <span data-ttu-id="e1a3e-141">To jasně vede k plýtvání šířky pásma pro tyto stránky, které mají k dispozici ScriptManager (přes hlavní stránku), zatím nepoužívají žádné funkce ASP.NET AJAX Framework.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-141">This clearly leads to wasted bandwidth for those pages that have the ScriptManager included (via the master page) yet don't use any features of the ASP.NET AJAX framework.</span></span> <span data-ttu-id="e1a3e-142">Ale jenom kolik šířky pásma je plýtvání?</span><span class="sxs-lookup"><span data-stu-id="e1a3e-142">But just how much bandwidth is wasted?</span></span>

- <span data-ttu-id="e1a3e-143">Skutečný obsah vysílaný ovládacím prvku ScriptManager (zobrazený výše) sčítá za pár přes 1 KB.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-143">The actual content emitted by the ScriptManager (shown above) totals a little over 1KB.</span></span>
- <span data-ttu-id="e1a3e-144">Tři externí soubory skriptu, na které odkazuje element `<script>`, se ale skládají přibližně z nekomprimovaných 450KB dat; na webu, který používá kompresi gzip, se tato celková šířka pásma dá snížit v blízkosti 100 kB.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-144">The three external script files referenced by the `<script>` element, however, comprise roughly 450KB of data uncompressed; in a website that uses gzip compression, this total bandwidth can be reduced near 100KB.</span></span> <span data-ttu-id="e1a3e-145">Avšak tyto soubory skriptu jsou ukládány do mezipaměti v prohlížeči po dobu jednoho roku, což znamená, že je třeba je stáhnout pouze jednou a pak je lze znovu použít na jiných stránkách na webu.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-145">However, these script files are cached by the browser for one year, meaning that they only need to be downloaded once and then can be reused in other pages on the site.</span></span>

<span data-ttu-id="e1a3e-146">V případě, že se soubory skriptu ukládají do mezipaměti, je nejlepší cena 1 KB, což je zanedbatelná hodnota.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-146">In the best case, then, when the script files are cached, the total cost is 1KB, which is negligible.</span></span> <span data-ttu-id="e1a3e-147">V nejhorším případě však v případě, že se soubory skriptu ještě nestáhly a webový server nepoužívá žádnou formu komprese, je dosaženo šířky pásma 450KB, která se dá přidat kamkoli od druhého nebo dvou přes širokopásmové připojení až po minutu.  Uživatelé přes vytáčené modemy.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-147">In the worst case, however - which is when the script files have not yet been downloaded and the web server is not using any form of compression - the bandwidth hit is around 450KB, which can add anywhere from a second or two over a broadband connection to up to a minute for users over dial-up modems.</span></span> <span data-ttu-id="e1a3e-148">Dobrá zpráva je, že vzhledem k tomu, že prohlížeč ukládá soubory externích skriptů do mezipaměti, dochází k tomuto nejhoršímu scénáři zřídka.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-148">The good news is that because the external script files are cached by the browser, this worst case scenario occurs infrequently.</span></span>

> [!NOTE]
> <span data-ttu-id="e1a3e-149">Pokud stále Uncomfortable umístit ovládací prvek ScriptManager do hlavní stránky, zvažte webový formulář (`<form runat="server">` značky na stránce Master).</span><span class="sxs-lookup"><span data-stu-id="e1a3e-149">If you still feel uncomfortable placing the ScriptManager control in the master page, consider the Web Form (the `<form runat="server">` markup in the master page).</span></span> <span data-ttu-id="e1a3e-150">Každá stránka ASP.NET, která používá model zpětného volání, musí obsahovat přesně jeden webový formulář.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-150">Every ASP.NET page that uses the postback model must include precisely one Web Form.</span></span> <span data-ttu-id="e1a3e-151">Přidání webového formuláře přidá další obsah: Počet skrytých polí formuláře, značku `<form>` sám sebe a v případě potřeby i JavaScriptová funkce pro inicializaci zpětného volání ze skriptu.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-151">Adding a Web Form adds additional content: a number of hidden form fields, the `<form>` tag itself, and, if necessary, a JavaScript function for initiating a postback from script.</span></span> <span data-ttu-id="e1a3e-152">Tento kód není potřebný pro stránky, které se neprovádí zpětná volání.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-152">This markup is unnecessary for pages that don't postback.</span></span> <span data-ttu-id="e1a3e-153">Tento nadbytečný kód se může eliminovat odebráním webového formuláře ze stránky předlohy a jeho ručním přidáním na každou stránku obsahu, která ho potřebuje.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-153">This extraneous markup could be eliminated by removing the Web Form from the master page and manually adding it to each content page that needs one.</span></span> <span data-ttu-id="e1a3e-154">Nicméně výhody, které mají webový formulář na hlavní stránce, převáží nevýhody od toho, aby se nemusely přidat zbytečně k určitým stránkám obsahu.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-154">However, the benefits of having the Web Form in the master page outweigh the disadvantages from having it added unnecessarily to certain content pages.</span></span>

## <a name="step-1-adding-a-scriptmanager-control-to-the-master-page"></a><span data-ttu-id="e1a3e-155">Krok 1: Přidání ovládacího prvku ScriptManager na stránku předlohy</span><span class="sxs-lookup"><span data-stu-id="e1a3e-155">Step 1: Adding a ScriptManager Control to the Master Page</span></span>

<span data-ttu-id="e1a3e-156">Každá webová stránka, která používá rozhraní ASP.NET AJAX, musí obsahovat přesně jeden ovládací prvek ScriptManager.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-156">Every web page that uses the ASP.NET AJAX framework must contain precisely one ScriptManager control.</span></span> <span data-ttu-id="e1a3e-157">Z důvodu tohoto požadavku má obvykle smysl umístit jeden ovládací prvek ScriptManager na hlavní stránku, aby všechny stránky obsahu měly automaticky zahrnut ovládací prvek ScriptManager.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-157">Because of this requirement, it usually makes sense to place a single ScriptManager control on the master page so that all content pages have the ScriptManager control automatically included.</span></span> <span data-ttu-id="e1a3e-158">Kromě toho musí být objekt ScriptManager uveden před jakýmkoli ovládacím prvkem serveru ASP.NET AJAX, jako jsou ovládací prvky UpdatePanel a UpdateProgress.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-158">Furthermore, the ScriptManager must come before any of the ASP.NET AJAX server controls, such as the UpdatePanel and UpdateProgress controls.</span></span> <span data-ttu-id="e1a3e-159">Proto je vhodné umístit ScriptManager před jakékoli ovládací prvky ContentPlaceHolder v rámci webového formuláře.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-159">Therefore, it's best to put the ScriptManager before any ContentPlaceHolder controls within the Web Form.</span></span>

<span data-ttu-id="e1a3e-160">Otevřete stránku předlohy `Site.master` a přidejte ovládací prvek ScriptManager na stránku webové formuláře, ale před `<div id="topContent">` prvek (viz obrázek 1).</span><span class="sxs-lookup"><span data-stu-id="e1a3e-160">Open the `Site.master` master page and add a ScriptManager control to the page within the Web Form, but before the `<div id="topContent">` element (see Figure 1).</span></span> <span data-ttu-id="e1a3e-161">Pokud používáte aplikaci Visual Web Developer 2008 nebo Visual Studio 2008, ovládací prvek ScriptManager se nachází v sadě nástrojů na kartě Rozšíření AJAX. Pokud používáte sadu Visual Studio 2005, bude nejprve nutné nainstalovat rozhraní ASP.NET AJAX a přidat ovládací prvky do sady nástrojů.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-161">If you are using Visual Web Developer 2008 or Visual Studio 2008, the ScriptManager control is located in the Toolbox in the AJAX Extensions tab. If you are using Visual Studio 2005, you will need to first install the ASP.NET AJAX framework and add the controls to the Toolbox.</span></span> <span data-ttu-id="e1a3e-162">Navštivte web [ASP.NET AJAX wiki](https://github.com/DevExpress/AjaxControlToolkit/wiki) a získejte rozhraní pro ASP.NET 2,0.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-162">Visit the [ASP.NET AJAX Wiki](https://github.com/DevExpress/AjaxControlToolkit/wiki) to get the framework for ASP.NET 2.0.</span></span>

<span data-ttu-id="e1a3e-163">Po přidání prvku ScriptManager na stránku změňte jeho `ID` z `ScriptManager1` na `MyManager`.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-163">After adding the ScriptManager to the page, change its `ID` from `ScriptManager1` to `MyManager`.</span></span>

<span data-ttu-id="e1a3e-164">[![přidat ScriptManager do stránky předlohy](master-pages-and-asp-net-ajax-cs/_static/image2.png)](master-pages-and-asp-net-ajax-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="e1a3e-164">[![Add the ScriptManager to the Master Page](master-pages-and-asp-net-ajax-cs/_static/image2.png)](master-pages-and-asp-net-ajax-cs/_static/image1.png)</span></span>

<span data-ttu-id="e1a3e-165">**Obrázek 01**: přidejte ScriptManager do stránky předlohy ([kliknutím zobrazíte obrázek v plné velikosti](master-pages-and-asp-net-ajax-cs/_static/image3.png)).</span><span class="sxs-lookup"><span data-stu-id="e1a3e-165">**Figure 01**: Add the ScriptManager to the Master Page  ([Click to view full-size image](master-pages-and-asp-net-ajax-cs/_static/image3.png))</span></span>

## <a name="step-2-using-the-aspnet-ajax-framework-from-a-content-page"></a><span data-ttu-id="e1a3e-166">Krok 2: použití architektury ASP.NET AJAX ze stránky obsahu</span><span class="sxs-lookup"><span data-stu-id="e1a3e-166">Step 2: Using the ASP.NET AJAX Framework from a Content Page</span></span>

<span data-ttu-id="e1a3e-167">Pomocí ovládacího prvku ScriptManager přidaného na stránku předlohy teď můžeme do jakékoli stránky obsahu přidat funkci ASP.NET AJAX Framework.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-167">With the ScriptManager control added to the master page we can now add ASP.NET AJAX framework functionality to any content page.</span></span> <span data-ttu-id="e1a3e-168">Pojďme vytvořit novou stránku ASP.NET, která zobrazí náhodně vybraný produkt z databáze Northwind.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-168">Let's create a new ASP.NET page that displays a randomly selected product from the Northwind database.</span></span> <span data-ttu-id="e1a3e-169">K aktualizaci tohoto zobrazení každých 15 sekund použijeme ovládací prvek časovače ASP.NET AJAX, který zobrazuje nový produkt.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-169">We'll use the ASP.NET AJAX framework's Timer control to update this display every 15 seconds, showing a new product.</span></span>

<span data-ttu-id="e1a3e-170">Začněte vytvořením nové stránky v kořenovém adresáři s názvem `ShowRandomProduct.aspx`.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-170">Start by creating a new page in the root directory named `ShowRandomProduct.aspx`.</span></span> <span data-ttu-id="e1a3e-171">Nezapomeňte tuto novou stránku navazovat na `Site.master` hlavní stránku.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-171">Don't forget to bind this new page to the `Site.master` master page.</span></span>

<span data-ttu-id="e1a3e-172">[![přidání nové stránky ASP.NET na web](master-pages-and-asp-net-ajax-cs/_static/image5.png)](master-pages-and-asp-net-ajax-cs/_static/image4.png)</span><span class="sxs-lookup"><span data-stu-id="e1a3e-172">[![Add a New ASP.NET Page to the Website](master-pages-and-asp-net-ajax-cs/_static/image5.png)](master-pages-and-asp-net-ajax-cs/_static/image4.png)</span></span>

<span data-ttu-id="e1a3e-173">**Obrázek 02**: Přidání nové stránky ASP.NET na web ([kliknutím zobrazíte obrázek v plné velikosti](master-pages-and-asp-net-ajax-cs/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="e1a3e-173">**Figure 02**: Add a New ASP.NET Page to the Website ([Click to view full-size image](master-pages-and-asp-net-ajax-cs/_static/image6.png))</span></span>

<span data-ttu-id="e1a3e-174">Nahlaste se v kurzu [*zadání nadpisu, meta značek a dalších záhlaví HTML v kurzu hlavní stránky*](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs.md) jsme vytvořili vlastní třídu základní stránky s názvem `BasePage`, která vygenerovala název stránky, pokud nebyla explicitně nastavena.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-174">Recall that in the [*Specifying the Title, Meta Tags, and Other HTML Headers in the Master Page*](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs.md) tutorial we created a custom base page class named `BasePage` that generated the page's title if it was not explicitly set.</span></span> <span data-ttu-id="e1a3e-175">Přejít na třídu kódu na pozadí `ShowRandomProduct.aspx` stránky a nechat ji odvozovat z `BasePage` (místo z `System.Web.UI.Page`).</span><span class="sxs-lookup"><span data-stu-id="e1a3e-175">Go to the `ShowRandomProduct.aspx` page's code-behind class and have it derive from `BasePage` (instead of from `System.Web.UI.Page`).</span></span>

<span data-ttu-id="e1a3e-176">Nakonec aktualizujte soubor `Web.sitemap` tak, aby obsahoval položku pro tuto lekci.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-176">Finally, update the `Web.sitemap` file to include an entry for this lesson.</span></span> <span data-ttu-id="e1a3e-177">Následující kód přidejte pod `<siteMapNode>` v lekci interakce stránky předlohy s obsahem:</span><span class="sxs-lookup"><span data-stu-id="e1a3e-177">Add the following markup beneath the `<siteMapNode>` for the Master to Content Page Interaction lesson:</span></span>

[!code-xml[Main](master-pages-and-asp-net-ajax-cs/samples/sample2.xml)]

<span data-ttu-id="e1a3e-178">Přidání tohoto `<siteMapNode>` elementu se projeví v seznamu lekcí (viz obrázek 5).</span><span class="sxs-lookup"><span data-stu-id="e1a3e-178">The addition of this `<siteMapNode>` element is reflected in the Lessons list (see Figure 5).</span></span>

### <a name="displaying-a-randomly-selected-product"></a><span data-ttu-id="e1a3e-179">Zobrazuje se náhodně vybraný produkt.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-179">Displaying a Randomly Selected Product</span></span>

<span data-ttu-id="e1a3e-180">Vraťte se na `ShowRandomProduct.aspx`.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-180">Return to `ShowRandomProduct.aspx`.</span></span> <span data-ttu-id="e1a3e-181">Z návrháře přetáhněte ovládací prvek UpdatePanel ze sady nástrojů do ovládacího prvku `MainContent` obsahu a nastavte jeho vlastnost `ID` na `ProductPanel`.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-181">From the Designer, drag an UpdatePanel control from the Toolbox into the `MainContent` Content control and set its `ID` property to `ProductPanel`.</span></span> <span data-ttu-id="e1a3e-182">Prvek UpdatePanel představuje oblast na obrazovce, která může být asynchronně aktualizována prostřednictvím postbacku částečné stránky.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-182">The UpdatePanel represents a region on the screen that can be asynchronously updated through a partial page postback.</span></span>

<span data-ttu-id="e1a3e-183">Naším prvním úkolem je zobrazit informace o náhodně vybraném produktu v rámci prvku UpdatePanel.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-183">Our first task is to display information about a randomly selected product within the UpdatePanel.</span></span> <span data-ttu-id="e1a3e-184">Začněte přetažením ovládacího prvku DetailsView do prvku UpdatePanel.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-184">Start by dragging a DetailsView control into the UpdatePanel.</span></span> <span data-ttu-id="e1a3e-185">Nastavte vlastnost `ID` ovládacího prvku DetailsView na `ProductInfo` a vymažte jeho vlastnosti `Height` a `Width`.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-185">Set the DetailsView control's `ID` property to `ProductInfo` and clear out its `Height` and `Width` properties.</span></span> <span data-ttu-id="e1a3e-186">Rozbalte inteligentní značku ovládacího prvku DetailsView a v rozevíracím seznamu zvolit zdroj dat vyberte možnost svázání prvku DetailsView s novým ovládacím prvkem SqlDataSource s názvem `RandomProductDataSource`.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-186">Expand the DetailsView's smart tag and, from the Choose Data Source drop-down list, choose to bind the DetailsView to a new SqlDataSource control named `RandomProductDataSource`.</span></span>

<span data-ttu-id="e1a3e-187">[![svázání prvku DetailsView s novým ovládacím prvkem SqlDataSource](master-pages-and-asp-net-ajax-cs/_static/image8.png)](master-pages-and-asp-net-ajax-cs/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="e1a3e-187">[![Bind the DetailsView to a New SqlDataSource Control](master-pages-and-asp-net-ajax-cs/_static/image8.png)](master-pages-and-asp-net-ajax-cs/_static/image7.png)</span></span>

<span data-ttu-id="e1a3e-188">**Obrázek 03**: Svázání ovládacího prvku DetailsView s novým ovládacím prvkem SqlDataSource ([kliknutím zobrazíte obrázek v plné velikosti](master-pages-and-asp-net-ajax-cs/_static/image9.png))</span><span class="sxs-lookup"><span data-stu-id="e1a3e-188">**Figure 03**: Bind the DetailsView to a New SqlDataSource Control  ([Click to view full-size image](master-pages-and-asp-net-ajax-cs/_static/image9.png))</span></span>

<span data-ttu-id="e1a3e-189">Nakonfigurujte ovládací prvek SqlDataSource pro připojení k databázi Northwind prostřednictvím `NorthwindConnectionString` (kterou jsme vytvořili v [*interakci se stránkou předlohy z kurzu stránky obsahu*](interacting-with-the-content-page-from-the-master-page-cs.md) ).</span><span class="sxs-lookup"><span data-stu-id="e1a3e-189">Configure the SqlDataSource control to connect to the Northwind database via the `NorthwindConnectionString` (which we created in the [*Interacting with the Master Page from the Content Page*](interacting-with-the-content-page-from-the-master-page-cs.md) tutorial).</span></span> <span data-ttu-id="e1a3e-190">Při konfiguraci příkazu SELECT zvolte možnost zadat vlastní příkaz SQL a poté zadejte následující dotaz:</span><span class="sxs-lookup"><span data-stu-id="e1a3e-190">When configuring the select statement choose to specify a custom SQL statement and then enter the following query:</span></span>

[!code-sql[Main](master-pages-and-asp-net-ajax-cs/samples/sample3.sql)]

<span data-ttu-id="e1a3e-191">Klíčové slovo `TOP 1` v klauzuli `SELECT` vrátí pouze první záznam vrácený dotazem.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-191">The `TOP 1` keyword in the `SELECT` clause returns only the first record returned by the query.</span></span> <span data-ttu-id="e1a3e-192">[Funkce`NEWID()`](https://msdn.microsoft.com/library/ms190348.aspx) generuje novou [globálně jedinečnou hodnotu identifikátoru (GUID)](http://en.wikipedia.org/wiki/Globally_Unique_Identifier) a lze ji použít v klauzuli `ORDER BY` pro vrácení záznamů tabulky v náhodném pořadí.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-192">The [`NEWID()` function](https://msdn.microsoft.com/library/ms190348.aspx) generates a new [globally unique identifier value (GUID)](http://en.wikipedia.org/wiki/Globally_Unique_Identifier) and can be used in an `ORDER BY` clause to return the table's records in a random order.</span></span>

<span data-ttu-id="e1a3e-193">[![nakonfigurovat SqlDataSource pro vrácení jednoho náhodně vybraného záznamu](master-pages-and-asp-net-ajax-cs/_static/image11.png)](master-pages-and-asp-net-ajax-cs/_static/image10.png)</span><span class="sxs-lookup"><span data-stu-id="e1a3e-193">[![Configure the SqlDataSource to Return a Single, Randomly Selected Record](master-pages-and-asp-net-ajax-cs/_static/image11.png)](master-pages-and-asp-net-ajax-cs/_static/image10.png)</span></span>

<span data-ttu-id="e1a3e-194">**Obrázek 04**: Konfigurace SqlDataSource pro vrácení jednoho náhodně vybraného záznamu ([kliknutím zobrazíte obrázek v plné velikosti](master-pages-and-asp-net-ajax-cs/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="e1a3e-194">**Figure 04**: Configure the SqlDataSource to Return a Single, Randomly Selected Record  ([Click to view full-size image](master-pages-and-asp-net-ajax-cs/_static/image12.png))</span></span>

<span data-ttu-id="e1a3e-195">Po dokončení Průvodce vytvoří Visual Studio vlastnost BoundField pro dva sloupce vrácené výše uvedeným dotazem.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-195">After completing the wizard, Visual Studio creates a BoundField for the two columns returned by the above query.</span></span> <span data-ttu-id="e1a3e-196">V tomto okamžiku by deklarativní označení stránky mělo vypadat podobně jako v následujícím příkladu:</span><span class="sxs-lookup"><span data-stu-id="e1a3e-196">At this point your page's declarative markup should look similar to the following:</span></span>

[!code-aspx[Main](master-pages-and-asp-net-ajax-cs/samples/sample4.aspx)]

<span data-ttu-id="e1a3e-197">Obrázek 5 zobrazuje stránku `ShowRandomProduct.aspx` při prohlížení v prohlížeči.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-197">Figure 5 shows the `ShowRandomProduct.aspx` page when viewed through a browser.</span></span> <span data-ttu-id="e1a3e-198">Kliknutím na tlačítko obnovit v prohlížeči znovu načtěte stránku. měli byste vidět `ProductName` a `UnitPrice` hodnoty pro nový náhodně vybraný záznam.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-198">Click your browser's Refresh button to reload the page; you should see the `ProductName` and `UnitPrice` values for a new randomly selected record.</span></span>

<span data-ttu-id="e1a3e-199">[Zobrazí se ![název a cena náhodného produktu.](master-pages-and-asp-net-ajax-cs/_static/image14.png)](master-pages-and-asp-net-ajax-cs/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="e1a3e-199">[![A Random Product's Name and Price is Displayed](master-pages-and-asp-net-ajax-cs/_static/image14.png)](master-pages-and-asp-net-ajax-cs/_static/image13.png)</span></span>

<span data-ttu-id="e1a3e-200">**Obrázek 05**: zobrazí se název a cena náhodného produktu ([kliknutím zobrazíte obrázek v plné velikosti](master-pages-and-asp-net-ajax-cs/_static/image15.png)).</span><span class="sxs-lookup"><span data-stu-id="e1a3e-200">**Figure 05**: A Random Product's Name and Price is Displayed  ([Click to view full-size image](master-pages-and-asp-net-ajax-cs/_static/image15.png))</span></span>

### <a name="automatically-displaying-a-new-product-every-15-seconds"></a><span data-ttu-id="e1a3e-201">Automatické zobrazení nového produktu každých 15 sekund</span><span class="sxs-lookup"><span data-stu-id="e1a3e-201">Automatically Displaying a New Product Every 15 Seconds</span></span>

<span data-ttu-id="e1a3e-202">Rozhraní ASP.NET AJAX obsahuje ovládací prvek časovače, který v zadaném čase provádí zpětné odeslání. Při zpětném volání se vyvolá událost časovače `Tick`.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-202">The ASP.NET AJAX framework includes a Timer control that performs a postback at a specified time; on postback the Timer's `Tick` event is raised.</span></span> <span data-ttu-id="e1a3e-203">Pokud je ovládací prvek časovače umístěn v rámci ovládacího prvku UpdatePanel, spouští částečné postback stránky, během kterého můžeme data znovu navazovat na prvek DetailsView a zobrazit tak nový náhodně vybraný produkt.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-203">If the Timer control is placed within an UpdatePanel it triggers a partial page postback, during which we can rebind the data to the DetailsView to display a new randomly selected product.</span></span>

<span data-ttu-id="e1a3e-204">Chcete-li to provést, přetáhněte časovač ze sady nástrojů a umístěte jej do ovládacího prvku UpdatePanel.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-204">To accomplish this, drag a Timer from the Toolbox and drop it into the UpdatePanel.</span></span> <span data-ttu-id="e1a3e-205">Změňte `ID` časovače z `Timer1` na `ProductTimer` a jeho vlastnost `Interval` z 60000 na 15000.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-205">Change the Timer's `ID` from `Timer1` to `ProductTimer` and its `Interval` property from 60000 to 15000.</span></span> <span data-ttu-id="e1a3e-206">Vlastnost `Interval` označuje počet milisekund mezi zpětnými odesláními; nastavení na 15000 způsobí, že časovač spustí částečné odeslání stránky každých 15 sekund.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-206">The `Interval` property indicates the number of milliseconds between postbacks; setting it to 15000 causes the Timer to trigger a partial page postback every 15 seconds.</span></span> <span data-ttu-id="e1a3e-207">V tomto okamžiku by deklarativní označení časovače mělo vypadat podobně jako v následujícím příkladu:</span><span class="sxs-lookup"><span data-stu-id="e1a3e-207">At this point your Timer's declarative markup should look similar to the following:</span></span>

[!code-aspx[Main](master-pages-and-asp-net-ajax-cs/samples/sample5.aspx)]

<span data-ttu-id="e1a3e-208">Vytvořte obslužnou rutinu události pro událost `Tick` časovače.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-208">Create an event handler for the Timer's `Tick` event.</span></span> <span data-ttu-id="e1a3e-209">V této obslužné rutině události potřebujeme znovu navazovat vazby na prvek DetailsView voláním metody `DataBind` ovládacího prvku DetailsView.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-209">In this event handler we need to rebind the data to the DetailsView by calling the DetailsView's `DataBind` method.</span></span> <span data-ttu-id="e1a3e-210">Tím se instruuje ovládací prvek DetailsView, aby znovu obnovil data z ovládacího prvku zdroje dat, který vybere a zobrazí nový náhodně vybraný záznam (stejně jako při opětovném načítání stránky kliknutím na tlačítko obnovit v prohlížeči).</span><span class="sxs-lookup"><span data-stu-id="e1a3e-210">Doing so instructs the DetailsView to re-retrieve the data from its data source control, which will select and display a new randomly selected record (just like when reloading the page by clicking the browser's Refresh button).</span></span>

[!code-csharp[Main](master-pages-and-asp-net-ajax-cs/samples/sample6.cs)]

<span data-ttu-id="e1a3e-211">A je to!</span><span class="sxs-lookup"><span data-stu-id="e1a3e-211">That's all there is to it!</span></span> <span data-ttu-id="e1a3e-212">Znovu navštivte stránku v prohlížeči.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-212">Revisit the page through a browser.</span></span> <span data-ttu-id="e1a3e-213">Zpočátku se zobrazí informace o náhodném produktu.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-213">Initially, a random product's information is displayed.</span></span> <span data-ttu-id="e1a3e-214">Pokud si tuto obrazovku sami provedete, všimnete si, že po 15 sekundách si informace o novém produktu připraví jenom v případě, že se stávající displej nahradí.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-214">If you patiently watch the screen you'll notice that, after 15 seconds, information about a new product magically replaces the existing display.</span></span>

<span data-ttu-id="e1a3e-215">Chcete-li lépe zjistit, co se děje, přidejte do prvku UpdatePanel ovládací prvek popisek, který zobrazuje čas poslední aktualizace zobrazení.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-215">To better see what's happening here, let's add a Label control to the UpdatePanel that displays the time the display was last updated.</span></span> <span data-ttu-id="e1a3e-216">Přidejte ovládací prvek web popisku v ovládacím prvku UpdatePanel, nastavte jeho `ID` na `LastUpdateTime`a vymažte jeho vlastnost `Text`.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-216">Add a Label Web control within the UpdatePanel, set its `ID` to `LastUpdateTime`, and clear its `Text` property.</span></span> <span data-ttu-id="e1a3e-217">Dále vytvořte obslužnou rutinu události pro událost `Load` ovládacího prvku UpdatePanel a zobrazte aktuální čas v popisku.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-217">Next, create an event handler for the UpdatePanel's `Load` event and display the current time in the Label.</span></span> <span data-ttu-id="e1a3e-218">(Událost `Load` ovládacího prvku UpdatePanel je aktivována při každém úplném nebo částečném postbacku stránky.)</span><span class="sxs-lookup"><span data-stu-id="e1a3e-218">(The UpdatePanel's `Load` event is fired on every full or partial page postback.)</span></span>

[!code-csharp[Main](master-pages-and-asp-net-ajax-cs/samples/sample7.cs)]

<span data-ttu-id="e1a3e-219">Po dokončení této změny stránka obsahuje čas, kdy byl aktuálně zobrazený produkt načten.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-219">With this change complete, the page includes the time the currently displayed product was loaded.</span></span> <span data-ttu-id="e1a3e-220">Obrázek 6: při prvním navštívení stránky se zobrazí stránka.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-220">Figure 6 shows the page when first visited.</span></span> <span data-ttu-id="e1a3e-221">Obrázek 7 zobrazuje stránku 15 sekund později, po jejichž uplynutí je ovládací prvek Timer "Ticked" a ovládací prvek UpdatePanel byl aktualizován, aby zobrazil informace o novém produktu.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-221">Figure 7 shows the page 15 seconds later after the Timer control has "ticked" and the UpdatePanel has been refreshed to display information about a new product.</span></span>

<span data-ttu-id="e1a3e-222">[při načtení stránky se zobrazí náhodně vybraný produkt ![](master-pages-and-asp-net-ajax-cs/_static/image17.png)](master-pages-and-asp-net-ajax-cs/_static/image16.png)</span><span class="sxs-lookup"><span data-stu-id="e1a3e-222">[![A Randomly Selected Product is Displayed on Page Load](master-pages-and-asp-net-ajax-cs/_static/image17.png)](master-pages-and-asp-net-ajax-cs/_static/image16.png)</span></span>

<span data-ttu-id="e1a3e-223">**Obrázek 6**: při načítání stránky se zobrazí náhodně vybraný produkt ([kliknutím zobrazíte obrázek v plné velikosti](master-pages-and-asp-net-ajax-cs/_static/image18.png)).</span><span class="sxs-lookup"><span data-stu-id="e1a3e-223">**Figure 06**: A Randomly Selected Product is Displayed on Page Load  ([Click to view full-size image](master-pages-and-asp-net-ajax-cs/_static/image18.png))</span></span>

<span data-ttu-id="e1a3e-224">[![každých 15 sekund se zobrazí nový náhodně vybraný produkt.](master-pages-and-asp-net-ajax-cs/_static/image20.png)](master-pages-and-asp-net-ajax-cs/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="e1a3e-224">[![Every 15 Seconds a New Randomly Selected Product is Displayed](master-pages-and-asp-net-ajax-cs/_static/image20.png)](master-pages-and-asp-net-ajax-cs/_static/image19.png)</span></span>

<span data-ttu-id="e1a3e-225">**Obrázek 7**: každých 15 sekund se zobrazí nový náhodně vybraný produkt ([kliknutím zobrazíte obrázek v plné velikosti](master-pages-and-asp-net-ajax-cs/_static/image21.png)).</span><span class="sxs-lookup"><span data-stu-id="e1a3e-225">**Figure 07**: Every 15 Seconds a New Randomly Selected Product is Displayed  ([Click to view full-size image](master-pages-and-asp-net-ajax-cs/_static/image21.png))</span></span>

## <a name="step-3-using-the-scriptmanagerproxy-control"></a><span data-ttu-id="e1a3e-226">Krok 3: použití ovládacího prvku ScriptManagerProxy</span><span class="sxs-lookup"><span data-stu-id="e1a3e-226">Step 3: Using the ScriptManagerProxy Control</span></span>

<span data-ttu-id="e1a3e-227">Společně s tím, jak je nutný skript pro klientskou knihovnu ASP.NET AJAX Framework, může správce ScriptManager registrovat také vlastní soubory JavaScriptu, odkazy na webové služby s povoleným skriptem a vlastní ověřování, autorizaci a profilové služby.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-227">Along with including the necessary script for the ASP.NET AJAX framework Client Library, the ScriptManager can also register custom JavaScript files, references to script-enabled Web Services, and custom authentication, authorization, and profile services.</span></span> <span data-ttu-id="e1a3e-228">Tato přizpůsobení jsou obvykle specifická pro určitou stránku.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-228">Usually such customizations are specific to a certain page.</span></span> <span data-ttu-id="e1a3e-229">Pokud se však v ovládacím prvku ScriptManager na stránce předlohy odkazuje na vlastní soubory skriptu, odkazy na webové služby nebo ověřování, autorizaci nebo profilové služby, budou tyto stránky zahrnuty na *všech* stránkách na webu.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-229">However, if the custom script files, Web Service references, or authentication, authorization, or profile services are referenced in the ScriptManager in the master page then they are included in *all* pages in the website.</span></span>

<span data-ttu-id="e1a3e-230">Chcete-li přidat přizpůsobení související s prvkem ScriptManager na stránce, použijte ovládací prvek ScriptManagerProxy.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-230">To add ScriptManager-related customizations on a page-by-page basis use the ScriptManagerProxy control.</span></span> <span data-ttu-id="e1a3e-231">Můžete přidat ScriptManagerProxy na stránku obsahu a pak zaregistrovat vlastní soubor JavaScriptu, odkaz na webovou službu nebo ověřování, autorizaci nebo profilovou službu z ScriptManagerProxy. to má vliv na registraci těchto služeb pro konkrétní stránku obsahu.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-231">You can add a ScriptManagerProxy to a content page and then register the custom JavaScript file, Web Service reference, or authentication, authorization, or profile service from the ScriptManagerProxy; this has the effect of registering these services for the particular content page.</span></span>

> [!NOTE]
> <span data-ttu-id="e1a3e-232">ASP.NET stránka může mít pouze jeden ovládací prvek ScriptManager.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-232">An ASP.NET page can only have no more than one ScriptManager control present.</span></span> <span data-ttu-id="e1a3e-233">Proto nemůžete přidat ovládací prvek ScriptManager na stránku obsahu, pokud je ovládací prvek ScriptManager již definován na stránce předlohy.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-233">Therefore, you cannot add a ScriptManager control to a content page if the ScriptManager control is already defined in the master page.</span></span> <span data-ttu-id="e1a3e-234">Jediným účelem ScriptManagerProxy je poskytnout vývojářům způsob, jak definovat ScriptManager na stránce předlohy, ale stále mají možnost přidat přizpůsobení prvku ScriptManager na stránce.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-234">The sole purpose of the ScriptManagerProxy is to provide a way for developers to define the ScriptManager in the master page, but still have the ability to add ScriptManager customizations on a page-by-page basis.</span></span>

<span data-ttu-id="e1a3e-235">Chcete-li zobrazit ovládací prvek ScriptManagerProxy v akci, připraví prvek UpdatePanel v `ShowRandomProduct.aspx` tak, aby obsahovalo tlačítko, které používá skript na straně klienta pro pozastavení nebo obnovení ovládacího prvku časovač.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-235">To see the ScriptManagerProxy control in action, let's augment the UpdatePanel in `ShowRandomProduct.aspx` to include a button that uses client-side script to pause or resume the Timer control.</span></span> <span data-ttu-id="e1a3e-236">Ovládací prvek Timer má tři metody na straně klienta, které můžeme použít k dosažení těchto požadovaných funkcí:</span><span class="sxs-lookup"><span data-stu-id="e1a3e-236">The Timer control has three client-side methods that we can use to achieve this desired functionality:</span></span>

- <span data-ttu-id="e1a3e-237">`_startTimer()` – spustí řízení časovače.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-237">`_startTimer()` - starts the Timer control</span></span>
- <span data-ttu-id="e1a3e-238">`_raiseTick()` – způsobí, že ovládací prvek časovače zaškrtne, a tak se zpátky a zvýší jeho událost `Tick` na serveru.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-238">`_raiseTick()` - causes the Timer control to "tick," thereby posting back and raising its `Tick` event on the server</span></span>
- <span data-ttu-id="e1a3e-239">`_stopTimer()` – zastaví řízení časovače.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-239">`_stopTimer()` - stops the Timer control</span></span>

<span data-ttu-id="e1a3e-240">Pojďme vytvořit soubor JavaScriptu s proměnnou s názvem `timerEnabled` a funkcí nazvanou `ToggleTimer`.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-240">Let's create a JavaScript file with a variable named `timerEnabled` and a function named `ToggleTimer`.</span></span> <span data-ttu-id="e1a3e-241">Proměnná `timerEnabled` označuje, jestli je ovládací prvek časovače aktuálně povolený, nebo zakázaný. Výchozí hodnota je true.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-241">The `timerEnabled` variable indicates whether the Timer control is currently enabled or disabled; it defaults to true.</span></span> <span data-ttu-id="e1a3e-242">Funkce `ToggleTimer` přijímá dva vstupní parametry: odkaz na tlačítko pozastavit/pokračovat a hodnotu `id` na straně klienta ovládacího prvku Timer.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-242">The `ToggleTimer` function accepts two input parameters: a reference to the Pause/Resume button and the client-side `id` value of the Timer control.</span></span> <span data-ttu-id="e1a3e-243">Tato funkce přepíná hodnotu `timerEnabled`, získá odkaz na ovládací prvek Timer, spustí nebo zastaví časovač (v závislosti na hodnotě `timerEnabled`) a aktualizuje zobrazený text tlačítka na "pozastavit" nebo "pokračovat".</span><span class="sxs-lookup"><span data-stu-id="e1a3e-243">This function toggles the value of `timerEnabled`, gets a reference to the Timer control, starts or stops the Timer (depending on the value of `timerEnabled`), and updates the button's display text to "Pause" or "Resume".</span></span> <span data-ttu-id="e1a3e-244">Tato funkce bude volána vždy, když se klikne na tlačítko pozastavit/pokračovat.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-244">This function will be called whenever the Pause/Resume button is clicked.</span></span>

<span data-ttu-id="e1a3e-245">Začněte vytvořením nové složky na webu s názvem `Scripts`.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-245">Start by creating a new folder in the website named `Scripts`.</span></span> <span data-ttu-id="e1a3e-246">Dále přidejte nový soubor do složky Scripts s názvem `TimerScript.js` typu souboru JScript.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-246">Next, add a new file to the Scripts folder named `TimerScript.js` of type JScript File.</span></span>

<span data-ttu-id="e1a3e-247">[![přidat nový soubor JavaScriptu do složky Scripts](master-pages-and-asp-net-ajax-cs/_static/image23.png)](master-pages-and-asp-net-ajax-cs/_static/image22.png)</span><span class="sxs-lookup"><span data-stu-id="e1a3e-247">[![Add a New JavaScript File to the Scripts Folder](master-pages-and-asp-net-ajax-cs/_static/image23.png)](master-pages-and-asp-net-ajax-cs/_static/image22.png)</span></span>

<span data-ttu-id="e1a3e-248">**Obrázek 08**: Přidání nového souboru JavaScriptu do složky `Scripts` ([kliknutím zobrazíte obrázek v plné velikosti](master-pages-and-asp-net-ajax-cs/_static/image24.png))</span><span class="sxs-lookup"><span data-stu-id="e1a3e-248">**Figure 08**: Add a New JavaScript File to the `Scripts` Folder  ([Click to view full-size image](master-pages-and-asp-net-ajax-cs/_static/image24.png))</span></span>

<span data-ttu-id="e1a3e-249">[![se na web přidal nový soubor JavaScriptu.](master-pages-and-asp-net-ajax-cs/_static/image26.png)](master-pages-and-asp-net-ajax-cs/_static/image25.png)</span><span class="sxs-lookup"><span data-stu-id="e1a3e-249">[![A New JavaScript File has been Added to the Website](master-pages-and-asp-net-ajax-cs/_static/image26.png)](master-pages-and-asp-net-ajax-cs/_static/image25.png)</span></span>

<span data-ttu-id="e1a3e-250">**Obrázek 09**: do webu byl přidán nový soubor JavaScriptu ([kliknutím zobrazíte obrázek v plné velikosti](master-pages-and-asp-net-ajax-cs/_static/image27.png)).</span><span class="sxs-lookup"><span data-stu-id="e1a3e-250">**Figure 09**: A New JavaScript File has been Added to the Website ([Click to view full-size image](master-pages-and-asp-net-ajax-cs/_static/image27.png))</span></span>

<span data-ttu-id="e1a3e-251">Dále do souboru TimerScript. js přidejte následující skript:</span><span class="sxs-lookup"><span data-stu-id="e1a3e-251">Next, add the following scrip to the TimerScript.js file:</span></span>

[!code-csharp[Main](master-pages-and-asp-net-ajax-cs/samples/sample8.cs)]

<span data-ttu-id="e1a3e-252">Nyní je potřeba tento vlastní soubor JavaScriptu zaregistrovat v `ShowRandomProduct.aspx`.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-252">We now need to register this custom JavaScript file in `ShowRandomProduct.aspx`.</span></span> <span data-ttu-id="e1a3e-253">Vraťte se na `ShowRandomProduct.aspx` a přidejte na ni ovládací prvek ScriptManagerProxy; nastavte jeho `ID` na `MyManagerProxy`.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-253">Return to `ShowRandomProduct.aspx` and add a ScriptManagerProxy control to the page; set its `ID` to `MyManagerProxy`.</span></span> <span data-ttu-id="e1a3e-254">Chcete-li zaregistrovat vlastní soubor JavaScriptu, vyberte v Návrháři ovládací prvek ScriptManagerProxy a pak pokračujte na okno Vlastnosti.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-254">To register a custom JavaScript file select the ScriptManagerProxy control in the Designer and then go to the Properties window.</span></span> <span data-ttu-id="e1a3e-255">Jedna z vlastností je "skripty".</span><span class="sxs-lookup"><span data-stu-id="e1a3e-255">One of the properties is titled Scripts.</span></span> <span data-ttu-id="e1a3e-256">Výběrem této vlastnosti se zobrazí Editor kolekce ScriptReference zobrazený na obrázku 10.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-256">Selecting this property displays the ScriptReference Collection Editor shown in Figure 10.</span></span> <span data-ttu-id="e1a3e-257">Kliknutím na tlačítko Přidat zahrňte nový odkaz na skript a potom zadejte cestu k souboru skriptu ve vlastnosti cesta: `~/Scripts/TimerScript.js`.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-257">Click the Add button to include a new script reference and then enter the path to the script file in the Path property: `~/Scripts/TimerScript.js`.</span></span>

<span data-ttu-id="e1a3e-258">[![přidat odkaz na skript do ovládacího prvku ScriptManagerProxy](master-pages-and-asp-net-ajax-cs/_static/image29.png)](master-pages-and-asp-net-ajax-cs/_static/image28.png)</span><span class="sxs-lookup"><span data-stu-id="e1a3e-258">[![Add a Script Reference to the ScriptManagerProxy Control](master-pages-and-asp-net-ajax-cs/_static/image29.png)](master-pages-and-asp-net-ajax-cs/_static/image28.png)</span></span>

<span data-ttu-id="e1a3e-259">**Obrázek 10**: Přidání odkazu na skript do ovládacího prvku ScriptManagerProxy ([kliknutím zobrazíte obrázek v plné velikosti](master-pages-and-asp-net-ajax-cs/_static/image30.png))</span><span class="sxs-lookup"><span data-stu-id="e1a3e-259">**Figure 10**: Add a Script Reference to the ScriptManagerProxy Control ([Click to view full-size image](master-pages-and-asp-net-ajax-cs/_static/image30.png))</span></span>

<span data-ttu-id="e1a3e-260">Po přidání odkazu na skript se pro deklarativní označení ovládacího prvku ScriptManagerProxy aktualizuje tak, aby zahrnoval kolekci `<Scripts>` s jedinou položkou `ScriptReference`, jak ukazuje následující fragment kódu:</span><span class="sxs-lookup"><span data-stu-id="e1a3e-260">After adding the script reference the ScriptManagerProxy control's declarative markup is updated to include a `<Scripts>` collection with a single `ScriptReference` entry, as the following snippet of markup illustrates:</span></span>

[!code-aspx[Main](master-pages-and-asp-net-ajax-cs/samples/sample9.aspx)]

<span data-ttu-id="e1a3e-261">Položka `ScriptReference` dává pokyn ScriptManagerProxy, aby zahrnoval odkaz na soubor JavaScriptu ve vykresleném kódu.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-261">The `ScriptReference` entry instructs the ScriptManagerProxy to include a reference to the JavaScript file in its rendered markup.</span></span> <span data-ttu-id="e1a3e-262">To znamená, že když si vlastní skript zaregistrujete do ScriptManagerProxy vygenerovaného výstupu `ShowRandomProduct.aspx` stránky, bude teď zahrnovat další značku `<script src="url"></script>`: `<script src="Scripts/TimerScript.js" type="text/javascript"></script>`.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-262">That is, by registering the custom script in the ScriptManagerProxy the `ShowRandomProduct.aspx` page's rendered output now includes another `<script src="url"></script>` tag: `<script src="Scripts/TimerScript.js" type="text/javascript"></script>`.</span></span>

<span data-ttu-id="e1a3e-263">Nyní můžeme volat funkci `ToggleTimer` definovanou v `TimerScript.js` ze skriptu klienta na stránce `ShowRandomProduct.aspx`.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-263">We can now call the `ToggleTimer` function defined in `TimerScript.js` from the client script in the `ShowRandomProduct.aspx` page.</span></span> <span data-ttu-id="e1a3e-264">Přidejte následující kód HTML v prvku UpdatePanel:</span><span class="sxs-lookup"><span data-stu-id="e1a3e-264">Add the following HTML within the UpdatePanel:</span></span>

[!code-aspx[Main](master-pages-and-asp-net-ajax-cs/samples/sample10.aspx)]

<span data-ttu-id="e1a3e-265">Tím se zobrazí tlačítko s textem "pozastavit".</span><span class="sxs-lookup"><span data-stu-id="e1a3e-265">This displays a button with the text "Pause".</span></span> <span data-ttu-id="e1a3e-266">Pokaždé, když se na něj klikne, volá se `ToggleTimer` funkce JavaScriptu, která předává odkaz na tlačítko a hodnotu ID ovládacího prvku Timer (`ProductTimer`).</span><span class="sxs-lookup"><span data-stu-id="e1a3e-266">Whenever it is clicked, the JavaScript function `ToggleTimer` is called, passing in a reference to the button and the id value of the Timer control (`ProductTimer`).</span></span> <span data-ttu-id="e1a3e-267">Poznamenejte si syntaxi pro získání `id` hodnoty ovládacího prvku Timer.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-267">Note the syntax for obtaining the `id` value of the Timer control.</span></span> <span data-ttu-id="e1a3e-268">`<%=ProductTimer.ClientID%>` emituje hodnotu vlastnosti `ClientID` ovládacího prvku `ProductTimer` Timer.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-268">`<%=ProductTimer.ClientID%>` emits the value of the `ProductTimer` Timer control's `ClientID` property.</span></span> <span data-ttu-id="e1a3e-269">V kurzu [*pojmenování ID ovládacích prvků v stránkách obsahu*](control-id-naming-in-content-pages-cs.md) jsme probrali rozdíly mezi hodnotou `ID` na straně serveru a výslednou `id`ou na straně klienta a způsobem, jak `ClientID` vrátí `id`na straně klienta.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-269">In the [*Control ID Naming in Content Pages*](control-id-naming-in-content-pages-cs.md) tutorial we discussed the differences between the server-side `ID` value and the resulting client-side `id` value, and how `ClientID` returns the client-side `id`.</span></span>

<span data-ttu-id="e1a3e-270">Obrázek 11 ukazuje tuto stránku, když se poprvé navštíví přes prohlížeč.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-270">Figure 11 shows this page when first visited through a browser.</span></span> <span data-ttu-id="e1a3e-271">V tuto chvíli běží časovač a aktualizuje zobrazené informace o produktu každých 15 sekund.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-271">The Timer is currently running and updates the displayed product information every 15 seconds.</span></span> <span data-ttu-id="e1a3e-272">Obrázek 12 zobrazuje obrazovku po kliknutí na tlačítko pro pozastavení.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-272">Figure 12 shows the screen after the Pause button has been clicked.</span></span> <span data-ttu-id="e1a3e-273">Kliknutím na tlačítko pozastavit zastavíte časovač a aktualizujete text tlačítka na pokračovat.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-273">Clicking the Pause button stops the Timer and updates the button's text to "Resume".</span></span> <span data-ttu-id="e1a3e-274">Jakmile uživatel klikne na tlačítko pokračovat, informace o produktu budou obnoveny (a budou pokračovat v aktualizaci každých 15 sekund).</span><span class="sxs-lookup"><span data-stu-id="e1a3e-274">The product information will refresh (and continue to refresh every 15 seconds) once the user clicks Resume.</span></span>

<span data-ttu-id="e1a3e-275">[![kliknutím na tlačítko pozastavit zastavíte řízení časovače.](master-pages-and-asp-net-ajax-cs/_static/image32.png)](master-pages-and-asp-net-ajax-cs/_static/image31.png)</span><span class="sxs-lookup"><span data-stu-id="e1a3e-275">[![Click the Pause Button to Stop the Timer Control](master-pages-and-asp-net-ajax-cs/_static/image32.png)](master-pages-and-asp-net-ajax-cs/_static/image31.png)</span></span>

<span data-ttu-id="e1a3e-276">**Obrázek 11**: kliknutím na tlačítko pozastavit zastavíte řízení časovače ([kliknutím zobrazíte obrázek v plné velikosti).](master-pages-and-asp-net-ajax-cs/_static/image33.png)</span><span class="sxs-lookup"><span data-stu-id="e1a3e-276">**Figure 11**: Click the Pause Button to Stop the Timer Control  ([Click to view full-size image](master-pages-and-asp-net-ajax-cs/_static/image33.png))</span></span>

<span data-ttu-id="e1a3e-277">[![kliknutím na tlačítko pokračovat restartujte časovač.](master-pages-and-asp-net-ajax-cs/_static/image35.png)](master-pages-and-asp-net-ajax-cs/_static/image34.png)</span><span class="sxs-lookup"><span data-stu-id="e1a3e-277">[![Click the Resume Button to Restart the Timer](master-pages-and-asp-net-ajax-cs/_static/image35.png)](master-pages-and-asp-net-ajax-cs/_static/image34.png)</span></span>

<span data-ttu-id="e1a3e-278">**Obrázek 12**: kliknutím na tlačítko Obnovit spustíte časovač ([kliknutím zobrazíte obrázek v plné velikosti](master-pages-and-asp-net-ajax-cs/_static/image36.png)).</span><span class="sxs-lookup"><span data-stu-id="e1a3e-278">**Figure 12**: Click the Resume Button to Restart the Timer  ([Click to view full-size image](master-pages-and-asp-net-ajax-cs/_static/image36.png))</span></span>

## <a name="summary"></a><span data-ttu-id="e1a3e-279">Souhrn</span><span class="sxs-lookup"><span data-stu-id="e1a3e-279">Summary</span></span>

<span data-ttu-id="e1a3e-280">Při sestavování webových aplikací s podporou jazyka AJAX pomocí rozhraní ASP.NET AJAX je nezbytné, aby každá webová stránka s povoleným AJAX zahrnovala ovládací prvek ScriptManager.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-280">When building AJAX-enabled web applications using the ASP.NET AJAX framework it is imperative that every AJAX-enabled web page include a ScriptManager control.</span></span> <span data-ttu-id="e1a3e-281">Abychom tento proces usnadnili, můžeme do stránky předlohy přidat ScriptManager místo nutnosti nezapomeňte si přidat ScriptManager na každou stránku obsahu a všechny.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-281">To facilitate this process, we can add a ScriptManager to the master page rather than having to remember to add a ScriptManager to each and every content page.</span></span> <span data-ttu-id="e1a3e-282">Krok 1 ukázal, jak přidat ScriptManager do hlavní stránky, zatímco krok 2 se prohlédl při implementaci funkcionality AJAX na stránce obsahu.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-282">Step 1 showed how to add the ScriptManager to the master page while Step 2 looked at implementing AJAX functionality in a content page.</span></span>

<span data-ttu-id="e1a3e-283">Pokud potřebujete přidat vlastní skripty, odkazy na webové služby s povoleným skriptem nebo přizpůsobené ověřování, autorizaci nebo profilové služby na konkrétní stránku obsahu, přidejte na stránku obsahu ovládací prvek ScriptManagerProxy a pak nakonfigurujte vlastní nastavení.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-283">If you need to add custom scripts, references to script-enabled Web Services, or customized authentication, authorization, or profile services to a particular content page, add a ScriptManagerProxy control to the content page and then configure the customizations there.</span></span> <span data-ttu-id="e1a3e-284">Krok 3 se zabývá tím, jak použít ScriptManagerProxy k registraci vlastního souboru JavaScriptu na konkrétní stránce obsahu.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-284">Step 3 examined how to use the ScriptManagerProxy to register a custom JavaScript file in a specific content page.</span></span>

<span data-ttu-id="e1a3e-285">Šťastné programování!</span><span class="sxs-lookup"><span data-stu-id="e1a3e-285">Happy Programming!</span></span>

### <a name="further-reading"></a><span data-ttu-id="e1a3e-286">Další čtení</span><span class="sxs-lookup"><span data-stu-id="e1a3e-286">Further Reading</span></span>

<span data-ttu-id="e1a3e-287">Další informace o tématech popsaných v tomto kurzu najdete v následujících zdrojích informací:</span><span class="sxs-lookup"><span data-stu-id="e1a3e-287">For more information on the topics discussed in this tutorial, refer to the following resources:</span></span>

- [<span data-ttu-id="e1a3e-288">ASP.NET AJAX Framework</span><span class="sxs-lookup"><span data-stu-id="e1a3e-288">ASP.NET AJAX Framework</span></span>](../../../../ajax/index.md)
- [<span data-ttu-id="e1a3e-289">Výukové kurzy pro ASP.NET AJAX</span><span class="sxs-lookup"><span data-stu-id="e1a3e-289">ASP.NET AJAX Tutorials</span></span>](../aspnet-ajax/understanding-partial-page-updates-with-asp-net-ajax.md)
- [<span data-ttu-id="e1a3e-290">Videa ASP.NET AJAX</span><span class="sxs-lookup"><span data-stu-id="e1a3e-290">ASP.NET AJAX Videos</span></span>](../../../videos/aspnet-ajax/index.md)
- [<span data-ttu-id="e1a3e-291">Sestavování interaktivního uživatelského rozhraní pomocí Microsoft ASP.NET AJAX</span><span class="sxs-lookup"><span data-stu-id="e1a3e-291">Building Interactive User Interface with Microsoft ASP.NET AJAX</span></span>](http://aspnet.4guysfromrolla.com/articles/101007-1.aspx)
- [<span data-ttu-id="e1a3e-292">Použití NEWID k náhodnému řazení záznamů</span><span class="sxs-lookup"><span data-stu-id="e1a3e-292">Using NEWID to Randomly Sort Records</span></span>](http://www.sqlteam.com/article/using-newid-to-randomly-sort-records)
- [<span data-ttu-id="e1a3e-293">Použití ovládacího prvku Timer</span><span class="sxs-lookup"><span data-stu-id="e1a3e-293">Using the Timer Control</span></span>](http://aspnet.4guysfromrolla.com/articles/061808-1.aspx)

### <a name="about-the-author"></a><span data-ttu-id="e1a3e-294">O autorovi</span><span class="sxs-lookup"><span data-stu-id="e1a3e-294">About the Author</span></span>

<span data-ttu-id="e1a3e-295">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), autor několika stránek ASP/ASP. NET Books a zakladatel of 4GuysFromRolla.com, pracoval s webovými technologiemi microsoftu od 1998.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-295">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of multiple ASP/ASP.NET books and founder of 4GuysFromRolla.com, has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="e1a3e-296">Scott funguje jako nezávislý konzultant, Trainer a zapisovač.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-296">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="e1a3e-297">Nejnovější kniha je [*Sams naučit se ASP.NET 3,5 za 24 hodin*](https://www.amazon.com/exec/obidos/ASIN/0672329972/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="e1a3e-297">His latest book is [*Sams Teach Yourself ASP.NET 3.5 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672329972/4guysfromrollaco).</span></span> <span data-ttu-id="e1a3e-298">Scott se dá kontaktovat [mitchell@4GuysFromRolla.com](mailto:mitchell@4GuysFromRolla.com) nebo prostřednictvím svého blogu na [http://ScottOnWriting.NET](http://scottonwriting.net/).</span><span class="sxs-lookup"><span data-stu-id="e1a3e-298">Scott can be reached at [mitchell@4GuysFromRolla.com](mailto:mitchell@4GuysFromRolla.com) or via his blog at [http://ScottOnWriting.NET](http://scottonwriting.net/).</span></span>

### <a name="special-thanks-to"></a><span data-ttu-id="e1a3e-299">Zvláštní díky</span><span class="sxs-lookup"><span data-stu-id="e1a3e-299">Special Thanks To</span></span>

<span data-ttu-id="e1a3e-300">Tato řada kurzů byla přezkoumána mnoha užitečnými kontrolory.</span><span class="sxs-lookup"><span data-stu-id="e1a3e-300">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="e1a3e-301">Uvažujete o přezkoumání mých nadcházejících článků na webu MSDN?</span><span class="sxs-lookup"><span data-stu-id="e1a3e-301">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="e1a3e-302">Pokud ano, vyřaďte mi řádek na [mitchell@4GuysFromRolla.com](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="e1a3e-302">If so, drop me a line at [mitchell@4GuysFromRolla.com](mailto:mitchell@4GuysFromRolla.com)</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="e1a3e-303">[Předchozí](interacting-with-the-content-page-from-the-master-page-cs.md)
> [Další](specifying-the-master-page-programmatically-cs.md)</span><span class="sxs-lookup"><span data-stu-id="e1a3e-303">[Previous](interacting-with-the-content-page-from-the-master-page-cs.md)
[Next](specifying-the-master-page-programmatically-cs.md)</span></span>
