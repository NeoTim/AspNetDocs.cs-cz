---
uid: web-forms/overview/older-versions-getting-started/master-pages/creating-a-site-wide-layout-using-master-pages-cs
title: Vytvoření rozložení v rámci webu pomocí stránek předlohy (C#) | Microsoft Docs
author: rick-anderson
description: V tomto kurzu se zobrazí základy hlavní stránky. To znamená, co jsou stránky předlohy, jak vytvoří hlavní stránku, co je to držitelé obsahu, jak provede jeden dobropis...
ms.author: riande
ms.date: 05/21/2008
ms.assetid: 78f8d194-03b9-44a5-8255-90e7cd1c2ee1
msc.legacyurl: /web-forms/overview/older-versions-getting-started/master-pages/creating-a-site-wide-layout-using-master-pages-cs
msc.type: authoredcontent
ms.openlocfilehash: 1a5e85c443a2a3642ec185ab1897c43cdb2ab1f7
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 03/06/2020
ms.locfileid: "78625389"
---
# <a name="creating-a-site-wide-layout-using-master-pages-c"></a><span data-ttu-id="f53d4-104">Vytvoření rozložení platného pro celý web pomocí stránek předlohy (C#)</span><span class="sxs-lookup"><span data-stu-id="f53d4-104">Creating a Site-Wide Layout Using Master Pages (C#)</span></span>

<span data-ttu-id="f53d4-105">[Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="f53d4-105">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="f53d4-106">[Stažení kódu](https://download.microsoft.com/download/e/e/f/eef369f5-743a-4a52-908f-b6532c4ce0a4/ASPNET_MasterPages_Tutorial_01_CS.zip) nebo [stažení PDF](https://download.microsoft.com/download/8/f/6/8f6349e4-6554-405a-bcd7-9b094ba5089a/ASPNET_MasterPages_Tutorial_01_CS.pdf)</span><span class="sxs-lookup"><span data-stu-id="f53d4-106">[Download Code](https://download.microsoft.com/download/e/e/f/eef369f5-743a-4a52-908f-b6532c4ce0a4/ASPNET_MasterPages_Tutorial_01_CS.zip) or [Download PDF](https://download.microsoft.com/download/8/f/6/8f6349e4-6554-405a-bcd7-9b094ba5089a/ASPNET_MasterPages_Tutorial_01_CS.pdf)</span></span>

> <span data-ttu-id="f53d4-107">V tomto kurzu se zobrazí základy hlavní stránky.</span><span class="sxs-lookup"><span data-stu-id="f53d4-107">This tutorial will show master page basics.</span></span> <span data-ttu-id="f53d4-108">To, co jsou stránky předlohy, jak vytvoří hlavní stránku, co jsou držitele obsahu, jak vytvoří stránku ASP.NET, která používá hlavní stránku, jak probíhá změna hlavní stránky, jak se automaticky projeví na svých přidružených stránkách obsahu a tak dále.</span><span class="sxs-lookup"><span data-stu-id="f53d4-108">Namely, what are master pages, how does one create a master page, what are content place holders, how does one create an ASP.NET page that uses a master page, how modifying the master page is automatically reflected in its associated content pages, and so on.</span></span>

## <a name="introduction"></a><span data-ttu-id="f53d4-109">Úvod</span><span class="sxs-lookup"><span data-stu-id="f53d4-109">Introduction</span></span>

<span data-ttu-id="f53d4-110">Jeden atribut dobře navrženého webu je konzistentní rozložení stránky na úrovni webu.</span><span class="sxs-lookup"><span data-stu-id="f53d4-110">One attribute of a well-designed website is a consistent site-wide page layout.</span></span> <span data-ttu-id="f53d4-111">Vezměme si jako příklad [www.asp.net](www.asp.net) webu.</span><span class="sxs-lookup"><span data-stu-id="f53d4-111">Take the www.asp.net website, for example.</span></span> <span data-ttu-id="f53d4-112">V době psaní tohoto zápisu má každá stránka stejný obsah v horní a dolní části stránky.</span><span class="sxs-lookup"><span data-stu-id="f53d4-112">At the time of this writing, every page has the same content at the top and bottom of the page.</span></span> <span data-ttu-id="f53d4-113">Jak ukazuje obrázek 1, v horní horní části každé stránky se zobrazuje šedý pruh se seznamem komunit Microsoftu.</span><span class="sxs-lookup"><span data-stu-id="f53d4-113">As Figure 1 shows, the very top of each page displays a gray bar with a list of Microsoft Communities.</span></span> <span data-ttu-id="f53d4-114">Pod tím je logo lokality, seznam jazyků, do kterých byl web přeložen, a základní oddíly: domů, začínáme, informace, soubory ke stažení a tak dále.</span><span class="sxs-lookup"><span data-stu-id="f53d4-114">Beneath that is the site logo, the list of languages into which the site has been translated, and the core sections: Home, Get Started, Learn, Downloads, and so forth.</span></span> <span data-ttu-id="f53d4-115">Stejně tak dolní část stránky obsahuje informace o reklamě v www.asp.net, prohlášení o autorských právech a odkaz na prohlášení o zásadách ochrany osobních údajů.</span><span class="sxs-lookup"><span data-stu-id="f53d4-115">Likewise, the bottom of the page includes information about advertising on www.asp.net, a copyright statement, and a link to the privacy statement.</span></span>

<span data-ttu-id="f53d4-116">[![web www.asp.net využívá konzistentní vzhled a chování napříč všemi stránkami.](creating-a-site-wide-layout-using-master-pages-cs/_static/image2.png)](creating-a-site-wide-layout-using-master-pages-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="f53d4-116">[![The www.asp.net Website Employs a Consistent Look and Feel Across All Pages](creating-a-site-wide-layout-using-master-pages-cs/_static/image2.png)](creating-a-site-wide-layout-using-master-pages-cs/_static/image1.png)</span></span>

<span data-ttu-id="f53d4-117"><strong>Obrázek 01</strong>: web www.ASP.NET využívá konzistentní vzhled a chování napříč všemi stránkami ([kliknutím zobrazíte obrázek v plné velikosti](creating-a-site-wide-layout-using-master-pages-cs/_static/image3.png)).</span><span class="sxs-lookup"><span data-stu-id="f53d4-117"><strong>Figure 01</strong>: The www.asp.net Website Employs a Consistent Look and Feel Across All Pages ([Click to view full-size image](creating-a-site-wide-layout-using-master-pages-cs/_static/image3.png))</span></span>

<span data-ttu-id="f53d4-118">Dalším atributem dobře navržené lokality je jednoduchost, se kterým se dá změnit vzhled webu.</span><span class="sxs-lookup"><span data-stu-id="f53d4-118">Another attribute of a well-designed site is the ease with which the site's appearance can be changed.</span></span> <span data-ttu-id="f53d4-119">Obrázek 1 zobrazuje domovskou stránku www.asp.net od března 2008, ale mezi teď a publikací tohoto kurzu se možná změnil vzhled a chování.</span><span class="sxs-lookup"><span data-stu-id="f53d4-119">Figure 1 shows the www.asp.net homepage as of March 2008, but between now and this tutorial's publication, the look and feel may have changed.</span></span> <span data-ttu-id="f53d4-120">Možná se položky nabídky podél horní části rozšíří, aby zahrnovaly nový oddíl pro rozhraní MVC.</span><span class="sxs-lookup"><span data-stu-id="f53d4-120">Perhaps the menu items along the top will expand to include a new section for the MVC framework.</span></span> <span data-ttu-id="f53d4-121">Nebo je možné, že se odsadí nový návrh s různými barvami, písmy a rozložením, představili.</span><span class="sxs-lookup"><span data-stu-id="f53d4-121">Or maybe a radically new design with different colors, fonts, and layout will be unveiled.</span></span> <span data-ttu-id="f53d4-122">Použití takových změn u celého webu by mělo být rychlý a jednoduchý proces, který nevyžaduje úpravu tisíců webových stránek, které tvoří Web.</span><span class="sxs-lookup"><span data-stu-id="f53d4-122">Applying such changes to the entire site should be a fast and simple process that does not require modifying the thousands of web pages that make up the site.</span></span>

<span data-ttu-id="f53d4-123">Vytváření šablony stránky na úrovni webu v ASP.NET je možné prostřednictvím použití *stránek předlohy*.</span><span class="sxs-lookup"><span data-stu-id="f53d4-123">Creating a site-wide page template in ASP.NET is possible through the use of *master pages*.</span></span> <span data-ttu-id="f53d4-124">Ve kostce je hlavní stránkou speciální typ stránky ASP.NET, která definuje kód, který je společný pro všechny *stránky obsahu* , i oblasti, které jsou přizpůsobitelné na základě stránky obsahu stránky po obsahu.</span><span class="sxs-lookup"><span data-stu-id="f53d4-124">In a nutshell, a master page is a special type of ASP.NET page that defines the markup that is common among all *content pages* as well as regions that are customizable on a content page-by-content page basis.</span></span> <span data-ttu-id="f53d4-125">(Stránka obsahu je stránka ASP.NET, která je svázána s hlavní stránkou.) Pokaždé, když se změní rozložení nebo formátování hlavní stránky, okamžitě se aktualizují všechny jeho výstup stránky obsahu, což usnadňuje aktualizaci a nasazení jednoho souboru (konkrétně stránky předlohy).</span><span class="sxs-lookup"><span data-stu-id="f53d4-125">(A content page is an ASP.NET page that is bound to the master page.) Whenever a master page's layout or formatting is changed, all of its content pages' output is likewise immediately updated, which makes applying site-wide appearance changes as easy as updating and deploying a single file (namely, the master page).</span></span>

<span data-ttu-id="f53d4-126">Toto je první kurz v sérii kurzů, které se probírají pomocí stránek předlohy.</span><span class="sxs-lookup"><span data-stu-id="f53d4-126">This is the first tutorial in a series of tutorials that explore using master pages.</span></span> <span data-ttu-id="f53d4-127">V průběhu této série kurzů jsme:</span><span class="sxs-lookup"><span data-stu-id="f53d4-127">Over the course of this tutorial series we:</span></span>

- <span data-ttu-id="f53d4-128">Kontrola vytváření stránek předloh a jejich přidružených stránek obsahu</span><span class="sxs-lookup"><span data-stu-id="f53d4-128">Examine creating master pages and their associated content pages,</span></span>
- <span data-ttu-id="f53d4-129">Prodiskutujte celou řadu tipů, triky a depeší,</span><span class="sxs-lookup"><span data-stu-id="f53d4-129">Discuss a variety of tips, tricks, and traps,</span></span>
- <span data-ttu-id="f53d4-130">Identifikujte společnou stránku nástrah a Prozkoumejte alternativní řešení.</span><span class="sxs-lookup"><span data-stu-id="f53d4-130">Identify common master page pitfalls and explore workarounds,</span></span>
- <span data-ttu-id="f53d4-131">Podívejte se, jak získat přístup k hlavní stránce ze stránky obsahu a naopak,</span><span class="sxs-lookup"><span data-stu-id="f53d4-131">See how to access the master page from a content page and vice-a-versa,</span></span>
- <span data-ttu-id="f53d4-132">Naučte se, jak určit stránku předlohy stránky obsahu za běhu a</span><span class="sxs-lookup"><span data-stu-id="f53d4-132">Learn how to specify a content page's master page at runtime, and</span></span>
- <span data-ttu-id="f53d4-133">Další témata upřesňujících stránek předlohy.</span><span class="sxs-lookup"><span data-stu-id="f53d4-133">Other advanced master page topics.</span></span>

<span data-ttu-id="f53d4-134">Tyto kurzy jsou stručné a poskytují podrobné pokyny s mnoha snímky obrazovky, které vás provedou procesem vizuálně.</span><span class="sxs-lookup"><span data-stu-id="f53d4-134">These tutorials are geared to be concise and provide step-by-step instructions with plenty of screen shots to walk you through the process visually.</span></span> <span data-ttu-id="f53d4-135">Každý kurz je k dispozici v C# a Visual Basic verzích a zahrnuje stažení kompletního používaného kódu.</span><span class="sxs-lookup"><span data-stu-id="f53d4-135">Each tutorial is available in C# and Visual Basic versions and includes a download of the complete code used.</span></span>

<span data-ttu-id="f53d4-136">Tento kurz konference začíná zobrazením základů stránky předlohy.</span><span class="sxs-lookup"><span data-stu-id="f53d4-136">This inaugural tutorial starts with a look at master page basics.</span></span> <span data-ttu-id="f53d4-137">Probereme, jak fungují stránky předlohy, podívejte se na téma Vytvoření stránky předlohy a přidružených obsahu pomocí nástroje Visual Web Developer a podívejte se, jak se změny na hlavní stránce projeví okamžitě na stránkách obsahu.</span><span class="sxs-lookup"><span data-stu-id="f53d4-137">We discuss how master pages work, look at creating a master page and associated content pages using Visual Web Developer, and see how changes to a master page are immediately reflected in its content pages.</span></span> <span data-ttu-id="f53d4-138">Pojďme začít!</span><span class="sxs-lookup"><span data-stu-id="f53d4-138">Let's get started!</span></span>

## <a name="understanding-how-master-pages-work"></a><span data-ttu-id="f53d4-139">Princip fungování stránek předlohy</span><span class="sxs-lookup"><span data-stu-id="f53d4-139">Understanding How Master Pages Work</span></span>

<span data-ttu-id="f53d4-140">Vytváření webu s konzistentním rozložením stránky v celém webu vyžaduje, aby každá webová stránka kromě vlastního obsahu generovala i společné formátovací značky.</span><span class="sxs-lookup"><span data-stu-id="f53d4-140">Building a website with a consistent site-wide page layout requires that each web page emit common formatting markup in addition to its custom content.</span></span> <span data-ttu-id="f53d4-141">Například zatímco každý kurz nebo příspěvek fóra na www.asp.net má svůj vlastní jedinečný obsah, každá z těchto stránek také vykreslí řadu běžných `<div>` prvků, které zobrazují odkazy na nejvyšší úrovni: domů, začínáme, informace a tak dále.</span><span class="sxs-lookup"><span data-stu-id="f53d4-141">For example, while each tutorial or forum post on www.asp.net have their own unique content, each of these pages also render a series of common `<div>` elements that display the top-level section links: Home, Get Started, Learn, and so on.</span></span>

<span data-ttu-id="f53d4-142">Existují různé techniky pro vytváření webových stránek s konzistentním pohledem a chováním.</span><span class="sxs-lookup"><span data-stu-id="f53d4-142">There are a variety of techniques for creating web pages with a consistent look and feel.</span></span> <span data-ttu-id="f53d4-143">Naive přístupem je jednoduše zkopírovat a vložit společné označení rozložení na všechny webové stránky, ale tento přístup má řadu downsides.</span><span class="sxs-lookup"><span data-stu-id="f53d4-143">A naive approach is to simply copy and paste the common layout markup into all web pages, but this approach has a number of downsides.</span></span> <span data-ttu-id="f53d4-144">U startů se při každém vytvoření nové stránky musíte pamatovat na zkopírování a vložení sdíleného obsahu na stránku.</span><span class="sxs-lookup"><span data-stu-id="f53d4-144">For starters, every time a new page is created, you must remember to copy and paste the shared content into the page.</span></span> <span data-ttu-id="f53d4-145">Tyto operace kopírování a vkládání jsou zralé kvůli chybě, protože můžete omylem zkopírovat pouze podmnožinu sdílených značek na novou stránku.</span><span class="sxs-lookup"><span data-stu-id="f53d4-145">Such copying and pasting operations are ripe for error as you may accidentally copy only a subset of the shared markup into a new page.</span></span> <span data-ttu-id="f53d4-146">A pokud ho chcete vypnout, tento přístup nahrazuje stávající vzhled v rámci nejrůznějších webů, protože každá jediná stránka v lokalitě musí být upravena, aby bylo možné nový vzhled a chování použít.</span><span class="sxs-lookup"><span data-stu-id="f53d4-146">And to top it off, this approach makes replacing the existing site-wide appearance with a new one a real pain because every single page in the site must be edited in order to use the new look and feel.</span></span>

<span data-ttu-id="f53d4-147">Před ASP.NET verze 2,0 vývojáři stránky často umístili společné značky v [uživatelských ovládacích prvcích](https://msdn.microsoft.com/library/y6wb1a0e.aspx) a pak přidali tyto uživatelské ovládací prvky na každou stránku a všechny stránky.</span><span class="sxs-lookup"><span data-stu-id="f53d4-147">Prior to ASP.NET version 2.0, page developers often placed common markup in [User Controls](https://msdn.microsoft.com/library/y6wb1a0e.aspx) and then added these User Controls to each and every page.</span></span> <span data-ttu-id="f53d4-148">Tento přístup vyžaduje, aby si vývojář stránky ručně přidal uživatelské ovládací prvky na všechny nové stránky, ale povolily se pro snazší úpravy v rámci lokality, protože když aktualizujete společné značky, stačí, když aktualizujete Common Markup pouze uživatelské ovládací prvky, které je třeba upravit.</span><span class="sxs-lookup"><span data-stu-id="f53d4-148">This approach required that the page developer remember to manually add the User Controls to every new page, but allowed for easier site-wide modifications because when updating the common markup only the User Controls needed to be modified.</span></span> <span data-ttu-id="f53d4-149">Ale Visual Studio .NET 2002 a 2003 – verze sady Visual Studio použité k vytváření ASP.NETch aplikací s 1. x – vykreslené uživatelské ovládací prvky v zobrazení Návrh jako šedá pole.</span><span class="sxs-lookup"><span data-stu-id="f53d4-149">Unfortunately, Visual Studio .NET 2002 and 2003 - the versions of Visual Studio used to create ASP.NET 1.x applications - rendered User Controls in the Design view as gray boxes.</span></span> <span data-ttu-id="f53d4-150">V důsledku toho nezpůsobí vývojáři stránek použití tohoto přístupu prostředí WYSIWYG v době návrhu.</span><span class="sxs-lookup"><span data-stu-id="f53d4-150">Consequently, page developers using this approach did not enjoy a WYSIWYG design-time environment.</span></span>

<span data-ttu-id="f53d4-151">Nedostatky použití uživatelských ovládacích prvků byly řešeny v ASP.NET verze 2,0 a Visual Studio 2005 pomocí úvodních *stránek předlohy*.</span><span class="sxs-lookup"><span data-stu-id="f53d4-151">The shortcomings of using User Controls were addressed in ASP.NET version 2.0 and Visual Studio 2005 with the introduction of *master pages*.</span></span> <span data-ttu-id="f53d4-152">Stránka předlohy je speciální typ stránky ASP.NET, která definuje značky v rámci lokality i *oblasti* , kde přidružené *stránky obsahu* definují vlastní značky.</span><span class="sxs-lookup"><span data-stu-id="f53d4-152">A master page is a special type of ASP.NET page that defines both the site-wide markup and the *regions* where associated *content pages* define their custom markup.</span></span> <span data-ttu-id="f53d4-153">Jak uvidíme v kroku 1, tyto oblasti jsou definovány ovládacími prvky ContentPlaceHolder.</span><span class="sxs-lookup"><span data-stu-id="f53d4-153">As we will see in Step 1, these regions are defined by ContentPlaceHolder controls.</span></span> <span data-ttu-id="f53d4-154">Ovládací prvek ContentPlaceHolder jednoduše označuje pozici v hierarchii ovládacích prvků hlavní stránky, kde může být vlastní obsah vložen pomocí stránky obsahu.</span><span class="sxs-lookup"><span data-stu-id="f53d4-154">The ContentPlaceHolder control simply denotes a position in the master page's control hierarchy where custom content can be injected by a content page.</span></span>

> [!NOTE]
> <span data-ttu-id="f53d4-155">Základní koncepty a funkce hlavních stránek se od verze 2,0 ASP.NET nezměnily.</span><span class="sxs-lookup"><span data-stu-id="f53d4-155">The core concepts and functionality of master pages has not changed since ASP.NET version 2.0.</span></span> <span data-ttu-id="f53d4-156">Visual Studio 2008 však nabízí podporu pro vnořené stránky předloh, což je funkce, která v aplikaci Visual Studio 2005 chyběla.</span><span class="sxs-lookup"><span data-stu-id="f53d4-156">However, Visual Studio 2008 offers design-time support for nested master pages, a feature that was lacking in Visual Studio 2005.</span></span> <span data-ttu-id="f53d4-157">V budoucím kurzu se podíváme na použití vnořených stránek předlohy.</span><span class="sxs-lookup"><span data-stu-id="f53d4-157">We will look at using nested master pages in a future tutorial.</span></span>

<span data-ttu-id="f53d4-158">Obrázek 2 ukazuje, jak může vypadat hlavní stránka www.asp.net.</span><span class="sxs-lookup"><span data-stu-id="f53d4-158">Figure 2 shows what the master page for www.asp.net might look like.</span></span> <span data-ttu-id="f53d4-159">Všimněte si, že stránka předlohy definuje společné rozložení na úrovni webu – značky v horním, dolním a pravé straně každé stránky a také ovládací prvek ContentPlaceHolder v prostřední levé straně, kde se nachází jedinečný obsah pro každou jednotlivou webovou stránku.</span><span class="sxs-lookup"><span data-stu-id="f53d4-159">Note that the master page defines the common site-wide layout - the markup at the top, bottom, and right of every page - as well as a ContentPlaceHolder in the middle-left, where the unique content for each individual web page is located.</span></span>

![Stránka předlohy definuje rozložení na úrovni webu a oblasti, které lze upravovat na stránce obsahu – podle obsahu.](creating-a-site-wide-layout-using-master-pages-cs/_static/image4.png)

<span data-ttu-id="f53d4-161">**Obrázek 02**: Stránka předlohy definuje rozložení na úrovni webu a oblasti, které lze upravovat na stránce obsahu – podle obsahu stránky.</span><span class="sxs-lookup"><span data-stu-id="f53d4-161">**Figure 02**: A Master Page Defines the Site-Wide Layout and the Regions Editable on a Content Page-by-Content Page Basis</span></span>

<span data-ttu-id="f53d4-162">Po definování hlavní stránky může být vazba na nové stránky ASP.NET pomocí zaškrtnutí políčka.</span><span class="sxs-lookup"><span data-stu-id="f53d4-162">Once a master page has been defined it can be bound to new ASP.NET pages through the tick of a checkbox.</span></span> <span data-ttu-id="f53d4-163">Tyto stránky ASP.NET – označované jako stránky obsahu – obsahují ovládací prvek obsahu pro každé ovládací prvky ContentPlaceHolder na stránce předlohy.</span><span class="sxs-lookup"><span data-stu-id="f53d4-163">These ASP.NET pages - called content pages - include a Content control for each of the master page's ContentPlaceHolder controls.</span></span> <span data-ttu-id="f53d4-164">Když se stránka obsahu navštíví prostřednictvím prohlížeče, modul ASP.NET vytvoří hierarchii ovládacích prvků hlavní stránky a vloží hierarchii ovládacích prvků stránky obsahu na příslušné místo.</span><span class="sxs-lookup"><span data-stu-id="f53d4-164">When the content page is visited through a browser the ASP.NET engine creates the master page's control hierarchy and injects the content page's control hierarchy into the appropriate places.</span></span> <span data-ttu-id="f53d4-165">Tato kombinovaná hierarchie ovládacích prvků se vykreslí a výsledný HTML se vrátí do prohlížeče koncového uživatele.</span><span class="sxs-lookup"><span data-stu-id="f53d4-165">This combined control hierarchy is rendered and the resulting HTML is returned to the end user's browser.</span></span> <span data-ttu-id="f53d4-166">V důsledku toho stránka obsahu vygeneruje společné značky definované v jeho hlavní stránce mimo ovládací prvky ContentPlaceHolder a označení stránky definované v rámci svých vlastních ovládacích prvků obsahu.</span><span class="sxs-lookup"><span data-stu-id="f53d4-166">Consequently, the content page emits both the common markup defined in its master page outside of the ContentPlaceHolder controls and the page-specific markup defined within its own Content controls.</span></span> <span data-ttu-id="f53d4-167">Tento koncept znázorňuje obrázek 3.</span><span class="sxs-lookup"><span data-stu-id="f53d4-167">Figure 3 illustrates this concept.</span></span>

<span data-ttu-id="f53d4-168">[![se značky požadované stránky zatavené na stránku předlohy](creating-a-site-wide-layout-using-master-pages-cs/_static/image6.png)](creating-a-site-wide-layout-using-master-pages-cs/_static/image5.png)</span><span class="sxs-lookup"><span data-stu-id="f53d4-168">[![The Requested Page's Markup is Fused into the Master Page](creating-a-site-wide-layout-using-master-pages-cs/_static/image6.png)](creating-a-site-wide-layout-using-master-pages-cs/_static/image5.png)</span></span>

<span data-ttu-id="f53d4-169">**Obrázek 03**: vyžádané označení stránky je pokryto na stránce předlohy ([kliknutím zobrazíte obrázek v plné velikosti).](creating-a-site-wide-layout-using-master-pages-cs/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="f53d4-169">**Figure 03**: The Requested Page's Markup is Fused into the Master Page ([Click to view full-size image](creating-a-site-wide-layout-using-master-pages-cs/_static/image7.png))</span></span>

<span data-ttu-id="f53d4-170">Teď, když jsme probrali, jak fungují stránky předloh, se podívejme na vytváření předloh a přidružených stránek obsahu pomocí nástroje Visual Web Developer.</span><span class="sxs-lookup"><span data-stu-id="f53d4-170">Now that we have discussed how master pages work, let's take a look at creating a master page and associated content pages using Visual Web Developer.</span></span>

> [!NOTE]
> <span data-ttu-id="f53d4-171">Aby bylo možné oslovit nejširší možnou cílovou skupinu, web ASP.NET, který sestavíme v této sérii kurzů, se vytvoří pomocí ASP.NET 3,5 s bezplatnou verzí sady Visual Studio 2008 společnosti Microsoft, která je v sadě Visual Studio, [Visual Web Developer 2008](https://www.microsoft.com/express/vwd/).</span><span class="sxs-lookup"><span data-stu-id="f53d4-171">In order to reach the widest possible audience, the ASP.NET website we build throughout this tutorial series will be created using ASP.NET 3.5 with Microsoft's free version of Visual Studio 2008, [Visual Web Developer 2008](https://www.microsoft.com/express/vwd/).</span></span> <span data-ttu-id="f53d4-172">Pokud jste ještě neupgradovali na ASP.NET 3,5, nedělejte si starosti – koncepty popsané v těchto kurzech fungují stejně dobře i s ASP.NET 2,0 a sadou Visual Studio 2005.</span><span class="sxs-lookup"><span data-stu-id="f53d4-172">If you have not yet upgraded to ASP.NET 3.5, don't worry - the concepts discussed in these tutorials work equally well with ASP.NET 2.0 and Visual Studio 2005.</span></span> <span data-ttu-id="f53d4-173">Některé ukázkové aplikace ale můžou používat nové funkce .NET Framework verze 3,5; Při použití specifických funkcí 3,5 jsem si všimněte, že je popsán postup implementace podobných funkcí ve verzi 2,0.</span><span class="sxs-lookup"><span data-stu-id="f53d4-173">However, some demo applications may use features new to the .NET Framework version 3.5; when 3.5-specific features are used, I include a note that discusses how to implement similar functionality in version 2.0.</span></span> <span data-ttu-id="f53d4-174">Mějte na paměti, že ukázkové aplikace, které jsou k dispozici ke stažení z každého kurzu, cílí na .NET Framework verze 3,5, což vede k `Web.config` souboru, který obsahuje prvky konfigurace specifické pro 3,5 a odkazy na obory názvů specifické pro 3,5 v příkazech `using` v třídách kódu na pozadí stránek ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="f53d4-174">Do keep in mind that the demo applications available for download from each tutorial target the .NET Framework version 3.5, which results in a `Web.config` file that includes 3.5-specific configuration elements and references to 3.5-specific namespaces in the `using` statements in ASP.NET pages' code-behind classes.</span></span> <span data-ttu-id="f53d4-175">Dlouhý příběh – Pokud jste ještě na svém počítači nainstalovali .NET 3,5, nebude webová aplikace ke stažení fungovat, aniž byste nejdřív odebrali značku 3,5 určenou z `Web.config`.</span><span class="sxs-lookup"><span data-stu-id="f53d4-175">Long story short, if you have yet to install .NET 3.5 on your computer then the downloadable web application will not work without first removing the 3.5-specific markup from `Web.config`.</span></span> <span data-ttu-id="f53d4-176">Další informace o tomto tématu najdete v článku o [deprotínající se `Web.config` souboru verze 3.5 pro ASP.NET](http://www.4guysfromrolla.com/articles/121207-1.aspx) .</span><span class="sxs-lookup"><span data-stu-id="f53d4-176">See [Dissecting ASP.NET Version 3.5's `Web.config` File](http://www.4guysfromrolla.com/articles/121207-1.aspx) for more information on this topic.</span></span> <span data-ttu-id="f53d4-177">Také budete muset odebrat `using` příkazy, které odkazují na obory názvů specifické pro 3,5.</span><span class="sxs-lookup"><span data-stu-id="f53d4-177">You will also need to remove the `using` statements that reference 3.5-specific namespaces.</span></span>

## <a name="step-1-creating-a-master-page"></a><span data-ttu-id="f53d4-178">Krok 1: vytvoření hlavní stránky</span><span class="sxs-lookup"><span data-stu-id="f53d4-178">Step 1: Creating a Master Page</span></span>

<span data-ttu-id="f53d4-179">Než budeme moct prozkoumat vytváření a používání stránek hlavní a obsah, musíme nejdřív potřebovat web ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="f53d4-179">Before we can explore creating and using master and content pages, we first need an ASP.NET website.</span></span> <span data-ttu-id="f53d4-180">Začněte vytvořením nového webu ASP.NET založeného na systému souborů.</span><span class="sxs-lookup"><span data-stu-id="f53d4-180">Start by creating a new file system-based ASP.NET website.</span></span> <span data-ttu-id="f53d4-181">Chcete-li to provést, spusťte Visual Web Developer a pak přejděte do nabídky soubor a zvolte možnost Nový web a zobrazí se dialogové okno Nový web (viz obrázek 4).</span><span class="sxs-lookup"><span data-stu-id="f53d4-181">To accomplish this, launch Visual Web Developer and then go to the File menu and choose New Web Site, displaying the New Web Site dialog box (see Figure 4).</span></span> <span data-ttu-id="f53d4-182">Vyberte šablonu webu ASP.NET, nastavte rozevírací seznam umístění na systém souborů, vyberte složku, kam chcete umístit web, a nastavte jazyk na C#.</span><span class="sxs-lookup"><span data-stu-id="f53d4-182">Choose the ASP.NET Web Site template, set the Location drop-down list to File System, choose a folder to place the web site, and set the language to C#.</span></span> <span data-ttu-id="f53d4-183">Tím se vytvoří nový web s `Default.aspx` stránkou ASP.NET, `App_Data` složkou a souborem `Web.config`.</span><span class="sxs-lookup"><span data-stu-id="f53d4-183">This will create a new web site with a `Default.aspx` ASP.NET page, an `App_Data` folder, and a `Web.config` file.</span></span>

> [!NOTE]
> <span data-ttu-id="f53d4-184">Visual Studio podporuje dva režimy řízení projektů: projekty webu a projekty webových aplikací.</span><span class="sxs-lookup"><span data-stu-id="f53d4-184">Visual Studio supports two modes of project management: Web Site Projects and Web Application Projects.</span></span> <span data-ttu-id="f53d4-185">Webové projekty neobsahují soubor projektu, zatímco projekty webové aplikace napodobují architekturu projektu v aplikaci Visual Studio .NET 2002/2003 – obsahují soubor projektu a zkompiluje zdrojový kód projektu do jednoho sestavení, které je umístěno ve složce `/bin`.</span><span class="sxs-lookup"><span data-stu-id="f53d4-185">Web Site Projects lack a project file, whereas Web Application Projects mimic the project architecture in Visual Studio .NET 2002/2003 - they include a project file and compile the project's source code into a single assembly, which is placed in the `/bin` folder.</span></span> <span data-ttu-id="f53d4-186">Visual Studio 2005 zpočátku podporuje jenom webové projekty, i když se [model projektu webové aplikace](https://msdn.microsoft.com/library/aa730880(vs.80).aspx) znovu představil s aktualizací Service Pack 1. Visual Studio 2008 nabízí jak modely projektu.</span><span class="sxs-lookup"><span data-stu-id="f53d4-186">Visual Studio 2005 initially only supported Web Site Projects, although the [Web Application Project model](https://msdn.microsoft.com/library/aa730880(vs.80).aspx) was reintroduced with Service Pack 1; Visual Studio 2008 offers both project models.</span></span> <span data-ttu-id="f53d4-187">Edice Visual Web Developer 2005 a 2008 však podporují pouze projekty webu.</span><span class="sxs-lookup"><span data-stu-id="f53d4-187">The Visual Web Developer 2005 and 2008 editions, however, only support Web Site Projects.</span></span> <span data-ttu-id="f53d4-188">Používám model projektu webu pro moje ukázky v této sérii kurzů.</span><span class="sxs-lookup"><span data-stu-id="f53d4-188">I use the Web Site Project model for my demos in this tutorial series.</span></span> <span data-ttu-id="f53d4-189">Pokud používáte jinou edici než Express a chcete místo toho použít model projektu webové aplikace, můžete to udělat, ale mějte na paměti, že mezi tím, co vidíte na obrazovce, a kroky, které je třeba vzít v úvahu, se může stát, že se zobrazují a instructioé snímky obrazovky. NS dodané v těchto kurzech.</span><span class="sxs-lookup"><span data-stu-id="f53d4-189">If you are using a non-Express edition and want to use the Web Application Project model instead, feel free to do so but be aware that there may be some discrepancies between what you see on your screen and the steps you must take versus the screen shots shown and instructions provided in these tutorials.</span></span>

<span data-ttu-id="f53d4-190">[![vytvoření nového webu založeného na systému souborů](creating-a-site-wide-layout-using-master-pages-cs/_static/image9.png)](creating-a-site-wide-layout-using-master-pages-cs/_static/image8.png)</span><span class="sxs-lookup"><span data-stu-id="f53d4-190">[![Create a New File System-Based Web Site](creating-a-site-wide-layout-using-master-pages-cs/_static/image9.png)](creating-a-site-wide-layout-using-master-pages-cs/_static/image8.png)</span></span>

<span data-ttu-id="f53d4-191">**Obrázek 04**: vytvoření nového webu založeného na systému souborů ([kliknutím zobrazíte obrázek v plné velikosti](creating-a-site-wide-layout-using-master-pages-cs/_static/image10.png))</span><span class="sxs-lookup"><span data-stu-id="f53d4-191">**Figure 04**: Create a New File System-Based Web Site  ([Click to view full-size image](creating-a-site-wide-layout-using-master-pages-cs/_static/image10.png))</span></span>

<span data-ttu-id="f53d4-192">V dalším kroku přidejte do kořenového adresáře stránku předlohy kliknutím pravým tlačítkem myši na název projektu, zvolením možnosti Přidat novou položku a výběrem šablony stránky předlohy.</span><span class="sxs-lookup"><span data-stu-id="f53d4-192">Next, add a master page to the site in the root directory by right-clicking on the Project name, choosing Add New Item, and selecting the Master Page template.</span></span> <span data-ttu-id="f53d4-193">Všimněte si, že stránky předlohy končí rozšířením `.master`.</span><span class="sxs-lookup"><span data-stu-id="f53d4-193">Note that master pages end with the extension `.master`.</span></span> <span data-ttu-id="f53d4-194">Pojmenujte tuto novou stránku předlohy `Site.master` a klikněte na Přidat.</span><span class="sxs-lookup"><span data-stu-id="f53d4-194">Name this new master page `Site.master` and click Add.</span></span>

<span data-ttu-id="f53d4-195">[![přidat hlavní stránku s názvem site. Master na web](creating-a-site-wide-layout-using-master-pages-cs/_static/image12.png)](creating-a-site-wide-layout-using-master-pages-cs/_static/image11.png)</span><span class="sxs-lookup"><span data-stu-id="f53d4-195">[![Add a Master Page Named Site.master to the Website](creating-a-site-wide-layout-using-master-pages-cs/_static/image12.png)](creating-a-site-wide-layout-using-master-pages-cs/_static/image11.png)</span></span>

<span data-ttu-id="f53d4-196">**Obrázek 05**: přidejte do webu stránku předlohy s názvem `Site.master` ([kliknutím zobrazíte obrázek v plné velikosti).](creating-a-site-wide-layout-using-master-pages-cs/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="f53d4-196">**Figure 05**: Add a Master Page Named `Site.master` to the Website ([Click to view full-size image](creating-a-site-wide-layout-using-master-pages-cs/_static/image13.png))</span></span>

<span data-ttu-id="f53d4-197">Přidání nového souboru hlavní stránky pomocí nástroje Visual Web Developer vytvoří hlavní stránku s následujícím deklarativním označením:</span><span class="sxs-lookup"><span data-stu-id="f53d4-197">Adding a new master page file through Visual Web Developer creates a master page with the following declarative markup:</span></span>

[!code-aspx[Main](creating-a-site-wide-layout-using-master-pages-cs/samples/sample1.aspx)]

<span data-ttu-id="f53d4-198">První řádek v deklarativní značce označení je [direktiva`@Master`](https://msdn.microsoft.com/library/ms228176.aspx).</span><span class="sxs-lookup"><span data-stu-id="f53d4-198">The first line in the declarative markup is the [`@Master` directive](https://msdn.microsoft.com/library/ms228176.aspx).</span></span> <span data-ttu-id="f53d4-199">Direktiva `@Master` je podobná [direktivě`@Page`](https://msdn.microsoft.com/library/ydy4x04a.aspx) , která se zobrazuje na stránkách ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="f53d4-199">The `@Master` directive is similar to the [`@Page` directive](https://msdn.microsoft.com/library/ydy4x04a.aspx) that appears in ASP.NET pages.</span></span> <span data-ttu-id="f53d4-200">Definuje jazyk na straně serveru (C#) a informace o umístění a dědičnosti třídy kódu na pozadí hlavní stránky.</span><span class="sxs-lookup"><span data-stu-id="f53d4-200">It defines the server-side language (C#) and information about the location and inheritance of the master page's code-behind class.</span></span>

<span data-ttu-id="f53d4-201">`DOCTYPE` a deklarativní označení stránky se zobrazí pod direktivou `@Master`.</span><span class="sxs-lookup"><span data-stu-id="f53d4-201">The `DOCTYPE` and the page's declarative markup appears beneath the `@Master` directive.</span></span> <span data-ttu-id="f53d4-202">Stránka obsahuje statický kód HTML spolu se čtyřmi serverovými ovládacími prvky:</span><span class="sxs-lookup"><span data-stu-id="f53d4-202">The page includes static HTML along with four server-side controls:</span></span>

- <span data-ttu-id="f53d4-203">**Webový formulář (`<form runat="server">`)** – protože všechny stránky ASP.NET mají typicky webový formulář – a protože stránka předlohy může obsahovat webové ovládací prvky, které se musí objevit v rámci webového formuláře – nezapomeňte přidat webový formulář na stránku předlohy (místo přidání webového formuláře na každou stránku obsahu).</span><span class="sxs-lookup"><span data-stu-id="f53d4-203">**A Web Form (the `<form runat="server">`)** - because all ASP.NET pages typically have a Web Form - and because the master page may include Web controls that must appear within a Web Form - be sure to add the Web Form to your master page (rather than adding a Web Form to each content page).</span></span>
- <span data-ttu-id="f53d4-204">**Ovládací prvek ContentPlaceHolder s názvem `ContentPlaceHolder1`** – tento ovládací prvek ContentPlaceHolder se zobrazí v rámci webového formuláře a slouží jako oblast pro uživatelské rozhraní stránky obsahu.</span><span class="sxs-lookup"><span data-stu-id="f53d4-204">**A ContentPlaceHolder control named `ContentPlaceHolder1`** - this ContentPlaceHolder control appears within the Web Form and serves as the region for the content page's user interface.</span></span>
- <span data-ttu-id="f53d4-205">**`<head>` element na straně serveru** – `<head>` prvek má atribut `runat="server"`, který ho zpřístupní prostřednictvím kódu na straně serveru.</span><span class="sxs-lookup"><span data-stu-id="f53d4-205">**A server-side `<head>` element** - the `<head>` element has the `runat="server"` attribute, making it accessible through server-side code.</span></span> <span data-ttu-id="f53d4-206">`<head>` prvek je implementován tímto způsobem, aby bylo možné přidat nebo upravit název stránky a jiné značky `<head>`.</span><span class="sxs-lookup"><span data-stu-id="f53d4-206">The `<head>` element is implemented this way so that the page's title and other `<head>`-related markup may be added or adjusted programmatically.</span></span> <span data-ttu-id="f53d4-207">Například nastavení vlastnosti `Title` stránky ASP.NET mění prvek `<title>` vykreslený ovládacím prvkem `<head>` Server.</span><span class="sxs-lookup"><span data-stu-id="f53d4-207">For example, setting an ASP.NET page's `Title` property changes the `<title>` element rendered by the `<head>` server control.</span></span>
- <span data-ttu-id="f53d4-208">**Ovládací prvek ContentPlaceHolder nazvaný `head`** – tento ovládací prvek ContentPlaceHolder se zobrazí v ovládacím prvku `<head>` Server a lze jej použít k deklarativnímu přidání obsahu do `<head>` elementu.</span><span class="sxs-lookup"><span data-stu-id="f53d4-208">**A ContentPlaceHolder control named `head`** - this ContentPlaceHolder control appears within the `<head>` server control and can be used to declaratively add content to the `<head>` element.</span></span>

<span data-ttu-id="f53d4-209">Tato výchozí hlavní stránka je deklarativní označení slouží jako výchozí bod pro návrh vlastních stránek předlohy.</span><span class="sxs-lookup"><span data-stu-id="f53d4-209">This default master page declarative markup serves as a starting point for designing your own master pages.</span></span> <span data-ttu-id="f53d4-210">Můžete upravovat kód HTML nebo přidat další webové ovládací prvky nebo prvky ContentPlaceHoldery na stránku předlohy.</span><span class="sxs-lookup"><span data-stu-id="f53d4-210">Feel free to edit the HTML or to add additional Web controls or ContentPlaceHolders to the master page.</span></span>

> [!NOTE]
> <span data-ttu-id="f53d4-211">Při návrhu stránky předlohy se ujistěte, že stránka předlohy obsahuje webový formulář a že v tomto webovém formuláři se zobrazí alespoň jeden ovládací prvek ContentPlaceHolder.</span><span class="sxs-lookup"><span data-stu-id="f53d4-211">When designing a master page make sure that the master page contains a Web Form and that at least one ContentPlaceHolder control appears within this Web Form.</span></span>

### <a name="creating-a-simple-site-layout"></a><span data-ttu-id="f53d4-212">Vytvoření jednoduchého rozložení webu</span><span class="sxs-lookup"><span data-stu-id="f53d4-212">Creating a Simple Site Layout</span></span>

<span data-ttu-id="f53d4-213">Nyní rozbalíme výchozí deklarativní označení `Site.master`k vytvoření rozložení lokality, kde všechny stránky sdílí: společné záhlaví; levý sloupec s navigací, novinkami a dalším obsahem na úrovni webu; a zápatí, které zobrazuje ikonu "používá se Microsoft ASP.NET".</span><span class="sxs-lookup"><span data-stu-id="f53d4-213">Let's expand `Site.master`'s default declarative markup to create a site layout where all pages share: a common header; a left column with navigation, news and other site-wide content; and a footer that displays the "Powered by Microsoft ASP.NET" icon.</span></span> <span data-ttu-id="f53d4-214">Obrázek 6 znázorňuje konečný výsledek stránky předlohy, když se jedna z jeho stránek obsahu zobrazí v prohlížeči.</span><span class="sxs-lookup"><span data-stu-id="f53d4-214">Figure 6 shows the end result of the master page when one of its content pages is viewed through a browser.</span></span> <span data-ttu-id="f53d4-215">Oblast červeného kruhu na obrázku 6 je specifická pro navštívenou stránku (`Default.aspx`); druhý obsah je definován na stránce předlohy, a proto je konzistentní napříč všemi stránkami obsahu.</span><span class="sxs-lookup"><span data-stu-id="f53d4-215">The red circled region in Figure 6 is specific to the page being visited (`Default.aspx`); the other content is defined in the master page and therefore consistent across all content pages.</span></span>

<span data-ttu-id="f53d4-216">[![stránka předlohy definuje označení pro horní, levou a dolní část.](creating-a-site-wide-layout-using-master-pages-cs/_static/image15.png)](creating-a-site-wide-layout-using-master-pages-cs/_static/image14.png)</span><span class="sxs-lookup"><span data-stu-id="f53d4-216">[![The Master Page Defines the Markup for the Top, Left, and Bottom Portions](creating-a-site-wide-layout-using-master-pages-cs/_static/image15.png)](creating-a-site-wide-layout-using-master-pages-cs/_static/image14.png)</span></span>

<span data-ttu-id="f53d4-217">**Obrázek 6**: Stránka předlohy definuje označení pro horní, levou a dolní část ([kliknutím zobrazíte obrázek v plné velikosti](creating-a-site-wide-layout-using-master-pages-cs/_static/image16.png)).</span><span class="sxs-lookup"><span data-stu-id="f53d4-217">**Figure 06**: The Master Page Defines the Markup for the Top, Left, and Bottom Portions ([Click to view full-size image](creating-a-site-wide-layout-using-master-pages-cs/_static/image16.png))</span></span>

<span data-ttu-id="f53d4-218">Chcete-li dosáhnout rozložení lokality na obrázku 6, začněte aktualizací stránky předlohy `Site.master` tak, aby obsahovala následující deklarativní označení:</span><span class="sxs-lookup"><span data-stu-id="f53d4-218">To achieve the site layout shown in Figure 6, start by updating the `Site.master` master page so that it contains the following declarative markup:</span></span>

[!code-aspx[Main](creating-a-site-wide-layout-using-master-pages-cs/samples/sample2.aspx)]

<span data-ttu-id="f53d4-219">Rozložení stránky předlohy je definováno pomocí řady `<div>` prvků jazyka HTML.</span><span class="sxs-lookup"><span data-stu-id="f53d4-219">The master page's layout is defined using a series of `<div>` HTML elements.</span></span> <span data-ttu-id="f53d4-220">`topContent` `<div>` obsahuje značku, která se zobrazí v horní části každé stránky, zatímco `mainContent`, `leftContent`a `footerContent` `<div>` s slouží k zobrazení obsahu stránky, levého sloupce a ikony "napájeno z Microsoft ASP.NET" v uvedeném pořadí.</span><span class="sxs-lookup"><span data-stu-id="f53d4-220">The `topContent` `<div>` contains the markup that appears at the top of each page, while the `mainContent`, `leftContent`, and `footerContent` `<div>` s are used to display the page's content, the left column, and the "Powered by Microsoft ASP.NET" icon, respectively.</span></span> <span data-ttu-id="f53d4-221">Kromě přidání těchto prvků `<div>` také přejmenováni vlastnost `ID` primárního ovládacího prvku ContentPlaceHolder z `ContentPlaceHolder1` na `MainContent`.</span><span class="sxs-lookup"><span data-stu-id="f53d4-221">In addition to adding these `<div>` elements, I also renamed the `ID` property of the primary ContentPlaceHolder control from `ContentPlaceHolder1` to `MainContent`.</span></span>

<span data-ttu-id="f53d4-222">Pravidla formátování a rozložení pro tyto položky roztříděné `<div>` prvky jsou v souboru [CSS (Cascading StyleSheet)](http://en.wikipedia.org/wiki/Cascading_Style_Sheets) `Styles.css`, který je zadán prostřednictvím elementu &lt;odkaz&gt; prvku na &lt;Head&gt; elementu stránky předlohy.</span><span class="sxs-lookup"><span data-stu-id="f53d4-222">The formatting and layout rules for these assorted `<div>` elements is spelled out in the [Cascading Stylesheet (CSS)](http://en.wikipedia.org/wiki/Cascading_Style_Sheets) file `Styles.css`, which is specified via a &lt;link&gt; element in the master page's &lt;head&gt; element.</span></span> <span data-ttu-id="f53d4-223">Tato různá pravidla definují vzhled a chování každého prvku `<div>` uvedeného výše.</span><span class="sxs-lookup"><span data-stu-id="f53d4-223">These various rules define the look and feel of each `<div>` element noted above.</span></span> <span data-ttu-id="f53d4-224">Například prvek `topContent` `<div>`, který zobrazuje text "kurzy stránek předlohy" a odkaz na jeho pravidla formátování určená v `Styles.css` následujícím způsobem:</span><span class="sxs-lookup"><span data-stu-id="f53d4-224">For example, the `topContent` `<div>` element, which displays the "Master Pages Tutorials" text and link, has its formatting rules specified in `Styles.css` as follows:</span></span>

[!code-css[Main](creating-a-site-wide-layout-using-master-pages-cs/samples/sample3.css)]

<span data-ttu-id="f53d4-225">Pokud jste na svém počítači, budete si muset stáhnout doprovodný kód tohoto kurzu a přidat soubor `Styles.css` do projektu.</span><span class="sxs-lookup"><span data-stu-id="f53d4-225">If you are following along at your computer, you will need to download this tutorial's accompanying code and add the `Styles.css` file to your project.</span></span> <span data-ttu-id="f53d4-226">Podobně také budete muset vytvořit složku s názvem images a zkopírovat ikonu "používá se Microsoft ASP.NET" ze staženého ukázkového webu do vašeho projektu.</span><span class="sxs-lookup"><span data-stu-id="f53d4-226">Similarly, you will also need to create a folder named Images and copy the "Powered by Microsoft ASP.NET" icon from the downloaded demo website to your project.</span></span>

> [!NOTE]
> <span data-ttu-id="f53d4-227">Diskuze o formátování šablon stylů CSS a webových stránek překračuje rámec tohoto článku.</span><span class="sxs-lookup"><span data-stu-id="f53d4-227">A discussion of CSS and web page formatting is beyond the scope of this article.</span></span> <span data-ttu-id="f53d4-228">Další informace o šablonách stylů CSS najdete v [kurzech šablon stylů CSS](http://www.w3schools.com/css/default.asp) na adrese [w3schools.com](http://www.w3schools.com/).</span><span class="sxs-lookup"><span data-stu-id="f53d4-228">For more on CSS, check out the [CSS Tutorials](http://www.w3schools.com/css/default.asp) at [W3Schools.com](http://www.w3schools.com/).</span></span> <span data-ttu-id="f53d4-229">Můžu také povzbudit, abyste si stáhli doprovodný kód tohoto kurzu a nahráli s nastaveními CSS v `Styles.css`, abyste viděli účinky různých pravidel formátování.</span><span class="sxs-lookup"><span data-stu-id="f53d4-229">I also encourage you to download this tutorial's accompanying code and play with the CSS settings in `Styles.css` to see the effects of different formatting rules.</span></span>

### <a name="creating-a-master-page-using-an-existing-design-template"></a><span data-ttu-id="f53d4-230">Vytvoření hlavní stránky pomocí existující šablony návrhu</span><span class="sxs-lookup"><span data-stu-id="f53d4-230">Creating a Master Page Using an Existing Design Template</span></span>

<span data-ttu-id="f53d4-231">V průběhu let jsem sestavil řadu webových aplikací ASP.NET pro malé až střední společnosti.</span><span class="sxs-lookup"><span data-stu-id="f53d4-231">Over the years I've built a number of ASP.NET web applications for small- to medium-sized companies.</span></span> <span data-ttu-id="f53d4-232">Někteří moji klienti mají existující rozložení lokality, které chtěli použít; jiní uživatelé mají příslušného návrháře grafiky.</span><span class="sxs-lookup"><span data-stu-id="f53d4-232">Some of my clients had an existing site layout they wanted to use; others hired a competent graphics designer.</span></span> <span data-ttu-id="f53d4-233">Několik svěřených mě pro návrh rozložení webu.</span><span class="sxs-lookup"><span data-stu-id="f53d4-233">A few entrusted me to design the website layout.</span></span> <span data-ttu-id="f53d4-234">Jak je znázorněno na obrázku 6, úkoly programátora pro návrh rozložení webu se obvykle považují za to, že váš účet bude mít otevřený – srdce chirurgie, zatímco váš lékař vaše daně provádí.</span><span class="sxs-lookup"><span data-stu-id="f53d4-234">As you can tell by Figure 6, tasking a programmer to design a website's layout is usually as wise as having your accountant perform open-heart surgery while your doctor does your taxes.</span></span>

<span data-ttu-id="f53d4-235">Naštěstí je k dispozici několik webů, které nabízejí bezplatné šablony návrhu HTML – Google vrátilo více než 6 000 000 výsledků pro hledaný termín "bezplatné šablony webu".</span><span class="sxs-lookup"><span data-stu-id="f53d4-235">Fortunately, there are innumerous websites that offer free HTML design templates - Google returned more than six million results for the search term "free website templates."</span></span> <span data-ttu-id="f53d4-236">Jedna z oblíbených položek je [OpenDesigns.org](http://opendesigns.org/). Jakmile najdete šablonu webu, kterou chcete, přidejte soubory CSS a obrázky do projektu webu a integrujte HTML šablony do své stránky předlohy.</span><span class="sxs-lookup"><span data-stu-id="f53d4-236">One of my favorite ones is [OpenDesigns.org](http://opendesigns.org/). Once you find a website template you like, add the CSS files and images to your website project and integrate the template's HTML into your master page.</span></span>

> [!NOTE]
> <span data-ttu-id="f53d4-237">Microsoft taky nabízí řadu [bezplatných šablon ASP.NET design Kit](https://msdn.microsoft.com/asp.net/aa336613.aspx) , které se integrují do dialogového okna Nový web v sadě Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="f53d4-237">Microsoft also offers a number of [free ASP.NET Design Start Kit Templates](https://msdn.microsoft.com/asp.net/aa336613.aspx) that integrate into the New Web Site dialog box in Visual Studio.</span></span>

## <a name="step-2-creating-associated-content-pages"></a><span data-ttu-id="f53d4-238">Krok 2: vytvoření přidružených stránek obsahu</span><span class="sxs-lookup"><span data-stu-id="f53d4-238">Step 2: Creating Associated Content Pages</span></span>

<span data-ttu-id="f53d4-239">Po vytvoření stránky předlohy jsme připraveni začít vytvářet ASP.NET stránky, které jsou svázané se stránkou předlohy.</span><span class="sxs-lookup"><span data-stu-id="f53d4-239">With the master page created, we are ready to start creating ASP.NET pages that are bound to the master page.</span></span> <span data-ttu-id="f53d4-240">Tyto stránky se označují jako *stránky obsahu*.</span><span class="sxs-lookup"><span data-stu-id="f53d4-240">Such pages are referred to as *content pages*.</span></span>

<span data-ttu-id="f53d4-241">Pojďme přidat novou ASP.NET stránku do projektu a vytvořit její vazby na stránku předlohy `Site.master`.</span><span class="sxs-lookup"><span data-stu-id="f53d4-241">Let's add a new ASP.NET page to the project and bind it to the `Site.master` master page.</span></span> <span data-ttu-id="f53d4-242">V Průzkumník řešení klikněte pravým tlačítkem myši na název projektu a vyberte možnost Přidat novou položku.</span><span class="sxs-lookup"><span data-stu-id="f53d4-242">Right-click on the project name in Solution Explorer and choose the Add New Item option.</span></span> <span data-ttu-id="f53d4-243">Vyberte šablonu webového formuláře, zadejte název `About.aspx`a potom zaškrtněte políčko "vybrat hlavní stránku", jak je znázorněno na obrázku 7.</span><span class="sxs-lookup"><span data-stu-id="f53d4-243">Select the Web Form template, enter the name `About.aspx`, and then check the "Select master page" checkbox as shown in Figure 7.</span></span> <span data-ttu-id="f53d4-244">Tím se zobrazí dialogové okno Výběr stránky předlohy (viz obrázek 8), ze kterého můžete zvolit předlohovou stránku, kterou chcete použít.</span><span class="sxs-lookup"><span data-stu-id="f53d4-244">Doing so will display the Select a Master Page dialog box (see Figure 8) from where you can choose the master page to use.</span></span>

> [!NOTE]
> <span data-ttu-id="f53d4-245">Pokud jste web ASP.NET vytvořili pomocí modelu projektu webové aplikace namísto modelu projektu webu, nezobrazí se v dialogovém okně Přidat novou položku zobrazená na obrázku 7 zaškrtávací políčko vybrat hlavní stránku.</span><span class="sxs-lookup"><span data-stu-id="f53d4-245">If you created your ASP.NET website using the Web Application Project model instead of the Web Site Project model you will not see the "Select master page" checkbox in the Add New Item dialog box shown in Figure 7.</span></span> <span data-ttu-id="f53d4-246">Chcete-li vytvořit stránku obsahu při použití modelu projektu webové aplikace, musíte zvolit šablonu formuláře webového obsahu místo šablony webového formuláře.</span><span class="sxs-lookup"><span data-stu-id="f53d4-246">To create a content page when using the Web Application Project model you must choose the Web Content Form template instead of the Web Form template.</span></span> <span data-ttu-id="f53d4-247">Po výběru šablony formuláře webového obsahu a kliknutí na tlačítko Přidat se zobrazí dialogové okno Výběr stránky předlohy zobrazené na obrázku 8.</span><span class="sxs-lookup"><span data-stu-id="f53d4-247">After selecting the Web Content Form template and clicking Add, the same Select a Master Page dialog box shown in Figure 8 will appear.</span></span>

<span data-ttu-id="f53d4-248">[![přidání nové stránky obsahu](creating-a-site-wide-layout-using-master-pages-cs/_static/image18.png)](creating-a-site-wide-layout-using-master-pages-cs/_static/image17.png)</span><span class="sxs-lookup"><span data-stu-id="f53d4-248">[![Add a New Content Page](creating-a-site-wide-layout-using-master-pages-cs/_static/image18.png)](creating-a-site-wide-layout-using-master-pages-cs/_static/image17.png)</span></span>

<span data-ttu-id="f53d4-249">**Obrázek 07**: Přidání nové stránky obsahu ([kliknutím zobrazíte obrázek v plné velikosti](creating-a-site-wide-layout-using-master-pages-cs/_static/image19.png))</span><span class="sxs-lookup"><span data-stu-id="f53d4-249">**Figure 07**: Add a New Content Page ([Click to view full-size image](creating-a-site-wide-layout-using-master-pages-cs/_static/image19.png))</span></span>

<span data-ttu-id="f53d4-250">[![vybrat hlavní stránku site. Master.](creating-a-site-wide-layout-using-master-pages-cs/_static/image21.png)](creating-a-site-wide-layout-using-master-pages-cs/_static/image20.png)</span><span class="sxs-lookup"><span data-stu-id="f53d4-250">[![Select the Site.master Master Page](creating-a-site-wide-layout-using-master-pages-cs/_static/image21.png)](creating-a-site-wide-layout-using-master-pages-cs/_static/image20.png)</span></span>

<span data-ttu-id="f53d4-251">**Obrázek 08**: Výběr stránky předlohy `Site.master` ([kliknutím zobrazíte obrázek v plné velikosti](creating-a-site-wide-layout-using-master-pages-cs/_static/image22.png))</span><span class="sxs-lookup"><span data-stu-id="f53d4-251">**Figure 08**: Select the `Site.master` Master Page ([Click to view full-size image](creating-a-site-wide-layout-using-master-pages-cs/_static/image22.png))</span></span>

<span data-ttu-id="f53d4-252">Jak ukazuje následující deklarativní kód, nová stránka obsahu obsahuje direktivu `@Page`, která odkazuje zpět na svou hlavní stránku a ovládací prvek obsahu pro každé ovládací prvky ContentPlaceHolder stránky předlohy.</span><span class="sxs-lookup"><span data-stu-id="f53d4-252">As the following declarative markup shows, a new content page contains a `@Page` directive that points back to its master page and a Content control for each of the master page's ContentPlaceHolder controls.</span></span>

[!code-aspx[Main](creating-a-site-wide-layout-using-master-pages-cs/samples/sample4.aspx)]

> [!NOTE]
> <span data-ttu-id="f53d4-253">V části "Vytvoření jednoduchého rozložení lokality" v kroku 1 byl přejmenován `ContentPlaceHolder1` na `MainContent`.</span><span class="sxs-lookup"><span data-stu-id="f53d4-253">In the "Creating a Simple Site Layout" section in Step 1 I renamed `ContentPlaceHolder1` to `MainContent`.</span></span> <span data-ttu-id="f53d4-254">Pokud jste nezměnili přejmenování tohoto `ID` ovládacího prvku ContentPlaceHolder stejným způsobem, deklarativní označení stránky obsahu se mírně liší od označení uvedeného výše.</span><span class="sxs-lookup"><span data-stu-id="f53d4-254">If you did not rename this ContentPlaceHolder control's `ID` in the same way, your content page's declarative markup will differ slightly from the markup shown above.</span></span> <span data-ttu-id="f53d4-255">To znamená, že druhý `ContentPlaceHolderID` ovládacího prvku obsahu bude odrážet `ID` odpovídajícího ovládacího prvku ContentPlaceHolder na stránce předlohy.</span><span class="sxs-lookup"><span data-stu-id="f53d4-255">Namely, the second Content control's `ContentPlaceHolderID` will reflect the `ID` of the corresponding ContentPlaceHolder control in your master page.</span></span>

<span data-ttu-id="f53d4-256">Při vykreslování stránky obsahu musí modul ASP.NET pořídit ovládací prvky obsahu stránky ovládacími prvky ContentPlaceHolder stránky předlohy.</span><span class="sxs-lookup"><span data-stu-id="f53d4-256">When rendering a content page, the ASP.NET engine must fuse the page's Content controls with its master page's ContentPlaceHolder controls.</span></span> <span data-ttu-id="f53d4-257">Modul ASP.NET určuje stránku předlohy stránky obsahu z atributu `MasterPageFile` direktivy `@Page`.</span><span class="sxs-lookup"><span data-stu-id="f53d4-257">The ASP.NET engine determines the content page's master page from the `@Page` directive's `MasterPageFile` attribute.</span></span> <span data-ttu-id="f53d4-258">Jak je uvedeno výše, je tato stránka obsahu svázána s `~/Site.master`.</span><span class="sxs-lookup"><span data-stu-id="f53d4-258">As the above markup shows, this content page is bound to `~/Site.master`.</span></span>

<span data-ttu-id="f53d4-259">Vzhledem k tomu, že stránka předlohy obsahuje dva ovládací prvky ContentPlaceHolder-`head` a `MainContent`-vizuální webový vývojář vygeneroval dva ovládací prvky obsahu.</span><span class="sxs-lookup"><span data-stu-id="f53d4-259">Because the master page has two ContentPlaceHolder controls - `head` and `MainContent` - Visual Web Developer generated two Content controls.</span></span> <span data-ttu-id="f53d4-260">Každý ovládací prvek obsahu odkazuje na konkrétní prvek ContentPlaceHolder prostřednictvím jeho vlastnosti `ContentPlaceHolderID`.</span><span class="sxs-lookup"><span data-stu-id="f53d4-260">Each Content control references a particular ContentPlaceHolder via its `ContentPlaceHolderID` property.</span></span>

<span data-ttu-id="f53d4-261">Kde stránky předlohy vychází z předchozích technik šablon na úrovni webu, je jejich podpora v době návrhu.</span><span class="sxs-lookup"><span data-stu-id="f53d4-261">Where master pages shine over previous site-wide template techniques is with their design-time support.</span></span> <span data-ttu-id="f53d4-262">Obrázek 9 ukazuje stránku `About.aspx` obsahu při zobrazení pomocí zobrazení Návrh aplikace Visual Web Developer.</span><span class="sxs-lookup"><span data-stu-id="f53d4-262">Figure 9 shows the `About.aspx` content page when viewed through Visual Web Developer's Design view.</span></span> <span data-ttu-id="f53d4-263">Všimněte si, že když je obsah stránky předlohy viditelný, je zobrazen šedě a nelze jej upravit.</span><span class="sxs-lookup"><span data-stu-id="f53d4-263">Note that while the master page content is visible, it is grayed out and cannot be modified.</span></span> <span data-ttu-id="f53d4-264">Ovládací prvky obsahu odpovídající prvkům ContentPlaceHolder stránky předlohy jsou však editovatelné.</span><span class="sxs-lookup"><span data-stu-id="f53d4-264">The Content controls corresponding to the master page's ContentPlaceHolders are, however, editable.</span></span> <span data-ttu-id="f53d4-265">A stejně jako u jakékoli jiné stránky ASP.NET můžete vytvořit rozhraní stránky obsahu přidáním webových ovládacích prvků prostřednictvím zobrazení zdroje nebo návrh.</span><span class="sxs-lookup"><span data-stu-id="f53d4-265">And just like with any other ASP.NET page, you can create the content page's interface by adding Web controls through the Source or Design views.</span></span>

<span data-ttu-id="f53d4-266">[![zobrazení návrhu stránky obsahu se zobrazí obsah pro stránku a stránku předlohy pro konkrétní stránku.](creating-a-site-wide-layout-using-master-pages-cs/_static/image24.png)](creating-a-site-wide-layout-using-master-pages-cs/_static/image23.png)</span><span class="sxs-lookup"><span data-stu-id="f53d4-266">[![The Content Page's Design View Displays Both the Page-Specific and Master Page Contents](creating-a-site-wide-layout-using-master-pages-cs/_static/image24.png)](creating-a-site-wide-layout-using-master-pages-cs/_static/image23.png)</span></span>

<span data-ttu-id="f53d4-267">**Obrázek 09**: návrhové zobrazení stránky obsahu zobrazuje obsah stránky a stránky předlohy ([kliknutím zobrazíte obrázek v plné velikosti](creating-a-site-wide-layout-using-master-pages-cs/_static/image25.png)).</span><span class="sxs-lookup"><span data-stu-id="f53d4-267">**Figure 09**: The Content Page's Design View Displays Both the Page-Specific and Master Page Contents ([Click to view full-size image](creating-a-site-wide-layout-using-master-pages-cs/_static/image25.png))</span></span>

### <a name="adding-markup-and-web-controls-to-the-content-page"></a><span data-ttu-id="f53d4-268">Přidání značek a webových ovládacích prvků na stránku obsahu</span><span class="sxs-lookup"><span data-stu-id="f53d4-268">Adding Markup and Web Controls to the Content Page</span></span>

<span data-ttu-id="f53d4-269">Chvíli vytvořte nějaký obsah pro stránku `About.aspx`.</span><span class="sxs-lookup"><span data-stu-id="f53d4-269">Take a moment to create some content for the `About.aspx` page.</span></span> <span data-ttu-id="f53d4-270">Jak vidíte na obrázku 10, zadali jsme nadpis "o autorovi" a několik odstavců textu, ale můžete také volně přidávat webové ovládací prvky.</span><span class="sxs-lookup"><span data-stu-id="f53d4-270">As you can see in Figure 10, I entered an "About the Author" heading and a couple of paragraphs of text, but feel free to add Web controls, too.</span></span> <span data-ttu-id="f53d4-271">Po vytvoření tohoto rozhraní navštivte stránku `About.aspx` v prohlížeči.</span><span class="sxs-lookup"><span data-stu-id="f53d4-271">After creating this interface, visit the `About.aspx` page through a browser.</span></span>

<span data-ttu-id="f53d4-272">[![stránku About. aspx najdete v prohlížeči.](creating-a-site-wide-layout-using-master-pages-cs/_static/image27.png)](creating-a-site-wide-layout-using-master-pages-cs/_static/image26.png)</span><span class="sxs-lookup"><span data-stu-id="f53d4-272">[![Visit the About.aspx Page Through a Browser](creating-a-site-wide-layout-using-master-pages-cs/_static/image27.png)](creating-a-site-wide-layout-using-master-pages-cs/_static/image26.png)</span></span>

<span data-ttu-id="f53d4-273">**Obrázek 10**: navštivte stránku `About.aspx` v prohlížeči ([kliknutím zobrazíte obrázek v plné velikosti](creating-a-site-wide-layout-using-master-pages-cs/_static/image28.png)).</span><span class="sxs-lookup"><span data-stu-id="f53d4-273">**Figure 10**: Visit the `About.aspx` Page Through a Browser ([Click to view full-size image](creating-a-site-wide-layout-using-master-pages-cs/_static/image28.png))</span></span>

<span data-ttu-id="f53d4-274">Je důležité pochopit, že požadovaná stránka obsahu a její přidružená stránka předlohy jsou pojistá a vykreslená na webovém serveru jako celek.</span><span class="sxs-lookup"><span data-stu-id="f53d4-274">It is important to understand that the requested content page and its associated master page are fused and rendered as a whole entirely on the web server.</span></span> <span data-ttu-id="f53d4-275">V prohlížeči koncového uživatele se pak pošle výsledný pojistka HTML.</span><span class="sxs-lookup"><span data-stu-id="f53d4-275">The end user's browser is then sent the resulting, fused HTML.</span></span> <span data-ttu-id="f53d4-276">Pokud to chcete ověřit, zobrazte HTML přijatý prohlížečem tak, že v nabídce zobrazení kliknete na možnost zdroj.</span><span class="sxs-lookup"><span data-stu-id="f53d4-276">To verify this, view the HTML received by the browser by going to the View menu and choosing Source.</span></span> <span data-ttu-id="f53d4-277">Všimněte si, že neexistují žádné rámce ani žádné jiné specializované postupy pro zobrazení dvou různých webových stránek v jednom okně.</span><span class="sxs-lookup"><span data-stu-id="f53d4-277">Note that there are no frames or any other specialized techniques for displaying two different web pages in a single window.</span></span>

### <a name="binding-a-master-page-to-an-existing-aspnet-page"></a><span data-ttu-id="f53d4-278">Navázání stránky předlohy na existující stránku ASP.NET</span><span class="sxs-lookup"><span data-stu-id="f53d4-278">Binding a Master Page to an Existing ASP.NET Page</span></span>

<span data-ttu-id="f53d4-279">Jak jsme viděli v tomto kroku, přidání nové stránky obsahu do webové aplikace ASP.NET je tak jednoduché, protože kontroluje zaškrtnutí políčka "vybrat hlavní stránku" a výběr stránky předlohy.</span><span class="sxs-lookup"><span data-stu-id="f53d4-279">As we saw in this step, adding a new content page to an ASP.NET web application is as easy as checking the "Select master page" checkbox and picking the master page.</span></span> <span data-ttu-id="f53d4-280">Bohužel převod stávající stránky ASP.NET na hlavní stránku není tak snadné.</span><span class="sxs-lookup"><span data-stu-id="f53d4-280">Unfortunately, converting an existing ASP.NET page to a master page is not as easy.</span></span>

<span data-ttu-id="f53d4-281">K navázání stránky předlohy na existující stránku ASP.NET je třeba provést následující kroky:</span><span class="sxs-lookup"><span data-stu-id="f53d4-281">To bind a master page to an existing ASP.NET page you need to perform the following steps:</span></span>

1. <span data-ttu-id="f53d4-282">Přidejte atribut `MasterPageFile` k direktivě `@Page` stránky ASP.NET, na kterou odkazuje na příslušnou stránku předlohy.</span><span class="sxs-lookup"><span data-stu-id="f53d4-282">Add the `MasterPageFile` attribute to the ASP.NET page's `@Page` directive, pointing it to the appropriate master page.</span></span>
2. <span data-ttu-id="f53d4-283">Přidejte ovládací prvky obsahu pro každý prvek ContentPlaceHolder na stránce předlohy.</span><span class="sxs-lookup"><span data-stu-id="f53d4-283">Add Content controls for each of the ContentPlaceHolders in the master page.</span></span>
3. <span data-ttu-id="f53d4-284">Selektivně vyjměte a vložte existující obsah stránky ASP.NET do odpovídajících ovládacích prvků obsahu.</span><span class="sxs-lookup"><span data-stu-id="f53d4-284">Selectively cut and paste the ASP.NET page's existing content into the appropriate Content controls.</span></span> <span data-ttu-id="f53d4-285">Jsem tady říká "selektivní", protože stránka ASP.NET pravděpodobně obsahuje kód, který je již vyjádřený stránkou předlohy, jako je například `DOCTYPE`, `<html>` prvek a webový formulář.</span><span class="sxs-lookup"><span data-stu-id="f53d4-285">I say "selectively" here because the ASP.NET page likely contains markup that's already expressed by the master page, such as the `DOCTYPE`, the `<html>` element, and the Web Form.</span></span>

<span data-ttu-id="f53d4-286">Podrobné pokyny k tomuto procesu spolu se snímky obrazovky najdete v kurzu [Guthrie](https://weblogs.asp.net/scottgu/) [používání stránek předlohy a navigace na webu](http://webproject.scottgu.com/CSharp/MasterPages/MasterPages.aspx) .</span><span class="sxs-lookup"><span data-stu-id="f53d4-286">For step-by-step instructions on this process along with screen shots, check out [Scott Guthrie](https://weblogs.asp.net/scottgu/)'s [Using Master Pages and Site Navigation](http://webproject.scottgu.com/CSharp/MasterPages/MasterPages.aspx) tutorial.</span></span> <span data-ttu-id="f53d4-287">Podrobné informace o tomto postupu najdete v části aktualizace `Default.aspx` a `DataSample.aspx` použití stránky předlohy.</span><span class="sxs-lookup"><span data-stu-id="f53d4-287">The "Update `Default.aspx` and `DataSample.aspx` to use the Master Page" section details these steps.</span></span>

<span data-ttu-id="f53d4-288">Vzhledem k tomu, že je mnohem snazší vytvořit nové stránky obsahu, než je převod existujících ASP.NET stránek na stránky obsahu, doporučujeme, abyste při každém vytvoření nového webu ASP.NET přidali do lokality hlavní stránku.</span><span class="sxs-lookup"><span data-stu-id="f53d4-288">Because it is much easier to create new content pages than it is to convert existing ASP.NET pages into content pages, I recommend that whenever you create a new ASP.NET website add a master page to the site.</span></span> <span data-ttu-id="f53d4-289">Vytvoří vazby všech nových ASP.NET stránek na tuto stránku předlohy.</span><span class="sxs-lookup"><span data-stu-id="f53d4-289">Bind all new ASP.NET pages to this master page.</span></span> <span data-ttu-id="f53d4-290">Nedělejte si starosti, pokud je počáteční hlavní stránka velmi jednoduchá nebo prostá. stránku předlohy můžete aktualizovat později.</span><span class="sxs-lookup"><span data-stu-id="f53d4-290">Don't worry if the initial master page is very simple or plain; you can update the master page later.</span></span>

> [!NOTE]
> <span data-ttu-id="f53d4-291">Při vytváření nové aplikace ASP.NET `Default.aspx` přidá Visual Web Developer stránku, která není svázána s hlavní stránkou.</span><span class="sxs-lookup"><span data-stu-id="f53d4-291">When creating a new ASP.NET application, Visual Web Developer adds a `Default.aspx` page that isn't bound to a master page.</span></span> <span data-ttu-id="f53d4-292">Pokud chcete procvičit převod stávající stránky ASP.NET na stránku obsahu, pokračujte a udělejte to pomocí `Default.aspx`.</span><span class="sxs-lookup"><span data-stu-id="f53d4-292">If you want to practice converting an existing ASP.NET page into a content page, go ahead and do so with `Default.aspx`.</span></span> <span data-ttu-id="f53d4-293">Alternativně můžete odstranit `Default.aspx` a pak je znovu přidat, ale tentokrát kontrolujete zaškrtnutí políčka "vybrat hlavní stránku".</span><span class="sxs-lookup"><span data-stu-id="f53d4-293">Alternatively, you can delete `Default.aspx` and then re-add it, but this time checking the "Select master page" checkbox.</span></span>

## <a name="step-3-updating-the-master-pages-markup"></a><span data-ttu-id="f53d4-294">Krok 3: aktualizace značek stránky předlohy</span><span class="sxs-lookup"><span data-stu-id="f53d4-294">Step 3: Updating the Master Page's Markup</span></span>

<span data-ttu-id="f53d4-295">Jednou z hlavních výhod stránek předloh je, že k definování celkového rozložení pro celou řadu stránek na webu můžete použít jednu hlavní stránku.</span><span class="sxs-lookup"><span data-stu-id="f53d4-295">One of the primary benefits of master pages is that a single master page may be used to define the overall layout for numerous pages on the site.</span></span> <span data-ttu-id="f53d4-296">Proto aktualizace vzhledu lokality a chování vyžaduje aktualizaci jednoho souboru – hlavní stránka.</span><span class="sxs-lookup"><span data-stu-id="f53d4-296">Therefore, updating the site's look and feel requires updating a single file - the master page.</span></span>

<span data-ttu-id="f53d4-297">Pro ilustraci tohoto chování aktualizujeme naši hlavní stránku tak, aby obsahovala aktuální datum v horní části levého sloupce.</span><span class="sxs-lookup"><span data-stu-id="f53d4-297">To illustrate this behavior, let's update our master page to include the current date in at the top of the left column.</span></span> <span data-ttu-id="f53d4-298">Přidejte popisek s názvem `DateDisplay` do `<div>``leftContent`.</span><span class="sxs-lookup"><span data-stu-id="f53d4-298">Add a Label named `DateDisplay` to the `leftContent` `<div>`.</span></span>

[!code-aspx[Main](creating-a-site-wide-layout-using-master-pages-cs/samples/sample5.aspx)]

<span data-ttu-id="f53d4-299">Dále vytvořte obslužnou rutinu události `Page_Load` pro stránku předlohy a přidejte následující kód:</span><span class="sxs-lookup"><span data-stu-id="f53d4-299">Next, create a `Page_Load` event handler for the master page and add the following code:</span></span>

[!code-csharp[Main](creating-a-site-wide-layout-using-master-pages-cs/samples/sample6.cs)]

<span data-ttu-id="f53d4-300">Výše uvedený kód nastaví vlastnost `Text` popisku na aktuální datum a čas zformátovaný jako den v týdnu, název měsíce a den se dvěma číslicemi (viz obrázek 11).</span><span class="sxs-lookup"><span data-stu-id="f53d4-300">The above code sets the Label's `Text` property to the current date and time formatted as the day of the week, the name of the month, and the two-digit day (see Figure 11).</span></span> <span data-ttu-id="f53d4-301">Pomocí této změny znovu navštivte jednu z vašich stránek obsahu.</span><span class="sxs-lookup"><span data-stu-id="f53d4-301">With this change, revisit one of your content pages.</span></span> <span data-ttu-id="f53d4-302">Jak ukazuje obrázek 11, výsledné označení je okamžitě aktualizováno, aby zahrnovalo změnu na stránku předlohy.</span><span class="sxs-lookup"><span data-stu-id="f53d4-302">As Figure 11 shows, the resulting markup is immediately updated to include the change to the master page.</span></span>

<span data-ttu-id="f53d4-303">[Při zobrazení stránky obsahu se projeví ![změny na stránce předlohy.](creating-a-site-wide-layout-using-master-pages-cs/_static/image30.png)](creating-a-site-wide-layout-using-master-pages-cs/_static/image29.png)</span><span class="sxs-lookup"><span data-stu-id="f53d4-303">[![The Changes to the Master Page are Reflected When Viewing the a Content Page](creating-a-site-wide-layout-using-master-pages-cs/_static/image30.png)](creating-a-site-wide-layout-using-master-pages-cs/_static/image29.png)</span></span>

<span data-ttu-id="f53d4-304">**Obrázek 11**: při zobrazení stránky obsahu se projeví změny na stránce předlohy ([kliknutím zobrazíte obrázek v plné velikosti).](creating-a-site-wide-layout-using-master-pages-cs/_static/image31.png)</span><span class="sxs-lookup"><span data-stu-id="f53d4-304">**Figure 11**: The Changes to the Master Page are Reflected When Viewing the a Content Page ([Click to view full-size image](creating-a-site-wide-layout-using-master-pages-cs/_static/image31.png))</span></span>

> [!NOTE]
> <span data-ttu-id="f53d4-305">Jak ukazuje tento příklad, stránky předlohy mohou obsahovat webové ovládací prvky na straně serveru, kód a obslužné rutiny událostí.</span><span class="sxs-lookup"><span data-stu-id="f53d4-305">As this example illustrates, master pages may contain server-side Web controls, code, and event handlers.</span></span>

## <a name="summary"></a><span data-ttu-id="f53d4-306">Souhrn</span><span class="sxs-lookup"><span data-stu-id="f53d4-306">Summary</span></span>

<span data-ttu-id="f53d4-307">Stránky předlohy umožňují vývojářům ASP.NET navrhovat konzistentní rozložení v rámci webu, které je snadno aktualizovatelné.</span><span class="sxs-lookup"><span data-stu-id="f53d4-307">Master pages enable ASP.NET developers to design a consistent site-wide layout that is easily updateable.</span></span> <span data-ttu-id="f53d4-308">Vytváření stránek předloh a jejich přidružených stránek obsahu je jednoduché jako vytváření standardních ASP.NET stránek, protože Visual Web Developer nabízí bohatou podporu při návrhu.</span><span class="sxs-lookup"><span data-stu-id="f53d4-308">Creating master pages and their associated content pages is as simple as creating standard ASP.NET pages, as Visual Web Developer offers rich design-time support.</span></span>

<span data-ttu-id="f53d4-309">Příklad stránky předlohy, kterou jsme vytvořili v tomto kurzu, obsahoval dva ovládací prvky ContentPlaceHolder, `head` a `MainContent`.</span><span class="sxs-lookup"><span data-stu-id="f53d4-309">The master page example we created in this tutorial had two ContentPlaceHolder controls, `head` and `MainContent`.</span></span> <span data-ttu-id="f53d4-310">Do naší stránky obsahu jsme ale uvedli jenom označení pro `MainContent` ovládací prvek ContentPlaceHolder.</span><span class="sxs-lookup"><span data-stu-id="f53d4-310">We only specified markup for the `MainContent` ContentPlaceHolder control in our content page, however.</span></span> <span data-ttu-id="f53d4-311">V dalším kurzu se podíváme na použití více ovládacích prvků obsahu na stránce obsahu.</span><span class="sxs-lookup"><span data-stu-id="f53d4-311">In the next tutorial we look at using multiple Content controls in the content page.</span></span> <span data-ttu-id="f53d4-312">Také se naučíte, jak definovat výchozí značky pro ovládací prvky obsahu v rámci stránky předlohy, a jak přepínat mezi použitím výchozího kódu definovaného na stránce předlohy a poskytováním vlastního kódu ze stránky obsahu.</span><span class="sxs-lookup"><span data-stu-id="f53d4-312">We also see how to define default markup for Content controls within the master page, as well as how to toggle between using the default markup defined in the master page and providing custom markup from the content page.</span></span>

<span data-ttu-id="f53d4-313">Šťastné programování!</span><span class="sxs-lookup"><span data-stu-id="f53d4-313">Happy Programming!</span></span>

### <a name="further-reading"></a><span data-ttu-id="f53d4-314">Další čtení</span><span class="sxs-lookup"><span data-stu-id="f53d4-314">Further Reading</span></span>

<span data-ttu-id="f53d4-315">Další informace o tématech popsaných v tomto kurzu najdete v následujících zdrojích informací:</span><span class="sxs-lookup"><span data-stu-id="f53d4-315">For more information on the topics discussed in this tutorial, refer to the following resources:</span></span>

- [<span data-ttu-id="f53d4-316">ASP.NET pro návrháře: Bezplatné šablony návrhu a pokyny k vytváření webů ASP.NET pomocí webových standardů</span><span class="sxs-lookup"><span data-stu-id="f53d4-316">ASP.NET for Designers: Free Design Templates and Guidance on Building ASP.NET Websites Using Web Standards</span></span>](https://msdn.microsoft.com/asp.net/aa336602.aspx)
- [<span data-ttu-id="f53d4-317">ASP.NET hlavní stránky – přehled</span><span class="sxs-lookup"><span data-stu-id="f53d4-317">ASP.NET Master Pages Overview</span></span>](https://msdn.microsoft.com/library/wtxbf3hh.aspx)
- [<span data-ttu-id="f53d4-318">Pokyny pro kaskádové šablony stylů (CSS)</span><span class="sxs-lookup"><span data-stu-id="f53d4-318">Cascading Stylesheets (CSS) Tutorials</span></span>](http://www.w3schools.com/css/default.asp)
- [<span data-ttu-id="f53d4-319">Dynamické nastavení názvu stránky</span><span class="sxs-lookup"><span data-stu-id="f53d4-319">Dynamically Setting the Page's Title</span></span>](http://aspnet.4guysfromrolla.com/articles/051006-1.aspx)
- [<span data-ttu-id="f53d4-320">Stránky předlohy v ASP.NET</span><span class="sxs-lookup"><span data-stu-id="f53d4-320">Master Pages in ASP.NET</span></span>](http://www.odetocode.com/articles/419.aspx)
- [<span data-ttu-id="f53d4-321">Kurzy rychlý Start stránek předloh</span><span class="sxs-lookup"><span data-stu-id="f53d4-321">Master Pages QuickStart Tutorials</span></span>](https://quickstarts.asp.net/QuickStartv20/aspnet/doc/masterpages/default.aspx)

### <a name="about-the-author"></a><span data-ttu-id="f53d4-322">O autorovi</span><span class="sxs-lookup"><span data-stu-id="f53d4-322">About the Author</span></span>

<span data-ttu-id="f53d4-323">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), autor několika stránek ASP/ASP. NET Books a zakladatel of 4GuysFromRolla.com, pracoval s webovými technologiemi microsoftu od 1998.</span><span class="sxs-lookup"><span data-stu-id="f53d4-323">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of multiple ASP/ASP.NET books and founder of 4GuysFromRolla.com, has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="f53d4-324">Scott funguje jako nezávislý konzultant, Trainer a zapisovač.</span><span class="sxs-lookup"><span data-stu-id="f53d4-324">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="f53d4-325">Nejnovější kniha je [*Sams naučit se ASP.NET 3,5 za 24 hodin*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="f53d4-325">His latest book is [*Sams Teach Yourself ASP.NET 3.5 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="f53d4-326">Scott se dá kontaktovat [mitchell@4GuysFromRolla.com](mailto:mitchell@4GuysFromRolla.com) nebo prostřednictvím svého blogu na [http://ScottOnWriting.NET](http://scottonwriting.net/).</span><span class="sxs-lookup"><span data-stu-id="f53d4-326">Scott can be reached at [mitchell@4GuysFromRolla.com](mailto:mitchell@4GuysFromRolla.com) or via his blog at [http://ScottOnWriting.NET](http://scottonwriting.net/).</span></span>

### <a name="special-thanks-to"></a><span data-ttu-id="f53d4-327">Zvláštní díky</span><span class="sxs-lookup"><span data-stu-id="f53d4-327">Special Thanks To</span></span>

<span data-ttu-id="f53d4-328">Uvažujete o přezkoumání mých nadcházejících článků na webu MSDN?</span><span class="sxs-lookup"><span data-stu-id="f53d4-328">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="f53d4-329">Pokud ano, vyřaďte mi řádek na [mitchell@4GuysFromRolla.com](mailto:mitchell@4GuysFromRolla.com).</span><span class="sxs-lookup"><span data-stu-id="f53d4-329">If so, drop me a line at [mitchell@4GuysFromRolla.com](mailto:mitchell@4GuysFromRolla.com).</span></span>

> [!div class="step-by-step"]
> [<span data-ttu-id="f53d4-330">Next</span><span class="sxs-lookup"><span data-stu-id="f53d4-330">Next</span></span>](multiple-contentplaceholders-and-default-content-cs.md)
